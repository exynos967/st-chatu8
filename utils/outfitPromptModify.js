(function(_0x41d40a,_0x21cec9){function _0x154a7b(_0x5aa7c8,_0x5051f8,_0x2831f1,_0x4e2612){return _0x49bd(_0x4e2612- -0xe0,_0x5051f8);}const _0x38dea3=_0x41d40a();function _0x56393b(_0x5604a3,_0x4a4b6a,_0x4fc463,_0x25e4fe){return _0x49bd(_0x5604a3-0x20f,_0x25e4fe);}while(!![]){try{const _0x2f72c8=parseInt(_0x56393b(0x3fd,0x42a,0x42c,0x3f6))/(0x1b0f+0x1289+-0x1*0x2d97)+parseInt(_0x56393b(0x484,0x4b5,0x4c0,0x454))/(-0x25*-0x91+-0xd92+0x761*-0x1)+-parseInt(_0x154a7b(0xc4,0x155,0x1bb,0x136))/(-0xe5d+0x3d2*0x1+-0x2*-0x547)+parseInt(_0x56393b(0x42e,0x402,0x469,0x42e))/(-0x35b+-0x1385*-0x1+0x6*-0x2b1)+parseInt(_0x154a7b(0x8c,0x162,0xb4,0x105))/(0x1d79*0x1+-0x3*-0x95d+-0x398b)+-parseInt(_0x154a7b(0xc8,0x95,0x147,0xec))/(0x1621+0xfed+-0x2608)+parseInt(_0x56393b(0x445,0x487,0x49f,0x460))/(0xbf0+-0x5*-0x6cf+-0x2df4);if(_0x2f72c8===_0x21cec9)break;else _0x38dea3['push'](_0x38dea3['shift']());}catch(_0x47d7f5){_0x38dea3['push'](_0x38dea3['shift']());}}}(_0x3776,-0xac768+0x61b61+0x13964f));const _0x167986=(function(){let _0x154277=!![];return function(_0x37c782,_0x5e8c2b){const _0x3acd36=_0x154277?function(){if(_0x5e8c2b){const _0x54bb72=_0x5e8c2b['apply'](_0x37c782,arguments);return _0x5e8c2b=null,_0x54bb72;}}:function(){};return _0x154277=![],_0x3acd36;};}()),_0x37b925=_0x167986(this,function(){function _0x487d54(_0x4249e6,_0x323c5b,_0xcd6f7e,_0x4c304e){return _0x49bd(_0x4c304e- -0x167,_0x4249e6);}const _0x32500f={};_0x32500f[_0x487d54(0x1d,-0x5,0xb6,0x39)]=_0x487d54(0x34,0x14,0x115,0x9a)+'+$';function _0x268188(_0x20c775,_0x4fe7a4,_0x2208da,_0x565010){return _0x49bd(_0x2208da- -0x31,_0x20c775);}const _0x3efd49=_0x32500f;return _0x37b925[_0x268188(0x1a8,0x1a9,0x13a,0x153)]()[_0x487d54(0xc7,-0x2c,0x86,0x59)](_0x3efd49['ZWWHY'])[_0x487d54(0x4b,-0x83,-0x18,0x4)]()[_0x268188(0x192,0x191,0x204,0x1d6)+'r'](_0x37b925)[_0x268188(0x13e,0x18c,0x18f,0x13a)](_0x3efd49['ZWWHY']);});_0x37b925();import{eventSource}from'../../../../../script.js';import{eventNames,extensionName}from'./config.js';import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../script.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';function _0x49bd(_0x595e50,_0x13c412){_0x595e50=_0x595e50-(0x12c6+-0x66*-0x50+-0x313b*0x1);const _0x2a15db=_0x3776();let _0x60f4d1=_0x2a15db[_0x595e50];if(_0x49bd['pBEsiY']===undefined){var _0x50b43c=function(_0x37a319){const _0x16a948='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x57b31d='',_0x358cc3='',_0x239be5=_0x57b31d+_0x50b43c;for(let _0x58e5c3=0x5df+-0x224f+0x1c70,_0x61ca35,_0x4943a9,_0x308b7e=-0xc1*-0xb+-0x804+-0x1*0x47;_0x4943a9=_0x37a319['charAt'](_0x308b7e++);~_0x4943a9&&(_0x61ca35=_0x58e5c3%(-0x196f+-0x1*0x270d+0x4080)?_0x61ca35*(-0x9*0x2b3+0x1*0x1aa1+-0x59*0x6)+_0x4943a9:_0x4943a9,_0x58e5c3++%(0x1f5a+-0x1*0x19d3+0x1*-0x583))?_0x57b31d+=_0x239be5['charCodeAt'](_0x308b7e+(0x1*0xf1a+0x7*0x384+-0x27ac))-(-0x1db7*-0x1+-0xdfb+0x31*-0x52)!==0x5*-0x4f+-0x2669+0x27f4?String['fromCharCode'](0x1407+-0x18f7+0x5ef&_0x61ca35>>(-(-0x18c6+0x1a*-0x11+0x1a82)*_0x58e5c3&-0x2*0x10c1+-0x2196+-0x16*-0x30d)):_0x58e5c3:0x2423+-0xd5*-0x9+-0x2ba0){_0x4943a9=_0x16a948['indexOf'](_0x4943a9);}for(let _0x377c5e=-0x1e6b+-0x1*-0x1bab+0x2c0,_0x561462=_0x57b31d['length'];_0x377c5e<_0x561462;_0x377c5e++){_0x358cc3+='%'+('00'+_0x57b31d['charCodeAt'](_0x377c5e)['toString'](0x24b*-0x6+-0x4*0xac+0x1082))['slice'](-(-0x1868+-0x1098+0x1d*0x16a));}return decodeURIComponent(_0x358cc3);};_0x49bd['WuXUIW']=_0x50b43c,_0x49bd['Ivohco']={},_0x49bd['pBEsiY']=!![];}const _0x140b00=_0x2a15db[0x3d*0x51+0x1*-0x389+0x3f1*-0x4],_0x14eaf8=_0x595e50+_0x140b00,_0x2db851=_0x49bd['Ivohco'][_0x14eaf8];if(!_0x2db851){const _0x19845e=function(_0x2f12bf){this['CKQSdx']=_0x2f12bf,this['YVyRXk']=[0x1*0x16b4+-0x1a1*-0x17+0x11*-0x38a,-0x1b48+-0x18fe+0x1a23*0x2,-0x7*-0xf1+-0x2250+0x1bb9],this['flxoVf']=function(){return'newState';},this['UBbqCl']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['RbcqOz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x19845e['prototype']['EZZDTK']=function(){const _0x2f9055=new RegExp(this['UBbqCl']+this['RbcqOz']),_0x545f40=_0x2f9055['test'](this['flxoVf']['toString']())?--this['YVyRXk'][-0x1d99+0x11a8+0xbf2]:--this['YVyRXk'][0x1*-0x2531+0x38f+0x21a2];return this['FCoVBG'](_0x545f40);},_0x19845e['prototype']['FCoVBG']=function(_0x328058){if(!Boolean(~_0x328058))return _0x328058;return this['AWaBhD'](this['CKQSdx']);},_0x19845e['prototype']['AWaBhD']=function(_0x1dc6cd){for(let _0x1f3d0f=0x10*0x187+-0xa26+0x76*-0x1f,_0x591dd9=this['YVyRXk']['length'];_0x1f3d0f<_0x591dd9;_0x1f3d0f++){this['YVyRXk']['push'](Math['round'](Math['random']())),_0x591dd9=this['YVyRXk']['length'];}return _0x1dc6cd(this['YVyRXk'][-0x1296*0x1+-0x148d+0x2723]);},new _0x19845e(_0x49bd)['EZZDTK'](),_0x60f4d1=_0x49bd['WuXUIW'](_0x60f4d1),_0x49bd['Ivohco'][_0x14eaf8]=_0x60f4d1;}else _0x60f4d1=_0x2db851;return _0x60f4d1;}import{loadOutfitPreset}from'./settings/character/index.js';import{stylishConfirm}from'./ui_common.js';function replacePlaceholder(_0x54ba44,_0x2739da,_0x2249f1,_0x2191c8){function _0x2ef9cb(_0x5bf122,_0x5c8aa7,_0x1b9b43,_0x4f343b){return _0x49bd(_0x5bf122-0xdf,_0x1b9b43);}const _0x282d34={'DQeKg':function(_0x208562,_0x51af25){return _0x208562!==_0x51af25;},'Agqhv':function(_0x439e96,_0x51e7d4){return _0x439e96===_0x51e7d4;},'fEmvG':_0x2ef9cb(0x331,0x2b8,0x3a5,0x2b6),'GdFCP':_0x2ef9cb(0x256,0x1e5,0x256,0x22e),'PFJrW':function(_0x6ca465,_0x1b538d){return _0x6ca465===_0x1b538d;},'oDBBf':'KayCc','tXfxT':function(_0x40f0f2,_0x388fcf,_0x11d76b,_0x2f3d48,_0x55ee59){return _0x40f0f2(_0x388fcf,_0x11d76b,_0x2f3d48,_0x55ee59);}};if(typeof _0x54ba44==='string'){if(_0x2249f1&&_0x54ba44['includes'](_0x2739da)){if(_0x2191c8){if(_0x282d34[_0x2ef9cb(0x30f,0x34b,0x365,0x314)](_0x282d34[_0x1b2a96(0x567,0x594,0x591,0x5ad)],_0x1b2a96(0x5b7,0x640,0x563,0x566))){if(_0x282d34[_0x2ef9cb(0x34e,0x2e1,0x3ac,0x3b8)](_0x227b64['id'],_0x48cfbd))return;_0x4e26d0[_0x2ef9cb(0x2de,0x260,0x26d,0x327)+'ener'](_0x416832[_0x2ef9cb(0x258,0x267,0x286,0x297)+_0x2ef9cb(0x28d,0x2c1,0x2a1,0x250)+_0x1b2a96(0x545,0x4ef,0x574,0x580)+'PONSE'],_0x3dc582),_0x246ae1(_0x3aab0f[_0x2ef9cb(0x2a0,0x24b,0x255,0x30f)]);}else _0x2191c8[_0x1b2a96(0x521,0x546,0x582,0x5a6)](_0x2739da);}}return _0x54ba44['replaceAll'](_0x2739da,_0x2249f1);}if(Array[_0x2ef9cb(0x272,0x275,0x2a7,0x2e3)](_0x54ba44))return _0x54ba44[_0x1b2a96(0x543,0x561,0x565,0x594)](_0x311958=>replacePlaceholder(_0x311958,_0x2739da,_0x2249f1,_0x2191c8));function _0x1b2a96(_0x1bd174,_0x46d095,_0x479110,_0x4e82e3){return _0x49bd(_0x1bd174-0x393,_0x4e82e3);}if(_0x54ba44&&_0x282d34[_0x1b2a96(0x5c3,0x622,0x551,0x560)](typeof _0x54ba44,_0x282d34[_0x1b2a96(0x53e,0x544,0x586,0x4c3)])){if(_0x282d34[_0x2ef9cb(0x2d2,0x2c1,0x32a,0x293)](_0x282d34[_0x2ef9cb(0x2bc,0x312,0x2b1,0x23b)],_0x282d34[_0x1b2a96(0x570,0x59b,0x531,0x585)])){const _0x27e4a1={};for(const _0x312465 in _0x54ba44){_0x27e4a1[_0x312465]=_0x282d34[_0x1b2a96(0x555,0x569,0x550,0x5c2)](replacePlaceholder,_0x54ba44[_0x312465],_0x2739da,_0x2249f1,_0x2191c8);}return _0x27e4a1;}else return null;}return _0x54ba44;}function attachImagesToMessage(_0x82e484,_0x441a52,_0xb2930a,_0x40042f='参考图片'){const _0x1de110={};_0x1de110[_0x4c09a8(-0x8c,-0xd8,-0xce,-0x8f)]=function(_0x2dcc3f,_0x4e8021){return _0x2dcc3f!==_0x4e8021;},_0x1de110[_0x4c09a8(-0x66,-0xa8,-0xe5,0x3)]=_0x4c09a8(-0x54,-0xcb,-0x85,0x2e),_0x1de110[_0x47bef2(-0xcc,-0x11d,-0xae,-0x93)]=function(_0x3feed2,_0x4058bd){return _0x3feed2>_0x4058bd;},_0x1de110[_0x47bef2(-0xdb,-0xbc,-0xc2,-0x73)]='...',_0x1de110[_0x4c09a8(-0xf1,-0x70,-0x7a,-0x9f)]=function(_0x48a0c0,_0x3f8928){return _0x48a0c0===_0x3f8928;},_0x1de110[_0x47bef2(-0xd4,-0x69,-0x55,-0x13b)]=_0x4c09a8(-0xbb,-0x134,-0x55,-0x3f),_0x1de110[_0x47bef2(-0x142,-0x15e,-0xe8,-0x10e)]=_0x47bef2(-0x16a,-0x1c5,-0xeb,-0x1a6),_0x1de110[_0x4c09a8(-0xd6,-0x109,-0x15d,-0x70)]=function(_0xc0e0bd,_0xafd5f8){return _0xc0e0bd+_0xafd5f8;};function _0x47bef2(_0x5cb265,_0x1e8902,_0x1e40c4,_0x58c5fe){return _0x49bd(_0x5cb265- -0x322,_0x1e40c4);}_0x1de110[_0x4c09a8(-0x117,-0x191,-0x168,-0x185)]=_0x4c09a8(-0xab,-0xd3,-0x88,-0x43),_0x1de110[_0x47bef2(-0x11c,-0xda,-0xd2,-0x17e)]=_0x47bef2(-0x133,-0x175,-0xaf,-0x182),_0x1de110[_0x47bef2(-0xbb,-0xd0,-0x56,-0x46)]=_0x4c09a8(-0x12e,-0x189,-0x136,-0x14b);function _0x4c09a8(_0x241a94,_0x538c37,_0x21a376,_0x6104c3){return _0x49bd(_0x241a94- -0x2cb,_0x538c37);}_0x1de110[_0x4c09a8(-0x73,-0xc2,-0x2c,-0xf3)]='UWfjE',_0x1de110[_0x47bef2(-0x178,-0x126,-0x1c7,-0x12c)]=_0x4c09a8(-0xfd,-0x12c,-0xba,-0xeb),_0x1de110['bNDJu']='auto',_0x1de110['OvDVB']=function(_0x5492d7,_0x1c4dd3){return _0x5492d7<_0x1c4dd3;},_0x1de110[_0x4c09a8(-0x94,-0x116,-0x4d,-0x103)]=function(_0xa95bb6,_0x2199b8){return _0xa95bb6>=_0x2199b8;},_0x1de110[_0x47bef2(-0x111,-0x139,-0x191,-0xae)]='oxjbr',_0x1de110[_0x4c09a8(-0x132,-0xb6,-0x133,-0xba)]='GvXck';const _0x90b4f3=_0x1de110;if(!_0xb2930a||_0xb2930a[_0x4c09a8(-0x12a,-0xf1,-0xe9,-0xa8)]===-0x7*0x237+-0x1*-0x53a+0xa47||_0x90b4f3['OvDVB'](_0x441a52,-0xc64+0x16e8+-0xa84)||_0x90b4f3[_0x4c09a8(-0x94,-0x5b,-0xe,-0x1a)](_0x441a52,_0x82e484[_0x4c09a8(-0x12a,-0xae,-0x17c,-0x110)]))return _0x82e484;const _0x85d872=[..._0x82e484],_0x4e7d6d=_0x85d872[_0x441a52],_0x299cdd=[];if(_0x90b4f3[_0x4c09a8(-0xf1,-0x149,-0x100,-0xf5)](typeof _0x4e7d6d[_0x4c09a8(-0xae,-0x58,-0x76,-0x122)],_0x90b4f3[_0x47bef2(-0x142,-0xf7,-0x123,-0x1b3)])){const _0x49fc19={};_0x49fc19[_0x4c09a8(-0x7e,-0xa0,-0xc6,-0x103)]=_0x90b4f3['HDeTk'],_0x49fc19['text']=_0x4e7d6d[_0x47bef2(-0x105,-0x127,-0x95,-0x13f)],_0x299cdd[_0x4c09a8(-0x11e,-0x131,-0x10f,-0xe2)](_0x49fc19);}else{if(Array['isArray'](_0x4e7d6d['content'])){if(_0x90b4f3[_0x4c09a8(-0x8c,-0x98,-0xfe,-0x37)](_0x90b4f3[_0x47bef2(-0x111,-0xcb,-0x13c,-0x13e)],_0x90b4f3[_0x4c09a8(-0x132,-0x166,-0x13e,-0xe6)]))_0x299cdd[_0x47bef2(-0x175,-0x12d,-0x1c0,-0x19c)](..._0x4e7d6d['content']);else return _0x2d9434&&_0x116925[_0x4c09a8(-0x14d,-0xc5,-0x1ae,-0x190)](_0x3cb702)&&(_0x2eb6ef&&_0x5bcb8b[_0x47bef2(-0x194,-0x1cf,-0x215,-0x1b2)](_0x38d489)),_0x6b2479['replaceAll'](_0x493b37,_0x184498);}}if(_0x90b4f3['SsRWk'](_0xb2930a[_0x47bef2(-0x181,-0x1fe,-0x207,-0x12c)],0x3*0x4c7+0x1*-0x24cb+0x1676)){const _0x2414c6={};_0x2414c6[_0x4c09a8(-0x7e,-0x8e,-0x1c,-0x71)]='text',_0x2414c6[_0x47bef2(-0x102,-0x9c,-0x109,-0x84)]=_0x4c09a8(-0xc2,-0x149,-0xa5,-0x145)+_0xb2930a[_0x4c09a8(-0x12a,-0x111,-0x13b,-0x151)]+'张'+_0x40042f+']',_0x299cdd[_0x47bef2(-0x175,-0x167,-0x17a,-0x167)](_0x2414c6);}_0xb2930a[_0x4c09a8(-0x147,-0x114,-0x10c,-0xe2)]((_0x1794f4,_0x4629e6)=>{function _0x22146a(_0x32a4ad,_0x546d5c,_0x4f980c,_0x54467a){return _0x4c09a8(_0x546d5c- -0x97,_0x54467a,_0x4f980c-0x146,_0x54467a-0x18d);}function _0x3ec8af(_0x28c8e4,_0x2e6d25,_0x44c992,_0x2a62c1){return _0x4c09a8(_0x2e6d25-0x273,_0x44c992,_0x44c992-0x1d4,_0x2a62c1-0x88);}if(_0x90b4f3[_0x22146a(-0x10d,-0x188,-0x180,-0x144)]('jkMFU',_0x90b4f3[_0x22146a(-0xb5,-0x114,-0xed,-0xf8)])){const _0x394cdc=typeof _0x1794f4===_0x90b4f3[_0x3ec8af(0x1be,0x188,0x19b,0x15c)]?_0x1794f4:_0x1794f4[_0x3ec8af(0x235,0x1d3,0x1d9,0x171)],_0x7b4512=_0x90b4f3[_0x3ec8af(0x114,0x182,0x161,0x1d6)](typeof _0x1794f4,'object')&&_0x1794f4[_0x22146a(-0x1c4,-0x148,-0x170,-0x192)]?_0x1794f4['name']:''+_0x40042f+_0x90b4f3[_0x3ec8af(0x1fe,0x19d,0x124,0x1cd)](_0x4629e6,0x28a*0x4+0x26f9+-0x3120),_0x341b19={};_0x341b19['type']=_0x90b4f3[_0x3ec8af(0x1a8,0x15c,0x148,0x1a1)],_0x341b19[_0x3ec8af(0x188,0x1c8,0x1b8,0x140)]='['+_0x7b4512+']',_0x299cdd[_0x3ec8af(0x186,0x155,0xdd,0x101)](_0x341b19);let _0x1f373b=_0x394cdc;if(!_0x394cdc[_0x22146a(-0x1f1,-0x1be,-0x154,-0x13b)](_0x90b4f3[_0x3ec8af(0x128,0x1ae,0x1f7,0x132)])){if(_0x90b4f3[_0x3ec8af(0x1da,0x182,0x19d,0x138)](_0x90b4f3[_0x22146a(-0xbc,-0xfb,-0xe7,-0x17a)],_0x90b4f3[_0x3ec8af(0x1f4,0x200,0x217,0x23c)])){const _0x33b527=_0x4c35aa['apply'](_0x2609af,arguments);return _0x252894=null,_0x33b527;}else _0x1f373b='data:image'+_0x22146a(-0x185,-0x1e8,-0x1ec,-0x266)+'4,'+_0x394cdc;}const _0x56596a={};_0x56596a[_0x3ec8af(0x196,0x1f5,0x1f9,0x250)]=_0x90b4f3[_0x22146a(-0x194,-0x1b8,-0x164,-0x150)],_0x56596a[_0x3ec8af(0x14e,0x176,0x12f,0xf8)]={},_0x56596a[_0x3ec8af(0x14e,0x176,0x12f,0xf8)][_0x3ec8af(0x19e,0x115,0xed,0x114)]=_0x1f373b,_0x56596a[_0x3ec8af(0x14e,0x176,0x12f,0xf8)][_0x22146a(-0xdd,-0x13b,-0x13e,-0x148)]=_0x90b4f3[_0x3ec8af(0x194,0x138,0x197,0x143)],_0x299cdd[_0x3ec8af(0xd9,0x155,0xf9,0x1d9)](_0x56596a);}else{if(_0x33b9a5[_0x581f86]&&_0x90b4f3[_0x3ec8af(0x1c3,0x1e7,0x162,0x222)](_0x1f33e1[_0x379e07],_0x5e65a5[_0x50e9bf])){const _0x599fda=_0x3c2ad3[_0x9d770b]||_0x90b4f3[_0x3ec8af(0x1fc,0x20d,0x1e5,0x1fc)],_0x42a8d4=_0x229d5d[_0x5a40c7];_0x5119c1+='•\x20'+_0x2d90a9[_0x233e09]+':\x0a',_0x4e69fb+=_0x22146a(-0x194,-0x136,-0x1b3,-0xd1)+_0x599fda['substring'](-0x13*0x6b+-0x1*-0x7e+0x773*0x1,-0xc81+0x253a+0x1e3*-0xd)+(_0x90b4f3[_0x22146a(-0xf7,-0x10c,-0x124,-0x186)](_0x599fda[_0x22146a(-0x21d,-0x1c1,-0x1ce,-0x17f)],0xb14+0x1*0xc5f+-0x1741*0x1)?_0x90b4f3[_0x22146a(-0xcb,-0x11b,-0xbe,-0x194)]:'')+'\x0a',_0x43a1cc+=_0x3ec8af(0x1e6,0x19e,0x11c,0x20e)+_0x42a8d4[_0x22146a(-0x1f7,-0x17e,-0x133,-0xf9)](-0x19c7+0x11be*0x2+0x9b5*-0x1,-0xf78+-0x24fb*0x1+0x34a5)+(_0x90b4f3['SsRWk'](_0x42a8d4[_0x22146a(-0x22e,-0x1c1,-0x14a,-0x217)],0x174e+-0x1*-0x2422+0x3b3e*-0x1)?_0x90b4f3['wQzTD']:'')+'\x0a\x0a',_0x30deec++;}}});const _0x476658={..._0x4e7d6d};return _0x476658['content']=_0x299cdd,_0x85d872[_0x441a52]=_0x476658,_0x85d872;}function findMessageIndexWithPlaceholder(_0x4b8029,_0x4514e3){const _0x259fed={'chkUu':function(_0x593953,_0x258827){return _0x593953(_0x258827);},'aGonc':_0x4c882e(0x251,0x280,0x2ae,0x276),'BweXS':_0x4c882e(0x2ae,0x28e,0x223,0x2c5),'zIbjB':function(_0x1abd95,_0xb5f217){return _0x1abd95===_0xb5f217;},'iDKEZ':_0x4c882e(0x215,0x226,0x1c3,0x1cf),'byyTP':function(_0x200bc3,_0x294636){return _0x200bc3!==_0x294636;},'eJUGy':'sPsYJ','vjWev':_0x356d82(-0xa3,-0x122,-0x168,-0x119),'VwuIA':function(_0x3b168f,_0xcf3f7d){return _0x3b168f===_0xcf3f7d;}};function _0x4c882e(_0x1630cb,_0x16c6de,_0x40c033,_0x5c1b37){return _0x49bd(_0x16c6de-0x6e,_0x40c033);}function _0x356d82(_0x4ad0ee,_0x4cbbe8,_0x398e9c,_0x50f7db){return _0x49bd(_0x50f7db- -0x335,_0x398e9c);}for(let _0x1e9ea8=0x1a7e*-0x1+-0x1206+0x2c84;_0x1e9ea8<_0x4b8029['length'];_0x1e9ea8++){const _0x115cfd=_0x4b8029[_0x1e9ea8];if(_0x259fed[_0x4c882e(0x288,0x26b,0x2e7,0x2e9)](typeof _0x115cfd[_0x356d82(-0x9a,-0xb9,-0x123,-0x118)],_0x259fed['iDKEZ'])&&_0x115cfd[_0x356d82(-0xde,-0xee,-0x19c,-0x118)][_0x356d82(-0x206,-0x176,-0x19b,-0x1b7)](_0x4514e3)){if(_0x259fed[_0x356d82(-0x156,-0x13d,-0x15e,-0x16d)](_0x356d82(-0x122,-0xc4,-0xda,-0x149),_0x259fed[_0x4c882e(0x211,0x23e,0x24c,0x29f)]))return _0x1e9ea8;else{const _0x456d9e=_0x4d1577[_0x4c882e(0x28a,0x268,0x220,0x2c9)+'ById'](_0x356d82(-0x1e9,-0x1e2,-0x137,-0x1bf)+_0x4c66dc);_0x456d9e&&(_0x456d9e[_0x356d82(-0x214,-0x221,-0x214,-0x19a)]=_0x575db8[_0xd4a4b],_0x259fed['chkUu'](_0x30790f,_0x456d9e)[_0x356d82(-0x1cf,-0x162,-0xe6,-0x16a)](_0x259fed[_0x356d82(-0x1dd,-0x172,-0x188,-0x197)]));}}else{if(Array[_0x4c882e(0x218,0x201,0x268,0x185)](_0x115cfd[_0x4c882e(0x26e,0x28b,0x285,0x271)])){if(_0x259fed[_0x4c882e(0x2a3,0x26b,0x2f4,0x20e)](_0x259fed[_0x356d82(-0x108,-0x13a,-0x126,-0xdb)],_0x4c882e(0x2ba,0x2a8,0x2ff,0x273))){const _0x316d72={};_0x316d72['type']=_0x259fed['BweXS'],_0x316d72[_0x4c882e(0x309,0x28e,0x2dc,0x210)]=_0xd7e4ca[_0x4c882e(0x26f,0x28b,0x2e2,0x287)],_0x6c5fb[_0x356d82(-0x1f5,-0x144,-0x179,-0x188)](_0x316d72);}else for(const _0x7d8ab7 of _0x115cfd[_0x356d82(-0xc2,-0xad,-0x111,-0x118)]){if(_0x259fed[_0x4c882e(0x309,0x2ae,0x262,0x269)](_0x7d8ab7[_0x356d82(-0x158,-0x76,-0xfb,-0xe8)],_0x259fed[_0x356d82(-0xf5,-0xa8,-0x3b,-0xc1)])&&_0x7d8ab7[_0x4c882e(0x264,0x28e,0x2c3,0x2e0)]['includes'](_0x4514e3))return _0x1e9ea8;}}}}return-(-0x3*-0x7bb+0x19ef+-0x5*0x9d3);}function generateRequestId(){const _0x2adaa4={};function _0x363676(_0x53131a,_0x19a9a0,_0x313a5d,_0x1f054a){return _0x49bd(_0x1f054a- -0x3ba,_0x19a9a0);}_0x2adaa4[_0x363676(-0x1f0,-0x1f8,-0x243,-0x23f)]=function(_0x655693,_0x54d2b8){return _0x655693+_0x54d2b8;};function _0x5c5a13(_0x26f5ad,_0x6628e8,_0xeb58c7,_0x104732){return _0x49bd(_0x6628e8-0x29d,_0xeb58c7);}const _0x53e4bd=_0x2adaa4;if(crypto&&crypto['randomUUID'])return crypto[_0x363676(-0x240,-0x1a8,-0x246,-0x204)]();return _0x53e4bd[_0x363676(-0x234,-0x24f,-0x26d,-0x23f)](Date['now']()['toString'](-0x13c+-0xcb*0xf+0xd45),Math[_0x5c5a13(0x3a9,0x40e,0x405,0x46d)]()['toString'](-0x6*0x349+0x45*-0x6c+0x30f6)[_0x5c5a13(0x4f8,0x481,0x445,0x435)](-0x11*-0x199+-0x995+-0x1192));}export function LLM_OUTFIT_MODIFY_GET_PROMPT(){function _0x4407d2(_0x43b159,_0x6b1253,_0x4f15cc,_0x31698d){return _0x49bd(_0x6b1253-0x2ad,_0x43b159);}function _0x2ddaa6(_0x46ab59,_0x22c8a9,_0x2303d7,_0x25e6d6){return _0x49bd(_0x2303d7-0xb1,_0x22c8a9);}const _0x31fb15={'RwHMh':function(_0xff2bc4,_0x54eff3){return _0xff2bc4!==_0x54eff3;},'DIwYq':_0x2ddaa6(0x27f,0x2b3,0x26b,0x233)+_0x2ddaa6(0x35b,0x328,0x32a,0x2cd),'xgYOt':_0x4407d2(0x450,0x435,0x41c,0x459),'BdgXx':_0x2ddaa6(0x1de,0x1d8,0x23e,0x212)+'时','BJghx':function(_0x2f50e0){return _0x2f50e0();},'SXwkS':function(_0xac12ef,_0x29eaf8,_0x1746df){return _0xac12ef(_0x29eaf8,_0x1746df);}};return new Promise((_0x14ffc3,_0xbac678)=>{function _0x5b5d8d(_0x108658,_0x2f7beb,_0x230005,_0x45ba61){return _0x4407d2(_0x2f7beb,_0x230005-0x37,_0x230005-0x6c,_0x45ba61-0x1da);}const _0x1fd368={'lLQFy':function(_0xcc45a9,_0x4f4ab6){return _0x31fb15['RwHMh'](_0xcc45a9,_0x4f4ab6);},'xapNA':_0x31fb15[_0x20d0c8(0x28f,0x233,0x25f,0x2c4)],'gVZyI':_0x31fb15['xgYOt'],'nCIhQ':function(_0x385304,_0x51a995){return _0x385304(_0x51a995);},'FNRLb':_0x31fb15[_0x5b5d8d(0x5ae,0x4b7,0x530,0x4c0)]},_0xfa0677=_0x31fb15[_0x5b5d8d(0x558,0x46f,0x4ef,0x4af)](generateRequestId);function _0x20d0c8(_0x1de0bd,_0x21dd23,_0x5657de,_0x4e5e2a){return _0x4407d2(_0x21dd23,_0x1de0bd- -0x1f7,_0x5657de-0x3e,_0x4e5e2a-0x114);}console['log'](_0x20d0c8(0x285,0x2bf,0x2b4,0x2de)+_0x20d0c8(0x288,0x24f,0x29a,0x266)+_0x20d0c8(0x2af,0x2ce,0x2aa,0x276)+_0x20d0c8(0x287,0x256,0x2c5,0x28d)+_0x5b5d8d(0x577,0x546,0x4fc,0x54e)+_0x20d0c8(0x283,0x224,0x258,0x30c)+_0xfa0677+')');const _0x4899b7=_0x4ea3e7=>{if(_0x1fd368[_0x300a35(0x522,0x54c,0x590,0x5a6)](_0x4ea3e7['id'],_0xfa0677))return;eventSource[_0x300a35(0x4f9,0x56c,0x515,0x568)+_0x7fe3d4(0x225,0x249,0x1bf,0x1b5)](eventNames['LLM_CHAR_M'+_0x300a35(0x4e7,0x4f7,0x4c4,0x48f)+_0x7fe3d4(0x12b,0x1a3,0x16a,0x103)+'PONSE'],_0x4899b7);function _0x7fe3d4(_0x211443,_0x5532a7,_0x36dd7d,_0x57ce0f){return _0x20d0c8(_0x36dd7d- -0xfe,_0x57ce0f,_0x36dd7d-0xf4,_0x57ce0f-0x1bc);}function _0x300a35(_0x722bf8,_0x56b9bc,_0xf2a35f,_0x473d6d){return _0x20d0c8(_0xf2a35f-0x260,_0x56b9bc,_0xf2a35f-0x172,_0x473d6d-0x18c);}_0x14ffc3(_0x4ea3e7['prompt']);};eventSource['on'](eventNames[_0x5b5d8d(0x3f2,0x4c5,0x45d,0x480)+'ODIFY_GET_'+'PROMPT_RES'+_0x20d0c8(0x322,0x2bb,0x387,0x373)],_0x4899b7);const _0x597101={};_0x597101['id']=_0xfa0677,eventSource[_0x5b5d8d(0x4af,0x522,0x4c5,0x4dc)](eventNames[_0x5b5d8d(0x3f5,0x436,0x45d,0x3d6)+_0x20d0c8(0x264,0x256,0x2b2,0x20e)+_0x5b5d8d(0x41c,0x455,0x473,0x44f)+_0x5b5d8d(0x56f,0x581,0x4f8,0x50e)],_0x597101),_0x31fb15[_0x20d0c8(0x280,0x27d,0x239,0x2fd)](setTimeout,()=>{const _0x336c4a={};_0x336c4a[_0x41238e(-0x89,-0x3d,-0xee,-0x1)]=_0x1fd368['xapNA'];function _0x41238e(_0x129f30,_0xbce5ed,_0x2ea99e,_0x4bbb3b){return _0x5b5d8d(_0x129f30-0x1c7,_0xbce5ed,_0x129f30- -0x592,_0x4bbb3b-0x26);}const _0x2ae531=_0x336c4a;function _0x162654(_0x37f049,_0xb603ca,_0x1e74ec,_0x3b22af){return _0x20d0c8(_0x37f049- -0xc4,_0x1e74ec,_0x1e74ec-0x135,_0x3b22af-0xb6);}if(_0x1fd368[_0x41238e(-0x108,-0xac,-0xa7,-0xe2)]===_0x1fd368[_0x41238e(-0x108,-0xff,-0xd9,-0xc4)])eventSource[_0x41238e(-0xaf,-0x105,-0x6b,-0x63)+_0x41238e(-0xa7,-0x59,-0x118,-0xbe)](eventNames[_0x41238e(-0x135,-0xcc,-0x168,-0x120)+'ODIFY_GET_'+_0x41238e(-0xfc,-0xf0,-0xd1,-0x14e)+_0x162654(0x25e,0x223,0x250,0x228)],_0x4899b7),_0x1fd368['nCIhQ'](_0xbac678,new Error(_0x1fd368['FNRLb']));else{_0xe2c8f5['warning'](_0x2ae531['pJaOr']),_0x2571e5[_0x162654(0x1b0,0x1a0,0x131,0x170)](_0x162654(0x1c1,0x1af,0x21e,0x14f)+'mptModify]'+'\x20Raw\x20LLM\x20o'+_0x162654(0x1c9,0x151,0x1f1,0x1b6)+_0x41238e(-0x65,-0x20,-0x44,-0x79),_0x456634);return;}},-0x26f+0x1f0e+0x37b*0x3);});}function _0x3776(){const _0x38bdc0=['qKPNAhG','6kkR5l2/55sO77YA','qNLjza','5lIT5PAh5zcn56EWoIa','v2zbv1C','AMTnrLu','DxLuAvm','Aw5WDxq','ievYCM9YoG','vuvtva','DwvhALm','mZe4mJqXmMnYwwn3ta','5PYn6kof5O+q56s66k+n5l+U5Ps55AsX6lsLoG','B2rPzNKGChjVBq','E3VKUjBNLyZKUABOP6BLJ5f9Fq','BMfTzq','vMDgDgO','qLPmCvy','y29UDgvUDa','DhjPBq','ndC1mti3nLLgy1DtDq','Dgv4Da','B1jICNq','5y+c6icd5zU+54Mh','ig91DgzPDcbTBW','sNj4wMO','CePHt3i','zxzyqxy','zgv0ywLS','D2fYBMLUzW','5BEY5y+w5RAi5PU05PAW','5lIl5y2k6lQR','yMfZzty0','icdML6C6ia','yMTWze0','BvDoy28','6k+k5PAT77YA5Qoa5Rwl5yIW5lUL5lIl5y+y6yEp','qwDXAhy','re9Iwxa','AKHZsNa','teXnioI/LowBNUE7K+AENos4UUEPUG','ifjHDYbmte0GBW','y29UC3rYDwn0BW','mtKYmZi2nfPwtKzIvG','yNLZC1G','iev4DhjHy3rLza','zxrZ','CKnzyMW','E3VPGjRNLkJMNi3OO4xLKk/NLkJLIjFOOAG','5yEg5Ash5PU05PAW5PYn6kofici','BKz6Bhi','zeLHqwq','Dvj6z3u','vND1sue','6iUX5PAh5zcn56EWoIa','igrHDge6','y0D1r0e','Aw5MBW','t0rjrLLFuKvrvq','iow3SUABToAwSoACJEIJHEMIHoIUVIaI','D1f6veq','5Rgc6lAf5PE2','zgvIDwDNAw5NoG','DMLbuLO','E3VLVzpLIy3MNi3OO4v9Fq','qMrNwhG','DhLWzq','DMDQBMq','i3n0lwnOyxr1oa','BwPYA0O','zMLSDgvY','uuLlsha','B3v0zML0uhjLCW','q1rZq08','BMfTzuno','u3nsv2S','ihjLCxvLC3qUlG','C1HVwe0','zwzrANK','DMPxzxy','Dhnkv1i','zgLMEsbmte0GCG','iIdNMOtKU6xKUiVMLBdMJA46cGO','CMvWBgfJzq','zxrjza','CMvZDwX0','v2DNue4','Aw5KzxHpzG','C0XYrgm','5Ps56k+35RgclI4U','tfHXtMS','DgLTzw91De1Z','q0XqAK4','DKHizxu','zxjYB3i','5lIl5y2k6lQRoIa','svffANa','ue9ou0u','CLDNy0C','vg5vqMm','rffLs2C','B3v0zML0CW','DxbWzxjcB2r5','sK5Vwg8','zxf1zxn0icHjra','qNDLwfm','mta4otC2oe5TBerRwq','DxbWzxjcB2r5qG','koEPUIK','qLDtrxC','5Qoa5Rwl5yIW5PYn6kof5Qch562+','BeXrrNK','s0zWAKO','s1HltMC','sufwwLe','Dg9tDhjPBMC','5lIl5y2k6lQR6iom6z2I','DxjS','AK9Nzeq','5OM+5lIn5yIW5OYh5A6A55Qe5PYn6kof6Ake6k6+','ywnR','CMfUzg9T','ief0DgfJAgvK','teXnioIVT+AXGUwKSEI0Pq','E3VPGjRNLkJOP5lOIBlLKk/NLkJLIjFOOAG','zw1ZC1e','B3v0zML0xW','B2jQzwn0','AM9PBG','teXnx0niqvjFtq','l3bUzZTIyxnLnG','vNzOC1G','igLUzgv4','5PYn6kof5l+U5Ps5ieXmtsdOR7C','Aw5JBhvKzxm','s3ryDxG','5lIT5PAh5zcn56EW','yKz1wLG','C3bSAxq','rgjSAw0','zM9YrwfJAa','zNvSBejVzhLcyq','E3VLVzpLIy3OP5lOIBj9Fq','r2fwz1C','swzutuy','uuj3rhi','BhzMBem','t2XHDMS','AxjLBwvUDcbTzq','6i635y+w5PYn6kof5l+U5Ps55O+q56s66k+n6lAf','ywrK','ufjptvbux1jfuq','yK5esNu','ifn0yxj0Aw5Nia','Bxb0ig1VzgLMEq','AxnbCNjHEq','ioACQUIVHUwiQ+EAHoACJEIJHEwTL+AUTsa','CfHtzvG','E3VKUiRKUiVMLOD9Fq','uM5xquq','E3VNLkJMIlFPNidMSyj9Fq','vvfjwhm','r216AKG','DMfSDwu','DuzgBem','y3vlswS','yuDVBMm','C3vJy2vZCW','wLDxsfK','BgvUz3rO','ioINO+AEKowiSoEAHoACJEIJHEAvSoAnRJO','wLLYq2O','C3rHCNrZv2L0Aa','EeLJEvC','z1zAEuK','qufnrue','t0rjrLLFuKvtua','5RkH5PYj5Qoa5Rwl5yIW6zYa6kAb5PU05PAW55Qe','yLLHALy','r2rgq1a','DgfdBwm','ChvZAa','t0rjrLLFr0vuxW','6k+35ywi6ycj5OUP5lIa5lIQ5PYn6kof6Ake6k6+','BwfW','BwLrwvG','ufjptvbux1jfuW','t3zcyuG','serLvgS','D3H4DKi','CMfUzg9Tvvvjra','yMHJwK0','C3rYAw5N','qwLmzMm','5PYQ5zYOieXmtsdOVPpLH7RKUk0','5lIk5y2k6lQR6iom6z2I','BwvZC2fNzq','t3z1sxm','Bg9N','ufH5yu0','C2vHCMnO','ChjVBxb0','DfHMEfq','6iUX5PAh5zcn56EW','uhbSsLq','zvnuu2i','r3zhvwe','z3DNwNi','yNL5vfa','B3v0zML0ihbYBW','u1H3A1m','DhjPz2DLCG','oty1ota3nNDIrKzJzW','ChqGkeLeoIa','Aw1Hz2vFDxjS','w291DgzPDfbYBW','zuPvr3K','zYbVDxrMAxqGBq','Bxb0tw9KAwz5xq','DhnAy1K','zKvTDKC','t05trq','vMHRsKS','DxrWDxqGzM9Yia','uhvUD1e','reL3wxe','Ehz4Ee4','Aw1Hz2vZihrVia','E3VMNi3OO4xLIjFOOAH9Fq','B0rcqMy','E3VOP5lOIBlLKk/NLkJLIjFOOAH9Fq','uKfnD2G','wNH5vMS','zw1PDa','C3nHz2uGAw5Kzq','zgf0yq','C3vIC3rYAw5N','nty2ntC5mgDtAKTOCa','C2L6zq','BMfTzuvo','ugLQzM8','ien1CNjLBNqGCa','ywLYDxG','D1HMshO','z0fHquu','rxPmBeK','nta3nte3BhPyAMDm','zgf0ytO','5lIk5y2k6lQR6iom6z2IoIa','EuT6r3i','BwvZC2fNzsbHDa','uezkCLC','uwP0y3G','tgrOEwW','icdMLRa6ia','poACJEIJHt4k','EMjtEeG','ifjLCxvLC3rPBG','z2v0rwXLBwvUDa','B1HtDuy','5PYn6kof5O+q56s66k+n5l+U5Ps55A6m5OIq77Yb','EKLIAKi','uwzksvi','CMvTB3zLtgLZDa','5lIl5y2k6lQR5PYn6kof','kcGOlISPkYKRkq','v1zhsLG','wwTbAxq','zNvSBejVzhK','vuzcs1q','Dhboq0O','zw5LCG','rw9bCgO','cLVKU6xKUiVMMk/NLkJMIlFKUiRKVkdNMOq','txzOENu'];_0x3776=function(){return _0x38bdc0;};return _0x3776();}export function LLM_OUTFIT_MODIFY(_0x46504a,_0x30fed7={}){function _0x44f79d(_0xc4b4ed,_0x2600d9,_0x43a40e,_0x2b0a00){return _0x49bd(_0x2600d9- -0xf,_0x2b0a00);}function _0xc882b3(_0x479bb6,_0x35275f,_0x578d03,_0x1dc0fd){return _0x49bd(_0x479bb6- -0x170,_0x578d03);}const _0x5a7b4c={'CTsCO':function(_0x17303,_0x2c0bee){return _0x17303(_0x2c0bee);},'bFuZX':_0x44f79d(0x189,0x164,0x105,0x127),'Dblim':_0xc882b3(0xd,-0x18,-0x7b,0x68)+_0xc882b3(0xd8,0xd1,0xd3,0xb7),'mWNco':function(_0x421c94){return _0x421c94();},'PXyaM':function(_0x4bb535,_0x106e6d,_0x55ab21){return _0x4bb535(_0x106e6d,_0x55ab21);}};return new Promise((_0xc40eac,_0x4f3ec4)=>{const _0x5bb09c={'IQEjp':function(_0x5deb86,_0xdff44f){return _0x5deb86!==_0xdff44f;},'tsZcY':function(_0x522399,_0x4c30e3){function _0x45890b(_0x1aa82a,_0x4c6bbe,_0x5a1208,_0x4734ef){return _0x49bd(_0x5a1208- -0x2c5,_0x1aa82a);}return _0x5a7b4c[_0x45890b(-0xda,-0x93,-0x71,-0xe9)](_0x522399,_0x4c30e3);},'cGuGA':_0x5a7b4c[_0x1bee85(0x588,0x52a,0x559,0x519)],'evXAv':_0x5a7b4c[_0x1b98f2(0x33b,0x364,0x315,0x38d)]},_0x3d0fd5=_0x5a7b4c[_0x1bee85(0x621,0x5c7,0x5cc,0x5c6)](generateRequestId),_0x143812=_0x30fed7[_0x1b98f2(0x4e4,0x45d,0x434,0x470)]||0x2397+0x1*0x18808+-0xc13f;console[_0x1b98f2(0x354,0x43a,0x39e,0x3c8)](_0x1b98f2(0x3bd,0x353,0x39f,0x3d9)+_0x1bee85(0x58b,0x587,0x4e4,0x56a)+'\x20Executing'+_0x1b98f2(0x405,0x40f,0x3c5,0x42d)+_0x1bee85(0x58f,0x61a,0x629,0x5f4)+_0x1b98f2(0x440,0x474,0x426,0x47d)+':\x20'+_0x3d0fd5+')');const _0x20e899=_0x5a3114=>{if(_0x5bb09c[_0x5a75ef(-0x99,-0x10a,-0x80,-0x2a)](_0x5a3114['id'],_0x3d0fd5))return;eventSource[_0x114c93(0x1a4,0x19b,0x1d2,0x213)+_0x5a75ef(-0xfd,-0xa6,-0xc9,-0x10e)](eventNames[_0x5a75ef(-0x18b,-0x1a2,-0x151,-0x120)+'ODIFY_RESP'+_0x5a75ef(-0x12f,-0xad,-0xe5,-0x132)],_0x20e899);function _0x114c93(_0x2c0e60,_0x4eb3df,_0x67bd2f,_0x3f4a62){return _0x1b98f2(_0x3f4a62,_0x4eb3df-0x17,_0x67bd2f-0x183,_0x2c0e60- -0x265);}function _0x5a75ef(_0x55d374,_0x55a56d,_0x428a51,_0x8581c1){return _0x1b98f2(_0x8581c1,_0x55a56d-0xc9,_0x428a51-0x13a,_0x55d374- -0x50e);}_0x5a3114[_0x114c93(0x144,0x10d,0xcb,0x13d)]?_0x5bb09c[_0x114c93(0x178,0x185,0x15c,0x156)](_0xc40eac,_0x5a3114['result']):_0x4f3ec4(new Error(_0x5a3114[_0x5a75ef(-0xa4,-0xf3,-0x64,-0xa5)]||_0x5bb09c[_0x114c93(0x1e8,0x225,0x217,0x221)]));};eventSource['on'](eventNames[_0x1b98f2(0x3d2,0x361,0x38a,0x383)+_0x1b98f2(0x422,0x337,0x3bf,0x3b2)+_0x1bee85(0x55d,0x4f7,0x4fe,0x56d)],_0x20e899);const _0x39fa8f={};_0x39fa8f[_0x1bee85(0x56a,0x4f5,0x5b3,0x559)]=_0x46504a;function _0x1b98f2(_0x3f20f1,_0x45b504,_0x225b63,_0x48d7c1){return _0x44f79d(_0x3f20f1-0xd9,_0x48d7c1-0x219,_0x225b63-0x166,_0x3f20f1);}_0x39fa8f['id']=_0x3d0fd5;function _0x1bee85(_0x41c0a0,_0x1a593e,_0xb0618c,_0x345a66){return _0x44f79d(_0x41c0a0-0x115,_0x345a66-0x3a7,_0xb0618c-0x1e8,_0x1a593e);}eventSource[_0x1b98f2(0x3e4,0x43b,0x449,0x3eb)](eventNames['LLM_CHAR_M'+_0x1bee85(0x65b,0x614,0x554,0x5dd)+'EST'],_0x39fa8f),_0x5a7b4c[_0x1bee85(0x4d9,0x565,0x5d8,0x557)](setTimeout,()=>{function _0x2b2170(_0x59ff73,_0x41802a,_0x28e568,_0x4c5c84){return _0x1bee85(_0x59ff73-0x157,_0x28e568,_0x28e568-0xb8,_0x59ff73- -0x307);}eventSource[_0x5bba3e(0x202,0x180,0x217,0x20b)+'ener'](eventNames[_0x5bba3e(0x17c,0x1be,0x1b4,0x1d9)+_0x5bba3e(0x1ab,0x1d6,0x13f,0x1d2)+_0x2b2170(0x266,0x2a9,0x276,0x29d)],_0x20e899);function _0x5bba3e(_0x3e5737,_0x55c80c,_0x566fd7,_0x2cc382){return _0x1bee85(_0x3e5737-0x16b,_0x2cc382,_0x566fd7-0x19d,_0x3e5737- -0x395);}_0x4f3ec4(new Error(_0x5bb09c[_0x2b2170(0x2b7,0x2fc,0x2b5,0x2fc)]));},_0x143812);});}function preprocessTagContent(_0x12acee){let _0x43be48=_0x12acee[_0x1d2c23(0x6d,0xed,0xbe,0x4f)](/:/g,':')[_0x1d2c23(0x38,0x92,0xbe,0xed)](/\(/g,'（')[_0x4e4d49(0x2e6,0x303,0x2c8,0x311)](/\)/g,'）')[_0x1d2c23(0xb4,0xd7,0xbe,0xee)](/,/g,',');function _0x4e4d49(_0xb05a03,_0x59fd10,_0x377d66,_0x5594a0){return _0x49bd(_0x377d66-0x6a,_0xb05a03);}function _0x1d2c23(_0x56559f,_0xe2029b,_0x3ed017,_0x14a7f5){return _0x49bd(_0x3ed017- -0x1a0,_0x56559f);}return _0x43be48;}function parseOutfitData(_0x2f4a9d){const _0x314ea3={};_0x314ea3[_0x2cfda2(0x49,0x29,0x57,0xb6)]=_0x2cfda2(0x83,0x87,0x97,0xcb),_0x314ea3[_0x21c0f7(0xf4,0xb8,0x63,0x112)]=_0x2cfda2(0x95,0x35,0xb3,0x9d),_0x314ea3[_0x2cfda2(0x4d,0xbc,0xaa,0x4d)]='upperBodyB'+_0x21c0f7(0x4,0x81,0x49,0xc2);function _0x2cfda2(_0x1bfabe,_0xc819c5,_0x487ab4,_0x23170e){return _0x49bd(_0x487ab4- -0x1be,_0x1bfabe);}_0x314ea3[_0x21c0f7(0x16a,0x14e,0x1af,0xc9)]=_0x21c0f7(0x15e,0x115,0x14e,0x133),_0x314ea3[_0x2cfda2(0xaf,0xb1,0xbe,0xbf)]=_0x2cfda2(0x25,-0x78,-0x39,0x14)+'ck',_0x314ea3[_0x2cfda2(0x12,0x5e,0x18,-0x1f)]=function(_0x3ebea6,_0x2f88a8){return _0x3ebea6===_0x2f88a8;},_0x314ea3[_0x21c0f7(0xf6,0xca,0xfa,0x121)]=_0x21c0f7(0x104,0xfe,0xb8,0x134),_0x314ea3[_0x2cfda2(0x55,0x2e,-0x1,0x5)]=function(_0x528789,_0x4baa69){return _0x528789&&_0x4baa69;},_0x314ea3['lrWpy']=function(_0x1720a2,_0x3441a4){return _0x1720a2!==_0x3441a4;},_0x314ea3['efQjy']=_0x2cfda2(0x4f,0xcd,0xb0,0x5a),_0x314ea3[_0x21c0f7(0x81,0xf0,0x7d,0x124)]=_0x21c0f7(0x112,0xe0,0x10a,0x89)+_0x21c0f7(0x12c,0xe3,0xdd,0x6c)+_0x2cfda2(0x30,-0x5,-0x1c,0x30);const _0x6c3b5a=_0x314ea3,_0x3c634e=_0x2f4a9d[_0x2cfda2(0x38,-0x3a,-0x3c,-0x32)]('\x0a')['map'](_0x4c8ee1=>_0x4c8ee1[_0x2cfda2(0x3,-0x1f,0x60,0xa7)]())[_0x2cfda2(0x77,0x8f,0x93,0x57)](_0x34925e=>_0x34925e),_0x1bbeec={};_0x1bbeec[_0x2cfda2(0x41,0xcc,0x97,0x94)]='',_0x1bbeec[_0x21c0f7(0x97,0xf8,0x14c,0xe3)]='',_0x1bbeec[_0x21c0f7(0x154,0x182,0x205,0x126)]='',_0x1bbeec[_0x2cfda2(0xe2,0x53,0xb8,0x13e)+_0x2cfda2(0x1b,0xe,-0x4e,-0x9f)]='',_0x1bbeec['fullBody']='';function _0x21c0f7(_0x1e6d38,_0x22e330,_0x16b20e,_0x2feeef){return _0x49bd(_0x22e330- -0xef,_0x2feeef);}_0x1bbeec[_0x2cfda2(-0x87,-0xbd,-0x39,-0x41)+'ck']='';const _0x2c26a2=_0x1bbeec,_0x366441={};_0x366441[_0x21c0f7(0xb6,0x91,0x16,0xb1)]=_0x6c3b5a[_0x2cfda2(0x89,0xc6,0x57,0x74)],_0x366441[_0x2cfda2(0x69,0x48,0x5,-0x67)]=_0x21c0f7(0x120,0xf8,0xe7,0x6e),_0x366441['上半身']=_0x6c3b5a[_0x21c0f7(0xe1,0xb8,0x34,0xf3)],_0x366441[_0x21c0f7(0x10c,0xcc,0x14f,0x69)]=_0x6c3b5a[_0x21c0f7(0x11f,0x179,0x11d,0x1bc)],_0x366441[_0x21c0f7(0x177,0x13b,0x127,0x12d)]=_0x21c0f7(0x182,0x115,0x110,0x178),_0x366441[_0x2cfda2(0x27,0x4e,0x42,0x40)]=_0x6c3b5a[_0x2cfda2(0x59,0x46,0x7f,0x6b)],_0x366441[_0x21c0f7(0x8,0x7d,0xdd,0x6b)]=_0x6c3b5a[_0x2cfda2(0xc8,0x121,0xbe,0xae)];const _0x344857=_0x366441;for(const _0x3bcc61 of _0x3c634e){if(_0x6c3b5a[_0x21c0f7(0x77,0xe7,0xe2,0xc5)](_0x2cfda2(0x23,0x6,0x2f,-0x19),_0x6c3b5a[_0x21c0f7(0xbe,0xca,0x111,0x7a)])){const _0x2ef0f0=_0x3bcc61[_0x2cfda2(0xb1,0x1a,0xa4,0x20)](':');if(_0x2ef0f0===-(0xb39+-0x2*0xda6+0x1014))continue;const _0x4e5527=_0x3bcc61['substring'](0x10dc+-0x251*-0xf+-0x4b1*0xb,_0x2ef0f0)[_0x21c0f7(0xc1,0x12f,0x1b8,0x131)](),_0x1b3fb1=_0x3bcc61[_0x21c0f7(0xc9,0xf5,0x147,0x138)](_0x2ef0f0+(-0xb7f+0x142c+-0x8ac))[_0x21c0f7(0x184,0x12f,0x16a,0xfe)]();if(_0x344857[_0x4e5527])_0x2c26a2[_0x344857[_0x4e5527]]=_0x1b3fb1;else _0x6c3b5a[_0x21c0f7(0xc0,0xce,0xe2,0x110)](_0x4e5527,_0x1b3fb1)&&console[_0x21c0f7(0xa4,0xcf,0xf1,0xe7)](_0x21c0f7(0x137,0xe0,0x12d,0xea)+_0x2cfda2(0x6e,0x57,0x14,-0x43)+_0x2cfda2(-0x3c,0x12,-0x2a,0x5a)+'\x22'+_0x4e5527+'\x22');}else _0x4e5ea4[_0x4ae74f]=_0x58cab5[_0x3e3338];}if(!_0x2c26a2[_0x21c0f7(0x123,0x166,0x16e,0x163)])return _0x6c3b5a['lrWpy'](_0x6c3b5a[_0x21c0f7(0x14e,0x16a,0x18f,0x182)],_0x6c3b5a[_0x21c0f7(0x1b2,0x16a,0x167,0x11e)])?_0x190115:null;return console[_0x21c0f7(0x4b,0xcf,0x9c,0x60)](_0x6c3b5a['RAMwh'],_0x2c26a2),_0x2c26a2;}function extractOutfitTags(_0xf14f65){const _0x26bb11={'ZmsrX':function(_0x124e0c,_0x4be150){return _0x124e0c!==_0x4be150;},'GvGUa':function(_0x4b7183,_0xd8530){return _0x4b7183(_0xd8530);}},_0x269547={};function _0x30d711(_0x399316,_0x4f90a4,_0x15377f,_0x10bd55){return _0x49bd(_0x10bd55-0x80,_0x15377f);}_0x269547[_0x30d711(0x327,0x378,0x328,0x2f0)]=[];const _0x4055ee=_0x269547;_0xf14f65=_0xf14f65[_0x30d711(0x2c1,0x2df,0x2e1,0x2de)](/<thinking>[\s\S]*?<\/thinking>/gi,'')[_0x30d711(0x2bd,0x2a5,0x2bf,0x29e)]();const _0x38d7f6=/<服装>([\s\S]*?)<\/服装>/g;function _0x5c381e(_0x3b9b6c,_0x8a461d,_0x54c426,_0x22ed8c){return _0x49bd(_0x8a461d- -0x2d3,_0x3b9b6c);}let _0x3471f1;while(_0x26bb11['ZmsrX'](_0x3471f1=_0x38d7f6['exec'](_0xf14f65),null)){const _0x31e2a5=_0x26bb11['GvGUa'](preprocessTagContent,_0x3471f1[-0x1d20+-0x1ef0+-0x3c11*-0x1]),_0x2c99bd=_0x26bb11[_0x5c381e(-0xde,-0x10d,-0xbf,-0xfa)](parseOutfitData,_0x31e2a5);_0x2c99bd&&_0x4055ee['outfits']['push'](_0x2c99bd);}return _0x4055ee;}function getCurrentOutfitPreset(){const _0x31f609=extension_settings[extensionName],_0xdf4f21=_0x31f609['outfitPres'+_0xc9e365(0xd5,0x95,0x6f,0x62)];if(!_0xdf4f21||!_0x31f609[_0x46102d(0x13c,0xb9,0x10b,0x99)+'ets'][_0xdf4f21])return null;const _0x3a1a7d={};function _0xc9e365(_0x157646,_0x133ba2,_0x2a3a5c,_0x1aeb9e){return _0x49bd(_0x133ba2- -0x1ca,_0x157646);}_0x3a1a7d['id']=_0xdf4f21;function _0x46102d(_0x389441,_0x1b5a41,_0x2eabfc,_0x98e6e5){return _0x49bd(_0x2eabfc- -0x148,_0x1b5a41);}return _0x3a1a7d['data']=_0x31f609[_0xc9e365(0x61,0x89,0x4a,0x50)+'ets'][_0xdf4f21],_0x3a1a7d;}function buildOutfitText(_0x2e8c94){const _0x47b6a2={};_0x47b6a2[_0x391b14(0x29,0x66,0x2,-0x26)]='</服装>';const _0x4c1193=_0x47b6a2,_0x5161ad=_0x2e8c94[_0x41253c(0x44e,0x40d,0x433,0x49a)];let _0x3896ae=_0x41253c(0x462,0x4af,0x417,0x4a2);_0x3896ae+=_0x391b14(0x4b,0x5c,0x9b,0x85)+(_0x5161ad[_0x391b14(0x6d,0x163,0xe2,0x5b)]||'')+'\x0a',_0x3896ae+=_0x41253c(0x4ac,0x435,0x482,0x46a)+(_0x5161ad[_0x41253c(0x452,0x4a1,0x49f,0x4bd)]||'')+'\x0a',_0x3896ae+='上半身:\x20'+(_0x5161ad[_0x41253c(0x4dc,0x46d,0x487,0x4ca)]||'')+'\x0a',_0x3896ae+=_0x41253c(0x45b,0x44e,0x3fc,0x493)+(_0x5161ad[_0x41253c(0x4e1,0x464,0x4c8,0x4bd)+_0x41253c(0x3db,0x390,0x442,0x3e1)]||'')+'\x0a',_0x3896ae+=_0x391b14(0x8b,0xf1,0xf7,0x11d)+(_0x5161ad[_0x41253c(0x46f,0x403,0x465,0x411)]||'')+'\x0a';function _0x41253c(_0x4114ef,_0xc7238e,_0x33ed5b,_0x27bf73){return _0x49bd(_0x4114ef-0x26b,_0x33ed5b);}_0x3896ae+='下半身背面:\x20'+(_0x5161ad[_0x41253c(0x3f0,0x371,0x43d,0x3f5)+'ck']||'')+'\x0a';function _0x391b14(_0x3428b1,_0x323e56,_0x33f958,_0x513445){return _0x49bd(_0x33f958- -0x173,_0x513445);}return _0x3896ae+=_0x4c1193[_0x391b14(-0x53,0x7,0x2,0x2d)],_0x3896ae;}export async function handleOutfitPromptModify(_0xe1af03,_0x4d9d3b=[]){function _0x5d0650(_0x37ab32,_0x4d48e5,_0x444bc3,_0xa7d1c1){return _0x49bd(_0x37ab32-0x182,_0x444bc3);}const _0x15c2bf={'airux':_0x2c4c59(0x282,0x302,0x28c,0x239),'aRTSI':_0x5d0650(0x351,0x2e9,0x380,0x396)+_0x2c4c59(0x22b,0x1d5,0x25c,0x24e)+_0x2c4c59(0x1ea,0x1ad,0x1dd,0x1b7)+_0x5d0650(0x34b,0x3a7,0x350,0x2f8)+_0x5d0650(0x314,0x2f0,0x2e1,0x29c)+_0x2c4c59(0x2b0,0x335,0x232,0x2d8)+'.','zRkTp':_0x2c4c59(0x208,0x277,0x1f0,0x22e),'GaVgW':_0x5d0650(0x351,0x303,0x380,0x30c)+_0x2c4c59(0x22b,0x1c6,0x276,0x236)+_0x5d0650(0x36b,0x3bd,0x3b0,0x363)+'reset:','wXfHz':function(_0x49b077,_0x3345c6){return _0x49b077(_0x3345c6);},'WfAWW':function(_0x59426f,_0x39f251,_0x49f0d6){return _0x59426f(_0x39f251,_0x49f0d6);},'WggPN':'char_modif'+'y','IAVZQ':_0x2c4c59(0x228,0x1ed,0x281,0x278)+_0x5d0650(0x354,0x365,0x2fc,0x3db)+'\x20User\x20requ'+_0x5d0650(0x30e,0x28e,0x2f9,0x390)+_0x2c4c59(0x23b,0x1ef,0x220,0x25c)+'x:','Qjtcx':function(_0x3264c9,_0x18a67b,_0x1ab08d,_0x78b595,_0x50465a){return _0x3264c9(_0x18a67b,_0x1ab08d,_0x78b595,_0x50465a);},'rWgcG':_0x2c4c59(0x2a4,0x294,0x304,0x254),'ykUcb':_0x2c4c59(0x235,0x243,0x1d0,0x257),'geJiJ':_0x2c4c59(0x1f1,0x26d,0x1db,0x26f),'djsPO':_0x5d0650(0x318,0x2a4,0x2a0,0x2b2),'Nlbvp':_0x5d0650(0x39b,0x332,0x355,0x325),'iepHW':_0x2c4c59(0x294,0x2bf,0x26f,0x30e)+'}}','oXSuF':_0x5d0650(0x351,0x30d,0x3cf,0x371)+_0x5d0650(0x354,0x358,0x36d,0x335)+'\x20Final\x20pro'+'mpt:','fKTjp':function(_0x4ded7c,_0x4f7ced){return _0x4ded7c>_0x4f7ced;},'Mvhzu':function(_0x103a8c,_0xada1c2){return _0x103a8c!==_0xada1c2;},'flhkI':_0x2c4c59(0x25c,0x2c9,0x25e,0x221),'EspIK':_0x5d0650(0x3c0,0x366,0x41b,0x39b),'gwgZr':function(_0x289715,_0x21e460){return _0x289715>=_0x21e460;},'lvflC':function(_0x525f43,_0x220e90,_0x4c438a,_0x5b6a56,_0x17a955){return _0x525f43(_0x220e90,_0x4c438a,_0x5b6a56,_0x17a955);},'KtXux':_0x2c4c59(0x27b,0x22e,0x2cb,0x2df),'OvBaH':_0x2c4c59(0x228,0x207,0x299,0x242)+_0x5d0650(0x354,0x334,0x30a,0x382)+_0x5d0650(0x2f4,0x2f4,0x37a,0x2cc),'DWOtK':_0x5d0650(0x35d,0x394,0x341,0x32b)+_0x2c4c59(0x24b,0x1ee,0x1e3,0x21d)+_0x5d0650(0x2fe,0x371,0x32f,0x329),'oRbrt':function(_0x4e8e75,_0x1507b5,_0xa9f2b9){return _0x4e8e75(_0x1507b5,_0xa9f2b9);},'QfJIR':function(_0x41f0a9,_0x14aa89,_0x5c233d){return _0x41f0a9(_0x14aa89,_0x5c233d);},'miQYX':_0x5d0650(0x3b5,0x354,0x3ea,0x358),'pBulX':function(_0x55c423,_0x38d14b){return _0x55c423===_0x38d14b;},'pXSeX':_0x5d0650(0x33c,0x2e4,0x3a2,0x331)+'检测到服装标签','BWSEw':_0x2c4c59(0x228,0x1cc,0x1b4,0x259)+_0x2c4c59(0x22b,0x298,0x289,0x26d)+_0x5d0650(0x3b6,0x43f,0x3be,0x3f0)+'utput\x20for\x20'+'debugging:','ssoVD':_0x5d0650(0x351,0x2e1,0x31f,0x3c4)+_0x5d0650(0x354,0x343,0x37d,0x334)+_0x2c4c59(0x291,0x2da,0x274,0x2cd)+_0x5d0650(0x3c4,0x37c,0x395,0x41f),'XtrXF':_0x2c4c59(0x255,0x244,0x2cf,0x275),'yKzGr':_0x5d0650(0x3b4,0x34a,0x3f3,0x370),'Pijfo':_0x2c4c59(0x2a3,0x2f0,0x277,0x29f),'Olavk':_0x2c4c59(0x228,0x22a,0x296,0x261)+_0x5d0650(0x354,0x2ea,0x327,0x353)+_0x5d0650(0x395,0x407,0x364,0x3c9)};console['log'](_0x15c2bf['aRTSI']);function _0x2c4c59(_0x2c8444,_0x8f0659,_0x8917b0,_0x587458){return _0x49bd(_0x2c8444-0x59,_0x8f0659);}toastr[_0x5d0650(0x3c6,0x3b0,0x44b,0x44b)]('正在处理服装提示词修'+_0x5d0650(0x3e6,0x39a,0x392,0x363));try{const _0x1a3b31=extension_settings[extensionName],_0x44baf1=getCurrentOutfitPreset();if(!_0x44baf1){toastr[_0x2c4c59(0x2c2,0x2e6,0x273,0x2cc)](_0x15c2bf['zRkTp']);return;}console['log'](_0x15c2bf[_0x5d0650(0x309,0x31f,0x300,0x30c)],_0x44baf1['id']);const _0x3bfe40=_0x15c2bf[_0x2c4c59(0x244,0x25c,0x1d5,0x229)](buildOutfitText,_0x44baf1),_0x4a1298=[_0xe1af03||'',_0x3bfe40][_0x5d0650(0x3d3,0x404,0x37b,0x3ee)](Boolean)[_0x2c4c59(0x1d1,0x20e,0x1b4,0x1da)]('\x0a');let _0x297fe5=_0x15c2bf['WfAWW'](buildPromptForRequestType,_0x15c2bf[_0x2c4c59(0x2ba,0x28c,0x321,0x2fc)],_0x4a1298);const _0x10d4c3=new Set(),_0x57cd8e=_0x15c2bf[_0x2c4c59(0x268,0x209,0x2dc,0x2d1)](findMessageIndexWithPlaceholder,_0x297fe5,_0x2c4c59(0x1f1,0x21c,0x1cb,0x19a));console[_0x2c4c59(0x217,0x1fa,0x1ab,0x248)](_0x15c2bf[_0x5d0650(0x3ff,0x379,0x43d,0x3c5)],_0x57cd8e),_0x297fe5=_0x15c2bf[_0x5d0650(0x376,0x302,0x3c0,0x3ea)](replacePlaceholder,_0x297fe5,_0x15c2bf[_0x5d0650(0x3ef,0x403,0x3ca,0x416)],_0x3bfe40,_0x10d4c3),_0x297fe5=replacePlaceholder(_0x297fe5,_0x15c2bf['ykUcb'],_0x3bfe40,_0x10d4c3),_0x297fe5=_0x15c2bf[_0x5d0650(0x376,0x34d,0x383,0x3b5)](replacePlaceholder,_0x297fe5,_0x15c2bf['geJiJ'],_0xe1af03||'',_0x10d4c3),_0x297fe5=replacePlaceholder(_0x297fe5,_0x2c4c59(0x1df,0x249,0x180,0x19e),'',_0x10d4c3),_0x297fe5=_0x15c2bf['Qjtcx'](replacePlaceholder,_0x297fe5,_0x15c2bf['djsPO'],'',_0x10d4c3),_0x297fe5=_0x15c2bf['Qjtcx'](replacePlaceholder,_0x297fe5,_0x15c2bf['Nlbvp'],'',_0x10d4c3),_0x297fe5=replacePlaceholder(_0x297fe5,_0x5d0650(0x360,0x3b1,0x322,0x333),'',_0x10d4c3),_0x297fe5=_0x15c2bf[_0x5d0650(0x376,0x327,0x393,0x375)](replacePlaceholder,_0x297fe5,_0x15c2bf['iepHW'],'',_0x10d4c3),_0x297fe5=replacePlaceholder(_0x297fe5,_0x5d0650(0x2f6,0x2ab,0x304,0x2ad)+'}}','',_0x10d4c3),console['log'](_0x15c2bf[_0x5d0650(0x37d,0x32b,0x3ac,0x30b)],_0x297fe5);let _0x2a419f='';_0x15c2bf['fKTjp'](_0x10d4c3[_0x2c4c59(0x23f,0x284,0x1f7,0x232)],0xeb2+0x2500+-0x33b2)&&(_0x15c2bf[_0x2c4c59(0x263,0x272,0x2b7,0x294)](_0x15c2bf['flhkI'],_0x15c2bf['EspIK'])?_0x2a419f=_0x5d0650(0x3b1,0x36d,0x374,0x396)+_0x2c4c59(0x265,0x1dd,0x2cf,0x1de)+[..._0x10d4c3][_0x5d0650(0x2fa,0x35c,0x370,0x34d)]('、')+'\x0a':_0x4831ca[_0x4e9d39]&&(_0x40132b[_0x5dfb4d]=_0x252bb9[_0x3f295f]));_0x4d9d3b&&_0x15c2bf['fKTjp'](_0x4d9d3b[_0x2c4c59(0x1fa,0x1af,0x280,0x1e7)],0x21e3+-0x248d+0x2aa)&&_0x15c2bf[_0x5d0650(0x349,0x30a,0x345,0x3d2)](_0x57cd8e,0x21e5+0x177*0x5+-0x2938)&&(_0x297fe5=_0x15c2bf[_0x2c4c59(0x1e3,0x214,0x19e,0x183)](attachImagesToMessage,_0x297fe5,_0x57cd8e,_0x4d9d3b,_0x15c2bf[_0x5d0650(0x301,0x305,0x310,0x287)]),console[_0x2c4c59(0x217,0x235,0x24c,0x1bc)](_0x15c2bf[_0x2c4c59(0x20c,0x260,0x288,0x191)],_0x4d9d3b['length'],_0x15c2bf['DWOtK'],_0x57cd8e));_0x15c2bf[_0x2c4c59(0x27a,0x25e,0x2ac,0x214)](updateCombinedPrompt,_0x297fe5,_0x2a419f);const _0x2d47fa={};_0x2d47fa[_0x2c4c59(0x2bf,0x26f,0x334,0x340)]=0x493e0;const _0x57c43b=await _0x15c2bf[_0x2c4c59(0x257,0x21d,0x229,0x295)](LLM_OUTFIT_MODIFY,_0x297fe5,_0x2d47fa);console[_0x2c4c59(0x217,0x1ba,0x1c2,0x2a1)](_0x5d0650(0x351,0x34b,0x31e,0x3d8)+_0x5d0650(0x354,0x318,0x30d,0x37f)+'\x20LLM\x20outpu'+'t:',_0x57c43b);if(!_0x57c43b){toastr['error'](_0x15c2bf[_0x5d0650(0x333,0x2de,0x390,0x30d)]);return;}const _0x5f508c=_0x15c2bf[_0x2c4c59(0x244,0x1ed,0x22c,0x21d)](extractOutfitTags,_0x57c43b);if(_0x15c2bf['pBulX'](_0x5f508c[_0x5d0650(0x3f2,0x458,0x3a5,0x405)][_0x2c4c59(0x1fa,0x1b2,0x1da,0x21f)],-0x218c+0x48c*0x6+0x644)){toastr[_0x5d0650(0x3aa,0x34c,0x37e,0x334)](_0x15c2bf[_0x5d0650(0x317,0x32e,0x2ed,0x2e0)]),console[_0x2c4c59(0x217,0x22f,0x1a4,0x241)](_0x15c2bf[_0x2c4c59(0x2d1,0x324,0x275,0x332)],_0x57c43b);return;}console[_0x2c4c59(0x217,0x1f8,0x249,0x202)](_0x15c2bf['ssoVD'],_0x5f508c);const _0x571ec1=_0x5f508c[_0x2c4c59(0x2c9,0x2c8,0x264,0x299)][0x15*-0x36+0x2042+0x4*-0x6f5];await updateOutfitPresetFromLLM(_0x44baf1['id'],_0x571ec1),toastr[_0x2c4c59(0x1f8,0x212,0x184,0x1b4)](_0x15c2bf['XtrXF']);}catch(_0x386e4c){if(_0x15c2bf[_0x5d0650(0x373,0x320,0x2fd,0x32b)]!==_0x15c2bf[_0x5d0650(0x36a,0x3ac,0x35a,0x3b2)])console[_0x2c4c59(0x2c2,0x316,0x2e8,0x29d)](_0x15c2bf[_0x2c4c59(0x1e4,0x1d1,0x1af,0x1e5)],_0x386e4c),toastr[_0x2c4c59(0x2c2,0x238,0x273,0x348)](_0x2c4c59(0x270,0x2ca,0x2a8,0x262)+'\x20'+_0x386e4c[_0x5d0650(0x33e,0x3a3,0x2b8,0x307)]);else{_0x384ca3[_0x5d0650(0x3c6,0x3d3,0x391,0x3e5)](_0x15c2bf[_0x2c4c59(0x243,0x23e,0x25b,0x1ed)]);return;}}}async function updateOutfitPresetFromLLM(_0x4cedd0,_0x46ff4d){const _0x55cb58={'TOQwf':_0x4c93c5(-0x12d,-0xcb,-0x1a9,-0x109),'uFFlC':_0x4c93c5(-0x11c,-0x147,-0x100,-0x1a1),'bkpdM':_0x483dc3(0x233,0x1db,0x1ba,0x26e),'eSTSb':'上半身','wxxvB':_0x483dc3(0x29a,0x30c,0x2ef,0x2ba),'taCmc':_0x4c93c5(-0x130,-0x112,-0xf6,-0x17f),'PunwQ':function(_0x337b64,_0x51dcac){return _0x337b64!==_0x51dcac;},'sLrDc':function(_0x5609b4,_0x17e5d2){return _0x5609b4!==_0x17e5d2;},'zwGNH':_0x4c93c5(-0x81,-0x66,-0xb1,-0x83),'SGzib':_0x483dc3(0x272,0x2db,0x2d3,0x22d),'ZYrCj':_0x4c93c5(-0x25,-0x15,0x40,-0x9e),'UFBKT':'...','xIcyW':function(_0x38fe99,_0x5a4a15){return _0x38fe99>_0x5a4a15;},'tsJWR':function(_0x1dafa4,_0x40e703){return _0x1dafa4===_0x40e703;},'jOgdD':function(_0x19c457,_0x3e061b){return _0x19c457(_0x3e061b);},'PplJT':function(_0x1d9553){return _0x1d9553();},'zbSxH':_0x483dc3(0x2bf,0x268,0x26a,0x334)+'-tab-chara'+'cter','jlwvR':function(_0x52343f,_0x1f7af7){return _0x52343f===_0x1f7af7;},'QYCZc':_0x483dc3(0x227,0x260,0x1ed,0x2ad)},_0x569bdc=extension_settings[extensionName],_0x56cb84=_0x569bdc[_0x483dc3(0x2c3,0x244,0x27e,0x2b4)+_0x483dc3(0x2a9,0x31a,0x328,0x30d)][_0x4cedd0];if(!_0x56cb84){toastr['error'](_0x55cb58['TOQwf']);return;}let _0x244b09=_0x483dc3(0x2ac,0x2df,0x2f5,0x2cc)+_0x4cedd0+_0x483dc3(0x2cd,0x251,0x2a1,0x2a6);const _0x54673e={};_0x54673e[_0x483dc3(0x2c5,0x278,0x253,0x29e)]=_0x55cb58[_0x483dc3(0x20c,0x1a6,0x273,0x1da)],_0x54673e[_0x4c93c5(-0xb5,-0xf5,-0xe2,-0x3a)]=_0x55cb58[_0x483dc3(0x29d,0x251,0x221,0x225)],_0x54673e[_0x483dc3(0x2e1,0x334,0x347,0x2fa)]=_0x55cb58[_0x4c93c5(-0xd7,-0x89,-0x150,-0x115)],_0x54673e[_0x483dc3(0x2e6,0x310,0x333,0x2ee)+_0x4c93c5(-0x12c,-0x1a9,-0x123,-0x133)]=_0x483dc3(0x22b,0x1d3,0x226,0x24c),_0x54673e[_0x4c93c5(-0x98,-0x72,-0x119,-0x88)]=_0x55cb58[_0x4c93c5(-0xe7,-0x15b,-0x102,-0x102)],_0x54673e[_0x483dc3(0x1f5,0x22c,0x18b,0x272)+'ck']=_0x55cb58[_0x483dc3(0x21c,0x23c,0x285,0x1de)];const _0x1b5522=_0x54673e;let _0x474f41=0x2111*0x1+0x5*-0x11b+-0x1b8a;for(const _0x4c131c in _0x1b5522){if(_0x46ff4d[_0x4c131c]&&_0x55cb58[_0x483dc3(0x248,0x1e6,0x237,0x275)](_0x46ff4d[_0x4c131c],_0x56cb84[_0x4c131c])){if(_0x55cb58[_0x4c93c5(-0x39,0x1d,0x11,-0x4b)](_0x55cb58['zwGNH'],_0x55cb58['SGzib'])){const _0x356150=_0x56cb84[_0x4c131c]||_0x55cb58[_0x483dc3(0x213,0x296,0x1f6,0x208)],_0x56f132=_0x46ff4d[_0x4c131c];_0x244b09+='•\x20'+_0x1b5522[_0x4c131c]+':\x0a',_0x244b09+=_0x4c93c5(-0x70,-0xe4,-0xe2,0x1)+_0x356150[_0x4c93c5(-0xb8,-0xbb,-0x78,-0x8f)](-0x2*0xfe5+-0x1c9*0xd+0xf7*0x39,0x5*0x1b6+0x439*-0x3+0x1*0x44f)+(_0x356150[_0x483dc3(0x211,0x24c,0x238,0x1c8)]>0x15b+-0xce0+-0xbb7*-0x1?_0x55cb58[_0x483dc3(0x275,0x216,0x2cb,0x2e8)]:'')+'\x0a',_0x244b09+=_0x4c93c5(-0xa6,-0x101,-0xc9,-0x10a)+_0x56f132[_0x4c93c5(-0xb8,-0xe9,-0x13b,-0x5d)](-0x2441+-0xe9b*0x2+0x4177,0x513+0x1069*-0x1+0x9*0x148)+(_0x55cb58[_0x483dc3(0x215,0x1a8,0x22c,0x274)](_0x56f132[_0x4c93c5(-0xfb,-0xdf,-0x167,-0x10e)],-0x2*-0x1042+0x1*-0x226f+0x21d)?_0x55cb58['UFBKT']:'')+'\x0a\x0a',_0x474f41++;}else{_0x2493aa['error'](_0x4c93c5(-0x12d,-0xc9,-0x106,-0xfc));return;}}}if(_0x55cb58[_0x483dc3(0x2cb,0x302,0x245,0x2ad)](_0x474f41,0x10ab+0x458+-0xa3*0x21)){toastr[_0x4c93c5(-0x58,-0x8f,0x2b,-0x17)]('没有检测到需要更新的'+'内容');return;}function _0x483dc3(_0x3b5618,_0x1163f2,_0x52d399,_0x3b248a){return _0x49bd(_0x3b5618-0x70,_0x3b248a);}_0x244b09+='共\x20'+_0x474f41+'\x20项更改,是否应用?';const _0x1d5370=await _0x55cb58['jOgdD'](stylishConfirm,_0x244b09);if(!_0x1d5370){toastr[_0x483dc3(0x2b4,0x308,0x243,0x25e)]('已取消更新');return;}for(const _0x1f0722 in _0x1b5522){_0x46ff4d[_0x1f0722]&&(_0x56cb84[_0x1f0722]=_0x46ff4d[_0x1f0722]);}_0x55cb58[_0x483dc3(0x234,0x1fe,0x236,0x286)](saveSettingsDebounced);function _0x4c93c5(_0x1f6143,_0x398ea7,_0x48e899,_0x404482){return _0x49bd(_0x1f6143- -0x29c,_0x398ea7);}const _0x4b4374=$(_0x55cb58[_0x483dc3(0x268,0x214,0x2d8,0x287)]);if(_0x4b4374[_0x483dc3(0x211,0x19f,0x19e,0x254)]){if(_0x55cb58['jlwvR'](_0x55cb58['QYCZc'],_0x55cb58['QYCZc']))_0x55cb58['PplJT'](loadOutfitPreset);else return null;}_0x55cb58[_0x483dc3(0x1de,0x164,0x172,0x24c)](updateOutfitFormFields,_0x46ff4d),console[_0x4c93c5(-0xde,-0x67,-0xbe,-0x13f)]('[outfitPro'+_0x483dc3(0x242,0x21d,0x245,0x23f)+_0x483dc3(0x2b6,0x24e,0x26e,0x261)+_0x4cedd0+'\x22');}function updateOutfitFormFields(_0x543ef8){function _0x4156f8(_0xc1eb0e,_0x56a25d,_0x220827,_0x3a125b){return _0x49bd(_0x220827-0x197,_0xc1eb0e);}function _0x108819(_0x2b786f,_0x28079a,_0x32dfcc,_0x69c37e){return _0x49bd(_0x69c37e-0xf1,_0x32dfcc);}const _0x55221e={'KFpjJ':_0x4156f8(0x2d5,0x2d3,0x340,0x3c9)+'内容','GmzjH':_0x108819(0x2d9,0x204,0x2f6,0x27a),'RnWAD':function(_0x19aa60,_0x1cd1c5){return _0x19aa60(_0x1cd1c5);},'mjrkJ':_0x108819(0x2fb,0x380,0x313,0x346),'JNoXo':_0x108819(0x2d0,0x328,0x30b,0x2d8),'EoApj':_0x4156f8(0x381,0x43b,0x408,0x3cb),'DObYp':_0x4156f8(0x2b9,0x37b,0x31c,0x36a)+'ck'},_0x440ffe=[_0x55221e[_0x4156f8(0x3e5,0x447,0x3e7,0x3de)],_0x55221e[_0x108819(0x2fd,0x3bc,0x2f7,0x363)],_0x55221e[_0x4156f8(0x412,0x3d1,0x39f,0x325)],_0x4156f8(0x439,0x445,0x40d,0x439)+'ack',_0x108819(0x27e,0x29a,0x347,0x2f5),_0x55221e[_0x4156f8(0x378,0x42c,0x3c8,0x393)]];_0x440ffe['forEach'](_0x7bdbc9=>{function _0x13870a(_0x3a3614,_0x3194ae,_0x1e6b12,_0xfa8892){return _0x108819(_0x3a3614-0xce,_0x3194ae-0x62,_0x3a3614,_0x3194ae-0x28a);}function _0x286676(_0x4d2fa7,_0x1efce2,_0x40b254,_0x362222){return _0x108819(_0x4d2fa7-0xf2,_0x1efce2-0x27,_0x362222,_0x40b254- -0x22f);}if(_0x55221e[_0x286676(0x48,0xc1,0x5c,0xb9)]!==_0x13870a(0x4b6,0x504,0x55f,0x589)){_0x31102e[_0x286676(0xa3,0xca,0x106,0xa7)](_0x55221e[_0x286676(0x160,0x118,0x13d,0x1b1)]);return;}else{if(_0x543ef8[_0x7bdbc9]){const _0x3611ad=document[_0x286676(0x143,0xe3,0xbc,0x107)+_0x286676(0xde,0x100,0xcf,0x11c)](_0x13870a(0x4f1,0x4f1,0x4e8,0x4f1)+_0x7bdbc9);_0x3611ad&&(_0x3611ad[_0x13870a(0x498,0x516,0x520,0x590)]=_0x543ef8[_0x7bdbc9],_0x55221e[_0x286676(0xa0,0xb7,0x59,0xb2)]($,_0x3611ad)[_0x286676(0xa1,0x36,0x8d,0x8)](_0x286676(0x106,0x103,0xd4,0x7f)));}}});}