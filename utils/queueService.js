(function(_0x3c0549,_0x7445c3){const _0x22b969=_0x3c0549();function _0xdb6a48(_0x41c6b7,_0xec09af,_0x51def0,_0x382c86){return _0x4f73(_0xec09af-0x269,_0x41c6b7);}function _0x1d2508(_0x252241,_0x4e2b3a,_0x5b3dc7,_0x42ca4a){return _0x4f73(_0x5b3dc7- -0x7b,_0x42ca4a);}while(!![]){try{const _0x31f5fb=parseInt(_0x1d2508(0x186,0x1d2,0x191,0x19f))/(0x633+0x1c49+0x61*-0x5b)*(-parseInt(_0xdb6a48(0x435,0x467,0x4b3,0x42b))/(0x167c+-0x170a+0x90))+parseInt(_0xdb6a48(0x4ef,0x4ae,0x4ab,0x4c2))/(0x1*0x197b+-0x203d+0x6c5)*(-parseInt(_0x1d2508(0x189,0x1c2,0x189,0x14e))/(0xe*0x1cf+-0x251a+0xbcc))+parseInt(_0xdb6a48(0x4a6,0x4b6,0x4fb,0x4b1))/(0x1e11+0xfbc+-0x2dc8)+-parseInt(_0x1d2508(0x195,0x124,0x169,0x14d))/(0x2b*-0xaa+-0x181+0x1e15)+-parseInt(_0xdb6a48(0x4ad,0x488,0x444,0x466))/(-0xd3f+0x1257+0x1*-0x511)+-parseInt(_0xdb6a48(0x438,0x47a,0x48a,0x42e))/(0xe80+0xe99+-0x7*0x427)+parseInt(_0x1d2508(0x18d,0x189,0x173,0x12e))/(-0x8*-0x40d+-0x1381*0x2+-0x1*-0x6a3)*(parseInt(_0x1d2508(0x12c,0x102,0x14c,0x139))/(-0x15e6+0x1843*-0x1+0x2e33));if(_0x31f5fb===_0x7445c3)break;else _0x22b969['push'](_0x22b969['shift']());}catch(_0x51f74d){_0x22b969['push'](_0x22b969['shift']());}}}(_0x3db5,-0x60246+0x1f*-0x6b63+0x19bb6a));function _0x3db5(){const _0x194cb9=['6yo95lIn5y+V55sO77Ym5l2/55sO566a5y2via','C2HVD1f1zxvLrW','Aw5MBW','yxbWBgLJyxrPBW','BwvZC2fNzq','s1r0ANK','CuXxqLO','B2zdtwm','txnHr3y','zwv0Aw5N','Bg9JA190B2TLBG','ugzbDNG','vKXRq2i','mZaZodzYDxrxthO','Dgv4Da','5lQr56UV6zIF5yIx5PYn5yQH5zYW5z2a5PYQ6ywn','5yQG5ywL6zIF5yIx5AsX6lsLoIa','BuzOA1e','5Qoa5P+L6zIF5yIx54Q25Ocb5AsX6lsLoIa','mte3otzZEuTIuLa','5yIxlI4U','B1bvEum','C3vIC3rYAw5N','CfblC0q','uLrXENy','BLb2wNe','Bg9JA1rVA2vU','mtrOCg1LD3K','C3vJy2vZCW','EhbWCKO','uuLOz0e','zuXcC2S','mZKZmJqWzxHvEeLY','swq6ia','CMvLDgLUzW','w+MyN+wiL10G6l2U6k+I5AsX6lsLia','77Ym5PEG6zYa562j5B6f','wen5zvq','6zszoIa','EMfoq3C','wwzpC2y','5yMn5PA555sO5OI3oIaI','BI9QC29U','w+MyN+wiL10G6yca5yE66zIF5yIx5AsX','rvnUteC','5O6s6zIF5lIToIdNRkWG','ndeYmdqZofrHtLLUuG','BwfW','t1HOCNq','u0HbmJu2','ywjZ','wM9VzhC','CxvLDwvFC2L6zq','l2nVBxbSzxrL','C3rYAw5NAwz5','t2vQu3a','w+MyN+wiL10G5BEY6yca5yE66zIF5yIx','DxnLCL9Pza','rwL4sMC','BMn2yMK','DhfbEuO','Bw1bEKu','zNvUy3rPB24','qwfcz2m','ienYExb0B0Ptia','z1bkqKS','y3vYCMvUDf9NCG','zgfwu2q','D2fYBG','BvnuCvO','zxLFAgfZAd0','BgjWvLa','C2vHCMnO','yvPVD1G','BY5ZDwj0BguG5zkm','zw5J','l215lxr1CM4/AW','EhbXtMm','zgLNzxn0','Cvfjt3e','CMfUzg9T','w+MyN+wiL10G5Q2J5zYO6yca5yE66zIF','AgfZAa','yxbWBhK','nZK1DujQqwzL','DfjUzLe','wfzRtu4','lI4Ukq','rKjVEe8','w+MyN+wiL10G5Q2J5zYO6yEk5Ps+6zsb','DgLTzu91Da','6zIF5yIx5PYn5yQH5lIn5y+V55sOoIa','mtG5ndi2mffrzhzIAG','Dg9tDhjPBMC','y29UC3rYDwn0BW','Dw5KzwzPBMvK','qw9XvLm','w+MyN+wiL10G562j5B6f5lITlI4','ue9tva','6lsLoIa','l2PVAw4TCxvLDq','CMfwzgm','CM1bqLe','C3rHDhvZ','ihWG5yMn5PA555sO5OI3oIaI','q29UDgvUDc1uEq','yw1ctvy','AwnLxsbJCNLWDa','77Ym5l2n572UoIa','C3vIC3rY','lIdKVy3NVA46ia','mte5nZi0otb4tgnHAwi','CfbZBMu','zw5JB2rL','AxnFBxLFDhvYBG','kcGOlISPkYKRkq','w+MyN+wiL10G55U05O6L6i635B6x6zsb','6i635B6x6zsb77Ym5BYa5AEl55sF5OIq','y2HHDhu4x3vPza','C1jfvfO','wwvitw8','A2v5x2HHC2G','vxHfyvm','BvrhCgS','v2HSzKi','w3f1zxvLu2vYDG','sKDtu3q','ic0G','w+MyN+wiL10G6yEk5Ps+6zsb5PE25yE6','w+MyN+wiL10G5lU75yQH5BEY6kkR5y+w','C3vIDgXL','reviBwi','wfLuCu8','CMfUzg9Tvvvjra','zMTdzuW','ANnVBG','5lU75yQH5BEY5y+w5RAi','DgfZA19Pza','y2XVDwrrDwv1zq','C2DUrfa','ndiWnJa5mffVC3Dpyq','qLLoq3e','EwXdwNK','AvnqD1q','sKvVrxm','5BYa5AEl55sF5OIq','Cg9ZAxrPB24','w+MyN+wiL10G6yEk5Ps+6zsb5AsX6lsL','BM93','w+MyN+wiL10G6yca5yE66zIF5yIx5PE2','mtH1qKPAzxK','y2HHCKnVzgvbDa','u0Hblti1nG'];_0x3db5=function(){return _0x194cb9;};return _0x3db5();}const _0x440f1b=(function(){const _0x3f4294={};_0x3f4294[_0x5e4d4d(0x3c,0x1,0x7,0x23)]=_0x5e4d4d(0x6a,0x34,0x67,0x48);function _0x5e4d4d(_0x5bd0c7,_0x447b83,_0x106456,_0x2d6599){return _0x4f73(_0x5bd0c7- -0x1c6,_0x106456);}_0x3f4294[_0x5e4d4d(0x42,0x12,0x77,-0x7)]=_0x5e4d4d(0x66,0x8a,0xa1,0x23),_0x3f4294['pKLDZ']=_0xac088f(0x34,0x9,0x34,0x31);function _0xac088f(_0x206fc1,_0x4865b1,_0x4e39cf,_0x3cb511){return _0x4f73(_0x3cb511- -0x1dd,_0x206fc1);}const _0x4a042f=_0x3f4294;let _0x25e0fa=!![];return function(_0x221bc7,_0x5bc935){if(_0x4a042f['pKLDZ']!==_0x4a042f['pKLDZ']){const _0x4d5519=_0x401a3e?function(){if(_0xd5c23a){const _0x27073b=_0x4e1926['apply'](_0x9a90ab,arguments);return _0x380816=null,_0x27073b;}}:function(){};return _0x2c4c27=![],_0x4d5519;}else{const _0x4187ba=_0x25e0fa?function(){function _0x22ba66(_0x23ae4c,_0x540ba4,_0x24f0fb,_0x479695){return _0x4f73(_0x540ba4- -0x2f6,_0x479695);}function _0x19dbf8(_0x3d03d6,_0x8c6923,_0x107a5,_0x294cdf){return _0x4f73(_0x8c6923- -0x141,_0x107a5);}if(_0x4a042f[_0x22ba66(-0xbe,-0xf4,-0x12b,-0x10d)]!==_0x4a042f[_0x19dbf8(0xd0,0xc7,0xc7,0xeb)]){if(_0x5bc935){const _0x401adc=_0x5bc935['apply'](_0x221bc7,arguments);return _0x5bc935=null,_0x401adc;}}else return _0x20d5f8[_0x1f969a]['cloudQueue'+'Url']||'';}:function(){};return _0x25e0fa=![],_0x4187ba;}};}()),_0x1557d1=_0x440f1b(this,function(){const _0xfe1715={};_0xfe1715[_0x558264(0x5a,0xaf,0xc8,0x96)]=_0x558264(0x55,0xc0,0x51,0x7a)+'+$';function _0x558264(_0x4f9f54,_0xb6e38c,_0x5cd90e,_0x1f3b6b){return _0x4f73(_0x1f3b6b- -0x151,_0xb6e38c);}const _0x1969b5=_0xfe1715;function _0x872b53(_0x170f6c,_0x1f9ca7,_0x299087,_0x34505e){return _0x4f73(_0x1f9ca7-0x38d,_0x299087);}return _0x1557d1['toString']()['search'](_0x1969b5[_0x558264(0xc3,0xaa,0x77,0x96)])[_0x872b53(0x5b7,0x5db,0x5fe,0x5df)]()[_0x558264(0x144,0xe1,0xb2,0xfe)+'r'](_0x1557d1)['search'](_0x1969b5[_0x558264(0xb4,0xd4,0x9a,0x96)]);});_0x1557d1();import{extension_settings}from'../../../../extensions.js';import{extensionName}from'./config.js';import{addLog}from'./utils.js';const POLL_INTERVAL=0x789+-0x12b*-0xa+-0xf4f*0x1,MAX_POLL_RETRIES=-0xde8+0x6f*0x4a+-0x122b;export function getUserId(){const _0xbcfbf={};_0xbcfbf[_0x16dfc6(0x3a7,0x3c4,0x38d,0x3a7)]=_0x16dfc6(0x307,0x352,0x34d,0x36a);const _0x472c65=_0xbcfbf;function _0x192cbf(_0x220b5a,_0x493602,_0x58f5c1,_0x26a387){return _0x4f73(_0x26a387-0x27b,_0x220b5a);}function _0x16dfc6(_0x4244c6,_0x25a444,_0x117095,_0x1233c6){return _0x4f73(_0x25a444-0x184,_0x117095);}let _0x43694e=localStorage['getItem'](_0x472c65['qQIOq']);return!_0x43694e&&(_0x43694e=crypto[_0x16dfc6(0x379,0x361,0x374,0x322)]?crypto[_0x16dfc6(0x321,0x361,0x340,0x31e)]():Date[_0x16dfc6(0x34e,0x370,0x358,0x37a)]()[_0x16dfc6(0x41d,0x3d2,0x3ac,0x3c3)](-0x1d12+0xcdf+0x1057)+Math[_0x192cbf(0x4ab,0x4b1,0x4d1,0x4bc)]()[_0x192cbf(0x4c2,0x495,0x4c8,0x4c9)](-0x1*-0xcfb+0x5ed*-0x6+0x16b7)[_0x192cbf(0x414,0x443,0x43f,0x440)](-0x25ac+0x160+0x244e),localStorage['setItem'](_0x472c65[_0x16dfc6(0x3f4,0x3c4,0x3a4,0x405)],_0x43694e)),_0x43694e;}export async function hashKey(_0x2b17c5){function _0x251003(_0xdc0e6f,_0xc9dae7,_0x417924,_0x2dd512){return _0x4f73(_0xc9dae7-0x245,_0x417924);}function _0x18f853(_0xd56691,_0x5558f4,_0x36d64e,_0x41e1a5){return _0x4f73(_0x41e1a5-0x385,_0x5558f4);}const _0x562a1c={'vSWmM':function(_0x2069ac,_0x332cde){return _0x2069ac(_0x332cde);},'lsONs':_0x18f853(0x53e,0x569,0x577,0x552),'gPJBK':function(_0x2ba23e,_0x1c5ba2){return _0x2ba23e===_0x1c5ba2;},'sOhwc':_0x251003(0x3f2,0x435,0x433,0x428),'AoqVS':_0x251003(0x474,0x441,0x428,0x447),'sgnDP':_0x18f853(0x5cb,0x594,0x5a1,0x5d5),'zaNCw':_0x18f853(0x513,0x579,0x5a0,0x55a)+_0x18f853(0x56c,0x559,0x531,0x548)+_0x251003(0x43a,0x480,0x43b,0x4b3)+_0x18f853(0x5ac,0x58a,0x5fc,0x5b6)+_0x251003(0x471,0x436,0x43b,0x47c)+_0x18f853(0x5b1,0x5a2,0x600,0x5c8),'aZowX':function(_0x246e39,_0x241e92){return _0x246e39<_0x241e92;},'Zoodw':function(_0x3acac2,_0x3a07e3){return _0x3acac2+_0x3a07e3;},'FBoxO':function(_0x36331e,_0x24804a){return _0x36331e-_0x24804a;},'bVKWk':function(_0x1f0f2e,_0x3a6374){return _0x1f0f2e&_0x3a6374;}};if(crypto&&crypto['subtle']&&_0x562a1c[_0x18f853(0x5d8,0x5b7,0x5d1,0x5b7)](typeof crypto['subtle'][_0x251003(0x4b9,0x484,0x480,0x45e)],_0x18f853(0x594,0x5f1,0x5bb,0x5b4))){const _0x4a9b16=new TextEncoder(),_0x33bfac=_0x4a9b16[_0x18f853(0x554,0x556,0x511,0x54e)](_0x2b17c5),_0x41e109=await crypto[_0x251003(0x45c,0x41f,0x406,0x419)][_0x251003(0x44a,0x484,0x4c8,0x48e)](_0x562a1c['sOhwc'],_0x33bfac),_0x3328b1=Array['from'](new Uint8Array(_0x41e109));return _0x3328b1[_0x18f853(0x5ad,0x5ae,0x570,0x5a5)](_0x3f581a=>_0x3f581a[_0x18f853(0x5d3,0x59a,0x593,0x5d3)](0x37*0x85+0x398*-0xa+0x76d)['padStart'](0xaf9*0x2+0x12b7+0x1*-0x28a7,'0'))['join']('');}else{if(_0x562a1c[_0x18f853(0x56b,0x5a1,0x5d6,0x5b7)](_0x562a1c[_0x18f853(0x552,0x514,0x568,0x53d)],_0x562a1c[_0x18f853(0x4f6,0x566,0x588,0x53d)])){if(typeof CryptoJS!==_0x562a1c[_0x18f853(0x595,0x5af,0x56f,0x568)]&&CryptoJS['SHA256']){const _0x218183=CryptoJS[_0x18f853(0x5be,0x56a,0x5a9,0x5a7)](_0x2b17c5);return _0x218183[_0x251003(0x4b0,0x493,0x45e,0x4b1)](CryptoJS[_0x251003(0x4c9,0x481,0x4b7,0x439)]['Hex']);}else{console[_0x18f853(0x5b3,0x5c8,0x5ca,0x5ba)](_0x562a1c[_0x251003(0x46f,0x45d,0x47d,0x4a1)]);let _0x306942=0x23b+-0x1*-0x232a+-0xc77*0x3;for(let _0x153f40=0x6b1*0x2+0xb*0x97+-0x13df*0x1;_0x562a1c[_0x18f853(0x5dd,0x58c,0x577,0x5bf)](_0x153f40,_0x2b17c5['length']);_0x153f40++){if(_0x251003(0x3ca,0x40d,0x43a,0x42e)===_0x18f853(0x570,0x586,0x58d,0x54d)){const _0x30f96d=_0x2b17c5[_0x251003(0x403,0x434,0x3f5,0x447)](_0x153f40);_0x306942=_0x562a1c[_0x251003(0x4a6,0x469,0x45c,0x4ab)](_0x562a1c[_0x18f853(0x5dd,0x60d,0x61a,0x5ce)](_0x306942<<-0x21fc+0x305*-0x4+0x2e15,_0x306942),_0x30f96d),_0x306942=_0x562a1c['bVKWk'](_0x306942,_0x306942);}else{_0x562a1c['vSWmM'](_0x18bdf1,_0x251003(0x3ce,0x411,0x3d0,0x3ed)+_0x251003(0x455,0x45a,0x436,0x474)),_0x42ed72[_0x251003(0x465,0x452,0x41b,0x447)](_0x562a1c['lsONs'],'队列');const _0x43638e={};return _0x43638e[_0x18f853(0x5d8,0x5be,0x556,0x590)]=_0x306b1c[_0x251003(0x441,0x440,0x47f,0x461)],_0x43638e;}}return Math[_0x18f853(0x58c,0x5d9,0x588,0x5a8)](_0x306942)[_0x18f853(0x5ca,0x5fb,0x5ca,0x5d3)](0x26a3+0x9*0xe9+-0x2ec4)['padStart'](-0x16ce+0x15c6+0x22*0x8,'0');}}else{const _0x41a0e5=_0x4f166a[_0x18f853(0x5bd,0x612,0x59a,0x5c9)](_0x557a3f,arguments);return _0x4bf6b5=null,_0x41a0e5;}}}function _0x4f73(_0x495420,_0xf7d06a){_0x495420=_0x495420-(-0x3cb*0x1+0xe11+0xdb*-0xa);const _0x2c6d5b=_0x3db5();let _0x7541ef=_0x2c6d5b[_0x495420];if(_0x4f73['nUVarZ']===undefined){var _0x2b5b36=function(_0x1b3cd3){const _0x3d2cd5='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x39d232='',_0x4ddbb6='',_0x20d5f8=_0x39d232+_0x2b5b36;for(let _0x1f969a=-0xe9d+0x10a*0x17+-0x949,_0x4d4870,_0x5523ae,_0xb3f14e=0xaa*-0xc+-0x22de+0x2ad6;_0x5523ae=_0x1b3cd3['charAt'](_0xb3f14e++);~_0x5523ae&&(_0x4d4870=_0x1f969a%(0xd73+0x114a+-0x1eb9)?_0x4d4870*(-0x3*0xed+0xb4*-0x28+0x1f27)+_0x5523ae:_0x5523ae,_0x1f969a++%(-0xaf*-0xa+0x22a8+0x1*-0x297a))?_0x39d232+=_0x20d5f8['charCodeAt'](_0xb3f14e+(-0x2693+-0x4*-0x2f5+0x1ac9))-(-0x1401+0x9d2*0x1+0xa39*0x1)!==0x172b+0x3*0x685+-0x2aba?String['fromCharCode'](-0x1637+-0xbab*0x2+-0x1*-0x2e8c&_0x4d4870>>(-(0x2004+0x91*0x3+-0x1*0x21b5)*_0x1f969a&-0xa9b+-0xa3b+0x14dc)):_0x1f969a:0x777+-0x1954+0x10d*0x11){_0x5523ae=_0x3d2cd5['indexOf'](_0x5523ae);}for(let _0xfd5ba0=-0xa75+-0x1412+-0x209*-0xf,_0x39e358=_0x39d232['length'];_0xfd5ba0<_0x39e358;_0xfd5ba0++){_0x4ddbb6+='%'+('00'+_0x39d232['charCodeAt'](_0xfd5ba0)['toString'](-0x6a2+-0x365*-0x6+0x8c*-0x19))['slice'](-(-0x1a76+-0x1*0x21a+0x1c92));}return decodeURIComponent(_0x4ddbb6);};_0x4f73['eCvcSB']=_0x2b5b36,_0x4f73['CTZfDm']={},_0x4f73['nUVarZ']=!![];}const _0x1f2ac8=_0x2c6d5b[-0xa30+0x1ce6+-0x12b6],_0x42c6e7=_0x495420+_0x1f2ac8,_0x2798a5=_0x4f73['CTZfDm'][_0x42c6e7];if(!_0x2798a5){const _0x562b35=function(_0x1411cb){this['FkzqxN']=_0x1411cb,this['ZOTBSC']=[0x1a11+0xa98+0x198*-0x17,0x1*0x1d7d+-0x1*0x154e+-0x82f,0x170+0x653+-0x7c3],this['xvlwhL']=function(){return'newState';},this['PPzISe']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['YzHoiJ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x562b35['prototype']['jdRsQR']=function(){const _0x33b5a5=new RegExp(this['PPzISe']+this['YzHoiJ']),_0x304d02=_0x33b5a5['test'](this['xvlwhL']['toString']())?--this['ZOTBSC'][-0x7d*-0x9+-0x1*0x1843+-0x1*-0x13df]:--this['ZOTBSC'][0xa21+-0x2015+0x15f4];return this['MkSkgu'](_0x304d02);},_0x562b35['prototype']['MkSkgu']=function(_0x4f2ac6){if(!Boolean(~_0x4f2ac6))return _0x4f2ac6;return this['wqQrfD'](this['FkzqxN']);},_0x562b35['prototype']['wqQrfD']=function(_0xf06964){for(let _0x207d25=-0xbcd+0x2472+-0x18a5,_0x27c3d8=this['ZOTBSC']['length'];_0x207d25<_0x27c3d8;_0x207d25++){this['ZOTBSC']['push'](Math['round'](Math['random']())),_0x27c3d8=this['ZOTBSC']['length'];}return _0xf06964(this['ZOTBSC'][-0xa3+0x934*0x1+0x1*-0x891]);},new _0x562b35(_0x4f73)['jdRsQR'](),_0x7541ef=_0x4f73['eCvcSB'](_0x7541ef),_0x4f73['CTZfDm'][_0x42c6e7]=_0x7541ef;}else _0x7541ef=_0x2798a5;return _0x7541ef;}function getQueueBaseUrl(){function _0x1933af(_0x19dfb1,_0x58729d,_0x6dc928,_0x110bb0){return _0x4f73(_0x6dc928-0x2aa,_0x19dfb1);}return extension_settings[extensionName][_0x1933af(0x4a3,0x45f,0x48c,0x4b5)+'Url']||'';}export async function joinQueue(_0x4530ad,_0x2b7e14,_0x53b0c1){const _0x478b9c={'XCyeT':function(_0x405d50){return _0x405d50();},'JGSSt':_0x3c2f0e(0x33b,0x30d,0x2f3,0x318)+'置','raVdc':function(_0x477a08,_0x1221d5){return _0x477a08(_0x1221d5);},'qLWBZ':function(_0x23fcc9,_0x127d35,_0x4502ab){return _0x23fcc9(_0x127d35,_0x4502ab);},'eLBsk':function(_0x529e46,_0x1c0f7e){return _0x529e46||_0x1c0f7e;},'OejSp':function(_0x47b8fb,_0x463fc9){return _0x47b8fb+_0x463fc9;}},_0x1966d6=_0x478b9c[_0x4e7708(-0x167,-0x13d,-0x140,-0x160)](getQueueBaseUrl);if(!_0x1966d6)throw new Error(_0x478b9c[_0x3c2f0e(0x2a7,0x2e3,0x29d,0x317)]);_0x478b9c[_0x4e7708(-0x15d,-0x171,-0x199,-0x1e5)](addLog,'[队列]\x20正在加入队'+'列...\x20(task'+_0x3c2f0e(0x356,0x31f,0x341,0x342)+_0x53b0c1[_0x4e7708(-0x119,-0x10d,-0x14f,-0x177)](0x250d+0x2b6+0xd*-0x30f,0xcf5*-0x3+0x1*0x1445+0x9f*0x1e)+_0x3c2f0e(0x36d,0x355,0x371,0x348));const _0x405e0a=(extension_settings[extensionName][_0x4e7708(-0x193,-0x128,-0x174,-0x18b)+'Greeting']||'')[_0x4e7708(-0x195,-0x105,-0x14f,-0x138)](-0x5b4*0x2+0x1*0x165+0xa03,-0x5*0x1a3+0xf96+-0x758),_0x46f2df={};_0x46f2df[_0x4e7708(-0x185,-0x1b9,-0x195,-0x1df)+'pe']=_0x4e7708(-0x172,-0x15a,-0x162,-0x1a1)+_0x4e7708(-0x14e,-0x16c,-0x13b,-0x119);function _0x4e7708(_0x335c2a,_0x3030e4,_0x14eaad,_0x3bde42){return _0x4f73(_0x14eaad- -0x356,_0x3030e4);}const _0x233fb8=await _0x478b9c[_0x3c2f0e(0x343,0x304,0x339,0x30e)](fetch,_0x1966d6+(_0x3c2f0e(0x2cb,0x2c9,0x2cc,0x2a7)+'e'),{'method':_0x4e7708(-0x178,-0x17f,-0x19c,-0x15a),'headers':_0x46f2df,'body':JSON['stringify']({'key_hash':_0x4530ad,'user_id':_0x2b7e14,'task_id':_0x53b0c1,'greeting':_0x478b9c[_0x4e7708(-0x11a,-0x190,-0x146,-0x175)](_0x405e0a,null)})});if(!_0x233fb8['ok']){const _0x31d2f8=await _0x233fb8[_0x3c2f0e(0x2c1,0x30c,0x30e,0x2ef)]();throw new Error(_0x3c2f0e(0x2f0,0x30e,0x34b,0x35a)+_0x233fb8['status']+_0x3c2f0e(0x31a,0x2e4,0x321,0x309)+_0x31d2f8);}function _0x3c2f0e(_0x169e0c,_0x195acd,_0x33a6ef,_0x2d3f0f){return _0x4f73(_0x195acd-0x10d,_0x2d3f0f);}const _0x38fd78=await _0x233fb8[_0x3c2f0e(0x338,0x2ec,0x2f5,0x317)]();return _0x478b9c['raVdc'](addLog,'[队列]\x20已加入队列'+_0x4e7708(-0x1aa,-0x189,-0x192,-0x198)+_0x478b9c[_0x4e7708(-0x15b,-0x11e,-0x12e,-0xfa)](_0x38fd78['position'],-0x266a+0x94c+0x7*0x429)+'/'+(_0x38fd78[_0x4e7708(-0x12e,-0x160,-0x131,-0x10f)]||'?')),_0x38fd78;}export async function checkMyTurn(_0x3b40cc,_0x6b5636,_0x1c6a06){const _0x2c683a={'OXhrt':function(_0x1e6821){return _0x1e6821();},'DEHmb':_0x1e033a(0x50a,0x547,0x551,0x4fe)+'置','DkgPI':function(_0x38c603,_0x1ee410){return _0x38c603(_0x1ee410);},'MsaGv':function(_0x3ce15a,_0x124148){return _0x3ce15a(_0x124148);},'nTRkm':function(_0x27e0b9,_0x2a8947){return _0x27e0b9(_0x2a8947);}},_0x2f7876=_0x2c683a[_0x1e033a(0x52b,0x55f,0x56a,0x551)](getQueueBaseUrl);if(!_0x2f7876)throw new Error(_0x2c683a[_0x1e033a(0x4e5,0x52a,0x519,0x521)]);function _0x1e033a(_0x2179be,_0x2c2d6f,_0x590cf7,_0x110b53){return _0x4f73(_0x2179be-0x30a,_0x590cf7);}const _0xb6264c=await _0x2c683a['DkgPI'](fetch,_0x2f7876+(_0x1e033a(0x547,0x591,0x57f,0x573)+_0x57ad5b(0x250,0x220,0x20b,0x221))+_0x2c683a[_0x57ad5b(0x224,0x1e2,0x21f,0x1a6)](encodeURIComponent,_0x3b40cc)+'&user_id='+_0x2c683a[_0x57ad5b(0x208,0x1e2,0x1b8,0x1f6)](encodeURIComponent,_0x6b5636)+'&task_id='+_0x2c683a['nTRkm'](encodeURIComponent,_0x1c6a06));if(!_0xb6264c['ok']){const _0x15c916=await _0xb6264c['text']();throw new Error(_0x1e033a(0x50d,0x54f,0x4f8,0x553)+_0xb6264c[_0x1e033a(0x4c9,0x4ea,0x4df,0x511)]+_0x57ad5b(0x1c9,0x1c0,0x177,0x173)+_0x15c916);}function _0x57ad5b(_0x1bfbb7,_0x2406ef,_0x553790,_0x6554a1){return _0x4f73(_0x2406ef- -0x17,_0x6554a1);}return await _0xb6264c[_0x57ad5b(0x1ee,0x1c8,0x1df,0x187)]();}export async function completeQueue(_0x2b0f40,_0x52150e,_0x369189,_0x5cd2ed){const _0x44bab6={'feKTG':_0x46e8c4(-0x74,-0x6a,-0xab,-0x34)+'+$','BYNCq':function(_0x572f23){return _0x572f23();},'mTGpk':function(_0x5172a2,_0x4c965e){return _0x5172a2(_0x4c965e);},'VLkCb':function(_0x3e7683,_0x31f9c1,_0x4c160a){return _0x3e7683(_0x31f9c1,_0x4c160a);},'zJtKu':function(_0x3c4e75,_0x5bb463){return _0x3c4e75(_0x5bb463);},'ylCZy':function(_0x32b6d3,_0x1e9ed4){return _0x32b6d3===_0x1e9ed4;},'frowM':_0x46e8c4(0xe,-0x7,-0x3f,0x1),'amBMV':function(_0x44d408,_0x3a85be){return _0x44d408(_0x3a85be);}},_0x1444b0=_0x44bab6[_0x46e8c4(-0xa,-0x50,-0x7a,-0xa)](getQueueBaseUrl);if(!_0x1444b0)return;_0x44bab6[_0xdb4b7d(-0x141,-0x109,-0x18a,-0x129)](addLog,_0x46e8c4(0x57,0x15,0x21,-0x19)+'...');function _0x46e8c4(_0x3e81a1,_0x16a36e,_0x4d59d6,_0xc16465){return _0x4f73(_0x16a36e- -0x235,_0x4d59d6);}function _0xdb4b7d(_0xd4d32,_0x1a5a98,_0x21b35e,_0x59d909){return _0x4f73(_0xd4d32- -0x314,_0x1a5a98);}try{const _0x3a5194={};_0x3a5194['Content-Ty'+'pe']='applicatio'+_0x46e8c4(-0x35,-0x1a,-0x59,-0x13);const _0x37acf5={};_0x37acf5[_0x46e8c4(-0x3e,-0x64,-0xad,-0x56)]=_0x2b0f40,_0x37acf5[_0x46e8c4(-0xb,-0xb,-0x2a,-0x6)]=_0x52150e,_0x37acf5[_0x46e8c4(-0x3c,-0x54,-0x85,-0x47)]=_0x369189,_0x37acf5[_0xdb4b7d(-0x119,-0xf2,-0x135,-0xce)]=_0x5cd2ed;const _0x35e17f=await _0x44bab6[_0x46e8c4(-0x66,-0x38,-0x37,-0x18)](fetch,_0x1444b0+_0xdb4b7d(-0xee,-0xef,-0xa8,-0x124),{'method':_0x46e8c4(-0x3a,-0x7b,-0xbc,-0x64),'headers':_0x3a5194,'body':JSON[_0xdb4b7d(-0xed,-0xe8,-0xe7,-0xdf)](_0x37acf5)});if(_0x35e17f['ok'])_0x44bab6[_0x46e8c4(-0x9d,-0x62,-0x7f,-0x5a)](addLog,'[队列]\x20锁已释放');else{const _0xc9cc67=await _0x35e17f[_0xdb4b7d(-0x115,-0x138,-0xea,-0x142)]();_0x44bab6['zJtKu'](addLog,_0xdb4b7d(-0x129,-0xfb,-0x140,-0x107)+':\x20'+_0xc9cc67);}}catch(_0xc99f47){if(_0x44bab6[_0xdb4b7d(-0x12e,-0xe8,-0x142,-0x158)](_0x44bab6['frowM'],'mmAzE'))_0x44bab6[_0xdb4b7d(-0x152,-0x12c,-0x165,-0x128)](addLog,_0xdb4b7d(-0x13c,-0x12f,-0x15c,-0xf8)+_0x46e8c4(-0x52,-0x1e,0x0,0x1)+_0xc99f47[_0xdb4b7d(-0x11f,-0xd4,-0x11f,-0x15a)]);else return _0x3ce5b8[_0x46e8c4(0x2b,0x19,-0x10,-0x30)]()[_0x46e8c4(-0x14,0x4,0x15,-0x25)](HRLscg['feKTG'])[_0xdb4b7d(-0xc6,-0xf3,-0x8c,-0x9c)]()[_0xdb4b7d(-0xc5,-0xa2,-0xe1,-0xc7)+'r'](_0x2801c4)['search'](_0xdb4b7d(-0x149,-0x110,-0x10e,-0x135)+'+$');}}export async function leaveQueue(_0x2a5dd2,_0x4e66e3,_0x28590f,_0x294492=null){function _0x506654(_0xdba24b,_0x3272d3,_0x21bfc6,_0x4b27d7){return _0x4f73(_0x21bfc6- -0x139,_0xdba24b);}const _0xdfd80d={'rmABQ':function(_0x104faa,_0x2f80a0){return _0x104faa(_0x2f80a0);},'tRnfQ':_0x506654(0xad,0x73,0x81,0x6d),'QIhgA':_0x4ecc22(0x53a,0x52c,0x50e,0x533)+'n/json'};function _0x4ecc22(_0x1b75e2,_0x3b2aee,_0x2d7c86,_0x5a36ba){return _0x4f73(_0x1b75e2-0x346,_0x3b2aee);}const _0x3a9a2d=getQueueBaseUrl();if(!_0x3a9a2d)return;_0xdfd80d[_0x506654(0x74,0xc7,0x85,0x41)](addLog,_0x4ecc22(0x588,0x590,0x573,0x5b8)+_0x4ecc22(0x54b,0x557,0x512,0x542));try{const _0x2c3e40={};_0x2c3e40['key_hash']=_0x2a5dd2,_0x2c3e40[_0x4ecc22(0x570,0x55b,0x536,0x594)]=_0x4e66e3,_0x2c3e40['task_id']=_0x28590f,_0x2c3e40[_0x4ecc22(0x541,0x566,0x574,0x4fc)]=_0x294492;const _0x43cf97=await fetch(_0x3a9a2d+('/leave-que'+'ue'),{'method':_0xdfd80d[_0x506654(0x125,0x11f,0x10d,0x153)],'headers':{'Content-Type':_0xdfd80d[_0x4ecc22(0x555,0x55c,0x533,0x534)]},'body':JSON[_0x506654(0xc9,0xfa,0xee,0x13b)](_0x2c3e40)});if(_0x43cf97['ok'])_0xdfd80d[_0x4ecc22(0x504,0x54b,0x4c3,0x4c3)](addLog,_0x506654(0x133,0xb1,0xf0,0x12d));else{const _0x326b26=await _0x43cf97[_0x506654(0x9c,0xe5,0xc6,0xfb)]();addLog(_0x506654(0xb9,0xfb,0xe3,0xa7)+_0x4ecc22(0x501,0x51d,0x522,0x52c)+_0x326b26);}}catch(_0x496934){_0xdfd80d[_0x506654(0xbd,0x86,0x85,0x49)](addLog,_0x506654(0xf2,0x85,0xb4,0x70)+'出错:\x20'+_0x496934[_0x506654(0xd6,0xe6,0xbc,0x106)]);}}export async function waitForTurn(_0x542cd9,_0x1fdf7a,_0x3206fb,_0x1745f5){const _0x1b3e42={'KTtjy':function(_0x163332,_0x3db88b){return _0x163332+_0x3db88b;},'kxgPB':function(_0x3c49bb,_0x53368c){return _0x3c49bb-_0x53368c;},'nPvZq':function(_0x353b39,_0x3590b2){return _0x353b39<<_0x3590b2;},'xpqNc':function(_0x352599,_0x5a0fc8){return _0x352599&_0x5a0fc8;},'tqAyJ':function(_0xdde925,_0x55208e){return _0xdde925(_0x55208e);},'sRETZ':function(_0x304529,_0x1ca432){return _0x304529===_0x1ca432;},'daVSd':function(_0x2ca8bb,_0x21004f){return _0x2ca8bb!==_0x21004f;},'oPUyC':_0x508046(0x483,0x474,0x40b,0x449),'EixJg':function(_0x4a7249,_0x2877a1){return _0x4a7249(_0x2877a1);},'XVkMN':function(_0x61794b,_0x416bac,_0x12f0a6,_0x1bd2f0,_0x26801e){return _0x61794b(_0x416bac,_0x12f0a6,_0x1bd2f0,_0x26801e);},'YeHMo':_0x3bd927(0xbe,0x7c,0x7e,0xa4),'ESnLG':_0x3bd927(0x116,0x136,0xeb,0x10e),'quhwF':_0x3bd927(0xd6,0xfb,0x92,0xfb),'XYTqO':function(_0x4d1c9c,_0x18cf96,_0x4420cf,_0x53448a){return _0x4d1c9c(_0x18cf96,_0x4420cf,_0x53448a);},'fTQSk':function(_0x3be38c,_0x34bfbe){return _0x3be38c(_0x34bfbe);},'NCBwF':'轮到你了，开始生成！','UxEaS':function(_0x4dbcf0,_0xfcd10e){return _0x4dbcf0===_0xfcd10e;},'JEoEs':'true','mSTqZ':function(_0xd71ec,_0x1f9186){return _0xd71ec(_0x1f9186);},'HbRKr':function(_0x475f95,_0x7e51a7){return _0x475f95>=_0x7e51a7;},'fkCeL':function(_0x151e2a,_0x202c59){return _0x151e2a!==_0x202c59;},'RTqzv':_0x508046(0x3d2,0x3b8,0x3b9,0x404),'jWfSj':'FoiMw'},_0x5ddf29=await joinQueue(_0x542cd9,_0x1fdf7a,_0x3206fb);if(_0x1b3e42['sRETZ'](_0x5ddf29['position'],0x5ac+0xbaa*0x1+0x8ab*-0x2)&&_0x5ddf29[_0x508046(0x46a,0x3fb,0x3e6,0x42b)]){_0x1b3e42[_0x508046(0x420,0x49f,0x45a,0x45d)](addLog,_0x3bd927(0xaa,0xe2,0xcc,0xb3)+_0x3bd927(0xf3,0xac,0x13f,0xd1)),toastr['success']('获得锁，开始生成','队列');const _0x49105f={};return _0x49105f[_0x3bd927(0xe9,0xc4,0x9c,0xd3)]=_0x5ddf29[_0x3bd927(0xd9,0xd6,0xc0,0x11d)],_0x49105f;}const _0x1721f1={};_0x1721f1[_0x3bd927(0x129,0x16a,0x14e,0xea)]=0x1388,toastr['info'](_0x508046(0x43e,0x41d,0x484,0x44e)+(_0x5ddf29[_0x3bd927(0xc8,0x8d,0x81,0xb2)]+(0x21a6+0x67*0x19+-0x2bb4))+'/'+(_0x5ddf29['queue_size']||'?')+'\x20位','队列',_0x1721f1);function _0x508046(_0x29096f,_0x2799b6,_0xf894a0,_0x3aa49b){return _0x4f73(_0x3aa49b-0x230,_0xf894a0);}let _0x196058=0x16d2+-0xfc*-0x5+0x1bbe*-0x1,_0x11de71=![];function _0x3bd927(_0x241a72,_0xabee30,_0x2977f1,_0x242519){return _0x4f73(_0x241a72- -0x122,_0xabee30);}let _0x24ccb7=_0x5ddf29[_0x508046(0x3da,0x43c,0x445,0x41a)];while(!![]){if(_0x1b3e42[_0x3bd927(0x112,0x157,0xc6,0xdf)](_0x3bd927(0xf7,0xe1,0xe1,0xac),_0x1b3e42[_0x508046(0x402,0x427,0x45a,0x436)])){const _0x41942c=_0xf7d06a[_0x3bd927(0xcd,0xc9,0x85,0x9d)](_0x2c6d5b);_0x7541ef=_0x1b3e42['KTtjy'](_0x1b3e42['kxgPB'](_0x1b3e42[_0x3bd927(0xe8,0x9e,0x11a,0x12d)](_0x2b5b36,0x5*0x55d+0x194*0x6+-0x2444*0x1),_0x1f2ac8),_0x41942c),_0x42c6e7=_0x1b3e42[_0x508046(0x49a,0x447,0x45f,0x46e)](_0x2798a5,_0x1b3cd3);}else{if(_0x1745f5&&!_0x1745f5['isTaskInQu'+'eue'](_0x3206fb)){_0x1b3e42[_0x3bd927(0x109,0x121,0xf6,0x123)](addLog,_0x3bd927(0xb7,0x102,0xd5,0x71)+'消，退出队列'),await _0x1b3e42[_0x3bd927(0x125,0x13c,0x165,0x129)](leaveQueue,_0x542cd9,_0x1fdf7a,_0x3206fb,null);throw new Error(_0x1b3e42[_0x508046(0x3bc,0x3c4,0x436,0x400)]);}await _0x1b3e42[_0x508046(0x46c,0x43c,0x457,0x45d)](sleep,POLL_INTERVAL);try{if(_0x1b3e42[_0x3bd927(0xad,0xc2,0xc2,0xe5)](_0x1b3e42[_0x3bd927(0xfb,0x11b,0x13b,0x100)],_0x1b3e42['quhwF']))_0x1b3e42['tqAyJ'](_0x207d25,_0x508046(0x43b,0x43c,0x45f,0x459));else{const _0x22187c=await _0x1b3e42[_0x508046(0x407,0x3c0,0x3ce,0x40c)](checkMyTurn,_0x542cd9,_0x1fdf7a,_0x3206fb);_0x196058=-0x1*-0x17c7+-0x1072*-0x1+-0x2839;if(_0x22187c[_0x508046(0x400,0x41b,0x3e6,0x3fa)]&&_0x22187c[_0x3bd927(0xd9,0x8c,0x97,0x11b)]){_0x1b3e42['fTQSk'](addLog,'[队列]\x20轮到我了，'+_0x508046(0x43a,0x434,0x3e5,0x419)),toastr[_0x508046(0x44c,0x44b,0x412,0x43d)](_0x1b3e42['NCBwF'],'队列');const _0x4fad73={};return _0x4fad73[_0x508046(0x45e,0x450,0x466,0x43b)]=_0x22187c[_0x3bd927(0xd9,0xa8,0x9a,0xb7)],_0x4fad73;}let _0xbbaa87=_0x3bd927(0x97,0x53,0xaf,0x97)+_0x3bd927(0xa4,0xd1,0x9c,0x96)+_0x1b3e42[_0x508046(0x465,0x3dd,0x426,0x426)](_0x22187c[_0x508046(0x3f2,0x3fb,0x3d6,0x41a)],0x1403+0x181c+-0x1*0x2c1e)+'/'+(_0x22187c[_0x3bd927(0x103,0x123,0xc5,0x10b)]||'?');if(_0x1b3e42[_0x3bd927(0x112,0x10b,0xc9,0x10e)](_0x22187c[_0x3bd927(0xc8,0x8d,0xc6,0xbd)],_0x24ccb7)){const _0x1610aa={};_0x1610aa[_0x3bd927(0x129,0xf0,0xe7,0x163)]=0xbb8,toastr[_0x3bd927(0xd1,0xdf,0xcb,0xba)](_0x508046(0x454,0x476,0x462,0x44e)+_0x1b3e42[_0x3bd927(0xd4,0xdf,0x95,0xc8)](_0x22187c[_0x508046(0x3ed,0x43c,0x3ff,0x41a)],-0x1*0x143b+-0x1a7d*0x1+0x2eb9*0x1)+'/'+(_0x22187c[_0x508046(0x49f,0x453,0x47f,0x455)]||'?')+'\x20位','队列',_0x1610aa),_0x24ccb7=_0x22187c[_0x508046(0x458,0x3d6,0x3e5,0x41a)];}if(!_0x11de71&&_0x22187c[_0x3bd927(0x111,0xe2,0xc6,0x12b)+'eeting']&&_0x1b3e42[_0x3bd927(0xb0,0x82,0xdd,0x7b)](extension_settings[extensionName][_0x3bd927(0xd0,0xcb,0xf8,0xcd)+_0x508046(0x423,0x467,0x446,0x443)],_0x1b3e42[_0x3bd927(0xc6,0xb9,0xa7,0xbc)])){_0xbbaa87+='\x20|\x20前方用户:\x20\x22'+_0x22187c['current_gr'+'eeting']+'\x22';const _0x5b5568={};_0x5b5568[_0x3bd927(0x129,0x102,0xee,0xe4)]=0x1388,toastr[_0x508046(0x3fa,0x431,0x406,0x423)](_0x3bd927(0xf8,0xd5,0x103,0xcd)+_0x22187c[_0x508046(0x42d,0x4ac,0x47a,0x463)+_0x3bd927(0xd8,0xda,0x102,0xf4)]+'\x22','队列',_0x5b5568),_0x11de71=!![];}addLog(_0xbbaa87);}}catch(_0x2cfba8){_0x196058++,_0x1b3e42[_0x3bd927(0x114,0x105,0x13f,0xef)](addLog,_0x508046(0x474,0x474,0x431,0x444)+'('+_0x196058+'/'+MAX_POLL_RETRIES+'):\x20'+_0x2cfba8['message']);if(_0x1b3e42['HbRKr'](_0x196058,MAX_POLL_RETRIES)){if(_0x1b3e42[_0x3bd927(0xbc,0x80,0x8d,0x91)](_0x1b3e42[_0x3bd927(0xe7,0xd5,0xac,0x12e)],_0x1b3e42['jWfSj'])){toastr['error'](_0x3bd927(0x12a,0x169,0x165,0x15e)+_0x2cfba8['message'],'队列');throw new Error('队列服务不可用:\x20'+_0x2cfba8[_0x3bd927(0xd3,0xfa,0xac,0xdd)]);}else{_0x47ffe8+=_0x508046(0x3a4,0x430,0x404,0x3f0)+_0xfa4250[_0x3bd927(0x111,0xf9,0xea,0xce)+'eeting']+'\x22';const _0x2a2038={};_0x2a2038[_0x3bd927(0x129,0x132,0x10b,0xe4)]=0x1388,_0x27faa7[_0x3bd927(0xd1,0x10e,0xf4,0xdc)](_0x3bd927(0xf8,0x105,0x128,0xc0)+_0x5c9149['current_gr'+_0x508046(0x41d,0x3fe,0x429,0x42a)]+'\x22','队列',_0x2a2038),_0x2837c3=!![];}}}}}}function sleep(_0x25809b){return new Promise(_0x4dec10=>setTimeout(_0x4dec10,_0x25809b));}