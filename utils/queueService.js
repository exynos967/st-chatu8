(function(_0x1bfe4b,_0x124f56){function _0x4fae55(_0x1eed49,_0x33af51,_0x13fb5d,_0x2bb1f7){return _0x533c(_0x2bb1f7-0x2b4,_0x1eed49);}const _0x272f6b=_0x1bfe4b();function _0x4bb690(_0x2743af,_0x11b3a2,_0x5ddaeb,_0x11d65b){return _0x533c(_0x11b3a2-0x8,_0x11d65b);}while(!![]){try{const _0x27c14a=-parseInt(_0x4bb690(0x1de,0x20a,0x221,0x215))/(0x11d5*0x1+0xc*-0x1+-0x4*0x472)*(-parseInt(_0x4fae55(0x4a2,0x4a3,0x4b6,0x47a))/(-0x23dc+-0x2139+-0x301*-0x17))+parseInt(_0x4bb690(0x23f,0x23a,0x26c,0x268))/(-0x1af3*-0x1+0x67c+0xb24*-0x3)*(-parseInt(_0x4fae55(0x4ba,0x440,0x460,0x488))/(-0x2f9*0x2+0x24fd*-0x1+0x2af3))+-parseInt(_0x4fae55(0x4cb,0x484,0x49e,0x4b9))/(0x79c*0x5+-0x8d3+-0x1d34)+-parseInt(_0x4bb690(0x1ee,0x215,0x222,0x222))/(0xdf0+0x1990+0x1f*-0x146)+parseInt(_0x4fae55(0x4aa,0x4f3,0x532,0x4ef))/(-0x1*-0x1b+0x1*0x46c+0x3*-0x180)+-parseInt(_0x4fae55(0x4ce,0x49d,0x4b8,0x4ae))/(0x2*-0xb1a+-0x30a*0x1+-0x1946*-0x1)+parseInt(_0x4bb690(0x212,0x1f9,0x20b,0x1da))/(-0x2c2+-0x28d+-0x26*-0x24)*(parseInt(_0x4fae55(0x4f1,0x4fc,0x511,0x4d2))/(-0x3b*-0x21+0x2*-0x67e+0x56b));if(_0x27c14a===_0x124f56)break;else _0x272f6b['push'](_0x272f6b['shift']());}catch(_0x2ca59c){_0x272f6b['push'](_0x272f6b['shift']());}}}(_0x3e01,-0x43c0*-0xe+-0x57fd4*0x2+0x13221d));const _0x4672de=(function(){const _0x2bab44={};_0x2bab44[_0x130c34(0x10a,0x153,0x14d,0x157)]=_0x130c34(0x125,0x122,0x107,0x113);const _0x26e869=_0x2bab44;function _0x1021b0(_0x91ccc3,_0x508d7a,_0x39c279,_0x383225){return _0x533c(_0x383225-0x304,_0x508d7a);}function _0x130c34(_0x104c8c,_0x564c39,_0x2639b8,_0x13e48b){return _0x533c(_0x2639b8- -0xd2,_0x564c39);}let _0x15ba0b=!![];return function(_0x21cdb9,_0x5c485f){function _0x522e84(_0x4cba1a,_0x58d475,_0x1c3093,_0x29d368){return _0x130c34(_0x4cba1a-0x73,_0x58d475,_0x4cba1a- -0x11b,_0x29d368-0x1be);}function _0x219ec6(_0xbb222e,_0x4f490c,_0x105ca8,_0x26101a){return _0x130c34(_0xbb222e-0x31,_0xbb222e,_0x105ca8-0x49c,_0x26101a-0x117);}if(_0x26e869[_0x522e84(0x32,0x58,0xb,0x50)]!==_0x26e869['xanca']){if(_0x31e463){const _0x20dd6b=_0xfa61f[_0x219ec6(0x554,0x578,0x582,0x5a7)](_0x1a0b38,arguments);return _0x215d48=null,_0x20dd6b;}}else{const _0x21a3d6=_0x15ba0b?function(){function _0x148977(_0x162758,_0x1d2aa4,_0x2fe025,_0x19357b){return _0x219ec6(_0x1d2aa4,_0x1d2aa4-0x1d7,_0x2fe025- -0x5e,_0x19357b-0x40);}if(_0x5c485f){const _0x473537=_0x5c485f[_0x148977(0x568,0x569,0x524,0x539)](_0x21cdb9,arguments);return _0x5c485f=null,_0x473537;}}:function(){};return _0x15ba0b=![],_0x21a3d6;}};}()),_0x527147=_0x4672de(this,function(){const _0x34e6eb={};_0x34e6eb[_0x2539db(0x390,0x3ab,0x3ef,0x395)]=_0x2539db(0x37c,0x3b9,0x379,0x395)+'+$';function _0x2539db(_0x4c8ee1,_0x5d8f08,_0x454fb1,_0x3b3eec){return _0x533c(_0x5d8f08-0x1cf,_0x3b3eec);}const _0x564eb5=_0x34e6eb;function _0x3c92c4(_0xbec72a,_0x392194,_0x507011,_0x2a53f2){return _0x533c(_0x507011- -0x208,_0x2a53f2);}return _0x527147[_0x2539db(0x3c7,0x3da,0x3d1,0x3b9)]()['search'](_0x564eb5[_0x3c92c4(-0x1b,-0x6d,-0x2c,0x18)])[_0x3c92c4(-0x3e,0x1,0x3,-0x1d)]()['constructo'+'r'](_0x527147)[_0x2539db(0x3da,0x3f8,0x3f4,0x428)](_0x564eb5[_0x3c92c4(-0x25,-0x22,-0x2c,-0x43)]);});_0x527147();function _0x533c(_0x5bac43,_0x140041){_0x5bac43=_0x5bac43-(0x118+0x2b*0x61+0x29d*-0x6);const _0x42ed77=_0x3e01();let _0x50d57e=_0x42ed77[_0x5bac43];if(_0x533c['QZjpvt']===undefined){var _0x2e45b3=function(_0x2ffa79){const _0x80db63='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1fba24='',_0x31015b='',_0x37a923=_0x1fba24+_0x2e45b3;for(let _0x5ae6f1=-0x1e*-0x4c+0x1*0x1fd+-0xae5,_0x356c82,_0x73783a,_0x1b7fc7=-0x15b4+0x136d+-0x1*-0x247;_0x73783a=_0x2ffa79['charAt'](_0x1b7fc7++);~_0x73783a&&(_0x356c82=_0x5ae6f1%(0x1fd*-0x11+0x30a*-0x3+-0x17b*-0x1d)?_0x356c82*(-0x17*-0x19+0x2124+-0x101*0x23)+_0x73783a:_0x73783a,_0x5ae6f1++%(0x1ebe+-0x1663*-0x1+-0x351d))?_0x1fba24+=_0x37a923['charCodeAt'](_0x1b7fc7+(-0xea4+-0x2645+-0x5*-0xa97))-(-0x983*-0x1+-0x87d+-0xfc)!==0x143*0x19+-0x47c+-0x1b0f?String['fromCharCode'](0x24ae+0xf7f*0x2+-0x521*0xd&_0x356c82>>(-(-0x24ba+-0x6*-0x7f+0x21c2)*_0x5ae6f1&-0x26a2+-0x1015+0x207*0x1b)):_0x5ae6f1:-0x1*0x230b+0x15ff+0xd0c){_0x73783a=_0x80db63['indexOf'](_0x73783a);}for(let _0x33aa90=-0x2260+0xc14*-0x1+0xf7c*0x3,_0x4ec860=_0x1fba24['length'];_0x33aa90<_0x4ec860;_0x33aa90++){_0x31015b+='%'+('00'+_0x1fba24['charCodeAt'](_0x33aa90)['toString'](0x1b4*-0x4+0x12a6+-0xbc6))['slice'](-(-0x332*-0x1+-0x38e+0x1*0x5e));}return decodeURIComponent(_0x31015b);};_0x533c['hBMgRa']=_0x2e45b3,_0x533c['gMuwcx']={},_0x533c['QZjpvt']=!![];}const _0x78ee10=_0x42ed77[-0x2bb*-0xd+-0x2*-0x1159+0x1*-0x4631],_0x17ec76=_0x5bac43+_0x78ee10,_0x309a5=_0x533c['gMuwcx'][_0x17ec76];if(!_0x309a5){const _0x3a1d18=function(_0x5cc04e){this['ArGJYX']=_0x5cc04e,this['eTVliO']=[-0x17*-0x21+-0xc72*0x2+0x2*0xaf7,0xef+0x1*0x163b+0x251*-0xa,-0x45d*-0x4+0x1025+-0x2199],this['bIYoZR']=function(){return'newState';},this['wKLjaw']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['sPQnnc']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3a1d18['prototype']['CDGEMO']=function(){const _0x5719b4=new RegExp(this['wKLjaw']+this['sPQnnc']),_0x5abcc4=_0x5719b4['test'](this['bIYoZR']['toString']())?--this['eTVliO'][0x3*0xe5+0xd*0x2db+-0x27cd]:--this['eTVliO'][-0x593+0x280+0x313];return this['TSBHWd'](_0x5abcc4);},_0x3a1d18['prototype']['TSBHWd']=function(_0x52466c){if(!Boolean(~_0x52466c))return _0x52466c;return this['mjhGkV'](this['ArGJYX']);},_0x3a1d18['prototype']['mjhGkV']=function(_0x2d9638){for(let _0x56e4fe=-0x57*0x6+0x8e6+-0x6dc,_0x4d3be2=this['eTVliO']['length'];_0x56e4fe<_0x4d3be2;_0x56e4fe++){this['eTVliO']['push'](Math['round'](Math['random']())),_0x4d3be2=this['eTVliO']['length'];}return _0x2d9638(this['eTVliO'][0x29*-0xcd+-0x1f97+-0x24d*-0x1c]);},new _0x3a1d18(_0x533c)['CDGEMO'](),_0x50d57e=_0x533c['hBMgRa'](_0x50d57e),_0x533c['gMuwcx'][_0x17ec76]=_0x50d57e;}else _0x50d57e=_0x309a5;return _0x50d57e;}import{extension_settings}from'../../../../extensions.js';import{extensionName}from'./config.js';function _0x3e01(){const _0x823099=['sNjJB2e','weTkveq','AxnuyxnRsw5rDq','z2v0sxrLBq','6zIF5yIx5PYn5yQH5lIn5y+V55sOoIa','z1H4DuS','77Ym5PEG6zYa562j5B6f','ntmZntbuEuHXtKq','EgfUy2e','77Ym5l2n572UoIa','zezqtxa','C3vIC3rYAw5N','y2HHDhu4x3vPza','C3rYAw5NAwz5','l2PVAw4TCxvLDq','ywnbtxu','C3vJy2vZCW','A0zfBgK','C2vHCMnO','ANnVBG','z1Lzr1u','C2v0sxrLBq','zNjVBq','C3rHDhvZ','CxvLDwvFC2L6zq','DwLivwm','ANH5vva','mZi5mZqZCvPLrerL','jNrHC2TFAwq9','C2HVD1f1zxvLrW','lI4Ukq','5O6s6zIF5lIToIdNRkWG','C1PVqLq','zfncsMy','z3jLzxrPBMC','5yIxlI4U','mJKXnZm5n1fREe9Xvq','lI4U','w+MyN+wiL10G5lU75yQH5BEY6kkR5y+w','vxjS','sfjmv1e','swq6ia','BgPzCLi','uKLyDey','B2vtuw4','r0PLy2W','t3zVvfe','5Qoa5P+L6zIF5yIx54Q25Ocb5AsX6lsLoIa','zxvL','yxbWBhK','sLDOswO','qvbHBeC','CvDjEgO','Bg9JA1rVA2vU','z09mweq','t3f4Bva','y3vYCMvUDf9NCG','DgfZA19Pza','uuDNAhq','CMfUzg9Tvvvjra','D1jXyMi','Cg9ZAxrPB24','AfHSCLK','nLP4Be9ira','rNLHAhG','ufj6C2S','zxLFAgfZAd0','zwv0Aw5N','w+MyN+wiL10G6zsb5BEY6yEk5Ps+','r2TkANK','uwzwAuy','ic0G','BwvZC2fNzq','rvvZuLe','5yMn5PA555sO5OI3oIaI','vvnZteG','wuH3z0q','mZz1v3bwEhC','w+MyN+wiL10G6l2U6k+I5AsX6lsLia','BKj1wLi','l2nVBxbSzxrL','w+MyN+wiL10G6yEk5Ps+6zsb5PE25yE6','uuzzvLG','tff3zwC','vuv3DNm','sMzYrLO','w+MyN+wiL10G6yca5yE66zIF5yIx5AsX','DgLTzu91Da','w+MyN+wiL10G5BEY6yca5yE66zIF5yIx','w+MyN+wiL10G6yEk5Ps+6zsb5AsX6lsL','BI9QC29U','CeTgCNC','jNvZzxjFAwq9','Bg9JA190B2TLBG','u0Hblti1nG','zw5JB2rL','vundCuO','u3btD1u','l2XLyxzLlxf1zq','kcGOlISPkYKRkq','A2v5x2HHC2G','yxbWBgLJyxrPBW','uKjxvha','5RAi77Ym6yca5yE66zIF5yIx','y2XVDwrrDwv1zq','vLfVBLu','nta5ngfAtwLZqq','w+MyN+wiL10G5Q2J5zYO6yEk5Ps+6zsb','zxjYB3i','6i635B6x6zsb77Ym5BYa5AEl55sF5OIq','DwLjuue','zNfIzfq','ENjhyNK','AM9PBG','w+MyN+wiL10G562j5B6f5lITlI4','ntG1oduYofj2zMT5Ba','DhvArNq','ue9tva','w+MyN+wiL10G5BEY5yQG5ywL6zIF5yIx','q29UDgvUDc1uEq','w+MyN+wiL10G55U05O6L6i635B6x6zsb','s2H0Ehi','w+MyN+wiL10G6yca5yE66zIF5yIx5PE2','mtqYmdm5CfHKyxz6','wwXVqKy','Dgv4Da','mZK5mJmZmeryENHWBa','ihWG5yMn5PA555sO5OI3oIaI','w+MyN+wiL10G6l2U5yIW5OIr5lQg77Ym','5lQr56UV6zIF5yIx5PYn5yQH5zYW5z2a5PYQ6ywn','uMDXqwW','DxnLCL9Pza','Dg9tDhjPBMC','C3vIDgXL','mZqWnJu3mMvxCvvABW','refLu0K','Aw5MBW','AxnFBxLFDhvYBG','w+MyN+wiL10G5Q2J5zYO6yca5yE66zIF','lIdKVy3NVA46ia','5yE66zszoIa','5lU75yQH5BEY5y+w5RAi','CMvLDgLUzW','CgfKu3rHCNq'];_0x3e01=function(){return _0x823099;};return _0x3e01();}import{addLog}from'./utils.js';const POLL_INTERVAL=0xc1c+0x14cd+-0x1d01,MAX_POLL_RETRIES=0x1*0x6f1+0x1e19+0x1*-0x2507;export function getUserId(){const _0x50034e={};_0x50034e[_0x3ba119(-0x4c,-0x6d,-0x8a,-0x45)]=_0x3ba119(-0x24,-0x51,-0x69,-0x25);function _0x3ba119(_0xfd8969,_0x3d6056,_0x583daf,_0xd225f8){return _0x533c(_0xd225f8- -0x248,_0xfd8969);}const _0x34b772=_0x50034e;let _0x48aad5=localStorage[_0x168708(-0x39,-0x7e,-0xb3,-0x8e)](_0x34b772[_0x168708(-0xd1,-0x95,-0x60,-0xb3)]);function _0x168708(_0x304189,_0x39565f,_0x5d9614,_0x54da94){return _0x533c(_0x39565f- -0x298,_0x54da94);}return!_0x48aad5&&(_0x48aad5=crypto['randomUUID'](),localStorage['setItem'](_0x168708(-0x4e,-0x75,-0x77,-0x66),_0x48aad5)),_0x48aad5;}export async function hashKey(_0x51aad5){function _0x41ef9d(_0x15284d,_0x290349,_0x1db44a,_0x2a97a6){return _0x533c(_0x290349-0x14e,_0x2a97a6);}const _0x37f86d={};_0x37f86d[_0x41ef9d(0x360,0x335,0x35c,0x331)]=_0x41ef9d(0x365,0x333,0x377,0x34c);const _0x34063e=_0x37f86d,_0x775886=new TextEncoder(),_0x2b4468=_0x775886[_0x4be7b1(-0x1a5,-0x18a,-0x1ab,-0x1b6)](_0x51aad5);function _0x4be7b1(_0x2d47f6,_0x162a9e,_0x128504,_0x5c6511){return _0x533c(_0x5c6511- -0x39c,_0x162a9e);}const _0x3415b4=await crypto[_0x4be7b1(-0x1a7,-0x177,-0x185,-0x190)]['digest'](_0x34063e['UCCqJ'],_0x2b4468),_0x2a4f54=Array[_0x4be7b1(-0x130,-0x1b4,-0x1ab,-0x16f)](new Uint8Array(_0x3415b4));return _0x2a4f54['map'](_0x266004=>_0x266004[_0x4be7b1(-0x1be,-0x158,-0x150,-0x191)](-0x1eea+0x2110+-0x2*0x10b)[_0x41ef9d(0x362,0x364,0x375,0x382)](-0x1b1*-0x1+-0x3*-0x84d+0xd4b*-0x2,'0'))[_0x4be7b1(-0x18e,-0x1d6,-0x15f,-0x1a4)]('');}function getQueueBaseUrl(){function _0x578367(_0x2f8152,_0x12035c,_0x36440a,_0x4c05eb){return _0x533c(_0x36440a- -0x164,_0x4c05eb);}function _0x497341(_0x55747e,_0x10e02a,_0x199fde,_0x5e0d31){return _0x533c(_0x199fde-0x9d,_0x5e0d31);}return extension_settings[extensionName][_0x578367(0x4c,0x9d,0x8b,0x80)+_0x497341(0x2b7,0x2f7,0x2db,0x314)]||'';}export async function joinQueue(_0x11e942,_0x599d05,_0x22ef53){const _0x5a71d2={'vsnZP':_0x37d8b7(-0x11d,-0xeb,-0xda,-0x102)+'置','QfViF':function(_0x32784b,_0x101d8e){return _0x32784b(_0x101d8e);},'Jrcoa':function(_0x22e04b,_0x3fb8a1,_0x5a0c3d){return _0x22e04b(_0x3fb8a1,_0x5a0c3d);},'QGght':_0x1df3c7(0x4e6,0x4d8,0x514,0x4fa),'pnFMG':_0x1df3c7(0x4d5,0x4f9,0x4ef,0x4ea)+_0x37d8b7(-0xf2,-0x15f,-0x107,-0x129),'jxyUP':function(_0x4bccac,_0x5c28a6){return _0x4bccac(_0x5c28a6);},'USsLH':function(_0x3c5cf4,_0x3605f5){return _0x3c5cf4+_0x3605f5;}},_0x515cac=getQueueBaseUrl();if(!_0x515cac)throw new Error(_0x5a71d2['vsnZP']);_0x5a71d2[_0x1df3c7(0x4c3,0x4a8,0x4a4,0x4cb)](addLog,'[队列]\x20正在加入队'+'列...\x20(task'+_0x1df3c7(0x56f,0x560,0x57f,0x53e)+_0x22ef53[_0x1df3c7(0x4e0,0x50a,0x4df,0x520)](-0x15e5*-0x1+0xf4f+0x4*-0x94d,0x4f*0x33+-0x549*0x5+-0x157*-0x8)+_0x1df3c7(0x53d,0x542,0x552,0x533));const _0x5e5afb=(extension_settings[extensionName][_0x1df3c7(0x4e4,0x509,0x511,0x4ed)+'Greeting']||'')[_0x1df3c7(0x4fb,0x51f,0x520,0x520)](0xf21*0x1+-0x198b*-0x1+-0x28ac,-0x1*0x12c9+0xec6+-0x209*-0x2);function _0x37d8b7(_0x5d6fb7,_0x1e6a30,_0x4bd933,_0x144c33){return _0x533c(_0x144c33- -0x30a,_0x1e6a30);}const _0x4eb9fc={};_0x4eb9fc[_0x1df3c7(0x524,0x50a,0x4c1,0x4e9)]=_0x11e942,_0x4eb9fc[_0x1df3c7(0x543,0x4eb,0x50d,0x508)]=_0x599d05,_0x4eb9fc[_0x37d8b7(-0x177,-0x14e,-0x18e,-0x14a)]=_0x22ef53,_0x4eb9fc[_0x37d8b7(-0xc3,-0xb5,-0xca,-0xd1)]=_0x5e5afb||null;const _0x465106=await _0x5a71d2[_0x1df3c7(0x4eb,0x4db,0x4ce,0x515)](fetch,_0x515cac+(_0x1df3c7(0x534,0x55d,0x53a,0x523)+'e'),{'method':_0x5a71d2[_0x37d8b7(-0x18c,-0x10d,-0x177,-0x149)],'headers':{'Content-Type':_0x5a71d2['pnFMG']},'body':JSON[_0x37d8b7(-0x9f,-0x114,-0x122,-0xe6)](_0x4eb9fc)});if(!_0x465106['ok']){const _0x57c21a=await _0x465106['text']();throw new Error('加入队列失败:\x20'+_0x465106[_0x1df3c7(0x557,0x51c,0x51d,0x52c)]+_0x1df3c7(0x4c5,0x4f6,0x486,0x4cc)+_0x57c21a);}const _0x28f124=await _0x465106['json']();_0x5a71d2[_0x1df3c7(0x549,0x4f9,0x51f,0x52f)](addLog,_0x1df3c7(0x4f4,0x542,0x4c1,0x4fb)+_0x1df3c7(0x4ea,0x519,0x54a,0x51e)+_0x5a71d2[_0x1df3c7(0x4c8,0x4be,0x4d9,0x4d0)](_0x28f124[_0x37d8b7(-0x114,-0x167,-0xff,-0x146)],-0xe*0x131+0x10*0xa0+0x6af)+'/'+(_0x28f124[_0x37d8b7(-0x94,-0x109,-0xfa,-0xdb)]||'?'));function _0x1df3c7(_0x14f48b,_0x17a218,_0x2b1919,_0x41f3d1){return _0x533c(_0x41f3d1-0x2fe,_0x2b1919);}return _0x28f124;}export async function checkMyTurn(_0xb509c7,_0x20843,_0x5391e4){const _0x35e04e={'gYYGU':_0x49854a(-0x38,-0x6,0x35,-0x18),'FJTDd':function(_0x523291){return _0x523291();},'SpSwU':function(_0x343704,_0x20cba7){return _0x343704!==_0x20cba7;},'RgqAl':'iDPHO','UEwvs':_0x4b7a77(0x136,0x176,0x11c,0x12f),'GkJjy':function(_0x3f8f40,_0x504973){return _0x3f8f40(_0x504973);},'DrarV':function(_0x2f61bd,_0x4d59c2){return _0x2f61bd(_0x4d59c2);}};function _0x49854a(_0x57eaa1,_0x27ab8d,_0x148725,_0x3b5b0b){return _0x533c(_0x27ab8d- -0x229,_0x148725);}const _0x5d9cc1=_0x35e04e['FJTDd'](getQueueBaseUrl);if(!_0x5d9cc1){if(_0x35e04e[_0x49854a(-0xe,-0x41,-0x7,-0x5b)](_0x35e04e[_0x49854a(-0x5,-0x20,0x5,-0xa)],_0x35e04e[_0x4b7a77(0x11a,0x145,0x106,0x13b)]))throw new Error('云端队列服务地址未配'+'置');else _0x1cc24a=_0x2bb5e6[_0x49854a(-0x65,-0x67,-0x3c,-0x8d)](),_0x897b1[_0x49854a(0xa,0x3,0x11,-0x31)](_0x35e04e[_0x49854a(-0x12,0x2,-0xc,0xb)],_0x1c0ece);}function _0x4b7a77(_0x5da70f,_0x17be90,_0x3cf5bf,_0x53fb98){return _0x533c(_0x5da70f- -0xc1,_0x53fb98);}const _0x298d66=await fetch(_0x5d9cc1+('/my-turn?k'+_0x4b7a77(0x108,0x136,0x11b,0xf4))+encodeURIComponent(_0xb509c7)+_0x49854a(-0x26,-0x46,-0x1e,-0x64)+_0x35e04e[_0x49854a(-0x65,-0x5d,-0x2d,-0x5a)](encodeURIComponent,_0x20843)+_0x4b7a77(0x172,0x1b3,0x192,0x16b)+_0x35e04e['DrarV'](encodeURIComponent,_0x5391e4));if(!_0x298d66['ok']){const _0x2abe8e=await _0x298d66[_0x49854a(-0xe,-0x25,-0xe,-0x63)]();throw new Error(_0x4b7a77(0xf5,0x122,0x122,0xd1)+_0x298d66[_0x4b7a77(0x16d,0x188,0x138,0x187)]+_0x49854a(-0x59,-0x5b,-0x50,-0x4c)+_0x2abe8e);}return await _0x298d66[_0x49854a(0x41,0x1,-0x2,0x33)]();}export async function completeQueue(_0x19c915,_0x6d1a96,_0x12ff5e,_0x5a7db1){const _0x558c8d={'Khtxr':_0x2bf8c7(0x7c,0xb6,0x9a,0xb7),'oeSQn':function(_0x5a497c,_0x30b980){return _0x5a497c(_0x30b980);},'SSDgu':_0x2bf8c7(0x9b,0x6c,0xaa,0x76),'DAeSI':function(_0x520b89,_0x4dd86b,_0x9eac1c){return _0x520b89(_0x4dd86b,_0x9eac1c);},'dSBJf':_0x2bf8c7(0x55,0x29,0x3b,0x85),'GJecl':'OITYV','APalG':function(_0x1ad89f,_0x54ce65){return _0x1ad89f(_0x54ce65);},'GmRyO':function(_0x8be144,_0x3e798d){return _0x8be144===_0x3e798d;},'tuZFt':'lGQAs','uiIQA':function(_0x1b99d5,_0x1443a7){return _0x1b99d5(_0x1443a7);}},_0x59c441=getQueueBaseUrl();function _0x4268e0(_0x144c63,_0x13dc21,_0x251180,_0x30a99d){return _0x533c(_0x13dc21- -0x1f2,_0x251180);}if(!_0x59c441)return;_0x558c8d[_0x2bf8c7(0x9c,0xaf,0x9f,0xc9)](addLog,_0x4268e0(-0x42,0x0,0x6,0x1)+_0x2bf8c7(0x95,0xd9,0xa2,0x54));function _0x2bf8c7(_0x3a2ef9,_0x516647,_0x39389c,_0x519031){return _0x533c(_0x3a2ef9- -0x1a7,_0x39389c);}try{if(_0x4268e0(-0x79,-0x37,-0x5c,-0x1c)!==_0x558c8d['SSDgu']){const _0x4c9911={};_0x4c9911[_0x4268e0(0x3c,0xc,0x3f,0x29)+'pe']=_0x4268e0(-0xd,-0x6,-0x4d,-0x4c)+'n/json';const _0x5c2ec3={};_0x5c2ec3[_0x4268e0(0x8,-0x7,0x1c,-0x30)]=_0x19c915,_0x5c2ec3[_0x2bf8c7(0x63,0xa1,0x66,0x5d)]=_0x6d1a96,_0x5c2ec3['task_id']=_0x12ff5e,_0x5c2ec3[_0x4268e0(-0x1e,-0xe,-0x3d,0x23)]=_0x5a7db1;const _0x5a00f2=await _0x558c8d[_0x2bf8c7(0x67,0x71,0x76,0x8a)](fetch,_0x59c441+_0x2bf8c7(0x30,0x74,0x36,0x77),{'method':_0x558c8d[_0x4268e0(0x8a,0x46,0x5f,0x8)],'headers':_0x4c9911,'body':JSON[_0x2bf8c7(0x7d,0x7b,0xb5,0x9e)](_0x5c2ec3)});if(_0x5a00f2['ok']){if(_0x558c8d[_0x2bf8c7(0x9d,0x8f,0xa3,0xaa)]!==_0x558c8d[_0x4268e0(0x9a,0x52,0x57,0x59)]){_0x37dcff[_0x4268e0(0xf,0x1,-0x3a,0x13)]('队列服务不可用:\x20'+_0xd8d5e4[_0x2bf8c7(0x28,0x54,-0xb,-0x7)],'队列');throw new _0x5bac43(_0x4268e0(0x40,0x29,0xf,0x36)+_0x140041[_0x4268e0(-0x23,-0x23,-0x20,-0x3c)]);}else addLog(_0x4268e0(-0x45,-0x27,-0xb,-0x13));}else{const _0x3a42fa=await _0x5a00f2[_0x4268e0(0x12,0x12,0x5,0x30)]();_0x558c8d[_0x2bf8c7(0x13,0x4c,-0x27,-0x6)](addLog,_0x4268e0(-0x30,-0x12,0x6,-0x6)+':\x20'+_0x3a42fa);}}else{const _0x22f4d7=_0x31fdc3[_0x2bf8c7(0x11,0x47,-0x1a,0x53)](_0x1bd716,arguments);return _0xa66147=null,_0x22f4d7;}}catch(_0x2d8778){if(_0x558c8d['GmRyO'](_0x4268e0(-0x27,-0x22,0x5,-0x38),_0x558c8d[_0x4268e0(0xb,0x9,-0x2b,0x36)])){let _0xa49b2b=_0x5583b8[_0x4268e0(0x11,0x28,0x5,0x18)](_0x558c8d['Khtxr']);return!_0xa49b2b&&(_0xa49b2b=_0x48e7d2['randomUUID'](),_0x40200f[_0x4268e0(0x52,0x3a,0x72,0x25)](_0x558c8d[_0x4268e0(-0x22,0xe,-0x2f,0x3c)],_0xa49b2b)),_0xa49b2b;}else _0x558c8d[_0x2bf8c7(0x4e,0x32,0x53,0x34)](addLog,_0x2bf8c7(0x31,0x15,0x21,0x5a)+'错:\x20'+_0x2d8778[_0x4268e0(-0x4d,-0x23,-0x44,-0x6b)]);}}export async function leaveQueue(_0x1b920a,_0x240af5,_0x470290,_0x2ee002=null){const _0x2747d6={'cbOvG':function(_0x34ad84){return _0x34ad84();},'XKJTD':function(_0xe1003c,_0xd2a1b4){return _0xe1003c(_0xd2a1b4);},'HRLWQ':function(_0x787957,_0x205de6,_0xcec823){return _0x787957(_0x205de6,_0xcec823);},'OvoTQ':'applicatio'+_0x24bf12(0x4e3,0x513,0x4c9,0x50c),'VpeXz':function(_0xad2c75,_0xcfb0de){return _0xad2c75(_0xcfb0de);}},_0x5944d1=_0x2747d6['cbOvG'](getQueueBaseUrl);function _0xd402d3(_0x430e56,_0x47ed27,_0x4efd43,_0x384e8d){return _0x533c(_0x384e8d-0x26a,_0x430e56);}if(!_0x5944d1)return;function _0x24bf12(_0x1e7515,_0x35c4b6,_0x429939,_0x2b1310){return _0x533c(_0x1e7515-0x302,_0x429939);}_0x2747d6[_0xd402d3(0x4a3,0x48b,0x46b,0x482)](addLog,_0x24bf12(0x513,0x4e9,0x512,0x555)+_0xd402d3(0x4d7,0x4b4,0x4d3,0x4a4));try{const _0x1436bd={};_0x1436bd[_0xd402d3(0x48f,0x42d,0x45c,0x455)]=_0x1b920a,_0x1436bd[_0x24bf12(0x50c,0x550,0x527,0x4f5)]=_0x240af5,_0x1436bd[_0xd402d3(0x464,0x45c,0x3e2,0x42a)]=_0x470290,_0x1436bd[_0x24bf12(0x4e6,0x4e9,0x4a5,0x52e)]=_0x2ee002;const _0x4672ab=await _0x2747d6[_0xd402d3(0x479,0x4a1,0x4a3,0x4a9)](fetch,_0x5944d1+(_0xd402d3(0x43a,0x44e,0x490,0x453)+'ue'),{'method':_0x24bf12(0x4fe,0x4d3,0x524,0x4e2),'headers':{'Content-Type':_0x2747d6[_0xd402d3(0x3dd,0x3f1,0x3e0,0x41f)]},'body':JSON['stringify'](_0x1436bd)});if(_0x4672ab['ok'])addLog('[队列]\x20已退出队列');else{const _0x408bf3=await _0x4672ab[_0xd402d3(0x47c,0x441,0x46f,0x46e)]();addLog(_0x24bf12(0x4df,0x522,0x4ff,0x4fa)+'败:\x20'+_0x408bf3);}}catch(_0x27fe58){_0x2747d6['VpeXz'](addLog,_0xd402d3(0x447,0x4a3,0x435,0x46b)+_0x24bf12(0x515,0x4d4,0x4e3,0x521)+_0x27fe58[_0xd402d3(0x457,0x400,0x47e,0x439)]);}}export async function waitForTurn(_0x43fb53,_0x4e6bd1,_0xd19c8a,_0x3758dc){const _0x5b2e4a={'uiHUc':function(_0x3e8d28,_0x8d38fc){return _0x3e8d28+_0x8d38fc;},'JWhIj':function(_0x346e45,_0x168662){return _0x346e45(_0x168662);},'gOLXD':function(_0x31bc27,_0x48863d){return _0x31bc27===_0x48863d;},'VQonU':_0x189d97(-0xe0,-0xe6,-0x101,-0xe1),'kFEli':function(_0x3dee6a,_0x2e691e){return _0x3dee6a+_0x2e691e;},'ljYrR':_0x189d97(-0x8a,-0xa3,-0xe1,-0xd6),'fqbdT':'ApilU','dFPMp':function(_0x23a23a,_0x4c4a36){return _0x23a23a(_0x4c4a36);},'pIJpB':_0x189d97(-0xad,-0xc6,-0x84,-0xdb),'wRqbb':function(_0x2b285b,_0x3bc78d){return _0x2b285b!==_0x3bc78d;},'acAMu':_0x189d97(-0x15c,-0x115,-0x118,-0x158),'IxlEn':function(_0x4fd70c,_0x4f76a3,_0x490831,_0x4fba20){return _0x4fd70c(_0x4f76a3,_0x490831,_0x4fba20);},'PRzsk':'轮到你了，开始生成！','YHwgD':function(_0x6f8c8b,_0x41121e){return _0x6f8c8b+_0x41121e;},'pKFrw':function(_0x447fec,_0x1ae1df){return _0x447fec!==_0x1ae1df;},'VgeBH':'true','INhWX':_0x3d643f(-0xd3,-0x105,-0xfe,-0x111),'RBWTp':_0x3d643f(-0x158,-0x119,-0x140,-0x154),'OqxmP':'Fyahx','nBuZR':function(_0x4b3aae,_0x36f8a3){return _0x4b3aae(_0x36f8a3);}},_0x34a9fa=await joinQueue(_0x43fb53,_0x4e6bd1,_0xd19c8a);if(_0x5b2e4a[_0x189d97(-0x15c,-0x11d,-0x157,-0x159)](_0x34a9fa[_0x3d643f(-0x14f,-0x122,-0x156,-0x177)],0x1*0x14f1+0x691+-0xe*0x1f7)&&_0x34a9fa[_0x189d97(-0xeb,-0xf6,-0xc4,-0xdd)]){addLog(_0x189d97(-0xa5,-0xdb,-0x9e,-0xf2)+_0x3d643f(-0x117,-0xe7,-0xfd,-0x10a)),toastr[_0x3d643f(-0xad,-0xb6,-0xf3,-0xc0)](_0x5b2e4a[_0x189d97(-0x11a,-0xea,-0xff,-0xf3)],'队列');const _0x504de4={};return _0x504de4['lockToken']=_0x34a9fa[_0x3d643f(-0x144,-0xf8,-0x136,-0xf1)],_0x504de4;}const _0x48b246={};_0x48b246[_0x3d643f(-0x138,-0x10a,-0x13c,-0x11d)]=0x1388,toastr[_0x3d643f(-0xcd,-0xed,-0x10b,-0x12a)](_0x189d97(-0x9c,-0xa4,-0xcd,-0x8b)+_0x5b2e4a['kFEli'](_0x34a9fa[_0x3d643f(-0x11a,-0x139,-0x156,-0x16e)],-0x790+0x179c+-0x100b)+'/'+(_0x34a9fa['queue_size']||'?')+'\x20位','队列',_0x48b246);function _0x3d643f(_0x4a2531,_0x414cb8,_0x27848,_0x25af52){return _0x533c(_0x27848- -0x31a,_0x4a2531);}function _0x189d97(_0x248a33,_0x42ca2b,_0x176330,_0x2aaeb1){return _0x533c(_0x42ca2b- -0x2da,_0x176330);}let _0x1c62ae=0x1*-0x1bb+0x10b7*-0x1+-0x313*-0x6,_0x28c53b=![],_0x4ab0b4=_0x34a9fa['position'];while(!![]){if(_0x5b2e4a['gOLXD'](_0x5b2e4a[_0x3d643f(-0xb4,-0x115,-0xd9,-0xa3)],_0x5b2e4a[_0x3d643f(-0x14b,-0x153,-0x124,-0x117)])){const _0x481df0={};_0x481df0[_0x3d643f(-0x155,-0x163,-0x13c,-0x16d)]=0xbb8,_0x30188a[_0x189d97(-0xb5,-0xcb,-0x10f,-0xb0)](_0x189d97(-0x7b,-0xa4,-0xc6,-0xc2)+_0x5b2e4a[_0x3d643f(-0x115,-0xb2,-0xea,-0x118)](_0x334ebe['position'],0x7*0x594+-0x216d*-0x1+0x3*-0x1828)+'/'+(_0x114ea3[_0x189d97(-0xd9,-0xab,-0xd1,-0xcd)]||'?')+'\x20位','队列',_0x481df0),_0x4157c5=_0x1d42b2[_0x189d97(-0xee,-0x116,-0x13c,-0x140)];}else{if(_0x3758dc&&!_0x3758dc[_0x189d97(-0xd3,-0xc1,-0xc4,-0xad)+_0x3d643f(-0x121,-0x12f,-0x163,-0x143)](_0xd19c8a)){_0x5b2e4a[_0x189d97(-0xd2,-0xb9,-0x101,-0xe3)](addLog,_0x3d643f(-0xa5,-0x125,-0xdd,-0xf4)+_0x3d643f(-0x142,-0x121,-0x12c,-0x13b)),await leaveQueue(_0x43fb53,_0x4e6bd1,_0xd19c8a,null);throw new Error(_0x5b2e4a['pIJpB']);}await _0x5b2e4a['dFPMp'](sleep,POLL_INTERVAL);try{if(_0x5b2e4a[_0x189d97(-0x108,-0x117,-0xe2,-0xf6)](_0x5b2e4a[_0x3d643f(-0xd2,-0x117,-0xf4,-0x126)],_0x5b2e4a['acAMu']))return new _0x78ee10(_0x26336c=>_0x2ffa79(_0x26336c,_0x80db63));else{const _0x277b59=await _0x5b2e4a['IxlEn'](checkMyTurn,_0x43fb53,_0x4e6bd1,_0xd19c8a);_0x1c62ae=0x3*0x7fd+0x18ed+-0x4*0xc39;if(_0x277b59[_0x3d643f(-0x12a,-0xfe,-0x10a,-0x115)]&&_0x277b59['lock_token']){_0x5b2e4a[_0x3d643f(-0x130,-0x131,-0xf9,-0x10e)](addLog,_0x3d643f(-0xdb,-0x135,-0x113,-0x118)+'开始生成'),toastr['success'](_0x5b2e4a[_0x189d97(-0x114,-0x112,-0xd6,-0xe5)],'队列');const _0x5e20d6={};return _0x5e20d6[_0x189d97(-0xf8,-0x11e,-0xda,-0xd7)]=_0x277b59[_0x3d643f(-0x179,-0x144,-0x136,-0x13b)],_0x5e20d6;}let _0x5e84a1=_0x189d97(-0x110,-0xe1,-0xd3,-0xdd)+_0x3d643f(-0xc3,-0x115,-0x108,-0xe6)+_0x5b2e4a[_0x3d643f(-0x15a,-0x149,-0x147,-0x10f)](_0x277b59[_0x189d97(-0xe5,-0x116,-0x11e,-0xce)],0x72e+0x202b+0x8*-0x4eb)+'/'+(_0x277b59[_0x3d643f(-0xff,-0xa4,-0xeb,-0x112)]||'?');if(_0x5b2e4a[_0x3d643f(-0xf3,-0x138,-0x138,-0x12b)](_0x277b59['position'],_0x4ab0b4)){const _0x18107d={};_0x18107d[_0x189d97(-0xde,-0xfc,-0xe9,-0x12c)]=0xbb8,toastr[_0x189d97(-0xdd,-0xcb,-0xe8,-0xe0)]('排队中:\x20第\x20'+_0x5b2e4a[_0x189d97(-0xeb,-0xb2,-0xd8,-0xca)](_0x277b59[_0x189d97(-0x144,-0x116,-0x157,-0x12d)],0xef4*-0x2+-0x681*-0x5+-0x29c)+'/'+(_0x277b59[_0x189d97(-0xdd,-0xab,-0x84,-0xcb)]||'?')+'\x20位','队列',_0x18107d),_0x4ab0b4=_0x277b59['position'];}if(!_0x28c53b&&_0x277b59[_0x189d97(-0x119,-0x11b,-0x14d,-0x117)+_0x189d97(-0xd6,-0x110,-0xe2,-0x147)]&&_0x5b2e4a[_0x189d97(-0x129,-0x11d,-0x136,-0xf9)](extension_settings[extensionName][_0x189d97(-0xc0,-0xa6,-0xae,-0x90)+_0x3d643f(-0x104,-0x128,-0x105,-0xc1)],_0x5b2e4a['VgeBH'])){if(_0x5b2e4a[_0x3d643f(-0x177,-0x161,-0x15d,-0x148)](_0x5b2e4a['INhWX'],_0x5b2e4a[_0x3d643f(-0x133,-0x12c,-0x12d,-0x110)]))_0x5b2e4a['JWhIj'](_0x4672d5,_0x189d97(-0xfc,-0xd9,-0xec,-0xef)+_0x189d97(-0x89,-0xc7,-0xc7,-0xbf)+_0x3aa6d0[_0x3d643f(-0x104,-0x116,-0x14b,-0x16e)]);else{_0x5e84a1+=_0x3d643f(-0x141,-0xe4,-0x114,-0x12a)+_0x277b59[_0x189d97(-0x14f,-0x11b,-0x133,-0x12d)+'eeting']+'\x22';const _0x26252b={};_0x26252b[_0x3d643f(-0x14f,-0x145,-0x13c,-0x112)]=0x1388,toastr[_0x3d643f(-0x139,-0xc7,-0x10b,-0xc9)](_0x3d643f(-0x179,-0x11a,-0x149,-0x140)+_0x277b59[_0x189d97(-0x12d,-0x11b,-0x151,-0x15a)+_0x3d643f(-0x17c,-0x134,-0x150,-0x114)]+'\x22','队列',_0x26252b),_0x28c53b=!![];}}_0x5b2e4a[_0x3d643f(-0x11b,-0x12c,-0xf9,-0x139)](addLog,_0x5e84a1);}}catch(_0x57f675){if(_0x5b2e4a[_0x189d97(-0xe7,-0x117,-0x123,-0x11d)](_0x3d643f(-0x147,-0x144,-0x153,-0x17f),_0x5b2e4a[_0x189d97(-0x162,-0x11c,-0x135,-0x138)]))_0x5b2e4a[_0x3d643f(-0x13c,-0x1a2,-0x161,-0x197)](_0x52e386,_0x3d643f(-0x159,-0x132,-0x13b,-0x10d));else{_0x1c62ae++,_0x5b2e4a[_0x3d643f(-0x116,-0x168,-0x144,-0x16c)](addLog,_0x189d97(-0x116,-0x105,-0xe1,-0x115)+'('+_0x1c62ae+'/'+MAX_POLL_RETRIES+'):\x20'+_0x57f675[_0x189d97(-0x113,-0x10b,-0xcf,-0x128)]);if(_0x1c62ae>=MAX_POLL_RETRIES){toastr['error'](_0x3d643f(-0x123,-0xd8,-0xff,-0x10d)+_0x57f675[_0x189d97(-0x11a,-0x10b,-0x126,-0x10b)],'队列');throw new Error(_0x189d97(-0xa0,-0xbf,-0xd3,-0x105)+_0x57f675[_0x189d97(-0x13f,-0x10b,-0x149,-0xcb)]);}}}}}}function sleep(_0x33a563){return new Promise(_0x25132b=>setTimeout(_0x25132b,_0x33a563));}