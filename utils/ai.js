(function(_0x20af0b,_0x6e63f1){function _0x2f2824(_0x240d38,_0x4582a7,_0x52508c,_0x116803){return _0x5206(_0x4582a7- -0x59,_0x52508c);}function _0x3cee06(_0x38c96f,_0xd00572,_0x185005,_0x2b4f61){return _0x5206(_0xd00572- -0x2b0,_0x2b4f61);}const _0x9ce7bd=_0x20af0b();while(!![]){try{const _0x5af76a=parseInt(_0x2f2824(0xe2,0xc0,0x8e,0xe5))/(0x190e+-0x94d*0x1+-0xfc0)+parseInt(_0x3cee06(-0xa2,-0xfd,-0x9e,-0x102))/(0x9b*-0xa+0x1b5e*-0x1+0x216e)+-parseInt(_0x3cee06(-0x1ae,-0x1af,-0x177,-0x1a4))/(-0x6d*-0x29+-0x1ff8+0xe86)*(parseInt(_0x2f2824(0x14c,0x150,0x17c,0x12d))/(0x13de*-0x1+0x1de6+-0xa04*0x1))+parseInt(_0x3cee06(-0x190,-0x147,-0xed,-0x10d))/(0x22a9*-0x1+0x2*-0x6d0+0x304e)+parseInt(_0x3cee06(-0x128,-0x137,-0x174,-0xf6))/(-0x1a5a+0x7d*0x31+0x3*0xd1)*(parseInt(_0x3cee06(-0x113,-0x119,-0x173,-0x10b))/(0x14+-0x5*-0x6b+-0x89*0x4))+parseInt(_0x2f2824(0xfc,0x153,0x109,0x121))/(-0x19bc+0xcc1+0x1*0xd03)+-parseInt(_0x2f2824(0xbb,0xf7,0x132,0xc9))/(-0xdeb*0x1+-0x169d+0x2491);if(_0x5af76a===_0x6e63f1)break;else _0x9ce7bd['push'](_0x9ce7bd['shift']());}catch(_0x113fc1){_0x9ce7bd['push'](_0x9ce7bd['shift']());}}}(_0x1cba,-0x4b1*0x60+0xa9745+-0x5d5e*0x2));const _0x1e3678=(function(){let _0x181bfc=!![];return function(_0x3a75ad,_0x39b426){const _0x2831ed=_0x181bfc?function(){function _0x14daf8(_0x2b8f6d,_0x4ae0ad,_0x255e1b,_0x1397e4){return _0x5206(_0x255e1b-0x281,_0x2b8f6d);}if(_0x39b426){const _0x3a023b=_0x39b426[_0x14daf8(0x37c,0x364,0x39c,0x364)](_0x3a75ad,arguments);return _0x39b426=null,_0x3a023b;}}:function(){};return _0x181bfc=![],_0x2831ed;};}()),_0x1eb82a=_0x1e3678(this,function(){const _0x555d49={};_0x555d49[_0xd73b39(0x1f3,0x274,0x23b,0x296)]=_0x3c6b94(0x442,0x45e,0x477,0x468)+'+$';const _0x57dabd=_0x555d49;function _0x3c6b94(_0xe0501d,_0x2add3c,_0x49c521,_0x88c68b){return _0x5206(_0xe0501d-0x2ac,_0x49c521);}function _0xd73b39(_0x264e28,_0x284599,_0x3b752c,_0xa5490e){return _0x5206(_0x3b752c-0xed,_0x284599);}return _0x1eb82a[_0x3c6b94(0x3fd,0x3ae,0x430,0x3af)]()['search'](_0x57dabd[_0xd73b39(0x25c,0x21e,0x23b,0x27f)])[_0x3c6b94(0x3fd,0x3a0,0x3d4,0x459)]()[_0xd73b39(0x2a0,0x26c,0x26e,0x2c4)+'r'](_0x1eb82a)[_0x3c6b94(0x3f0,0x44a,0x39b,0x3a5)](_0x57dabd[_0x3c6b94(0x3fa,0x42c,0x3e7,0x3c9)]);});function _0x5206(_0x320959,_0x2a57d3){const _0x480273=_0x1cba();return _0x5206=function(_0x28fbdc,_0x11ac9b){_0x28fbdc=_0x28fbdc-(-0x25e+0x1818+-0x14c0);let _0x184f9e=_0x480273[_0x28fbdc];if(_0x5206['zGKcAu']===undefined){var _0x1c391d=function(_0x4a595f){const _0x531018='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2ce43a='',_0x2b0c66='',_0x360c23=_0x2ce43a+_0x1c391d;for(let _0x1264dd=-0xf89+0x1c22+-0xc99,_0x2ae8a1,_0x1541f7,_0xbac1e1=0x117*-0xe+0xb2+0xe90;_0x1541f7=_0x4a595f['charAt'](_0xbac1e1++);~_0x1541f7&&(_0x2ae8a1=_0x1264dd%(-0x4*-0x4df+-0x1c4c+0x5*0x1c4)?_0x2ae8a1*(-0x21bb+0xcc0+0x43f*0x5)+_0x1541f7:_0x1541f7,_0x1264dd++%(-0x22f7+-0x1dd1+-0x2f2*-0x16))?_0x2ce43a+=_0x360c23['charCodeAt'](_0xbac1e1+(-0x2217*-0x1+-0x2651+-0x444*-0x1))-(-0x1217*0x1+-0x86*0x15+0x1d1f)!==-0x5*-0x40+0x22b*0x1+0x23*-0x19?String['fromCharCode'](-0x21ac+0x30*-0xa9+0x425b&_0x2ae8a1>>(-(0xb*0x251+-0x1d9*0x8+-0xab1)*_0x1264dd&-0x3*-0x30c+-0x25b+-0x6c3)):_0x1264dd:-0xad*-0x25+0x110f*-0x1+-0x7f2){_0x1541f7=_0x531018['indexOf'](_0x1541f7);}for(let _0x409dfb=-0x1*-0x2126+-0x1167+-0x8b*0x1d,_0x4ad425=_0x2ce43a['length'];_0x409dfb<_0x4ad425;_0x409dfb++){_0x2b0c66+='%'+('00'+_0x2ce43a['charCodeAt'](_0x409dfb)['toString'](0x203e*-0x1+-0x23cb+0x4419))['slice'](-(-0xdb3+-0x1ac+0xf61));}return decodeURIComponent(_0x2b0c66);};_0x5206['YVqwqy']=_0x1c391d,_0x320959=arguments,_0x5206['zGKcAu']=!![];}const _0x178c31=_0x480273[0x3*-0x848+-0x1e1d+0x36f5],_0x1d271e=_0x28fbdc+_0x178c31,_0x3e6d8c=_0x320959[_0x1d271e];if(!_0x3e6d8c){const _0x25fe28=function(_0x2533bb){this['KYFzaE']=_0x2533bb,this['oFqzNE']=[0x20d0+0xdeb*-0x1+-0x12e4,-0x3*-0xb3f+0x36c+-0xc63*0x3,0x5*-0x515+-0x610+0x1f79],this['aOqDRq']=function(){return'newState';},this['qJZjAG']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['NIafIZ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x25fe28['prototype']['BtxdjD']=function(){const _0x1c6dcd=new RegExp(this['qJZjAG']+this['NIafIZ']),_0x3c0372=_0x1c6dcd['test'](this['aOqDRq']['toString']())?--this['oFqzNE'][0x1c67+-0x1*-0xff6+-0x2c5c]:--this['oFqzNE'][-0x1d33+-0xa74+-0x1*-0x27a7];return this['YJDSxL'](_0x3c0372);},_0x25fe28['prototype']['YJDSxL']=function(_0x26dccf){if(!Boolean(~_0x26dccf))return _0x26dccf;return this['DEbSls'](this['KYFzaE']);},_0x25fe28['prototype']['DEbSls']=function(_0x498752){for(let _0x27abbb=-0x1262+-0x22b7+-0x24f*-0x17,_0x3dd621=this['oFqzNE']['length'];_0x27abbb<_0x3dd621;_0x27abbb++){this['oFqzNE']['push'](Math['round'](Math['random']())),_0x3dd621=this['oFqzNE']['length'];}return _0x498752(this['oFqzNE'][-0x6c+0x9b+-0x2f]);},new _0x25fe28(_0x5206)['BtxdjD'](),_0x184f9e=_0x5206['YVqwqy'](_0x184f9e),_0x320959[_0x1d271e]=_0x184f9e;}else _0x184f9e=_0x3e6d8c;return _0x184f9e;},_0x5206(_0x320959,_0x2a57d3);}_0x1eb82a();function _0x1cba(){const _0x18d728=['uMjdEvG','z2D3s3C','zMzvvNO','yvLxuve','v1fQzNe','mtiZntmWotrVv3Ltvwu','Dg9tDhjPBMC','wwLdyxy','iow3SUIoT+wpLUE/U+IVKEApKoEKUUIVJsa','zMLSDgvY','zNfguMO','rfbOEfO','C2v0','qwTyDgm','whjUvxq','CeXsrwu','AwL5u0G','57+76k+r5AsX6lsLoIa','ioE/U+IVKEApKoEKUUIVJEAGH+ETVUwKSEI0Pq','wKfsBMq','Bg9N','tfLesg0','tgPUvfy','zw1PDa','vercAgi','C2TPCa','CMvWBgfJzq','vLzPzgO','t2D0vKK','uwXhz00','ndu2otCZnxDnDwHiwa','C2XPy2u','icHjrdOG','z3DnwLm','AuHPAwu','ufjptvbux1jfuq','wfPkDKG','wvbAv3G','zhrIvKu','yxvAz3q','57+76k+r5AsX6lsLoG','AvDvtfG','s1vjA0W','CMvZDwX0','CMfUzg9Tvvvjra','C3rYAw5NAwz5','ndy2ogfQD295uG','vxLLyw4','zMzQAMO','CKL3wgG','Dg9mB3DLCKnHCW','BwvZC2fNzq','rfjkuhO','sw9gCMe','y29UC3rYDwn0BW','CeztBMm','qwjVCNrfCNjVCG','CxHuzwK','ieXmtsdORR7NVA7POBxPNAi','vvjgEhi','CxrUtLa','zwvuteu','EenYB0m','tKj5zKS','ioIVT+AXGUIoT+wpLUE/U+IVKEApKoEKUUIVJq','ue9ou0u','sxjqzM4','y0fXtwS','uwfWu2e','ExPlA1y','y29UDgvUDa','BwfW','u3zNDvy','zxjYB3i','wuTjB3i','kcGOlISPkYKRkq','mJG0ou9utKDTrW','seveA3a','z2DbsMe','BgvUz3rO','BNnJCgW','u1zcqwe','DxnLCG','uhHtz0O','uwDZqxK','ChjVBxb0','AffmwwG','qvrjt05Fr0vuxW','vfjrB3i','BNj5ENG','v3rts00','z3nSzfe','Bwf0y2G','r2TXA2S','mtjjB1rlqKe','BgLgBva','iePtt07OP6pMNPdLPlhOTkxVViW','nZq3mtK2mffdvw1TuG','AxnbCNjHEq','terqy1e','B3jPz2LUywW','BxbVrKy','zgLZCgXHEvrLEa','keLeoIa','mtqWmtH1thjVB1i','uK5QBMm','EvbtsgS','thDWDfG','C3bSAxq','svbYuLG','CMvTB3zLtgLZDa','tfrcDfK','y2fbtNy','wg1yv0C','wxfRzeS','mZyWnZqXChrKEKjo','D1j3zha','teXnx1rsqu5tta','ChvZAa','uM9ZAxa','y3nUBwe','yxPQA0q','D3bKAeu','C3qTy2HHDhu4oG','qvrjt05FuKvrvq','swDvzMy','C2TPChbLza','wMPpCeG','Bg1IAu4','zw50CMLLCW','AM9PBG','veniCgy','qKfnzui','zw5LCG','BhDNqKq','yLfIBvC','tKveCNO','tvLRtwq','tNjduue','oti2otvoqxzszgi','Exzzz0G','yxbWBhK','suzeA3e','CLbyr2C','BK5ADwm','y0v1t2K','6i635y+w57+76k+r5O+q56s66k+n6lAf5PE2','iefjioIUVUE9RUw3SUE7N+s4GowiSa','ioIVT+AXGUE/U+IVKsbmte0G','s0vQrNe','A3DSt0G','qvrjt05FuKvtua','BM93','BufAuKW','D2fYBG','wgrurui','BMfTzq','iow3SUAuTUwiSoE/U+IVKsbmte0','v05oExa','B2jQzwn0','wNHvvKS','BxpVViK','DhjPBq','C3vJy2vZCW','senPEwO','Bvzergi','C29Tzq','CMfUzg9T','DhjHBNnSyxrPBW','z1beCgC','y2XLyw5Lza','Aw5KzxHpzG','5BcD6k+v5PEN5Qc85BYpoG','rNb3Dhy','rvnu','B3jPz2LUywXuyq','CMvZDwX0CW','BxvItNu','CgfYC2u','qK1nwNm','C0vqCe8','shbOs24','C2vHCMnO','vuvtva','C3rYAw5N','CKzUsui','ufjptvbux1jfuW','EgPru1e','sujQqwy'];_0x1cba=function(){return _0x18d728;};return _0x1cba();}import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{extensionName,eventNames}from'./config.js';import{addLog}from'./utils.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{mergeAdjacentMessages}from'./promptProcessor.js';let settings;const SD_SYMBOL_PATTERN=/^([\(\[\{<]+)?(.*?)([\)\]\}>]+)?(:[\d.]+)?$/,SKIP_PATTERNS=[/^<lora:/i,/^<lyco:/i,/^<hypernet:/i,/^[\d.:]+$/,/^$/,/^\$.*\$$/];function shouldSkipTranslation(_0x554965){function _0x1d84b1(_0x2a2fd8,_0x43c69a,_0x25aafd,_0x14629a){return _0x5206(_0x25aafd- -0x16f,_0x14629a);}function _0x36bc66(_0x300d66,_0x48a27d,_0x2ec980,_0x4aa088){return _0x5206(_0x48a27d-0x27a,_0x300d66);}return SKIP_PATTERNS[_0x36bc66(0x3d8,0x3ae,0x400,0x3cc)](_0x127d2f=>_0x127d2f['test'](_0x554965[_0x36bc66(0x376,0x3aa,0x3b7,0x351)]()));}export function tagsToJsonString(_0x38e284){function _0x364ab2(_0x5736f2,_0x2b3b6d,_0x98fd30,_0x49fa31){return _0x5206(_0x98fd30-0x35d,_0x5736f2);}if(!Array[_0x364ab2(0x4d2,0x561,0x50a,0x537)](_0x38e284))return'[]';function _0x3c846b(_0x169709,_0x27c1ea,_0x5f316a,_0x40e945){return _0x5206(_0x5f316a- -0x99,_0x27c1ea);}return JSON[_0x364ab2(0x4e3,0x4c1,0x4d5,0x4c6)](_0x38e284[_0x364ab2(0x4c2,0x4e8,0x4b1,0x4c2)](_0x482e98=>_0x482e98&&typeof _0x482e98===_0x364ab2(0x478,0x501,0x4a3,0x4f5)));}export function preprocessPromptForTranslation(_0x57fd2f){function _0x46f4cd(_0x321097,_0x3be692,_0x3a37e6,_0x27b37a){return _0x5206(_0x27b37a- -0x209,_0x3be692);}const _0x10f060={'xCroC':function(_0x211675,_0x1a04d6){return _0x211675===_0x1a04d6;},'JmEbp':_0x559337(0x3b,0x67,0x3e,0x2e),'UlWfM':_0x46f4cd(-0xae,-0xf5,-0xfe,-0x10a),'cAqMk':function(_0x3669a5,_0x1ed214){return _0x3669a5!==_0x1ed214;},'RbCyX':function(_0x1b465e,_0x18ad1c){return _0x1b465e(_0x18ad1c);},'rFnIB':_0x46f4cd(-0x12c,-0x167,-0xaf,-0x10b),'DRJPz':_0x559337(0x81,0x39,0x7f,0xcc),'qBPst':function(_0x7c6d23,_0x2d1c58){return _0x7c6d23(_0x2d1c58);},'NjKeU':function(_0x2099f3,_0x365097){return _0x2099f3(_0x365097);},'csnma':'mDBko'};if(!_0x57fd2f||_0x10f060[_0x46f4cd(-0xa4,-0x89,-0x42,-0x7b)](typeof _0x57fd2f,'string'))return{'originalTags':[],'cleanedTags':[],'cleanedText':'','tagMap':new Map()};const _0x326024=_0x11a89d=>{function _0x465c5a(_0x8c1bb9,_0x35fac4,_0x18a6fc,_0x2f302b){return _0x46f4cd(_0x8c1bb9-0x60,_0x8c1bb9,_0x18a6fc-0x9b,_0x18a6fc-0x25a);}function _0x4ede45(_0x15c5f9,_0x455b6d,_0x4445c5,_0x2e6149){return _0x559337(_0x15c5f9-0x154,_0x2e6149,_0x4445c5- -0x2ad,_0x2e6149-0x188);}if(_0x10f060[_0x465c5a(0x217,0x20b,0x1da,0x217)](_0x10f060['JmEbp'],_0x10f060['UlWfM'])){const {original:_0x5253c1,cleaned:_0xb4037c,skip:_0x3bea34}=_0x4a6a29;if(_0x3bea34){const _0x43d533={};return _0x43d533[_0x465c5a(0x24f,0x22c,0x200,0x24f)]=_0x5253c1,_0x43d533['translatio'+'n']='',_0x43d533[_0x465c5a(0x1a4,0x138,0x189,0x157)]=_0xb4037c,_0x43d533[_0x4ede45(-0x286,-0x28d,-0x2ca,-0x309)]=!![],_0x43d533;}const _0x503f6e=_0x345f42[_0xb4037c[_0x4ede45(-0x255,-0x2a1,-0x259,-0x299)+'e']()]||'',_0x2dcfbe={};return _0x2dcfbe[_0x465c5a(0x1e7,0x1ad,0x200,0x1e0)]=_0x5253c1,_0x2dcfbe['translatio'+'n']=_0x503f6e,_0x2dcfbe[_0x4ede45(-0x27b,-0x2dd,-0x29e,-0x297)]=_0xb4037c,_0x2dcfbe[_0x4ede45(-0x2d4,-0x300,-0x2ca,-0x2cc)]=![],_0x2dcfbe;}else{const _0x28f904=[];let _0x47a126='',_0x2a9973=![];for(let _0x32fd75=0x14c5+-0x210d*-0x1+-0x35d2;_0x32fd75<_0x11a89d[_0x465c5a(0x238,0x20f,0x1eb,0x235)];_0x32fd75++){const _0x44b370=_0x11a89d[_0x32fd75];if(_0x10f060[_0x465c5a(0x17c,0x216,0x1da,0x1b0)](_0x44b370,'$'))_0x2a9973=!_0x2a9973,_0x47a126+=_0x44b370;else{if((_0x10f060[_0x465c5a(0x192,0x1fe,0x1da,0x1d0)](_0x44b370,',')||_0x44b370==='，')&&!_0x2a9973){const _0x448721=_0x47a126[_0x465c5a(0x16e,0x15a,0x181,0x1d3)]();if(_0x448721)_0x28f904[_0x465c5a(0x105,0x17d,0x155,0x1a1)](_0x448721);_0x47a126='';}else _0x47a126+=_0x44b370;}}if(_0x47a126[_0x4ede45(-0x29a,-0x300,-0x2a6,-0x249)]())_0x28f904['push'](_0x47a126[_0x465c5a(0x12e,0x1d9,0x181,0x16d)]());return _0x28f904;}},_0x39d741=_0x10f060[_0x46f4cd(-0x75,-0xce,-0x9b,-0xbe)](_0x326024,_0x57fd2f),_0x3b7eae=[],_0x17aabd=[];function _0x559337(_0x2cfeb6,_0x1f1498,_0x161cc4,_0x41e980){return _0x5206(_0x161cc4- -0x129,_0x1f1498);}const _0x16c10d=new Map();for(const _0x457fb4 of _0x39d741){if(_0x10f060['xCroC'](_0x10f060[_0x559337(-0x39,0x24,0x1e,-0x34)],_0x10f060[_0x559337(0x12,0x14,0x1e,0x48)])){const _0x3656a8=_0x457fb4[_0x559337(0xc9,0x6b,0x7e,0xda)](SD_SYMBOL_PATTERN);if(_0x3656a8){if(_0x10f060[_0x46f4cd(-0xba,-0x59,-0x87,-0x7b)]('Gkqkk',_0x10f060[_0x559337(0x8,-0x1,0x56,0x4c)])){if(_0x1cb480){const _0x3a33db=_0x199bef['apply'](_0x224535,arguments);return _0x42e4a4=null,_0x3a33db;}}else{const _0x4de21b=_0x3656a8[0x1931+0x2*0xbdd+0x1*-0x30ea]||'',_0x327f98=(_0x3656a8[-0xad*0xb+0x31c*-0xc+0xc9*0x39]||'')[_0x559337(-0x19,0x23,0x7,-0x1b)](),_0x44792b=_0x3656a8[0x703+0x76a+-0x52*0x2d]||'',_0x34be1b=_0x3656a8[0x1*0x127f+0x6c0+0x193b*-0x1]||'',_0x4efe36={'original':_0x457fb4,'cleaned':_0x327f98,'prefix':_0x4de21b,'suffix':_0x44792b,'weight':_0x34be1b,'skip':shouldSkipTranslation(_0x457fb4)||_0x10f060['qBPst'](shouldSkipTranslation,_0x327f98)};_0x3b7eae[_0x46f4cd(-0x126,-0x164,-0xe6,-0x105)](_0x4efe36),!_0x4efe36[_0x46f4cd(-0x70,-0x8f,-0xf8,-0xa5)]&&_0x327f98&&(_0x17aabd['push'](_0x327f98),_0x16c10d['set'](_0x327f98['toLowerCas'+'e'](),_0x4efe36));}}else{const _0x3c6e50={'original':_0x457fb4,'cleaned':_0x457fb4,'prefix':'','suffix':'','weight':'','skip':_0x10f060['NjKeU'](shouldSkipTranslation,_0x457fb4)};_0x3b7eae[_0x46f4cd(-0xd7,-0xc4,-0xab,-0x105)](_0x3c6e50);if(!_0x3c6e50[_0x559337(0x91,0x27,0x3b,0x42)]&&_0x457fb4){if(_0x10f060['cAqMk']('VrxSM',_0x10f060[_0x559337(0x3,0xe,-0x23,0x15)]))_0x17aabd[_0x559337(-0x6f,-0xb,-0x25,0x2f)](_0x457fb4),_0x16c10d[_0x46f4cd(-0x5c,-0xa3,-0x62,-0xb2)](_0x457fb4['toLowerCas'+'e'](),_0x3c6e50);else{const _0x1f146b=_0x1a724b[_0x447db3];if(_0x10f060[_0x46f4cd(-0x27,-0xa2,-0x33,-0x80)](_0x1f146b,'$'))_0x2e26ad=!_0x20dcbc,_0x1ef74b+=_0x1f146b;else{if((_0x1f146b===','||_0x1f146b==='，')&&!_0x11d8fa){const _0x429acf=_0x2da618[_0x46f4cd(-0xa3,-0x12e,-0xb7,-0xd9)]();if(_0x429acf)_0x2e6b37['push'](_0x429acf);_0x943c7b='';}else _0x128da1+=_0x1f146b;}}}}}else{_0x470bd8[_0x46f4cd(-0xc2,-0x86,-0x32,-0x75)](_0x46f4cd(-0x123,-0x11f,-0xa5,-0x100)+_0x559337(0x49,0x80,0x34,0x6b)+':',_0x4edf54);throw _0x51de80;}}return{'originalTags':_0x3b7eae,'cleanedTags':_0x17aabd,'cleanedText':tagsToJsonString(_0x17aabd),'tagMap':_0x16c10d};}export function combineTranslationResult(_0xf9800e,_0x5bb52f){function _0x641000(_0x1f6c04,_0x250b08,_0x9c280c,_0x273bd8){return _0x5206(_0x9c280c-0x374,_0x1f6c04);}const _0x5c0d70={};_0x5c0d70['YqkdK']=function(_0x1609b0,_0x101568){return _0x1609b0===_0x101568;};function _0x239c8a(_0x3d5c6f,_0x99392d,_0x37dc1a,_0x3156fb){return _0x5206(_0x3d5c6f- -0x2c8,_0x37dc1a);}_0x5c0d70['URFxr']=_0x641000(0x4cc,0x4eb,0x4a1,0x4bc),_0x5c0d70[_0x239c8a(-0x135,-0x154,-0x131,-0x15f)]=function(_0x115af9,_0x455d80){return _0x115af9===_0x455d80;},_0x5c0d70['srKiV']=_0x239c8a(-0x1c6,-0x1ff,-0x1b0,-0x1dd);const _0x40521a=_0x5c0d70;if(!_0xf9800e||!Array[_0x239c8a(-0x11b,-0x164,-0xd7,-0xdd)](_0xf9800e))return[];const _0x8b8b6e={};if(_0x5bb52f&&_0x40521a[_0x641000(0x425,0x46e,0x474,0x489)](typeof _0x5bb52f,_0x40521a[_0x239c8a(-0x142,-0x119,-0x10d,-0x198)]))for(const [_0x35d1f8,_0x2dc931]of Object[_0x239c8a(-0x1b9,-0x1b7,-0x1f0,-0x216)](_0x5bb52f)){if(_0x40521a[_0x641000(0x4ea,0x55c,0x507,0x505)](_0x40521a['srKiV'],_0x239c8a(-0x1c6,-0x1f4,-0x184,-0x19f)))_0x8b8b6e[_0x35d1f8[_0x239c8a(-0x14b,-0x1a4,-0x147,-0xf0)+'e']()]=_0x2dc931;else return _0x2b5862;}return _0xf9800e[_0x239c8a(-0x136,-0x18d,-0x17a,-0x14e)](_0x6fcaee=>{function _0x266ab0(_0x5dda5b,_0x5191b3,_0x185deb,_0x5242b0){return _0x641000(_0x5dda5b,_0x5191b3-0x37,_0x5242b0- -0x192,_0x5242b0-0x1bb);}const {original:_0x7792cc,cleaned:_0x31f452,skip:_0x2cf3e2}=_0x6fcaee;if(_0x2cf3e2){const _0x22f302={};return _0x22f302[_0x266ab0(0x3b5,0x341,0x3d3,0x391)]=_0x7792cc,_0x22f302[_0x21db25(0xe2,0x141,0x135,0x147)+'n']='',_0x22f302[_0x266ab0(0x312,0x322,0x310,0x31a)]=_0x31f452,_0x22f302[_0x21db25(0xe8,0x123,0x10b,0xe3)]=!![],_0x22f302;}const _0x3b13db=_0x8b8b6e[_0x31f452[_0x21db25(0x19b,0x1db,0x17c,0x162)+'e']()]||'',_0x19a089={};function _0x21db25(_0x2f5db4,_0x35056b,_0x50b466,_0x184042){return _0x239c8a(_0x50b466-0x2c7,_0x35056b-0x61,_0x184042,_0x184042-0xa6);}return _0x19a089[_0x266ab0(0x336,0x3ba,0x3b7,0x391)]=_0x7792cc,_0x19a089[_0x21db25(0x17d,0xe4,0x135,0x135)+'n']=_0x3b13db,_0x19a089['cleaned']=_0x31f452,_0x19a089['skipped']=![],_0x19a089;});}export function formatTranslationDisplay(_0x4dd1b2,_0x1393ad={}){const _0x2b862b={'rLmBO':function(_0x5e9acc,_0x242944){return _0x5e9acc!==_0x242944;},'liFmP':_0x22f643(-0x12d,-0x1d0,-0x182,-0x13c),'Uyean':function(_0x21b4c7){return _0x21b4c7();},'iWULX':function(_0x9c61e,_0x871a8c){return _0x9c61e===_0x871a8c;},'NEDrz':'tXwGI','WNNyp':_0x2ce745(0x105,0x14b,0xf1,0x10c),'MYkMd':'VgzdO'};function _0x2ce745(_0x214e4c,_0x4c59a7,_0x5441e4,_0x3ba8b0){return _0x5206(_0x5441e4- -0x7f,_0x4c59a7);}const {separator:separator=',\x20',showOriginal:showOriginal=!![],showTranslation:showTranslation=!![]}=_0x1393ad;function _0x22f643(_0x1d442d,_0x17a284,_0xa052a3,_0x2e3054){return _0x5206(_0xa052a3- -0x2a2,_0x1d442d);}if(!_0x4dd1b2||!Array[_0x2ce745(0x100,0xe5,0x12e,0x109)](_0x4dd1b2)){if(_0x2b862b['iWULX'](_0x2b862b[_0x22f643(-0x140,-0x13e,-0x18b,-0x1e9)],_0x2b862b[_0x2ce745(0x93,0x61,0x98,0xa3)]))return'';else{const _0x4e83a6=_0x2b862b[_0x2ce745(0xf2,0x12a,0xfb,0x100)](_0x4fa298);_0x4c5529['log']('st-chatu8:'+'\x20请求获取翻译提示词'+_0x2ce745(0x137,0xec,0xec,0x13a)+_0x4e83a6+')');const _0x564b94=_0x24bb13=>{function _0x50b796(_0x159d00,_0xf77cfd,_0x362dcc,_0x20317e){return _0x22f643(_0x159d00,_0xf77cfd-0x128,_0xf77cfd-0x358,_0x20317e-0xa3);}if(_0x2b862b['rLmBO'](_0x24bb13['id'],_0x4e83a6))return;_0x18941a[_0x2b0d45(0x32e,0x35f,0x2ed,0x316)+_0x50b796(0x1e9,0x1c9,0x1b0,0x193)](_0x34a868[_0x2b0d45(0x376,0x36e,0x2d6,0x31d)+_0x50b796(0x2b5,0x258,0x26c,0x29c)+_0x2b0d45(0x347,0x396,0x350,0x362)+_0x2b0d45(0x3a8,0x353,0x3ef,0x3a6)],_0x564b94);const {prompt:_0x1e6882}=_0x24bb13;_0x28332b[_0x2b0d45(0x322,0x38f,0x360,0x379)](_0x2b0d45(0x2ea,0x352,0x2f5,0x323)+'\x20已获取翻译提示词\x20'+_0x50b796(0x27d,0x268,0x20a,0x288)+_0x4e83a6+'):',_0x1e6882);function _0x2b0d45(_0x1a0a4a,_0x2dd549,_0x536c01,_0x4c115c){return _0x2ce745(_0x1a0a4a-0x5,_0x536c01,_0x4c115c-0x299,_0x4c115c-0x7a);}_0xd09766(_0x1e6882);};_0x1c1fbf['on'](_0x2ca61d[_0x22f643(-0x166,-0x1f8,-0x19f,-0x19f)+_0x22f643(-0xca,-0x12d,-0x100,-0x11e)+_0x2ce745(0xe6,0xf4,0xc9,0x90)+_0x2ce745(0xbe,0xe3,0x10d,0xe3)],_0x564b94);const _0x51656b={};_0x51656b['id']=_0x4e83a6,_0x163b83[_0x2ce745(0xc2,0xde,0xe3,0xd4)](_0x4da929['LLM_TRANSL'+'ATION_GET_'+_0x2ce745(0x136,0x137,0xef,0x90)+'UEST'],_0x51656b),_0x542b33(()=>{function _0x28ab08(_0x597773,_0xdb252c,_0x3dfe39,_0x475ea6){return _0x2ce745(_0x597773-0xbd,_0xdb252c,_0x475ea6-0x40,_0x475ea6-0x46);}_0x37c1b6['removeList'+_0x3b98f2(0x3de,0x3ca,0x40d,0x393)](_0x4f20d5[_0x3b98f2(0x3ce,0x399,0x3d8,0x41b)+_0x28ab08(0x1bb,0x129,0x1ba,0x163)+_0x3b98f2(0x413,0x3f9,0x411,0x468)+_0x28ab08(0x14f,0x19e,0x164,0x14d)],_0x564b94);function _0x3b98f2(_0x1d5f9f,_0x35d55e,_0x100b37,_0x4a3925){return _0x2ce745(_0x1d5f9f-0x44,_0x35d55e,_0x1d5f9f-0x34a,_0x4a3925-0xe0);}_0x5e8b45(new _0x1c0f38(_0x2b862b[_0x3b98f2(0x475,0x498,0x44b,0x419)]));},-0x29c*-0x17+-0x3e75+0x271*0x11);}}return _0x4dd1b2[_0x22f643(-0x107,-0x13d,-0x110,-0x108)](_0x340570=>{function _0x41a39a(_0x1bcf0b,_0x211794,_0x51eed9,_0x50a93f){return _0x22f643(_0x211794,_0x211794-0x195,_0x51eed9-0x40e,_0x50a93f-0x1d8);}if(_0x340570[_0x41a39a(0x27c,0x2cf,0x278,0x29a)]){if(_0x2b862b[_0x254efc(0x131,0x179,0x16d,0x11b)](_0x2b862b[_0x41a39a(0x287,0x2ae,0x282,0x22d)],_0x2b862b[_0x254efc(0x16f,0x131,0x101,0xe8)])){if(_0x206cbe[_0x254efc(0x12e,0x111,0x11b,0x161)])return _0x55f2b7?_0x14eea7['original']:'';const _0x1062bf=[];if(_0x1ca5bc)_0x1062bf['push'](_0xcc5f16[_0x254efc(0x1f3,0x1b4,0x1e9,0x17f)]);return _0x43c706&&_0x8f22f4['translatio'+'n']&&_0x1062bf[_0x254efc(0x155,0x109,0xc8,0x11a)]('('+_0xd593d1[_0x254efc(0x172,0x13b,0xf4,0x139)+'n']+')'),_0x1062bf[_0x41a39a(0x245,0x22a,0x27c,0x2b4)]('\x20');}else return showOriginal?_0x340570[_0x254efc(0x194,0x1b4,0x164,0x192)]:'';}const _0x505015=[];if(showOriginal)_0x505015[_0x254efc(0x10b,0x109,0x15b,0x163)](_0x340570[_0x41a39a(0x2d0,0x36c,0x31b,0x2f5)]);function _0x254efc(_0x3e84b6,_0x24671e,_0x59bbdf,_0x27c06f){return _0x2ce745(_0x3e84b6-0x1b4,_0x3e84b6,_0x24671e-0x84,_0x27c06f-0x13);}return showTranslation&&_0x340570[_0x254efc(0x187,0x13b,0x18b,0x130)+'n']&&_0x505015[_0x41a39a(0x2bd,0x2c2,0x270,0x282)]('('+_0x340570[_0x254efc(0x153,0x13b,0x13a,0xe4)+'n']+')'),_0x505015[_0x41a39a(0x224,0x280,0x27c,0x2c6)]('\x20');})[_0x22f643(-0x107,-0x10f,-0x14e,-0x171)](Boolean)[_0x22f643(-0x1af,-0x1d1,-0x192,-0x1e1)](separator);}export async function translatePromptTags(_0x52b5b2){const _0x12fd0f={'mVDDb':_0x2e1962(-0x9d,-0xe0,-0xa9,-0x105)+_0x2e1962(-0x8d,-0x7e,-0x91,-0x7a)+_0x35daf6(0x355,0x35b,0x371,0x376),'TCHpf':_0x2e1962(-0xba,-0x51,-0x85,-0x7d),'DPhxZ':function(_0x4d7cb0,_0x2ec5a9){return _0x4d7cb0!==_0x2ec5a9;},'xjQSQ':function(_0x33c9ec,_0x32c5cf){return _0x33c9ec===_0x32c5cf;},'rPXGg':_0x35daf6(0x2a4,0x34a,0x315,0x2f8),'pSDCi':_0x2e1962(-0x4e,0xd,0x3,0x5c),'mAZRL':function(_0x2b82ec,_0x1897d6){return _0x2b82ec===_0x1897d6;},'ggAJa':'WelqW','yvYgH':function(_0x8e0700,_0xc17f68){return _0x8e0700(_0xc17f68);},'qxTei':function(_0x21038f,_0x37ea3a,_0x50a813){return _0x21038f(_0x37ea3a,_0x50a813);},'QgsAy':function(_0x1685aa,_0x133b72){return _0x1685aa(_0x133b72);},'auZgt':_0x35daf6(0x366,0x313,0x310,0x349),'QSaVS':_0x35daf6(0x344,0x362,0x330,0x36d),'IPrRX':'st-chatu8:'+_0x2e1962(-0x69,-0xb0,-0x55,-0x9f)+':'};function _0x2e1962(_0x2361cb,_0x2c04b9,_0x3b2e67,_0x1e322e){return _0x5206(_0x3b2e67- -0x1b2,_0x1e322e);}const {originalTags:_0x269e81,cleanedText:_0x3c333e}=preprocessPromptForTranslation(_0x52b5b2);function _0x35daf6(_0x43fbc8,_0x31e160,_0xe83c79,_0x5eec2f){return _0x5206(_0x5eec2f-0x1f1,_0x31e160);}if(!_0x3c333e){if(_0x12fd0f[_0x2e1962(-0x35,-0x62,-0x69,-0x4e)](_0x12fd0f[_0x2e1962(-0x82,-0xb7,-0x95,-0x51)],_0x12fd0f['pSDCi']))return _0x40f0d9[_0x35daf6(0x3ab,0x348,0x339,0x368)]();else{const _0xc4ad0e={};return _0xc4ad0e['results']=[],_0xc4ad0e[_0x2e1962(0x16,0x25,-0x1,-0x50)+'t']='',_0xc4ad0e[_0x2e1962(-0xc0,-0xc3,-0x75,-0xcc)+'gs']=[],_0xc4ad0e;}}try{if(_0x12fd0f[_0x2e1962(-0x78,-0xe3,-0x8b,-0xe3)](_0x12fd0f[_0x35daf6(0x34b,0x36d,0x386,0x38a)],_0x12fd0f[_0x35daf6(0x373,0x3dc,0x345,0x38a)])){const _0x585ba9=await _0x12fd0f[_0x2e1962(-0xe7,-0xa8,-0x98,-0x42)](callTranslation,_0x3c333e),_0x433e31=_0x12fd0f[_0x35daf6(0x2ff,0x335,0x2ae,0x30b)](parseTranslationResult,_0x585ba9),_0x15d981=_0x12fd0f[_0x2e1962(-0x36,0x24,-0x2e,-0x57)](combineTranslationResult,_0x269e81,_0x433e31),_0x225ea8=_0x12fd0f[_0x2e1962(-0x46,-0x1a,-0x13,0x1c)](formatTranslationDisplay,_0x15d981),_0x3c026f={};return _0x3c026f['results']=_0x15d981,_0x3c026f['displayTex'+'t']=_0x225ea8,_0x3c026f[_0x2e1962(-0x2a,-0xca,-0x75,-0x4e)+'gs']=_0x269e81,_0x3c026f;}else!_0x5d30da&&(_0x30c792['log'](_0x12fd0f[_0x35daf6(0x2d5,0x32a,0x2d4,0x324)]),_0x137b1f=!![]);}catch(_0x2101ae){if(_0x12fd0f[_0x35daf6(0x39c,0x322,0x370,0x363)]!==_0x12fd0f['QSaVS']){console[_0x35daf6(0x356,0x3a3,0x38b,0x385)](_0x12fd0f[_0x35daf6(0x2d9,0x333,0x324,0x2ec)],_0x2101ae);throw _0x2101ae;}else{const _0x5cbd78=_0x1c3647[_0x2e1962(-0x41,-0x95,-0x72,-0x66)](_0x100ef8[0xf4*0x7+-0x10f3*-0x1+-0x179f]);if(typeof _0x5cbd78===_0x12fd0f[_0x35daf6(0x2b1,0x312,0x2d0,0x302)]&&_0x12fd0f[_0x35daf6(0x336,0x306,0x369,0x347)](_0x5cbd78,null))return _0x5cbd78;}}}export function parseTranslationResult(_0x1ffbff){const _0x40040b={};_0x40040b['nNZuc']=function(_0x4ea295,_0x321a53){return _0x4ea295===_0x321a53;},_0x40040b[_0x50e9de(0x238,0x1f7,0x268,0x213)]=_0x50e9de(0x1bc,0x1ae,0x1b9,0x1e7),_0x40040b['qtnNP']=function(_0x483b5f,_0x27f7b0){return _0x483b5f!==_0x27f7b0;},_0x40040b[_0x50e9de(0x217,0x213,0x202,0x214)]='RSVDn',_0x40040b[_0x39db50(0x54,0x74,0x4c,0x3c)]=_0x50e9de(0x21d,0x21e,0x246,0x24f),_0x40040b['yzKkV']=_0x39db50(0x40,0x1f,-0x24,-0xe),_0x40040b['kJQcw']=function(_0x29eddb,_0x1b991e){return _0x29eddb>_0x1b991e;},_0x40040b[_0x39db50(-0xc,0x46,0x3c,0x5c)]=function(_0x1e226e,_0x4e7092){return _0x1e226e+_0x4e7092;};const _0x2c2ce2=_0x40040b;function _0x50e9de(_0x41be4c,_0x34da0c,_0x3fdae9,_0x37feda){return _0x5206(_0x37feda-0xba,_0x34da0c);}if(!_0x1ffbff)return{};try{const _0x55dc1f=_0x1ffbff[_0x39db50(0x94,0x6b,0xa7,0xa2)](/\{[\s\S]*\}/);if(_0x55dc1f){const _0x43cb2c=JSON[_0x39db50(0x54,0x4,0xa,0x5d)](_0x55dc1f[-0x8*0x162+-0x1d79+0x2889]);if(_0x2c2ce2['nNZuc'](typeof _0x43cb2c,_0x2c2ce2[_0x50e9de(0x23f,0x1da,0x234,0x213)])&&_0x43cb2c!==null)return _0x43cb2c;}}catch(_0x5578ff){_0x2c2ce2[_0x39db50(0x9a,0x4b,0x64,0x30)](_0x2c2ce2[_0x50e9de(0x208,0x1cf,0x1de,0x214)],_0x2c2ce2['mpoFF'])?console[_0x39db50(0x3,-0x14,0x25,-0x41)](_0x39db50(-0x5e,-0x33,0x13,-0x19)+_0x50e9de(0x2b1,0x2b2,0x255,0x265)+_0x50e9de(0x22a,0x1d4,0x244,0x1f4),_0x5578ff[_0x50e9de(0x247,0x267,0x294,0x238)]):(_0x178c31[_0x39db50(0xb,-0x38,-0x67,-0x1d)](_0x1d271e),_0x3e6d8c['set'](_0x4a595f[_0x50e9de(0x237,0x246,0x21f,0x237)+'e'](),_0x531018));}const _0xc2921a=String(_0x1ffbff)[_0x39db50(0x55,0x29,0x17,-0x4)](/[\r\n]+/g,'\x20')[_0x39db50(-0x2,0x29,-0x1a,0x34)](/^[\s"'`]+|[\s"'`]+$/g,'')[_0x39db50(-0x1e,-0xc,-0x25,0x2c)](),_0x193f78=_0xc2921a[_0x39db50(-0x98,-0x42,-0x6d,-0x88)](/[,，]/)[_0x39db50(-0x9,0x56,0x53,0x31)](_0x10b4d8=>_0x10b4d8[_0x39db50(-0x51,-0xc,-0x48,-0x50)]())['filter'](Boolean),_0x2b480b={};function _0x39db50(_0x2c5959,_0x266203,_0x32669a,_0x5be0c3){return _0x5206(_0x266203- -0x13c,_0x5be0c3);}for(const _0x42efde of _0x193f78){if(_0x2c2ce2[_0x39db50(0x38,-0x1e,-0xe,-0x75)](_0x2c2ce2[_0x50e9de(0x267,0x1f7,0x22d,0x24a)],_0x2c2ce2[_0x39db50(0x98,0x54,0x9e,0xa8)])){const _0x181b3f=_0x42efde[_0x39db50(-0x49,-0x3,0x54,-0x54)]('\x5c');if(_0x2c2ce2['kJQcw'](_0x181b3f,0xe46+-0x8c4+-0x582)){const _0xb2631b=_0x42efde[_0x50e9de(0x21f,0x22c,0x26b,0x224)](0xf*0x163+0x215d+-0x362a,_0x181b3f)[_0x39db50(-0x20,-0xc,-0x43,-0x47)](),_0x3797bd=_0x42efde[_0x39db50(-0x23,0x2e,0x5a,0x84)](_0x2c2ce2[_0x39db50(0x53,0x46,0x50,0x16)](_0x181b3f,-0xffe+-0x148+-0x1*-0x1147))[_0x50e9de(0x23e,0x19a,0x1b9,0x1ea)]();if(_0xb2631b)_0x2b480b[_0xb2631b]=_0x3797bd;}}else{const _0x1443a4={};return _0x1443a4[_0x50e9de(0x1aa,0x217,0x1b1,0x1f8)]=[],_0x1443a4[_0x39db50(0x9e,0x75,0x36,0x73)+'t']='',_0x1443a4[_0x50e9de(0x234,0x1b7,0x1b0,0x1f7)+'gs']=[],_0x1443a4;}}return _0x2b480b;}function generateRequestId(){function _0x2e1ab3(_0x155b14,_0x53a005,_0x11bb8a,_0x14bdf3){return _0x5206(_0x14bdf3- -0x2c6,_0x53a005);}const _0x24aafb={'ffUVz':function(_0x3af587,_0x5a70de){return _0x3af587(_0x5a70de);},'pPjmQ':_0xb260c7(-0xfc,-0x158,-0x112,-0x188),'XzFJa':function(_0x3ce596){return _0x3ce596();},'fqFRj':function(_0x2f310c,_0x4406a6){return _0x2f310c===_0x4406a6;},'CITlg':_0xb260c7(-0x14a,-0x107,-0x10d,-0x117),'gPDpg':_0x2e1ab3(-0xfd,-0x10e,-0x114,-0x146),'WQjfq':function(_0x3898fb,_0x2933d4){return _0x3898fb+_0x2933d4;}};if(crypto&&crypto[_0x2e1ab3(-0xf2,-0x19a,-0x15a,-0x14f)]){if(_0x24aafb[_0x2e1ab3(-0x197,-0x126,-0x160,-0x171)](_0x24aafb['CITlg'],_0x24aafb[_0x2e1ab3(-0x178,-0x1d9,-0x197,-0x18f)])){const _0x1b8421={'TRQor':function(_0x5d6712,_0x3f98f2){function _0x700219(_0xfa9f80,_0x5b3dce,_0x2e73a2,_0x27dd9f){return _0xb260c7(_0xfa9f80-0x1cd,_0xfa9f80- -0xe4,_0x2e73a2-0x1a8,_0x5b3dce);}return _0x24aafb[_0x700219(-0x20f,-0x200,-0x1ca,-0x231)](_0x5d6712,_0x3f98f2);},'Uzkkb':_0x24aafb['pPjmQ'],'sFqbp':function(_0x3a337a){return _0x24aafb['XzFJa'](_0x3a337a);}};return new _0x46a911((_0x15d0ab,_0x46dda7)=>{const _0x5c3f7f={'NXnot':function(_0x278b97,_0x4371dc){function _0x224279(_0x1ace6e,_0x3bca37,_0x4fafbe,_0x267aa7){return _0x5206(_0x1ace6e-0x33e,_0x3bca37);}return _0x1b8421[_0x224279(0x4e1,0x510,0x52a,0x4ed)](_0x278b97,_0x4371dc);},'OplXz':_0x1b8421['Uzkkb']},_0x44825f=_0x1b8421['sFqbp'](_0x7ec8f0);_0x1cdda8[_0x1e3392(0x305,0x2db,0x2c9,0x2ad)]('st-chatu8:'+_0x44cb4d(0x557,0x54c,0x4e0,0x526)+'\x20(ID:\x20'+_0x44825f+')');function _0x1e3392(_0x41d666,_0x5589eb,_0x2044b5,_0x309a89){return _0xb260c7(_0x41d666-0xdc,_0x309a89-0x3c6,_0x2044b5-0x22,_0x2044b5);}const _0x396256=_0xae296f=>{if(_0xae296f['id']!==_0x44825f)return;_0x10c467['removeList'+_0x50597b(0x414,0x468,0x453,0x43f)](_0x2dc6b0[_0x28ad00(0x24c,0x212,0x1b9,0x247)+'ATION_GET_'+_0x50597b(0x440,0x464,0x488,0x43e)+'PONSE'],_0x396256);const {prompt:_0x46b21c}=_0xae296f;function _0x28ad00(_0x1bda7f,_0x1665f4,_0x388167,_0x260d82){return _0x44cb4d(_0x1bda7f-0x10f,_0x260d82,_0x388167-0x1f2,_0x1665f4- -0x28c);}_0x51950c[_0x50597b(0x45c,0x45c,0x49f,0x464)](_0x28ad00(0x265,0x218,0x228,0x277)+'\x20已获取翻译提示词\x20'+_0x28ad00(0x31b,0x2c1,0x2cd,0x309)+_0x44825f+'):',_0x46b21c);function _0x50597b(_0x5df4b1,_0x26ff14,_0x5b7228,_0x1775fe){return _0x44cb4d(_0x5df4b1-0x135,_0x5df4b1,_0x5b7228-0x10f,_0x5b7228- -0x5b);}_0x5c3f7f['NXnot'](_0x15d0ab,_0x46b21c);};function _0x44cb4d(_0x57859f,_0x14341a,_0x5d165e,_0x3b94ba){return _0x2e1ab3(_0x57859f-0x84,_0x14341a,_0x5d165e-0x127,_0x3b94ba-0x661);}_0x27d5e8['on'](_0x1a7275[_0x1e3392(0x27e,0x223,0x26a,0x251)+_0x44cb4d(0x50c,0x51c,0x555,0x53d)+_0x1e3392(0x256,0x2db,0x2e9,0x296)+_0x1e3392(0x301,0x334,0x2f0,0x2da)],_0x396256);const _0x4f0583={};_0x4f0583['id']=_0x44825f,_0x257ff3['emit'](_0x51ab27[_0x44cb4d(0x48b,0x4cc,0x479,0x49e)+'ATION_GET_'+_0x44cb4d(0x4c8,0x52d,0x541,0x509)+_0x1e3392(0x2cf,0x271,0x2a2,0x293)],_0x4f0583),_0x2e03da(()=>{function _0x139c0f(_0x3f41d0,_0x406c60,_0x3db13f,_0x27399e){return _0x44cb4d(_0x3f41d0-0x9f,_0x27399e,_0x3db13f-0x146,_0x406c60- -0x66b);}function _0x582db6(_0x35b443,_0x236ff7,_0x50fa98,_0x2dafdb){return _0x1e3392(_0x35b443-0x3a,_0x236ff7-0xd1,_0x50fa98,_0x35b443-0xfc);}_0x8ede19[_0x582db6(0x346,0x322,0x35e,0x2eb)+_0x582db6(0x35d,0x327,0x3aa,0x36b)](_0x221319[_0x582db6(0x34d,0x3aa,0x322,0x307)+'ATION_GET_'+_0x139c0f(-0x13e,-0x188,-0x1be,-0x169)+_0x139c0f(-0x128,-0x144,-0x145,-0xf5)],_0x396256),_0x46dda7(new _0xbe6008(_0x5c3f7f['OplXz']));},0x35a0+0x3ab0+-0x4940);});}else return crypto['randomUUID']();}function _0xb260c7(_0x536f4f,_0x4de46d,_0xdb1c0f,_0x5124cc){return _0x5206(_0x4de46d- -0x278,_0x5124cc);}return _0x24aafb[_0xb260c7(-0xf5,-0x129,-0x17a,-0xe1)](Date[_0xb260c7(-0x16e,-0x152,-0x18f,-0xf7)]()[_0xb260c7(-0x17a,-0x127,-0x158,-0x17f)](0x12ed+0x1b24+0x3*-0xf4f),Math[_0xb260c7(-0x183,-0x143,-0xf8,-0x13b)]()['toString'](0x267b+0x9f3*-0x1+-0x1c64)['substring'](-0x1*0xb5b+-0x1dd8+0x4d*0x89));}export function LLM_TRANSLATION_GET_PROMPT(){function _0x483b67(_0x1fe1f8,_0x3badf7,_0x1a77cd,_0x13da66){return _0x5206(_0x1a77cd-0x171,_0x1fe1f8);}const _0x1f8876={'BMMZs':function(_0x5babd,_0x2a4b3f){return _0x5babd!==_0x2a4b3f;},'LwptX':_0x4eb480(-0x179,-0x206,-0x1d5,-0x1bd),'lmbiN':_0x483b67(0x295,0x2e5,0x2d9,0x28a),'IgUff':function(_0x122c88,_0x18fa3f){return _0x122c88(_0x18fa3f);},'SZMzr':'获取翻译提示词超时','cEuOi':_0x4eb480(-0x176,-0x136,-0x19e,-0x152),'HEDkp':function(_0x46086a,_0x4ad4c4){return _0x46086a===_0x4ad4c4;},'BAMeB':_0x483b67(0x366,0x360,0x312,0x363),'dbEml':'CZfou','dQweb':_0x4eb480(-0x1fd,-0x1bd,-0x165,-0x1c1),'kwlOH':function(_0x5587f4){return _0x5587f4();}};function _0x4eb480(_0x3a032f,_0x524dfc,_0x3775aa,_0x3f262f){return _0x5206(_0x3f262f- -0x2d5,_0x524dfc);}return new Promise((_0x2c9346,_0x1b336f)=>{const _0x3bb1a8={'LjnTV':_0x1f8876['SZMzr'],'HphKn':_0x1f8876[_0x51e59a(-0x79,-0x47,-0xa4,0x2)],'ggwKw':function(_0x165d66,_0x4753b0){return _0x165d66(_0x4753b0);},'IrPfn':function(_0x43ad9e,_0x20e308){function _0x453594(_0x1d8853,_0x3d304a,_0x5e32cc,_0x5c795c){return _0x51e59a(_0x1d8853-0x51,_0x5c795c- -0x25d,_0x5e32cc-0x94,_0x3d304a);}return _0x1f8876[_0x453594(-0x1e9,-0x209,-0x1fc,-0x22b)](_0x43ad9e,_0x20e308);},'WtSKM':_0x1f8876[_0x51e59a(-0x1b,-0x54,-0xad,-0x6f)],'GtQYK':function(_0x599f47,_0x50144a){function _0xb746c5(_0x555c5b,_0x51263f,_0x19a101,_0x45e0d0){return _0x30abb4(_0x555c5b- -0x255,_0x51263f-0x1ca,_0x19a101-0x8f,_0x19a101);}return _0x1f8876[_0xb746c5(0xdf,0x12d,0xbc,0xa0)](_0x599f47,_0x50144a);}};function _0x30abb4(_0x521ff,_0x3bd4fd,_0x48ecc8,_0x184f74){return _0x483b67(_0x184f74,_0x3bd4fd-0x1e2,_0x521ff-0xb8,_0x184f74-0x70);}function _0x51e59a(_0x56e11b,_0x555772,_0x5cd2af,_0x4174bb){return _0x4eb480(_0x56e11b-0x45,_0x4174bb,_0x5cd2af-0x107,_0x555772-0x16f);}if(_0x1f8876['dbEml']===_0x1f8876['dQweb']){const _0x30d252=_0x3136a6[_0x30abb4(0x344,0x2ec,0x38c,0x2f3)](_0x3255f0,arguments);return _0x3b6575=null,_0x30d252;}else{const _0xefa691=_0x1f8876[_0x30abb4(0x34d,0x30e,0x38a,0x367)](generateRequestId);console[_0x30abb4(0x388,0x37c,0x355,0x3a7)]('st-chatu8:'+_0x30abb4(0x3b4,0x3b4,0x3e8,0x3e5)+_0x51e59a(0x21,0x5,-0x59,0x4b)+_0xefa691+')');const _0x5581a1=_0x4a802e=>{function _0xf89146(_0x38aba5,_0x4bd085,_0x47d33f,_0x433866){return _0x30abb4(_0x4bd085- -0x488,_0x4bd085-0x13,_0x47d33f-0x152,_0x38aba5);}function _0x28ab80(_0x636e74,_0x43b1e6,_0x20c835,_0x511fe9){return _0x30abb4(_0x43b1e6- -0x497,_0x43b1e6-0x14c,_0x20c835-0x1d,_0x636e74);}if(_0x1f8876[_0x28ab80(-0x11e,-0x12d,-0x17d,-0xea)](_0x1f8876[_0xf89146(-0x60,-0xa9,-0x9d,-0xaa)],_0x1f8876[_0xf89146(-0x161,-0x151,-0x138,-0x134)])){if(_0x4a802e['id']!==_0xefa691)return;eventSource[_0x28ab80(-0x164,-0x172,-0x1b2,-0x17e)+_0x28ab80(-0x112,-0x15b,-0x18c,-0x132)](eventNames[_0x28ab80(-0x1c7,-0x16b,-0x123,-0x1b6)+_0x28ab80(-0x10a,-0xcc,-0xb5,-0x12a)+_0x28ab80(-0x141,-0x126,-0xc9,-0x173)+_0x28ab80(-0xc1,-0xe2,-0x8f,-0xe1)],_0x5581a1);const {prompt:_0x11ad99}=_0x4a802e;console[_0x28ab80(-0x125,-0x10f,-0x12c,-0xc5)](_0x28ab80(-0x112,-0x165,-0x174,-0x178)+_0x28ab80(-0x163,-0x11b,-0x102,-0x109)+_0xf89146(-0x109,-0xad,-0x104,-0xaf)+_0xefa691+'):',_0x11ad99),_0x1f8876['IgUff'](_0x2c9346,_0x11ad99);}else _0x592ee8[_0x28ab80(-0x165,-0x172,-0x1a1,-0x1c2)+'ener'](_0x3cc84e[_0xf89146(-0x152,-0x15c,-0x18e,-0x17d)+'ATION_GET_'+_0xf89146(-0x14a,-0x117,-0xdc,-0x115)+'PONSE'],_0x14a585),_0x2fbafd(new _0x170a46(_0x3bb1a8[_0x28ab80(-0x15f,-0x10d,-0x149,-0x10a)]));};eventSource['on'](eventNames[_0x30abb4(0x32c,0x35a,0x31d,0x36b)+_0x30abb4(0x3cb,0x379,0x3df,0x3dc)+_0x51e59a(-0x1a,-0x1e,-0x5d,-0x4a)+'PONSE'],_0x5581a1);const _0x25df33={};_0x25df33['id']=_0xefa691,eventSource[_0x30abb4(0x38b,0x3e1,0x3c0,0x3d2)](eventNames['LLM_TRANSL'+_0x51e59a(0x49,0x3c,-0x1e,0x34)+_0x30abb4(0x397,0x34a,0x3c2,0x388)+_0x51e59a(-0x66,-0x21,0x2c,-0x13)],_0x25df33),setTimeout(()=>{function _0x302bca(_0x281735,_0x435549,_0x3c15f0,_0x4a7f24){return _0x30abb4(_0x435549- -0x182,_0x435549-0x28,_0x3c15f0-0x1c6,_0x4a7f24);}function _0x529256(_0x517423,_0x4c5d6a,_0xf1c750,_0x2862aa){return _0x51e59a(_0x517423-0x1d9,_0xf1c750-0x406,_0xf1c750-0x13,_0x4c5d6a);}if(_0x3bb1a8[_0x529256(0x463,0x3ee,0x42d,0x41c)](_0x3bb1a8[_0x529256(0x3f4,0x499,0x445,0x43a)],_0x529256(0x421,0x3f9,0x441,0x479)))eventSource[_0x529256(0x3d0,0x3bf,0x39c,0x3e3)+_0x302bca(0x199,0x1ba,0x19b,0x1ba)](eventNames[_0x302bca(0x17c,0x1aa,0x166,0x171)+_0x302bca(0x2a1,0x249,0x23c,0x254)+_0x302bca(0x1df,0x1ef,0x1fb,0x19c)+'PONSE'],_0x5581a1),_0x3bb1a8['GtQYK'](_0x1b336f,new Error(_0x3bb1a8[_0x529256(0x41a,0x3df,0x401,0x3fe)]));else{const _0x140789=new _0x5c2de6(_0x14a40d[_0x529256(0x3da,0x3ed,0x434,0x48c)][_0x302bca(0x1f0,0x225,0x27f,0x1e1)]);_0x140789[_0x302bca(0x1b8,0x1d1,0x226,0x1ea)]=_0x3bb1a8[_0x529256(0x399,0x38d,0x3e3,0x411)],_0x3bb1a8[_0x302bca(0x1d6,0x1f3,0x212,0x1e4)](_0x457396,_0x140789);}},-0x15b6*0x3+0x1*0x2b3c+0x3cf6);}});}export function LLM_TRANSLATION(_0x520930,{timeoutMs:timeoutMs=-0x6461+-0x18bf6*-0x1+0x1*-0x3d35}={}){function _0x45a6b5(_0x3b3011,_0x208e4f,_0x1ac475,_0x2ac682){return _0x5206(_0x2ac682-0x32a,_0x3b3011);}const _0x5c2128={'LYDHm':function(_0x3ff28d,_0xd77c7c){return _0x3ff28d>_0xd77c7c;},'IFDkq':function(_0x4541dc,_0x365a2a){return _0x4541dc+_0x365a2a;},'HCiyj':function(_0x17ff44,_0x59eccc){return _0x17ff44!==_0x59eccc;},'eeTLE':'tCxZK','sEPpO':function(_0x38890f,_0x967bde){return _0x38890f!==_0x967bde;},'ffjjj':function(_0x4e0d4d){return _0x4e0d4d();},'RNjnc':function(_0x1824c7,_0x1d22b9){return _0x1824c7(_0x1d22b9);},'gwMZS':function(_0x2bcca7,_0x49c81e){return _0x2bcca7!==_0x49c81e;},'FOcyj':_0x2a4f1f(-0x128,-0xcd,-0x108,-0xd9),'sMpcg':_0x2a4f1f(-0x15f,-0x10a,-0x150,-0x122),'Fpwtv':function(_0x4d56c2,_0x90b71){return _0x4d56c2(_0x90b71);},'TLGHC':function(_0x342a50,_0x314326){return _0x342a50===_0x314326;},'KUIkL':_0x2a4f1f(-0x168,-0x13d,-0x1b7,-0x175),'SVBAa':function(_0x2d651e){return _0x2d651e();},'PxSgJ':function(_0x3fa968,_0x34b789){return _0x3fa968===_0x34b789;},'XdTEB':'AbortError','iHiie':_0x45a6b5(0x47d,0x481,0x451,0x432),'IBjAf':function(_0x3c69ab,_0xba99ea,_0x166836){return _0x3c69ab(_0xba99ea,_0x166836);}};function _0x2a4f1f(_0x4419bc,_0x805a24,_0x188ded,_0x3439f7){return _0x5206(_0x4419bc- -0x2ce,_0x805a24);}return new Promise((_0x446c89,_0x5c1786)=>{const _0x4282f0={'Rosip':function(_0x2762a0,_0x547791){function _0x32bf29(_0x2b0ad9,_0x4b46a7,_0x2c4c16,_0x279d65){return _0x5206(_0x279d65- -0xee,_0x2c4c16);}return _0x5c2128[_0x32bf29(0xc9,0x77,0xd7,0xb0)](_0x2762a0,_0x547791);},'ZARnd':_0x5c2128[_0x22bb91(-0x205,-0x1d4,-0x22b,-0x1de)],'YiCav':function(_0x35e466,_0x4ef8bb){return _0x35e466(_0x4ef8bb);},'mubNu':function(_0x5c9b5d,_0x4b77bb){function _0xed2bfa(_0x5827f4,_0x298106,_0x369008,_0x33cb69){return _0x22bb91(_0x298106,_0x298106-0x44,_0x369008-0x72,_0x33cb69-0xa4);}return _0x5c2128[_0xed2bfa(-0xc3,-0xed,-0x10a,-0xaf)](_0x5c9b5d,_0x4b77bb);},'zKBdt':function(_0x14ff3c,_0x3d3232){return _0x14ff3c!==_0x3d3232;},'ZxUVK':_0x5c2128[_0x2f2f0b(-0x174,-0x13e,-0x180,-0x153)]},_0x321618=_0x5c2128[_0x22bb91(-0x133,-0x1e4,-0x161,-0x18c)](generateRequestId);console[_0x22bb91(-0x14c,-0x16f,-0x1d6,-0x1a8)]('st-chatu8:'+_0x2f2f0b(-0x1d4,-0x189,-0x130,-0x179)+'(ID:\x20'+_0x321618+')');let _0x4bf0b3=null;const _0x1ec9a7=()=>{function _0x1d3296(_0xc0e0e1,_0x3605e6,_0x52566b,_0x48ae4d){return _0x22bb91(_0xc0e0e1,_0x3605e6-0x9d,_0x52566b-0x106,_0x3605e6-0x3e7);}function _0x2fdb67(_0x6f58f3,_0x3452ef,_0x17c612,_0x3f6c56){return _0x2f2f0b(_0x17c612,_0x3452ef-0x65b,_0x17c612-0x155,_0x3f6c56-0x39);}if(_0x4282f0['zKBdt'](_0x2fdb67(0x4ea,0x4b8,0x48f,0x4d6),_0x4282f0[_0x2fdb67(0x4e1,0x4de,0x48b,0x4d8)])){if(_0x145bfb[_0x2fdb67(0x4fd,0x544,0x508,0x537)]&&_0x4282f0[_0x2fdb67(0x4da,0x4b5,0x478,0x513)](_0x2bd6cc['error']['name'],_0x2fdb67(0x500,0x533,0x516,0x545))){const _0x5e111e=new _0x4e17f8(_0x5f30d5[_0x1d3296(0x249,0x274,0x282,0x24a)][_0x2fdb67(0x4e6,0x52e,0x58b,0x515)]);_0x5e111e['name']=_0x4282f0[_0x1d3296(0x236,0x23e,0x282,0x246)],_0x4282f0[_0x2fdb67(0x548,0x502,0x4db,0x4d6)](_0x3221d0,_0x5e111e);}else _0x4282f0[_0x1d3296(0x1f1,0x21f,0x1e4,0x25c)](_0x5c920f,new _0x194587(_0x10fd39[_0x1d3296(0x296,0x256,0x268,0x2a3)]));}else{eventSource[_0x2fdb67(0x4d8,0x4ac,0x4da,0x49e)+_0x2fdb67(0x4ba,0x4c3,0x4cb,0x46f)](eventNames[_0x1d3296(0x215,0x1e3,0x1d0,0x19c)+_0x2fdb67(0x4cd,0x4d5,0x532,0x523)+'ONSE'],_0x58ec2f);if(_0x4bf0b3)clearTimeout(_0x4bf0b3);}};function _0x22bb91(_0xa26cce,_0x3818bd,_0x2c1cbb,_0x38b312){return _0x2a4f1f(_0x38b312- -0x39,_0xa26cce,_0x2c1cbb-0x102,_0x38b312-0xf3);}function _0x2f2f0b(_0x384a50,_0x1d307a,_0x1253e1,_0x55d42c){return _0x45a6b5(_0x384a50,_0x1d307a-0x1dc,_0x1253e1-0x101,_0x1d307a- -0x5d5);}const _0x58ec2f=_0x51cf09=>{function _0x3f7870(_0x9af273,_0xb42cce,_0x5d8465,_0xefded0){return _0x2f2f0b(_0xefded0,_0x9af273-0x1d2,_0x5d8465-0xe8,_0xefded0-0x4f);}function _0x3cc1c9(_0x368a54,_0x51ce57,_0xae5d61,_0x47ecd0){return _0x22bb91(_0x368a54,_0x51ce57-0x79,_0xae5d61-0x39,_0xae5d61-0x63a);}const _0x39e778={'nscpl':function(_0xb35d76,_0x179db9){function _0x247ff1(_0xf37e29,_0x272516,_0x1e66c2,_0x4386ec){return _0x5206(_0x272516- -0x135,_0x1e66c2);}return _0x5c2128[_0x247ff1(0x43,0x2b,0x88,0x83)](_0xb35d76,_0x179db9);},'LTBtY':function(_0x2113da,_0x5a0960){function _0x2272c2(_0x146b2c,_0x2e03c9,_0x1178eb,_0x23adfe){return _0x5206(_0x1178eb-0x244,_0x2e03c9);}return _0x5c2128[_0x2272c2(0x322,0x305,0x360,0x334)](_0x2113da,_0x5a0960);}};if(_0x5c2128[_0x3cc1c9(0x42f,0x48b,0x465,0x41f)](_0x3cc1c9(0x43c,0x4ac,0x456,0x438),_0x5c2128[_0x3f7870(0xaf,0xae,0xe0,0x5d)])){if(_0x5c2128[_0x3cc1c9(0x453,0x474,0x475,0x4c0)](_0x51cf09['id'],_0x321618))return;_0x5c2128['ffjjj'](_0x1ec9a7),console[_0x3f7870(0x86,0x61,0xbd,0x8a)](_0x3cc1c9(0x442,0x429,0x43c,0x44e)+_0x3cc1c9(0x476,0x419,0x45e,0x40b)+'\x20执行结果\x20(ID:'+'\x20'+_0x321618+'):',_0x51cf09);if(_0x51cf09[_0x3cc1c9(0x49a,0x409,0x464,0x4c3)])_0x5c2128[_0x3cc1c9(0x4be,0x4a2,0x4e7,0x529)](_0x446c89,_0x51cf09[_0x3cc1c9(0x4c2,0x48e,0x4a9,0x459)]);else{if(_0x51cf09[_0x3f7870(0xbb,0x103,0xc8,0xca)]&&_0x51cf09[_0x3f7870(0xbb,0xaf,0xbd,0x107)]['name']===_0x3cc1c9(0x463,0x4a8,0x4b6,0x46a)){if(_0x5c2128[_0x3cc1c9(0x45c,0x4dd,0x49f,0x4fb)](_0x5c2128['FOcyj'],_0x5c2128['sMpcg'])){const _0x1fb5cf=new Error(_0x51cf09[_0x3cc1c9(0x4db,0x4e8,0x4c7,0x4de)]['message']);_0x1fb5cf[_0x3f7870(0x51,0x62,0xa6,0x7d)]=_0x3cc1c9(0x470,0x4db,0x4b6,0x4b8),_0x5c2128[_0x3f7870(0x62,0x99,0x5b,0x45)](_0x5c1786,_0x1fb5cf);}else return _0x34e935?_0x43901a[_0x3cc1c9(0x4f4,0x4ef,0x4e2,0x4d6)]:'';}else{if(_0x5c2128['TLGHC'](_0x5c2128[_0x3cc1c9(0x47c,0x4fd,0x4a8,0x4dd)],_0x5c2128['KUIkL']))_0x5c1786(new Error(_0x51cf09[_0x3f7870(0x9d,0x48,0x78,0x9b)]));else return'';}}}else{const _0x3b031a=_0x322df3['indexOf']('\x5c');if(_0x39e778[_0x3f7870(0xc2,0x72,0x11d,0x91)](_0x3b031a,0x25cc+0x1b1*0x14+-0x47a0)){const _0x1cd34d=_0x1e524a[_0x3cc1c9(0x4b0,0x4c3,0x49d,0x44e)](0xd71+0x17*0x49+-0x1400,_0x3b031a)[_0x3f7870(0x57,0x80,0xa2,0x74)](),_0x3cfb3a=_0x508c79[_0x3cc1c9(0x4ae,0x4dd,0x49d,0x47b)](_0x39e778[_0x3cc1c9(0x3df,0x472,0x430,0x441)](_0x3b031a,0x53*0x7+-0x35e+0x11a))[_0x3f7870(0x57,0x2b,0x4d,0x40)]();if(_0x1cd34d)_0x276e44[_0x1cd34d]=_0x3cfb3a;}}};eventSource['on'](eventNames[_0x22bb91(-0x1f9,-0x231,-0x1e8,-0x204)+'ATION_RESP'+'ONSE'],_0x58ec2f);const _0x5ac9cb={};_0x5ac9cb[_0x22bb91(-0x180,-0x116,-0x1b0,-0x167)]=_0x520930,_0x5ac9cb['id']=_0x321618,eventSource['emit'](eventNames[_0x22bb91(-0x201,-0x219,-0x206,-0x204)+_0x22bb91(-0x1e3,-0x252,-0x1ef,-0x1fd)+_0x2f2f0b(-0x19b,-0x16f,-0x173,-0x163)],_0x5ac9cb),_0x4bf0b3=_0x5c2128[_0x22bb91(-0x1ad,-0x1db,-0x1a6,-0x1bd)](setTimeout,()=>{function _0x414fa3(_0x378cf3,_0x34a556,_0x1cdf8a,_0x26f69b){return _0x22bb91(_0x1cdf8a,_0x34a556-0xdd,_0x1cdf8a-0x158,_0x378cf3-0x1f1);}function _0x2bb77a(_0x532a5c,_0xe96bf2,_0x1ab2ca,_0x585e17){return _0x22bb91(_0x1ab2ca,_0xe96bf2-0x1dd,_0x1ab2ca-0x86,_0xe96bf2-0x516);}_0x5c2128[_0x414fa3(0x86,0x34,0xbb,0x37)](_0x1ec9a7),_0x5c2128[_0x2bb77a(0x385,0x3c3,0x37f,0x3b5)](_0x5c1786,new Error('翻译\x20LLM\x20执行超'+'时（'+timeoutMs+_0x2bb77a(0x300,0x33e,0x39a,0x384)));},timeoutMs);});}export async function callTranslation(_0x334bc5){function _0x2be26f(_0x25c9e6,_0x301286,_0x26caa8,_0x4cee22){return _0x5206(_0x301286- -0x24f,_0x26caa8);}function _0x41f211(_0x387694,_0x3a8a13,_0x2b14f7,_0x3a1b76){return _0x5206(_0x3a8a13-0x2b4,_0x387694);}const _0x2e4f09={'TDBhb':function(_0x201292,_0x28e52f,_0x2752ab){return _0x201292(_0x28e52f,_0x2752ab);},'nryzx':_0x2be26f(-0x174,-0x119,-0x130,-0x136)+'n','NByfK':function(_0x2ffff3,_0x36ec7a){return _0x2ffff3||_0x36ec7a;},'bQbmW':function(_0x43933c,_0x51bc96){return _0x43933c(_0x51bc96);},'QapSa':_0x41f211(0x497,0x451,0x413,0x46f),'ZjOpH':function(_0x5a590a,_0x503e27){return _0x5a590a(_0x503e27);}};try{let _0x44af6a=_0x2e4f09[_0x41f211(0x422,0x417,0x43a,0x456)](buildPromptForRequestType,_0x2e4f09[_0x2be26f(-0xcf,-0xab,-0x78,-0xa0)],_0x2e4f09[_0x41f211(0x3fe,0x43e,0x3e4,0x429)](_0x334bc5,''));_0x44af6a=_0x2e4f09[_0x2be26f(-0x11e,-0x13a,-0xe3,-0x137)](mergeAdjacentMessages,_0x44af6a);const _0x59b281={};_0x59b281['role']=_0x2e4f09[_0x2be26f(-0x64,-0xc0,-0xfd,-0xdc)],_0x59b281[_0x41f211(0x42d,0x445,0x458,0x3ea)]=_0x334bc5||'';const _0x256791=[..._0x44af6a,_0x59b281];updateCombinedPrompt(_0x256791);const _0x20b483=await _0x2e4f09[_0x41f211(0x3df,0x3c1,0x379,0x417)](LLM_TRANSLATION,_0x256791);return _0x20b483;}catch(_0x3cd84c){addLog(_0x2be26f(-0xe2,-0xf3,-0x138,-0x145)+_0x3cd84c[_0x41f211(0x418,0x432,0x3f9,0x453)]),console[_0x41f211(0x49a,0x448,0x40f,0x4a1)](_0x2be26f(-0x123,-0xdc,-0x113,-0xfa),_0x3cd84c);throw _0x3cd84c;}}let isAiInitialized=![];export function initAiSettings(_0x1b682e){const _0x17b10f={};_0x17b10f[_0x285d13(-0x182,-0x16f,-0x15e,-0x185)]=_0x285d13(-0x24c,-0x214,-0x1e4,-0x22a)+_0x285d13(-0x1f3,-0x1fc,-0x1c3,-0x1a5)+_0x285d13(-0x1c3,-0x198,-0x151,-0x17e);const _0x16477f=_0x17b10f;function _0x285d13(_0x511c5e,_0x10657a,_0x49239f,_0xb399ec){return _0x5206(_0x10657a- -0x31d,_0x511c5e);}function _0x2a2840(_0x4ad16e,_0x28657f,_0x467a78,_0x5616ad){return _0x5206(_0x5616ad- -0x1eb,_0x4ad16e);}!isAiInitialized&&(console[_0x285d13(-0x190,-0x1be,-0x1ac,-0x1e4)](_0x16477f[_0x2a2840(0x4,0x1b,-0x93,-0x3d)]),isAiInitialized=!![]);}
//# sourceMappingURL=http://localhost:8000/ai.js.map