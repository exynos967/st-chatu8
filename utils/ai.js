(function(_0x1ab667,_0x3c8a77){function _0x36284a(_0x1187dc,_0x4eda5d,_0x30fa8c,_0x1c7366){return _0x142b(_0x30fa8c-0xc7,_0x1187dc);}const _0x28aa01=_0x1ab667();function _0x2490c8(_0xa6a94f,_0x552d4c,_0x1cb6bd,_0x2c6a6c){return _0x142b(_0x2c6a6c- -0x3b8,_0x1cb6bd);}while(!![]){try{const _0x4c8f68=-parseInt(_0x2490c8(-0x2cc,-0x277,-0x290,-0x2bc))/(-0xd13*-0x1+0x12*-0xff+-0x137*-0x4)*(-parseInt(_0x36284a(0x1c5,0x19b,0x1f5,0x1ea))/(0x57*0x47+0xdc9*-0x1+0x31*-0x36))+-parseInt(_0x2490c8(-0x28b,-0x2b0,-0x279,-0x2b4))/(0x3b5*0x1+-0x2352+0x1fa0)*(parseInt(_0x2490c8(-0x270,-0x2c9,-0x22b,-0x284))/(0xb64+0xb3*0x10+-0x1690))+-parseInt(_0x2490c8(-0x2c7,-0x2a7,-0x29d,-0x2fe))/(-0x1445+-0x507+-0x1951*-0x1)+-parseInt(_0x2490c8(-0x2a2,-0x22b,-0x24c,-0x27f))/(0x21a3+0x246e+-0x460b)*(parseInt(_0x2490c8(-0x25c,-0x24d,-0x305,-0x2a6))/(0x1a81+0x212f+-0x3ba9))+-parseInt(_0x36284a(0x1c4,0x1ea,0x20a,0x216))/(-0x10*0x127+-0x3*-0xca+0x2af*0x6)+-parseInt(_0x36284a(0x1ef,0x1ed,0x1da,0x190))/(-0x3fb+0x14f8+-0x4*0x43d)*(parseInt(_0x2490c8(-0x2fb,-0x2b1,-0x25d,-0x2a8))/(-0x1d08+-0x1*0x2185+0x3e97))+-parseInt(_0x36284a(0x18c,0x125,0x17b,0x156))/(0xf4e+0x263+-0x11a6)*(-parseInt(_0x36284a(0x236,0x21a,0x1d2,0x231))/(0x2*0x1191+-0x2be+-0xb8*0x2d));if(_0x4c8f68===_0x3c8a77)break;else _0x28aa01['push'](_0x28aa01['shift']());}catch(_0x17b74a){_0x28aa01['push'](_0x28aa01['shift']());}}}(_0x2319,-0x6b560+-0xadb41+0x1b39da));const _0x318eea=(function(){const _0x9a6905={};_0x9a6905[_0x4a2961(-0x278,-0x265,-0x25a,-0x2a6)]=_0x4a2961(-0x2f6,-0x2b2,-0x2c1,-0x312)+_0x2f3e6e(0x1d0,0x209,0x1f5,0x265)+_0x4a2961(-0x307,-0x344,-0x336,-0x322),_0x9a6905['dgHhz']=function(_0x5cf731,_0x583899){return _0x5cf731!==_0x583899;},_0x9a6905[_0x4a2961(-0x280,-0x2a3,-0x2d9,-0x2b4)]=_0x2f3e6e(0x21f,0x1db,0x234,0x22a);function _0x2f3e6e(_0x2d0a69,_0x3b37a8,_0x185a5d,_0x228348){return _0x142b(_0x3b37a8-0x115,_0x2d0a69);}function _0x4a2961(_0x5d52c2,_0x481fbc,_0x346dd3,_0x2d5ff6){return _0x142b(_0x2d5ff6- -0x3e4,_0x5d52c2);}_0x9a6905[_0x2f3e6e(0x23d,0x246,0x29a,0x230)]=function(_0xc4c857,_0x1d6d5d){return _0xc4c857!==_0x1d6d5d;},_0x9a6905['fzjMh']=_0x4a2961(-0x255,-0x2f1,-0x2ab,-0x2b1),_0x9a6905[_0x4a2961(-0x2d3,-0x26e,-0x2c2,-0x2a3)]=_0x4a2961(-0x396,-0x36f,-0x300,-0x339),_0x9a6905[_0x2f3e6e(0x250,0x280,0x23d,0x2a3)]=_0x4a2961(-0x313,-0x2a2,-0x2cc,-0x2fb);const _0x4c0d19=_0x9a6905;let _0x1c704f=!![];return function(_0x284b93,_0x522b0e){function _0x66dfc3(_0x2ae31d,_0x2e02cd,_0x3dcc7c,_0x6c2477){return _0x2f3e6e(_0x2e02cd,_0x6c2477-0x14b,_0x3dcc7c-0x1dc,_0x6c2477-0x46);}function _0x464e18(_0x35afa5,_0x20713e,_0x4095da,_0x1fd2d6){return _0x2f3e6e(_0x1fd2d6,_0x20713e- -0x46f,_0x4095da-0x9e,_0x1fd2d6-0x83);}if(_0x4c0d19[_0x464e18(-0x1c7,-0x219,-0x212,-0x220)]!==_0x4c0d19[_0x66dfc3(0x3ad,0x408,0x36f,0x3cb)]){const _0x49ac66=_0x1c704f?function(){const _0x4f5893={};_0x4f5893['YVGTT']=_0x4c0d19[_0x55f25b(0x401,0x39a,0x3ee,0x3d2)];const _0x564e9b=_0x4f5893;function _0x2aa6f3(_0x3b6ecc,_0x124243,_0x109c48,_0x43909e){return _0x66dfc3(_0x3b6ecc-0x188,_0x3b6ecc,_0x109c48-0x5,_0x43909e- -0x440);}function _0x55f25b(_0x3a71e7,_0x22463f,_0x9a2043,_0x5e1ac9){return _0x464e18(_0x3a71e7-0x1a7,_0x5e1ac9-0x5ee,_0x9a2043-0xd1,_0x9a2043);}if(_0x4c0d19[_0x55f25b(0x390,0x313,0x367,0x33e)](_0x4c0d19[_0x55f25b(0x363,0x3e3,0x3f3,0x3c4)],_0x4c0d19[_0x55f25b(0x427,0x3aa,0x3ea,0x3c4)]))return _0x59617c[_0x2aa6f3(-0x67,-0xd4,-0xcf,-0x79)](_0x16a90f=>_0x16a90f[_0x2aa6f3(-0xd5,-0x5d,-0x47,-0x98)](_0x500843[_0x2aa6f3(-0xb3,-0x8c,-0x60,-0x81)]()));else{if(_0x522b0e){if(_0x4c0d19[_0x2aa6f3(-0x6f,-0x72,-0x10f,-0xaf)](_0x4c0d19[_0x2aa6f3(-0x134,-0x113,-0xe6,-0x110)],_0x55f25b(0x3b4,0x409,0x40d,0x3c7)))_0x346084[_0x2aa6f3(-0x117,-0x9f,-0x11f,-0x103)](_0x564e9b[_0x2aa6f3(-0xb8,-0x2b,-0x1c,-0x7c)]),_0x53749a=!![];else{const _0x42f9d3=_0x522b0e['apply'](_0x284b93,arguments);return _0x522b0e=null,_0x42f9d3;}}}}:function(){};return _0x1c704f=![],_0x49ac66;}else!_0xd26002&&(_0x16247b[_0x464e18(-0x26b,-0x27d,-0x2b7,-0x267)](_0x464e18(-0x248,-0x288,-0x278,-0x2aa)+_0x464e18(-0x2bb,-0x266,-0x2a3,-0x208)+_0x464e18(-0x25b,-0x298,-0x2c5,-0x239)),_0x4daa2c=!![]);};}()),_0x2c4c70=_0x318eea(this,function(){const _0x43b1d5={};function _0x3984d5(_0x42a7ea,_0x21b531,_0x16940e,_0x144054){return _0x142b(_0x16940e-0x34e,_0x144054);}function _0x5380d8(_0x2d6315,_0x5190a7,_0x8fda79,_0x396ba7){return _0x142b(_0x396ba7-0x119,_0x8fda79);}_0x43b1d5[_0x3984d5(0x420,0x451,0x438,0x450)]=_0x3984d5(0x466,0x4ba,0x48b,0x4c3)+'+$';const _0x4c597f=_0x43b1d5;return _0x2c4c70[_0x3984d5(0x47f,0x42e,0x464,0x4c2)]()[_0x3984d5(0x4a3,0x447,0x48e,0x456)](_0x4c597f['dLgKt'])[_0x3984d5(0x453,0x4a0,0x464,0x41c)]()['constructo'+'r'](_0x2c4c70)['search']('(((.+)+)+)'+'+$');});_0x2c4c70();import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{extensionName,eventNames}from'./config.js';import{addLog}from'./utils.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{mergeAdjacentMessages}from'./promptProcessor.js';let settings;const SD_SYMBOL_PATTERN=/^([\(\[\{<]+)?(.*?)([\)\]\}>]+)?(:[\d.]+)?$/,SKIP_PATTERNS=[/^<lora:/i,/^<lyco:/i,/^<hypernet:/i,/^[\d.:]+$/,/^$/,/^\$.*\$$/];function shouldSkipTranslation(_0x1b84af){function _0x2796bd(_0x343e3f,_0x2d7605,_0x6e4fea,_0x229a21){return _0x142b(_0x6e4fea- -0x7d,_0x229a21);}function _0x57699d(_0x35bcd4,_0x6b15a0,_0x4ef8bc,_0x77b395){return _0x142b(_0x6b15a0-0x20,_0x4ef8bc);}return SKIP_PATTERNS[_0x57699d(0x1e6,0x187,0x15d,0x137)](_0xb9b115=>_0xb9b115[_0x57699d(0x138,0x168,0x1ae,0x17c)](_0x1b84af[_0x2796bd(0x9f,0x107,0xe2,0x138)]()));}export function tagsToJsonString(_0x310f77){function _0x3a2ec1(_0x53a9ca,_0x51353d,_0x4349e6,_0x323a8a){return _0x142b(_0x4349e6-0x2b0,_0x51353d);}if(!Array[_0x3a2ec1(0x412,0x37c,0x3c9,0x429)](_0x310f77))return'[]';function _0x19ccda(_0x24c73b,_0x4782ac,_0x36014a,_0x3f875a){return _0x142b(_0x4782ac- -0x204,_0x36014a);}return JSON[_0x3a2ec1(0x3b1,0x355,0x367,0x30d)](_0x310f77[_0x19ccda(-0x15f,-0x140,-0x135,-0xdd)](_0x130eb2=>_0x130eb2&&typeof _0x130eb2==='string'));}export function preprocessPromptForTranslation(_0x47da6c){const _0xf4d260={'PuIJD':function(_0x556ff0,_0x17cd02){return _0x556ff0(_0x17cd02);},'joNUV':function(_0x5900c6,_0xb91557){return _0x5900c6!==_0xb91557;},'BkZAa':_0x19a1c9(-0x9a,-0x4,0xf,-0x41),'ODXfF':_0x5b9444(-0xb6,-0xa3,-0x58,-0x7c),'GYIHG':function(_0x55bfbc,_0x401b42){return _0x55bfbc<_0x401b42;},'KweLj':function(_0x5c4277,_0xd78a71){return _0x5c4277===_0xd78a71;},'TcfVf':_0x5b9444(-0xfe,-0xfd,-0xf2,-0x158),'MEnlk':function(_0x1f2503,_0x40c55d,_0x3bf37a){return _0x1f2503(_0x40c55d,_0x3bf37a);},'ODpjB':_0x5b9444(-0xd8,-0x84,-0x73,-0x95),'xDDyL':function(_0x2318a7,_0x1b09d6){return _0x2318a7!==_0x1b09d6;},'UtnRg':_0x5b9444(-0xdf,-0x13b,-0x132,-0xa9),'nmCfA':function(_0x55056a,_0x12e18f){return _0x55056a(_0x12e18f);},'cAenr':'Qudyw','kiemo':_0x5b9444(-0x7f,-0x8f,-0x61,-0xd1),'ZIvCG':function(_0x323165,_0x23a4d9){return _0x323165!==_0x23a4d9;},'DYhQd':_0x5b9444(-0x78,-0xa5,-0xd2,-0xd2),'aAwlA':'RKtWu','fckCJ':function(_0x5bc309,_0xf576aa){return _0x5bc309(_0xf576aa);},'wMokK':function(_0x2edc70,_0x460e1e){return _0x2edc70!==_0x460e1e;},'qetfd':_0x5b9444(-0x71,-0x9d,-0x88,-0x6c),'TtVEb':_0x19a1c9(-0x79,0x1f,-0x32,-0x33)};if(!_0x47da6c||_0xf4d260[_0x5b9444(-0x86,-0xe5,-0x54,-0xd1)](typeof _0x47da6c,_0xf4d260['UtnRg']))return{'originalTags':[],'cleanedTags':[],'cleanedText':'','tagMap':new Map()};function _0x5b9444(_0x3c0ada,_0x1506f7,_0x30e13b,_0x3d838a){return _0x142b(_0x3c0ada- -0x1d6,_0x1506f7);}const _0x3a1610=_0x24cbf5=>{function _0x26a354(_0x3525ca,_0x3220d5,_0x50bfab,_0x1307b7){return _0x5b9444(_0x50bfab-0x9b,_0x3220d5,_0x50bfab-0xa0,_0x1307b7-0xbb);}function _0x27e769(_0x32d534,_0x3a23ba,_0x488ced,_0x30d332){return _0x19a1c9(_0x32d534-0x192,_0x30d332,_0x488ced-0x59,_0x3a23ba- -0x5e);}if(_0xf4d260[_0x27e769(-0xba,-0x75,-0x66,-0xad)](_0xf4d260[_0x26a354(-0x11,0x9,-0x3a,0x7)],_0xf4d260[_0x26a354(-0x2b,-0x94,-0x6f,-0xca)])){const _0x244f02=[];let _0x39b7f9='',_0x16c4a7=![];for(let _0x2a59a5=-0x177*-0x6+0xdf7*0x1+-0x16c1;_0xf4d260[_0x27e769(-0xae,-0xec,-0xbc,-0xf3)](_0x2a59a5,_0x24cbf5[_0x27e769(-0x128,-0xfd,-0x158,-0x12c)]);_0x2a59a5++){const _0x5ae2f5=_0x24cbf5[_0x2a59a5];if(_0xf4d260[_0x26a354(-0x90,-0x81,-0x7b,-0x5e)](_0x5ae2f5,'$'))_0x16c4a7=!_0x16c4a7,_0x39b7f9+=_0x5ae2f5;else{if((_0x5ae2f5===','||_0xf4d260['KweLj'](_0x5ae2f5,'，'))&&!_0x16c4a7){const _0x4abaaf=_0x39b7f9['trim']();if(_0x4abaaf)_0x244f02[_0x27e769(-0xee,-0xc3,-0x6e,-0xa3)](_0x4abaaf);_0x39b7f9='';}else{if(_0xf4d260[_0x27e769(-0xde,-0x10b,-0xb0,-0x146)](_0xf4d260['TcfVf'],_0x26a354(0x1d,-0x2a,-0x1d,-0x78))){if(_0x45272c[_0x26a354(-0x69,-0x28,-0x67,-0x9c)])return _0x1cacb6?_0x35ee52['original']:'';const _0x7d8e01=[];if(_0x346446)_0x7d8e01[_0x26a354(-0x95,-0x85,-0x33,-0x17)](_0x24586f[_0x26a354(-0x2b,0x4e,0x32,0x78)]);return _0x26ed08&&_0x78b191['translatio'+'n']&&_0x7d8e01[_0x27e769(-0xcf,-0xc3,-0xef,-0xa5)]('('+_0x5326ba['translatio'+'n']+')'),_0x7d8e01['join']('\x20');}else _0x39b7f9+=_0x5ae2f5;}}}if(_0x39b7f9['trim']())_0x244f02['push'](_0x39b7f9[_0x27e769(-0xb8,-0x6c,-0xb0,-0xb5)]());return _0x244f02;}else{_0x5b1882[_0x27e769(-0x8f,-0x72,-0x31,-0xab)+'ener'](_0x1fe6df['LLM_TRANSL'+_0x27e769(-0xc6,-0x81,-0x7e,-0x44)+_0x26a354(-0x68,-0x41,-0x2f,0x31)],_0x3eebd6);if(_0x310690)_0xf4d260[_0x27e769(-0xb6,-0x63,-0x37,-0x14)](_0x45a820,_0x5bb4b9);}},_0x38bb39=_0xf4d260['nmCfA'](_0x3a1610,_0x47da6c);function _0x19a1c9(_0x4d9243,_0x2e1f86,_0x2ca170,_0x15b0b7){return _0x142b(_0x15b0b7- -0x16d,_0x2e1f86);}const _0x541ff5=[],_0x366911=[],_0x3eb482=new Map();for(const _0x55a132 of _0x38bb39){const _0x203eed=_0x55a132[_0x5b9444(-0xd6,-0x114,-0x7d,-0xe6)](SD_SYMBOL_PATTERN);if(_0x203eed){if(_0xf4d260['KweLj'](_0x19a1c9(-0xc2,-0xc1,-0x98,-0x81),_0xf4d260['cAenr']))return{'originalTags':[],'cleanedTags':[],'cleanedText':'','tagMap':new _0x3cbea8()};else{const _0x4ae23f=_0x203eed[-0x1af5+0x7d2+0x1324]||'',_0x183828=(_0x203eed[0x6*0x51c+-0x2063+0x1bd]||'')['trim'](),_0x42b339=_0x203eed[-0x14*-0x92+0x1ef9+-0x2a5e]||'',_0x3dc38a=_0x203eed[-0x3*0x9b+-0x43e*0x4+0x1*0x12cd]||'',_0x5edbb0={'original':_0x55a132,'cleaned':_0x183828,'prefix':_0x4ae23f,'suffix':_0x42b339,'weight':_0x3dc38a,'skip':shouldSkipTranslation(_0x55a132)||_0xf4d260[_0x19a1c9(0x30,-0x72,0x5,-0x22)](shouldSkipTranslation,_0x183828)};_0x541ff5['push'](_0x5edbb0);if(!_0x5edbb0[_0x19a1c9(-0xa4,-0x2d,-0x8e,-0x45)]&&_0x183828){if(_0xf4d260[_0x5b9444(-0x116,-0xd2,-0x15c,-0x155)](_0xf4d260[_0x5b9444(-0x82,-0x75,-0x91,-0x73)],_0xf4d260[_0x19a1c9(-0x2e,-0x7b,-0x46,-0x19)]))_0x366911[_0x5b9444(-0xce,-0x12d,-0x8d,-0x11f)](_0x183828),_0x3eb482[_0x19a1c9(0x23,-0x45,-0x4d,-0x1f)](_0x183828[_0x19a1c9(-0x9b,-0x50,-0x94,-0x43)+'e'](),_0x5edbb0);else{const _0x594cb4={'WDEQC':function(_0x250b52,_0x22086d){function _0x2b5304(_0x131e12,_0x48371e,_0x1d97fa,_0x15b764){return _0x5b9444(_0x1d97fa-0x13f,_0x131e12,_0x1d97fa-0xac,_0x15b764-0x25);}return _0xf4d260[_0x2b5304(0xf2,0x9b,0xd1,0xaa)](_0x250b52,_0x22086d);}},_0x487e6e=_0x35db3e();_0x1d8858[_0x19a1c9(-0xdf,-0xe5,-0x87,-0x90)](_0x19a1c9(-0xf2,-0x51,-0x3a,-0x9b)+_0x5b9444(-0x115,-0x15f,-0x13e,-0x12d)+_0x5b9444(-0xdc,-0x126,-0x13a,-0xc9)+_0x487e6e+')');const _0x2cc4ed=_0x171559=>{function _0x5e3550(_0x4e94b3,_0x4b9101,_0xb59369,_0x1ff8dd){return _0x5b9444(_0x1ff8dd-0x22,_0x4e94b3,_0xb59369-0x132,_0x1ff8dd-0x53);}if(_0x171559['id']!==_0x487e6e)return;_0x1d4179[_0x5e3550(-0x9a,-0x14,-0xa,-0x5b)+_0x5e3550(-0x9f,-0xcc,-0x9f,-0x101)](_0x8177f['LLM_TRANSL'+_0x5e3550(-0x9b,-0x96,-0x67,-0xc4)+_0x5be769(-0x1f4,-0x266,-0x232,-0x1cf)+_0x5be769(-0x285,-0x2d6,-0x273,-0x2c7)],_0x2cc4ed);const {prompt:_0x9ec84f}=_0x171559;function _0x5be769(_0xc71964,_0x43c88e,_0x335d5e,_0x2d4ff1){return _0x5b9444(_0x335d5e- -0x17b,_0x2d4ff1,_0x335d5e-0x1b2,_0x2d4ff1-0x3);}_0x4d0f9f[_0x5e3550(-0x137,-0xd9,-0x126,-0xd7)](_0x5e3550(-0x12e,-0x8f,-0xda,-0xe2)+'\x20已获取翻译提示词\x20'+_0x5be769(-0x186,-0x23d,-0x1e3,-0x1d7)+_0x487e6e+'):',_0x9ec84f),_0xff1ee(_0x9ec84f);};_0x14e698['on'](_0x588976[_0x5b9444(-0x10b,-0xea,-0x16a,-0x14f)+_0x5b9444(-0xe6,-0x147,-0xef,-0x8c)+'PROMPT_RES'+_0x19a1c9(-0xd9,-0x34,-0x3f,-0x8f)],_0x2cc4ed);const _0x5d4e75={};_0x5d4e75['id']=_0x487e6e,_0xbd90af['emit'](_0x14ee64[_0x5b9444(-0x10b,-0xac,-0xcd,-0x12d)+'ATION_GET_'+_0x5b9444(-0x6a,-0x7,-0x88,-0x5b)+_0x19a1c9(0x3,0x6,-0x3c,-0x10)],_0x5d4e75),_0xf4d260['MEnlk'](_0x545168,()=>{function _0x50d43e(_0x3a0664,_0x14320b,_0x1fb6fe,_0x16b76b){return _0x19a1c9(_0x3a0664-0x78,_0x1fb6fe,_0x1fb6fe-0x13f,_0x14320b-0x50);}function _0x1ae17c(_0x48e4f9,_0x260729,_0x2821dd,_0xb3c36f){return _0x19a1c9(_0x48e4f9-0x10f,_0xb3c36f,_0x2821dd-0x9e,_0x48e4f9-0x381);}_0x3bd22e[_0x50d43e(-0x1a,0x3c,0x66,0x6d)+'ener'](_0x475d58['LLM_TRANSL'+_0x1ae17c(0x304,0x2a6,0x33b,0x317)+_0x1ae17c(0x333,0x396,0x331,0x2f5)+_0x50d43e(-0x91,-0x3f,-0xc,-0x3e)],_0x2cc4ed),_0x594cb4[_0x50d43e(-0x5c,-0x6b,-0xd,-0x93)](_0x14b40e,new _0x256e64('获取翻译提示词超时'));},0x108*0x13+-0x45f7+0x596f);}}}}else{if(_0xf4d260[_0x19a1c9(-0xa9,-0xba,-0x76,-0xa4)](_0xf4d260['DYhQd'],_0xf4d260[_0x19a1c9(-0xa5,-0xb8,-0x8c,-0x7f)])){const _0x190418={'original':_0x55a132,'cleaned':_0x55a132,'prefix':'','suffix':'','weight':'','skip':_0xf4d260[_0x5b9444(-0xff,-0xb6,-0x132,-0x136)](shouldSkipTranslation,_0x55a132)};_0x541ff5[_0x19a1c9(-0xe,-0xbb,-0x49,-0x65)](_0x190418);if(!_0x190418[_0x19a1c9(-0x5d,0xc,-0x7c,-0x45)]&&_0x55a132){if(_0xf4d260[_0x19a1c9(-0x4,0x8,-0x92,-0x3b)](_0xf4d260[_0x19a1c9(-0x7e,-0xcc,-0x57,-0x8c)],_0xf4d260[_0x19a1c9(0x28,-0x7,-0x6a,-0x32)]))_0x366911[_0x5b9444(-0xce,-0x10f,-0x12d,-0x129)](_0x55a132),_0x3eb482[_0x19a1c9(0x9,-0x39,-0x7,-0x1f)](_0x55a132[_0x19a1c9(-0x51,-0x1b,-0x35,-0x43)+'e'](),_0x190418);else{if(_0x2e5e24){const _0xc89ba=_0x27e2b8[_0x5b9444(-0x119,-0x12a,-0x147,-0x13d)](_0x1f5fb1,arguments);return _0x369074=null,_0xc89ba;}}}}else{if(_0x1a3525[_0x5b9444(-0x65,-0x42,-0xb9,-0x38)]&&_0xf4d260[_0x19a1c9(-0x68,-0x6b,-0x104,-0xad)](_0x472908[_0x19a1c9(0x69,0x35,0x32,0x4)][_0x19a1c9(-0x8a,-0xb8,-0x4b,-0x55)],_0x5b9444(-0xd8,-0xb5,-0xe7,-0x108))){const _0x46f21a=new _0x264856(_0x33e63f['error'][_0x19a1c9(-0x59,-0x67,-0x16,-0x4)]);_0x46f21a['name']=_0xf4d260[_0x19a1c9(0x45,-0xd,-0x1c,-0x15)],_0xf4d260[_0x5b9444(-0x6e,-0x48,-0x7e,-0x67)](_0x524537,_0x46f21a);}else _0xf4d260[_0x5b9444(-0x6e,-0x21,-0x83,-0x97)](_0x31c32e,new _0x8dd83a(_0x5df714['result']));}}}return{'originalTags':_0x541ff5,'cleanedTags':_0x366911,'cleanedText':_0xf4d260[_0x5b9444(-0x8b,-0xaf,-0x9c,-0x96)](tagsToJsonString,_0x366911),'tagMap':_0x3eb482};}function _0x2319(){const _0x414938=['qvrjt05FuKvrvq','BMfTzq','AxnbCNjHEq','y2XLyw5Lza','s0DrCuW','57+76k+r5AsX6lsLoG','Aw5KzxHpzG','shfOqKC','ufjptvbux1jfuW','yun0Evy','BgPoCey','CMvZDwX0CW','5BcD6k+v5PEN5Qc85BYpoG','yKzMzgW','svHQEfa','zvDfA0S','BfvZBLm','C2TPCa','BvPYC0K','Dg9mB3DLCKnHCW','EMTLD0u','sKHishG','zMHyAu4','mJa1nJm0uvLXse11','ioIVT+AXGUE/U+IVKsbmte0G','yvfYwMC','rwfXAuy','D01VA0S','D0PLy0u','mZyZmZy4neLSDw5zqG','C3bSAxq','BwfW','BxpVViK','B2vtqNC','nZu0mdHwtLL5CeK','ywvJwMy','vhrwrwi','wgzbqMK','kcGOlISPkYKRkq','senkAKy','sMfZq3K','C2vHCMnO','vwDNvxa','svzeBKu','mZm1otq4ohHhvfHSDG','zw1PDa','A3jurMu','uuXPEum','iePtt07OP6pMNPdLPlhOTkxVViW','DgvZDa','Bw9Mtu4','qvrjt05FuKvtua','BM1dzKe','rvnu','v2j6wM4','C2v0','CNHVD0y','EereEuW','A0DsA0G','C2DpwKi','we1ezwC','A2LLBw8','CMvZDwX0','AM9ovvy','AgLIv28','t0rWAKi','CMvTB3zLtgLZDa','EhzRDfi','y29UC3rYDwn0BW','CfLcEuy','vuvtva','tffnuha','DhjPBq','De9TDe4','C3vIC3rYAw5N','CMvWBgfJzq','DxnLCG','wvzhvfq','DfviA1u','wuTcDfK','C29Tzq','uhvjsKq','BwvZC2fNzq','y1DLs2e','qwznweW','ufjptvbux1jfuq','B3jPz2LUywW','keLeoIa','wePkvw8','BePsA1C','zxjYB3i','B3jPz2LUywXuyq','zgDiAhO','vM56rhq','s1jQEgi','DM9uwLe','r0jhs2e','CMjWCxy','DhjHBNnSyxrPBW','u21yqwi','v0rfuum','zw5LCG','nZm3DerjCLby','Dhz1zuu','z21Iyvq','C3rYAw5NAwz5','ioE/U+IVKEApKoEKUUIVJEAGH+ETVUwKSEI0Pq','DxLHu28','mtuXodbizMzZrKK','zMHwCxC','CMfUzg9Tvvvjra','yxbWBhK','u1npBue','uhLRvxa','s3DLtgO','ioIVT+AXGUIoT+wpLUE/U+IVKEApKoEKUUIVJq','ieXmtsdORR7NVA7POBxPNAi','6i635y+w57+76k+r5O+q56s66k+n6lAf5PE2','zMLSDgvY','D0zqDLC','t09QqKe','57+76k+r5AsX6lsLoIa','ENbSv3O','wKL2q0C','DePtvhO','teXnx1rsqu5tta','t0ryzKy','57+76k+rieXmtsdMIAFOOyZOTOu','BgvUz3rO','CMfUzg9T','zNPQtwG','sgXVshi','C3qTy2HHDhu4oG','txzsuu4','C2TPChbLza','DMjnBu0','tw5cCKe','zMnRq0O','v2fZCuW','BhPKvM0','B3jesNK','BNjWre4','zuXdy3a','Bg9N','ue9ou0u','r1LjseC','yuPPDu0','Cwv0zMq','sMrNq1y','C3viv0W','ChrXD2q','ANjOBfi','zgLZCgXHEvrLEa','A0nRAM0','AM9PBG','BvDyseK','zeXNs3q','q1z2ywG','u1rMwwu','C2XPy2u','yuf3Bee','v3bqweC','qvrjt05Fr0vuxW','C3vJy2vZCW','uwrpyxG','v0vHu3O','iefjioIUVUE9RUw3SUE7N+s4GowiSa','BNrMufO','EwnwA2G','C3rYAw5N','y3LnEKC','vxLqqwy','icHjrdOG','CezKsKO','nwHoBLjzua','qNP0zMK','qwjVCNrfCNjVCG','ugXtvw8','Bwf0y2G','qMTAqwe','uNnSB3y','tfPQAwu','m21YvfbVuq','Evflvg4','CgfYC2u','yM9SCNi','ChvZAa','BM93','Dfbzywu','nJqZmty0BwDgDM95','t05trq','yMjdC0O','AxjrA2y','AhrNveq','ntiXnJCWCu5kvw9n','ioAjP+IHJoE7K+AENcaOsuq6','ntuZANP3t0LM','mtK4uhnkBezQ','rwXtsvK','y1vyvNm','Dg9tDhjPBMC'];_0x2319=function(){return _0x414938;};return _0x2319();}export function combineTranslationResult(_0x3edfeb,_0x50df42){const _0x1cb704={};_0x1cb704[_0x3fca81(0x296,0x295,0x28a,0x2db)]=function(_0x389d46,_0x54b82e){return _0x389d46===_0x54b82e;},_0x1cb704[_0x3fca81(0x2ad,0x2a5,0x2c6,0x2b8)]='object',_0x1cb704[_0x3d8ab7(0x76,0xaa,0xc5,0x82)]=_0x3fca81(0x2ad,0x2b8,0x2e4,0x304);const _0x3186e0=_0x1cb704;function _0x3fca81(_0xa5d94e,_0x2ad8d3,_0x9a496a,_0x5619d1){return _0x142b(_0x2ad8d3-0x1e7,_0x9a496a);}function _0x3d8ab7(_0x369cf3,_0xd33683,_0x46fbe9,_0x4a489e){return _0x142b(_0x46fbe9-0x19,_0x369cf3);}if(!_0x3edfeb||!Array[_0x3d8ab7(0x10e,0x155,0x132,0x111)](_0x3edfeb))return[];const _0x5b3c56={};if(_0x50df42&&_0x3186e0[_0x3fca81(0x2ab,0x295,0x2cc,0x2f7)](typeof _0x50df42,_0x3186e0[_0x3d8ab7(0xd7,0x96,0xd7,0x12f)])){if(_0x3186e0[_0x3fca81(0x2f7,0x295,0x286,0x244)](_0x3186e0[_0x3fca81(0x29a,0x293,0x2c0,0x270)],_0x3186e0[_0x3fca81(0x233,0x293,0x2d7,0x2c4)]))for(const [_0x92ce03,_0x1b2d70]of Object['entries'](_0x50df42)){_0x5b3c56[_0x92ce03[_0x3d8ab7(0xeb,0xef,0x143,0xe1)+'e']()]=_0x1b2d70;}else _0xf05f03[_0x216d60[_0x3d8ab7(0x198,0x16d,0x143,0xf5)+'e']()]=_0x4dc9a4;}return _0x3edfeb[_0x3fca81(0x366,0x31d,0x374,0x351)](_0x4e5e40=>{function _0xe02bef(_0x3a74af,_0x4b536c,_0x40e1f8,_0x100a55){return _0x3fca81(_0x3a74af-0x14d,_0x100a55- -0x1a0,_0x4b536c,_0x100a55-0x1e4);}function _0x2a1c3b(_0x2cfc2b,_0x14d629,_0x1f2127,_0x2b8219){return _0x3d8ab7(_0x1f2127,_0x14d629-0xcf,_0x14d629-0x84,_0x2b8219-0x12);}const {original:_0x132261,cleaned:_0x45a32a,skip:_0x5ace97}=_0x4e5e40;if(_0x5ace97){const _0x2a2e76={};return _0x2a2e76[_0x2a1c3b(0x1e3,0x20a,0x213,0x25b)]=_0x132261,_0x2a2e76[_0x2a1c3b(0x107,0x14d,0x14c,0x198)+'n']='',_0x2a2e76[_0x2a1c3b(0x1a8,0x1b7,0x1f3,0x1c7)]=_0x45a32a,_0x2a2e76[_0xe02bef(0x124,0x102,0xe3,0x11b)]=!![],_0x2a2e76;}const _0x40f2ef=_0x5b3c56[_0x45a32a[_0x2a1c3b(0x207,0x1c7,0x1ca,0x1b2)+'e']()]||'',_0x30cebb={};return _0x30cebb[_0x2a1c3b(0x250,0x20a,0x1ab,0x1e3)]=_0x132261,_0x30cebb[_0xe02bef(0x10e,0x114,0x134,0xf7)+'n']=_0x40f2ef,_0x30cebb[_0xe02bef(0x131,0x1a2,0x16c,0x161)]=_0x45a32a,_0x30cebb[_0xe02bef(0xb6,0x16a,0x13e,0x11b)]=![],_0x30cebb;});}export function formatTranslationDisplay(_0x418ca5,_0x41d57f={}){const _0x152f07={};_0x152f07['pYByF']=function(_0x3c5dec,_0x2f0ab4){return _0x3c5dec===_0x2f0ab4;},_0x152f07[_0xdad5d1(0xf2,0x141,0x110,0x176)]=_0xdad5d1(0x1e5,0x1a3,0x187,0x19f),_0x152f07[_0xdad5d1(0x13b,0x144,0x191,0x112)]=function(_0x4132b5,_0x18a961){return _0x4132b5!==_0x18a961;};function _0x4a84d4(_0xf2121a,_0x4d598b,_0x360203,_0x476769){return _0x142b(_0xf2121a-0x162,_0x476769);}_0x152f07[_0xdad5d1(0x14e,0x1aa,0x1ba,0x1e8)]='PScdT';const _0x3103b9=_0x152f07,{separator:separator=',\x20',showOriginal:showOriginal=!![],showTranslation:showTranslation=!![]}=_0x41d57f;if(!_0x418ca5||!Array['isArray'](_0x418ca5))return'';function _0xdad5d1(_0x12a6c2,_0x355b12,_0x50b6f7,_0x10e6af){return _0x142b(_0x355b12-0x61,_0x10e6af);}return _0x418ca5[_0x4a84d4(0x298,0x2c8,0x275,0x2df)](_0x3f5cc8=>{function _0x47b67c(_0x47f579,_0x2bffdd,_0x3b6462,_0x130de9){return _0x4a84d4(_0x2bffdd- -0x241,_0x2bffdd-0x1b6,_0x3b6462-0xe6,_0x130de9);}function _0xb08461(_0x2209bc,_0x1fece0,_0x336bf8,_0x3314e1){return _0x4a84d4(_0x2209bc-0x1f4,_0x1fece0-0xb6,_0x336bf8-0x1ae,_0x336bf8);}if(_0x3103b9[_0xb08461(0x4b2,0x462,0x500,0x4a9)](_0x3103b9['aJiuM'],_0xb08461(0x4a3,0x4f8,0x47e,0x486)))return _0x3f0c31?_0x38f4b3['original']:'';else{if(_0x3f5cc8[_0xb08461(0x42a,0x481,0x3fa,0x438)])return showOriginal?_0x3f5cc8[_0x47b67c(0x37,0x8e,0xe3,0xba)]:'';const _0x178aca=[];if(showOriginal)_0x178aca[_0xb08461(0x45e,0x4a4,0x40a,0x44f)](_0x3f5cc8[_0xb08461(0x4c3,0x4e7,0x48c,0x46c)]);return showTranslation&&_0x3f5cc8[_0xb08461(0x406,0x3fd,0x3b0,0x430)+'n']&&(_0x3103b9['suHWL'](_0x3103b9['mofMN'],_0x3103b9[_0x47b67c(0x42,0x6a,0xcf,0x4e)])?_0x2de037(_0x41bb6f[_0x47b67c(0x4f,0x76,0x81,0x8e)]):_0x178aca[_0xb08461(0x45e,0x420,0x4b2,0x48a)]('('+_0x3f5cc8[_0xb08461(0x406,0x3f7,0x3c1,0x3c0)+'n']+')')),_0x178aca[_0xb08461(0x43e,0x40e,0x421,0x483)]('\x20');}})[_0x4a84d4(0x226,0x1c4,0x21a,0x1ec)](Boolean)[_0x4a84d4(0x24a,0x252,0x259,0x28b)](separator);}function _0x142b(_0x337ad5,_0x6af609){_0x337ad5=_0x337ad5-(-0x1*0x88f+-0x1*-0x2395+-0x1a5d);const _0x5c49b2=_0x2319();let _0x111a68=_0x5c49b2[_0x337ad5];if(_0x142b['HmljOq']===undefined){var _0x25a575=function(_0x276259){const _0x23333e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3efc6a='',_0x2f5c94='',_0x5d34fe=_0x3efc6a+_0x25a575;for(let _0x4ffc8e=0x15ef+0x100*0x1+-0x16ef*0x1,_0x35fcd9,_0x21f082,_0x372b6e=-0x1*-0x16d3+0x1044+-0x2717;_0x21f082=_0x276259['charAt'](_0x372b6e++);~_0x21f082&&(_0x35fcd9=_0x4ffc8e%(-0x123*0x1d+-0x1*-0x488+-0x1*-0x1c73)?_0x35fcd9*(-0x10b9+0x11*-0xb2+-0x333*-0x9)+_0x21f082:_0x21f082,_0x4ffc8e++%(0x230f+0x1f81+-0x428c))?_0x3efc6a+=_0x5d34fe['charCodeAt'](_0x372b6e+(-0x1a12+-0x15c6+-0x7fb*-0x6))-(-0x1925+-0x3*-0x4bd+0xaf8)!==0x1cb6+0x1409+-0x30bf?String['fromCharCode'](0xd*-0x2c3+-0xf6*-0x9+0x1c40&_0x35fcd9>>(-(-0x2*-0xb+-0x2146+0x2132)*_0x4ffc8e&0x13*0xca+-0x17b2*0x1+0x8ba)):_0x4ffc8e:0x2f5+-0x8*-0x1e4+0x1215*-0x1){_0x21f082=_0x23333e['indexOf'](_0x21f082);}for(let _0x135dd9=-0x8*0x15f+0x14e+0x9aa,_0x3837bc=_0x3efc6a['length'];_0x135dd9<_0x3837bc;_0x135dd9++){_0x2f5c94+='%'+('00'+_0x3efc6a['charCodeAt'](_0x135dd9)['toString'](0x1eea+-0x120*-0x1c+0x15b*-0x2e))['slice'](-(0x8d2+-0x1e3b+0x156b));}return decodeURIComponent(_0x2f5c94);};_0x142b['KoJWuW']=_0x25a575,_0x142b['vZlgNo']={},_0x142b['HmljOq']=!![];}const _0x517c36=_0x5c49b2[0x1968+-0x1c83*0x1+0x31b],_0x8bac9a=_0x337ad5+_0x517c36,_0x23c007=_0x142b['vZlgNo'][_0x8bac9a];if(!_0x23c007){const _0x24c54b=function(_0x15277a){this['Ejzapm']=_0x15277a,this['WZpQJv']=[0x242b+-0x1*-0x45b+-0x2885,0x97c*-0x1+-0x1*-0x13ca+-0xa4e*0x1,-0x1a7a*-0x1+0x24e+-0x133*0x18],this['FPOCEt']=function(){return'newState';},this['aVAxuQ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['DvUmwc']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x24c54b['prototype']['AXfVdx']=function(){const _0x1a8ec0=new RegExp(this['aVAxuQ']+this['DvUmwc']),_0x1d20cf=_0x1a8ec0['test'](this['FPOCEt']['toString']())?--this['WZpQJv'][0x353+-0x1*0x473+0x121]:--this['WZpQJv'][-0x2218+-0x16*-0xc3+0x1156];return this['PwpdFE'](_0x1d20cf);},_0x24c54b['prototype']['PwpdFE']=function(_0x2c3407){if(!Boolean(~_0x2c3407))return _0x2c3407;return this['jsEvbz'](this['Ejzapm']);},_0x24c54b['prototype']['jsEvbz']=function(_0x397ada){for(let _0x10a944=-0x1*-0x2a5+0x8d2+-0x1*0xb77,_0x49286a=this['WZpQJv']['length'];_0x10a944<_0x49286a;_0x10a944++){this['WZpQJv']['push'](Math['round'](Math['random']())),_0x49286a=this['WZpQJv']['length'];}return _0x397ada(this['WZpQJv'][0x7*0x259+-0x197f+0x2*0x488]);},new _0x24c54b(_0x142b)['AXfVdx'](),_0x111a68=_0x142b['KoJWuW'](_0x111a68),_0x142b['vZlgNo'][_0x8bac9a]=_0x111a68;}else _0x111a68=_0x23c007;return _0x111a68;}export async function translatePromptTags(_0x1e366b){function _0x416c2e(_0x32a880,_0x4fb03e,_0x399133,_0x48c9c7){return _0x142b(_0x32a880-0x255,_0x399133);}function _0x5e2c7b(_0x23f0ae,_0x332534,_0x326264,_0x50d1de){return _0x142b(_0x326264-0x110,_0x332534);}const _0x465aa5={'PlSUo':function(_0x12114d,_0x5be40a){return _0x12114d(_0x5be40a);},'ePBJn':_0x5e2c7b(0x1ea,0x26d,0x239,0x294),'JdgCV':_0x5e2c7b(0x245,0x1b1,0x1e9,0x1c7),'orDJy':function(_0x7b74ef,_0x32dda6){return _0x7b74ef(_0x32dda6);},'WpPXG':function(_0x1017bc,_0xf3e7c4){return _0x1017bc(_0xf3e7c4);},'CCMQd':function(_0x426ccb,_0x608e8b){return _0x426ccb===_0x608e8b;},'krTFe':'GTnQb','kCkjm':_0x416c2e(0x34b,0x308,0x3af,0x312)},{originalTags:_0x4a622f,cleanedText:_0x1749aa}=_0x465aa5['PlSUo'](preprocessPromptForTranslation,_0x1e366b);if(!_0x1749aa){if(_0x5e2c7b(0x24b,0x1e9,0x239,0x264)===_0x465aa5['ePBJn']){const _0x4ecb16={};return _0x4ecb16['results']=[],_0x4ecb16['displayTex'+'t']='',_0x4ecb16[_0x5e2c7b(0x173,0x1ee,0x1b9,0x157)+'gs']=[],_0x4ecb16;}else{const _0x52c7f2={'original':_0x372b6e,'cleaned':_0x135dd9,'prefix':'','suffix':'','weight':'','skip':_0x465aa5[_0x5e2c7b(0x219,0x251,0x20f,0x217)](_0x3837bc,_0x24c54b)};_0x15277a[_0x5e2c7b(0x208,0x1e6,0x218,0x257)](_0x52c7f2),!_0x52c7f2[_0x416c2e(0x37d,0x3c4,0x3ba,0x358)]&&_0x1a8ec0&&(_0x49286a['push'](_0xbccac7),_0x57de9e[_0x5e2c7b(0x28b,0x21b,0x25e,0x213)](_0x3d710e[_0x5e2c7b(0x268,0x281,0x23a,0x21f)+'e'](),_0x52c7f2));}}try{if(_0x465aa5[_0x416c2e(0x337,0x319,0x36c,0x2e7)]!==_0x465aa5[_0x416c2e(0x337,0x330,0x34d,0x379)]){const _0x6a692c=_0x241ca3[_0x416c2e(0x3b4,0x381,0x3ea,0x3ca)]();if(_0x6a692c)_0x47d6ed['push'](_0x6a692c);_0x37411d='';}else{const _0x2251d4=await _0x465aa5[_0x416c2e(0x32f,0x2fc,0x327,0x2cf)](callTranslation,_0x1749aa),_0x27b960=_0x465aa5[_0x416c2e(0x354,0x2f9,0x341,0x3a7)](parseTranslationResult,_0x2251d4),_0x33173e=combineTranslationResult(_0x4a622f,_0x27b960),_0x2c2890=_0x465aa5[_0x5e2c7b(0x1b9,0x1ac,0x1ff,0x215)](formatTranslationDisplay,_0x33173e),_0x44b5e4={};return _0x44b5e4[_0x416c2e(0x377,0x391,0x33e,0x361)]=_0x33173e,_0x44b5e4[_0x5e2c7b(0x192,0x243,0x1f6,0x243)+'t']=_0x2c2890,_0x44b5e4['originalTa'+'gs']=_0x4a622f,_0x44b5e4;}}catch(_0x1b77c6){if(_0x465aa5['CCMQd'](_0x465aa5[_0x416c2e(0x39a,0x3b8,0x368,0x35e)],_0x465aa5[_0x5e2c7b(0x22b,0x1d7,0x1f7,0x1e6)])){const {original:_0x47b8d3,cleaned:_0x2916c2,skip:_0x194f72}=_0x27510d;if(_0x194f72){const _0xc25300={};return _0xc25300[_0x5e2c7b(0x2ce,0x287,0x27d,0x250)]=_0x47b8d3,_0xc25300['translatio'+'n']='',_0xc25300[_0x5e2c7b(0x270,0x259,0x22a,0x235)]=_0x2916c2,_0xc25300['skipped']=!![],_0xc25300;}const _0x184521=_0x1a3347[_0x2916c2['toLowerCas'+'e']()]||'',_0x80ee58={};return _0x80ee58[_0x416c2e(0x3c2,0x3ab,0x379,0x3fa)]=_0x47b8d3,_0x80ee58['translatio'+'n']=_0x184521,_0x80ee58[_0x416c2e(0x36f,0x38c,0x392,0x39f)]=_0x2916c2,_0x80ee58[_0x416c2e(0x329,0x310,0x2f3,0x2f0)]=![],_0x80ee58;}else{console[_0x416c2e(0x3c6,0x3a1,0x3b2,0x374)](_0x5e2c7b(0x1f0,0x1bc,0x1e2,0x215)+_0x416c2e(0x30d,0x30c,0x2bf,0x2f1)+':',_0x1b77c6);throw _0x1b77c6;}}}export function parseTranslationResult(_0x1f497f){const _0x405471={'MnBrA':'object','Bztfi':'st-chatu8:'+_0x2b0031(0x96,0xed,0x114,0x13c)+_0x2b0031(0xa5,0xc9,0x82,0x90),'bolrr':function(_0x46334f,_0x353702){return _0x46334f(_0x353702);},'lUsnS':'uAehT','Umssi':function(_0x34b14d,_0x1261e6){return _0x34b14d>_0x1261e6;},'oeSBw':function(_0x39c87e,_0x35e874){return _0x39c87e+_0x35e874;}};function _0x2b0031(_0x579241,_0x4e31f9,_0x440266,_0x5527d1){return _0x142b(_0x4e31f9- -0x5a,_0x440266);}if(!_0x1f497f)return{};function _0x39f2d1(_0x3f6ce1,_0x1b97ac,_0x5720f5,_0x4bd0d5){return _0x142b(_0x5720f5- -0x3a0,_0x3f6ce1);}try{const _0x10b8b8=_0x1f497f[_0x2b0031(0x73,0xa6,0x5b,0xa5)](/\{[\s\S]*\}/);if(_0x10b8b8){const _0x1ffe4d=JSON[_0x39f2d1(-0x23a,-0x25f,-0x29a,-0x290)](_0x10b8b8[0x1d02+0x3f3+-0x20f5]);if(typeof _0x1ffe4d===_0x405471[_0x2b0031(0x78,0x7c,0x29,0x34)]&&_0x1ffe4d!==null)return _0x1ffe4d;}}catch(_0x57d56a){console['warn'](_0x405471[_0x39f2d1(-0x292,-0x274,-0x2a3,-0x305)],_0x57d56a[_0x2b0031(0xb7,0x10f,0xb4,0x10f)]);}const _0x227e76=_0x405471[_0x39f2d1(-0x269,-0x2ec,-0x299,-0x2e4)](String,_0x1f497f)[_0x39f2d1(-0x1fe,-0x201,-0x23e,-0x289)](/[\r\n]+/g,'\x20')['replace'](/^[\s"'`]+|[\s"'`]+$/g,'')['trim'](),_0x3c90ef=_0x227e76[_0x39f2d1(-0x216,-0x29b,-0x26b,-0x21b)](/[,，]/)[_0x2b0031(0x115,0xdc,0x7f,0x81)](_0x193335=>_0x193335[_0x2b0031(0xf9,0x105,0xab,0xb7)]())['filter'](Boolean),_0x243c35={};for(const _0x5d86a0 of _0x3c90ef){if(_0x405471[_0x39f2d1(-0x25a,-0x258,-0x279,-0x215)]!==_0x405471[_0x2b0031(0x6b,0xcd,0x8d,0x79)])_0x570719+=_0x2c9f27;else{const _0x43589a=_0x5d86a0['indexOf']('\x5c');if(_0x405471['Umssi'](_0x43589a,-0xa*-0xc2+0x205d+0x19*-0x199)){const _0x4937ef=_0x5d86a0[_0x39f2d1(-0x269,-0x312,-0x2b3,-0x288)](0xc97*0x2+-0xb9*0x1f+-0xed*0x3,_0x43589a)['trim'](),_0x181220=_0x5d86a0[_0x39f2d1(-0x26e,-0x2c0,-0x2b3,-0x30f)](_0x405471[_0x2b0031(0x115,0xde,0xa5,0x10d)](_0x43589a,-0xceb+-0x308*-0x5+-0x23c))[_0x39f2d1(-0x279,-0x201,-0x241,-0x23b)]();if(_0x4937ef)_0x243c35[_0x4937ef]=_0x181220;}}}return _0x243c35;}function generateRequestId(){const _0x2c9aac={};_0x2c9aac[_0x46b53c(-0x217,-0x1ca,-0x187,-0x1fc)]='GfWuX',_0x2c9aac['WEaSz']=_0x1b55df(0x142,0x17f,0x15d,0x1a7);function _0x46b53c(_0x33a6d1,_0x40864b,_0x1d4878,_0xda4a34){return _0x142b(_0x40864b- -0x292,_0xda4a34);}const _0x1e237c=_0x2c9aac;function _0x1b55df(_0x20d009,_0x3fa6db,_0x3a156c,_0x4f2fb7){return _0x142b(_0x3a156c-0x78,_0x3fa6db);}if(crypto&&crypto[_0x1b55df(0x11d,0xdb,0x134,0x156)]){if(_0x1e237c[_0x1b55df(0x131,0x16f,0x140,0x115)]!==_0x1e237c[_0x1b55df(0x15d,0x17e,0x16b,0x19b)])return crypto[_0x46b53c(-0x1b7,-0x1d6,-0x233,-0x238)]();else{const _0x1f4d7={};return _0x1f4d7[_0x1b55df(0x1de,0x1f5,0x1e5,0x1c3)]=_0x1ddd5c,_0x1f4d7['translatio'+'n']='',_0x1f4d7[_0x1b55df(0x170,0x1db,0x192,0x176)]=_0x2ac4fb,_0x1f4d7[_0x1b55df(0x1a7,0x143,0x14c,0xf6)]=!![],_0x1f4d7;}}return Date[_0x1b55df(0x140,0x19a,0x181,0x1c8)]()['toString'](-0x1*-0x146f+-0x914+-0xb37)+Math[_0x1b55df(0x11f,0xee,0x147,0x125)]()[_0x1b55df(0x14c,0x145,0x18e,0x194)](-0x39*0x36+-0x3*-0x15b+0x819)[_0x46b53c(-0x100,-0x131,-0x13e,-0xcc)](0x6*-0x13e+0xa3c+0x5*-0x8e);}export function LLM_TRANSLATION_GET_PROMPT(){function _0x17d2c1(_0x5b8e17,_0x10fa9d,_0x33d4d5,_0x3653c4){return _0x142b(_0x5b8e17-0x1ac,_0x33d4d5);}const _0x53c019={'lkcHQ':_0x59d62d(-0x8c,-0x9e,-0x68,-0x6)+'+$','eWEkK':_0x17d2c1(0x2fb,0x2fa,0x31f,0x2c5),'tJSTz':function(_0x5a4faf,_0x11700b){return _0x5a4faf(_0x11700b);},'yZbBa':_0x59d62d(-0x123,-0x10a,-0xe2,-0xc5)};function _0x59d62d(_0x289712,_0x135e2d,_0x5b8d7c,_0x328b7b){return _0x142b(_0x5b8d7c- -0x1a5,_0x289712);}return new Promise((_0x241e40,_0x152e39)=>{const _0x2b3345={'wFPvW':_0x53c019['lkcHQ'],'ntfPZ':function(_0x54e6bc,_0x3040ef){return _0x54e6bc===_0x3040ef;},'nrpDN':_0x53c019[_0x269a15(-0x278,-0x31b,-0x2f7,-0x2c0)],'XMDeg':function(_0x5b2262,_0x395228){return _0x5b2262!==_0x395228;},'ElSIY':function(_0x5800b2,_0xa0d350){function _0x1e6820(_0x3095d5,_0x7b2a8e,_0x430e3a,_0x121c3b){return _0x269a15(_0x3095d5-0x7f,_0x7b2a8e-0xcb,_0x430e3a,_0x3095d5-0xb7);}return _0x53c019[_0x1e6820(-0x265,-0x28d,-0x239,-0x28a)](_0x5800b2,_0xa0d350);},'LZjie':_0x53c019['yZbBa']},_0x11ce83=generateRequestId();console[_0x1a3750(0x358,0x366,0x31b,0x3a6)](_0x269a15(-0x2b4,-0x2b8,-0x303,-0x314)+_0x1a3750(0x3ac,0x34a,0x2f9,0x358)+'\x20(ID:\x20'+_0x11ce83+')');const _0x257768=_0x51dd91=>{function _0x5cc3bb(_0x411eac,_0x1d5a9d,_0x3cf060,_0x1d095f){return _0x269a15(_0x411eac-0x26,_0x1d5a9d-0x8,_0x1d5a9d,_0x411eac-0x2bb);}function _0x2254cc(_0x4a0f62,_0x34fd1e,_0x46dad9,_0x3884d5){return _0x1a3750(_0x3884d5,_0x46dad9- -0x4f2,_0x46dad9-0xef,_0x3884d5-0x155);}const _0x679334={};_0x679334[_0x2254cc(-0x1c5,-0x114,-0x16e,-0x1b8)]=_0x2b3345[_0x5cc3bb(-0x66,-0x27,-0xca,-0x61)];const _0x5b950e=_0x679334;if(_0x2b3345[_0x5cc3bb(-0x36,-0x77,0x26,-0x7f)](_0x2b3345['nrpDN'],_0x2b3345[_0x5cc3bb(-0x50,-0x49,0xf,-0x9b)])){if(_0x2b3345[_0x2254cc(-0x103,-0xb5,-0x116,-0x179)](_0x51dd91['id'],_0x11ce83))return;eventSource['removeList'+_0x2254cc(-0x214,-0x195,-0x1b6,-0x1b7)](eventNames[_0x2254cc(-0x183,-0x152,-0x19e,-0x1e9)+_0x2254cc(-0x1cc,-0x1c2,-0x179,-0x11c)+_0x2254cc(-0x116,-0x18e,-0x14a,-0x12c)+_0x5cc3bb(-0x4d,-0x5b,-0x89,-0xa9)],_0x257768);const {prompt:_0x5132ba}=_0x51dd91;console['log'](_0x5cc3bb(-0x59,-0x15,-0x2e,-0x72)+'\x20已获取翻译提示词\x20'+_0x2254cc(-0xf9,-0x116,-0xfb,-0xc0)+_0x11ce83+'):',_0x5132ba),_0x2b3345['ElSIY'](_0x241e40,_0x5132ba);}else return _0x47d4e6['toString']()['search'](iaySmM[_0x2254cc(-0x140,-0x142,-0x16e,-0x146)])['toString']()[_0x2254cc(-0x11c,-0x13a,-0x10e,-0x16f)+'r'](_0x21ae5a)[_0x2254cc(-0x166,-0x172,-0x129,-0x16b)](iaySmM[_0x2254cc(-0x136,-0x155,-0x16e,-0x16b)]);};eventSource['on'](eventNames[_0x1a3750(0x365,0x354,0x37a,0x2fa)+'ATION_GET_'+_0x1a3750(0x3ad,0x3a8,0x3a5,0x3f2)+_0x269a15(-0x2ed,-0x30c,-0x368,-0x308)],_0x257768);const _0x4c03f5={};_0x4c03f5['id']=_0x11ce83;function _0x269a15(_0x5de506,_0x5e1082,_0x255d1a,_0x51b575){return _0x17d2c1(_0x51b575- -0x592,_0x5e1082-0xc1,_0x255d1a,_0x51b575-0x51);}eventSource[_0x269a15(-0x2f2,-0x2f5,-0x280,-0x2a2)](eventNames[_0x269a15(-0x374,-0x367,-0x308,-0x31b)+_0x1a3750(0x385,0x379,0x3b1,0x374)+_0x269a15(-0x22c,-0x250,-0x296,-0x27a)+_0x1a3750(0x39c,0x3e6,0x382,0x38f)],_0x4c03f5);function _0x1a3750(_0x3d0f7e,_0x188011,_0x21dcb8,_0x344641){return _0x59d62d(_0x3d0f7e,_0x188011-0xc2,_0x188011-0x42e,_0x344641-0x1c1);}setTimeout(()=>{function _0x33da20(_0x9945f7,_0xce0555,_0x2c571e,_0x181765){return _0x1a3750(_0xce0555,_0x2c571e- -0x37a,_0x2c571e-0x183,_0x181765-0x27);}function _0x4a0cbe(_0x4c9dc6,_0x89ee98,_0x536644,_0x78b410){return _0x1a3750(_0x89ee98,_0x78b410-0x103,_0x536644-0x156,_0x78b410-0x2b);}eventSource[_0x33da20(0x78,0x4e,0x68,0x6c)+_0x4a0cbe(0x442,0x412,0x41e,0x43f)](eventNames[_0x33da20(0x2a,0x3,-0x26,-0x7)+_0x4a0cbe(0x4af,0x445,0x4c3,0x47c)+_0x4a0cbe(0x4d7,0x50a,0x475,0x4ab)+_0x4a0cbe(0x48a,0x46b,0x437,0x46a)],_0x257768),_0x2b3345[_0x4a0cbe(0x452,0x447,0x487,0x4a0)](_0x152e39,new Error(_0x2b3345[_0x33da20(0x2b,0xe,0x12,0x55)]));},-0x1*-0x3b53+0x545*-0x2+-0x9b9);});}export function LLM_TRANSLATION(_0x557ad3,{timeoutMs:timeoutMs=-0x433f*-0x2+-0x2b*0x3f5+-0x1e01*-0x9}={}){function _0x261bef(_0x12db46,_0x4f7a93,_0x577f61,_0x18d04a){return _0x142b(_0x18d04a-0x26b,_0x12db46);}function _0x4929f9(_0x106d80,_0x229d0c,_0x54c8fb,_0x311886){return _0x142b(_0x229d0c-0x12,_0x54c8fb);}const _0x5188e4={'kGRkH':function(_0x5428c2,_0x8249f3){return _0x5428c2(_0x8249f3);},'YKBtY':_0x4929f9(0x123,0x12e,0x14f,0xe5),'QdOax':_0x4929f9(0xf1,0xc7,0xdc,0x6e),'fhXiN':function(_0x4bdfcc,_0x59bc36){return _0x4bdfcc!==_0x59bc36;},'xvktR':function(_0x1369a5){return _0x1369a5();},'SmXAb':function(_0x2282d6,_0x20576f){return _0x2282d6(_0x20576f);},'voTZQ':'vvYmI','vOnGb':_0x4929f9(0x13d,0x120,0xcf,0x162),'htRap':function(_0x55f625,_0x3194d6){return _0x55f625===_0x3194d6;},'bbCsJ':_0x4929f9(0xdd,0x110,0x12d,0x15b),'CVvah':function(_0x4012ab,_0x27efce){return _0x4012ab(_0x27efce);},'nmqlE':_0x4929f9(0x126,0x10a,0xd9,0x111),'UyPAf':function(_0x16e099){return _0x16e099();},'QLiyC':function(_0xe124a5,_0x23e774){return _0xe124a5(_0x23e774);},'XfABi':_0x261bef(0x3ac,0x359,0x3d1,0x386),'ljNpF':function(_0xbc914d,_0x467b50){return _0xbc914d(_0x467b50);},'eLCcp':function(_0x2af97b,_0x26f444){return _0x2af97b>_0x26f444;},'oqebs':function(_0x16c096){return _0x16c096();}};return new Promise((_0x36cf89,_0x53f1ef)=>{const _0x3a0906={'yQKTn':function(_0xa6a239,_0x447e3c){return _0x5188e4['htRap'](_0xa6a239,_0x447e3c);},'FKWPg':_0x5188e4[_0x1acd3f(-0x44,-0x93,-0x10,-0x4a)],'WgrXx':function(_0x423ab0,_0x3fe4ff){function _0x273ef7(_0xed8dcc,_0x374580,_0x3d848e,_0xadacd){return _0x1acd3f(_0xed8dcc-0x275,_0x374580,_0x3d848e-0x102,_0xadacd-0x1a4);}return _0x5188e4[_0x273ef7(0x216,0x20c,0x239,0x233)](_0x423ab0,_0x3fe4ff);},'ptqwd':function(_0x1eb383,_0x8720f5){function _0x23636c(_0x41c198,_0x37566e,_0x511e7f,_0x14d1e0){return _0x1acd3f(_0x37566e-0xa2,_0x511e7f,_0x511e7f-0x108,_0x14d1e0-0x14f);}return _0x5188e4[_0x23636c(0x12,-0x2,-0x53,-0x28)](_0x1eb383,_0x8720f5);},'XJJUo':function(_0x5d3156,_0x3efe9b){return _0x5d3156+_0x3efe9b;}},_0x8f7d6a=_0x5188e4['oqebs'](generateRequestId);console[_0x1acd3f(-0xa3,-0x43,-0x46,-0x63)](_0x4bf683(-0xeb,-0xe8,-0xca,-0xa5)+_0x1acd3f(-0x51,-0x87,-0x1f,-0x71)+_0x1acd3f(-0x12,-0x31,-0x38,0x28)+_0x8f7d6a+')');let _0x554553=null;const _0x54510d=()=>{function _0x3a5436(_0x2a8d0f,_0x4e6154,_0x3e6633,_0x445bd3){return _0x1acd3f(_0x445bd3-0x5f,_0x4e6154,_0x3e6633-0x1e0,_0x445bd3-0x9a);}function _0x5377e8(_0x42eb95,_0x12999c,_0x1dacef,_0x56a9f5){return _0x1acd3f(_0x42eb95-0x542,_0x12999c,_0x1dacef-0x8e,_0x56a9f5-0xc9);}if(_0x3a0906[_0x5377e8(0x4c7,0x4f0,0x4b7,0x4e7)](_0x3a0906['FKWPg'],_0x5377e8(0x4dd,0x480,0x518,0x49e))){eventSource[_0x5377e8(0x51b,0x561,0x4d2,0x553)+_0x3a5436(-0xc8,-0x2f,-0xcf,-0x6e)](eventNames[_0x5377e8(0x48d,0x4b9,0x436,0x453)+_0x3a5436(0x76,-0x36,-0x11,0x29)+_0x3a5436(0x4f,-0xc,-0x56,-0x15)],_0x1154f4);if(_0x554553)_0x3a0906['WgrXx'](clearTimeout,_0x554553);}else{const _0x310e69=_0x415f2a[_0x3a5436(-0x11,-0x50,-0x3,-0x64)](_0x19d6dd,arguments);return _0x2ead8d=null,_0x310e69;}};function _0x1acd3f(_0x214fe5,_0x29f9bf,_0x34ea7f,_0x4b0454){return _0x261bef(_0x29f9bf,_0x29f9bf-0x1a3,_0x34ea7f-0x4a,_0x214fe5- -0x3eb);}const _0x1154f4=_0x240a41=>{const _0x3388bb={'cWeKa':function(_0x4b015c,_0x4e90fa){function _0x467cf7(_0x4e0228,_0x29e4c1,_0x2e9f4b,_0x685c78){return _0x142b(_0x685c78- -0x352,_0x29e4c1);}return _0x5188e4[_0x467cf7(-0x1af,-0x1b9,-0x1da,-0x201)](_0x4b015c,_0x4e90fa);},'rbpqv':_0x5188e4[_0x3deda3(0x302,0x30d,0x356,0x315)]};function _0x7a0847(_0x342c05,_0x2c4ede,_0x3961f8,_0x140fb9){return _0x1acd3f(_0x3961f8-0x427,_0x342c05,_0x3961f8-0x162,_0x140fb9-0xbe);}function _0x3deda3(_0x2cb946,_0x2abd49,_0x37c8d1,_0x443c46){return _0x1acd3f(_0x443c46-0x32f,_0x37c8d1,_0x37c8d1-0x17e,_0x443c46-0x1b4);}if(_0x5188e4['QdOax']===_0x5188e4[_0x3deda3(0x266,0x2d7,0x272,0x2a1)]){if(_0x5188e4[_0x3deda3(0x330,0x2e7,0x297,0x2dc)](_0x240a41['id'],_0x8f7d6a))return;_0x5188e4[_0x3deda3(0x2ee,0x2ba,0x2e2,0x309)](_0x54510d),console[_0x7a0847(0x3e8,0x358,0x384,0x3d8)](_0x7a0847(0x3ba,0x383,0x379,0x35b)+'\x20已收到翻译\x20LLM'+_0x3deda3(0x2cc,0x30d,0x283,0x2c0)+'\x20'+_0x8f7d6a+'):',_0x240a41);if(_0x240a41[_0x3deda3(0x2f0,0x2a9,0x2b6,0x2a0)])_0x5188e4[_0x7a0847(0x328,0x378,0x358,0x366)](_0x36cf89,_0x240a41['result']);else{if(_0x5188e4[_0x3deda3(0x313,0x292,0x2c5,0x2dc)](_0x5188e4[_0x3deda3(0x2ae,0x246,0x281,0x25c)],_0x5188e4['vOnGb'])){if(_0x240a41[_0x3deda3(0x32b,0x2c1,0x354,0x320)]&&_0x5188e4['htRap'](_0x240a41['error']['name'],_0x5188e4[_0x7a0847(0x37c,0x37d,0x3b4,0x396)])){const _0x279cc6=new Error(_0x240a41[_0x3deda3(0x2d7,0x2ee,0x381,0x320)][_0x3deda3(0x363,0x35b,0x361,0x318)]);_0x279cc6['name']=_0x5188e4['bbCsJ'],_0x53f1ef(_0x279cc6);}else _0x5188e4[_0x3deda3(0x2d1,0x2af,0x26d,0x29a)](_0x53f1ef,new Error(_0x240a41[_0x3deda3(0x2fe,0x2eb,0x2c8,0x304)]));}else{const _0x353ec4=_0x5ec610[_0x3deda3(0x2cb,0x28d,0x291,0x2cc)]('\x5c');if(_0x3a0906[_0x3deda3(0x274,0x2dc,0x2bd,0x293)](_0x353ec4,0xcd8+0x3a0*0x2+-0x1418)){const _0x2d18ff=_0x587d71[_0x3deda3(0x2a4,0x28d,0x2e2,0x29c)](-0x7a*0xd+0xe4*0x16+-0xd66,_0x353ec4)[_0x7a0847(0x3f6,0x3f5,0x406,0x40e)](),_0x31fe1a=_0x30293a['slice'](_0x3a0906[_0x3deda3(0x2f6,0x2d7,0x2f0,0x31e)](_0x353ec4,-0x1a37*0x1+0xa3*0x2b+-0x129))[_0x3deda3(0x2fd,0x2d7,0x349,0x30e)]();if(_0x2d18ff)_0x122626[_0x2d18ff]=_0x31fe1a;}}}}else{_0x3388bb[_0x3deda3(0x31c,0x2d0,0x2f4,0x319)](_0x3830eb,'翻译失败:\x20'+_0x377d27['message']),_0xa4ca6['error'](_0x3388bb[_0x7a0847(0x3b8,0x3b6,0x356,0x31c)],_0xf0fb7d);throw _0x4142a9;}};eventSource['on'](eventNames[_0x1acd3f(-0xb5,-0x7f,-0x58,-0xa6)+_0x4bf683(-0x39,-0x53,-0x52,0xc)+_0x1acd3f(-0x74,-0xb3,-0x43,-0x5c)],_0x1154f4);function _0x4bf683(_0x5bb918,_0x43b199,_0x531323,_0x37b8ec){return _0x261bef(_0x37b8ec,_0x43b199-0x1b0,_0x531323-0xeb,_0x531323- -0x407);}const _0x339cc5={};_0x339cc5['prompt']=_0x557ad3,_0x339cc5['id']=_0x8f7d6a,eventSource['emit'](eventNames[_0x1acd3f(-0xb5,-0xf9,-0xc1,-0x7d)+_0x1acd3f(-0x69,-0x94,-0x44,-0x96)+_0x1acd3f(-0x34,-0x2e,0x9,-0x7b)],_0x339cc5),_0x554553=setTimeout(()=>{function _0x2266a7(_0x5ed78e,_0x14ee1c,_0xbe822,_0x14d582){return _0x1acd3f(_0x14ee1c-0x458,_0xbe822,_0xbe822-0x166,_0x14d582-0x6e);}function _0x24f6e7(_0x55dcf3,_0x6ac54a,_0x1fc1dc,_0x2fd851){return _0x1acd3f(_0x1fc1dc- -0x158,_0x55dcf3,_0x1fc1dc-0x197,_0x2fd851-0xd5);}if(_0x2266a7(0x3dc,0x3fd,0x404,0x3a8)!==_0x5188e4['nmqlE'])_0x5188e4[_0x24f6e7(-0x242,-0x239,-0x1df,-0x241)](_0x54510d),_0x5188e4[_0x24f6e7(-0x192,-0x15d,-0x192,-0x152)](_0x53f1ef,new Error(_0x24f6e7(-0x1cd,-0x246,-0x20b,-0x234)+'时（'+timeoutMs+_0x2266a7(0x467,0x40f,0x473,0x3fd)));else{const _0x2048ae=_0x87dabb?function(){if(_0x2f24ae){const _0x27603c=_0x214335['apply'](_0x22e79e,arguments);return _0x37e479=null,_0x27603c;}}:function(){};return _0x4206b9=![],_0x2048ae;}},timeoutMs);});}export async function callTranslation(_0x2f9fce){function _0x11708e(_0x2d60af,_0x492b17,_0x36012f,_0x465cf8){return _0x142b(_0x36012f-0x27b,_0x2d60af);}const _0x511e58={'gmbaT':function(_0x50e910,_0x202d04){return _0x50e910(_0x202d04);},'MvRQN':_0x391aa4(0xb,0x51,0x59,0x77),'bFfdl':function(_0x569206,_0x1dfe9f){return _0x569206!==_0x1dfe9f;},'tOmtN':'ixuhu','Rslov':function(_0x123e08,_0x3a4a79){return _0x123e08||_0x3a4a79;},'htgTD':_0x11708e(0x40e,0x3fb,0x3de,0x3e3),'sgOZB':function(_0x16b632,_0x3d8df4){return _0x16b632(_0x3d8df4);},'PykUp':function(_0x49ec0b,_0xfc0613){return _0x49ec0b===_0xfc0613;},'zkewE':'ZDIHB','vbMmM':function(_0x3a356e,_0x25f593){return _0x3a356e(_0x25f593);},'cUXVs':_0x11708e(0x38e,0x3ef,0x397,0x3c5)};function _0x391aa4(_0x4541d0,_0x4a48a8,_0x4e175a,_0x31f6b9){return _0x142b(_0x4e175a- -0x6a,_0x4541d0);}try{if(_0x511e58[_0x391aa4(0xb6,0xdb,0xba,0xff)](_0x511e58[_0x391aa4(0x129,0xbb,0xf6,0xf3)],_0x511e58['tOmtN']))_0x6af609['push'](_0x5c49b2),_0x111a68['set'](_0x25a575['toLowerCas'+'e'](),_0x517c36);else{let _0x4449e6=buildPromptForRequestType('translatio'+'n',_0x511e58[_0x391aa4(0xee,0xce,0x98,0x81)](_0x2f9fce,''));_0x4449e6=_0x511e58[_0x11708e(0x315,0x30d,0x331,0x326)](mergeAdjacentMessages,_0x4449e6);const _0xf00666=[..._0x4449e6,{'role':_0x511e58[_0x11708e(0x333,0x368,0x38a,0x33e)],'content':_0x511e58['Rslov'](_0x2f9fce,'')}];_0x511e58[_0x11708e(0x3d6,0x3f5,0x3cd,0x3a2)](updateCombinedPrompt,_0xf00666);const _0x1a25a7=await LLM_TRANSLATION(_0xf00666);return _0x1a25a7;}}catch(_0x35ea69){if(_0x511e58[_0x391aa4(0x27,-0xd,0x55,0x7d)]('ZDIHB',_0x511e58[_0x391aa4(0xe4,0xa9,0xc1,0x74)])){_0x511e58[_0x391aa4(0x6f,0x9c,0x6b,0xa7)](addLog,_0x11708e(0x353,0x302,0x342,0x31c)+_0x35ea69[_0x11708e(0x429,0x448,0x3e4,0x389)]),console[_0x391aa4(0x133,0xb3,0x107,0x131)](_0x511e58[_0x11708e(0x3d1,0x37e,0x390,0x3bc)],_0x35ea69);throw _0x35ea69;}else _0x345ff7[_0x391aa4(0x132,0xcf,0xef,0xf5)+_0x391aa4(0x41,-0xf,0x49,0xa2)](_0x5a4f0d[_0x11708e(0x335,0x3a7,0x346,0x313)+_0x391aa4(0x51,0x23,0x86,0xd1)+'PROMPT_RES'+_0x391aa4(0x3b,0x79,0x74,0x5b)],_0x537a96),_0x511e58[_0x391aa4(0x9b,-0x9,0x4c,0x26)](_0x450b35,new _0x3966f1(_0x511e58[_0x391aa4(0x1f,0x96,0x69,0x9d)]));}}let isAiInitialized=![];export function initAiSettings(_0x41d4f3){const _0x21b3f3={};_0x21b3f3[_0x344475(0x1dc,0x1fd,0x1f0,0x210)]=function(_0x29dacf,_0x112b2b){return _0x29dacf!==_0x112b2b;},_0x21b3f3[_0x44b899(0xa7,0xf7,0x51,0xee)]=_0x344475(0x271,0x283,0x28d,0x21f),_0x21b3f3['LBvzP']=_0x44b899(0x41,0x5e,0x94,0x52),_0x21b3f3[_0x44b899(-0xe,0x4e,-0x4c,-0x5d)]=_0x44b899(0x9,0x65,-0x28,-0x11)+_0x44b899(0x2b,0xa,-0xb,-0x13)+_0x344475(0x1e4,0x206,0x247,0x228);function _0x44b899(_0x8764c0,_0xd0fe2a,_0x554922,_0x4c6e49){return _0x142b(_0x8764c0- -0xc9,_0x554922);}function _0x344475(_0x1b5556,_0x187e16,_0x1f25cb,_0x1b24bb){return _0x142b(_0x187e16-0x144,_0x1b24bb);}const _0x4bdcc4=_0x21b3f3;if(!isAiInitialized){if(_0x4bdcc4[_0x344475(0x212,0x1fd,0x1f8,0x1eb)](_0x4bdcc4[_0x344475(0x29f,0x2b4,0x2b5,0x2cd)],_0x4bdcc4['LBvzP']))console[_0x44b899(0x14,-0x4e,0x3b,0x78)](_0x4bdcc4['fhVqw']),isAiInitialized=!![];else return'';}}