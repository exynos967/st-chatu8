(function(_0x25230a,_0x4866a5){function _0x53e8ce(_0x4b762a,_0x1fa2ac,_0x8af81a,_0x3f2793){return _0xca41(_0x3f2793- -0x1a9,_0x1fa2ac);}function _0x159dad(_0x315629,_0x56fdea,_0x17b9f7,_0x3e3583){return _0xca41(_0x17b9f7- -0xd7,_0x3e3583);}const _0x51fdeb=_0x25230a();while(!![]){try{const _0xc91593=parseInt(_0x53e8ce(0x2d,0x84,0x4d,0x84))/(-0x2e7*0xb+-0x1d*-0x14a+-0x574)*(parseInt(_0x159dad(0x13a,0x1ca,0x195,0x1df))/(-0x201f+0x1*-0x2324+0x4345))+parseInt(_0x159dad(0x1ce,0x119,0x175,0x1ab))/(-0x924+0x73e*0x1+0x1e9*0x1)*(-parseInt(_0x159dad(0x1db,0x1c9,0x185,0x13b))/(0x1a1a+-0x25df+0x1*0xbc9))+parseInt(_0x53e8ce(0xa0,0xc8,0x9c,0xf2))/(-0x1df1+0x1f0c*0x1+-0x116)+parseInt(_0x159dad(0x116,0x142,0x13f,0x143))/(-0x23b+0x268e+-0x1*0x244d)+-parseInt(_0x53e8ce(0x79,0xa5,0x17,0x70))/(-0x1b47+-0x1ba2+0x24a*0x18)+parseInt(_0x159dad(0x1c4,0x15a,0x187,0x1cb))/(0xb44*-0x3+-0x2567*-0x1+-0x1*0x393)*(-parseInt(_0x53e8ce(0x58,0x6e,0x82,0x49))/(0xcb*0x22+-0xa72+-0x107b))+-parseInt(_0x159dad(0x143,0x156,0x189,0x134))/(0x527*-0x5+0x2e*0x7e+0x329);if(_0xc91593===_0x4866a5)break;else _0x51fdeb['push'](_0x51fdeb['shift']());}catch(_0xfee40d){_0x51fdeb['push'](_0x51fdeb['shift']());}}}(_0x21fa,0x3e*0xaed+0xa2c*-0x1e+0x7c*0x68));const _0xd156c=(function(){const _0x5707af={};_0x5707af['kjfBO']=_0x2a7887(0x69e,0x5ed,0x641,0x649);const _0xc66b14=_0x5707af;function _0x2a7887(_0x1fabf8,_0x2771dc,_0x1f57b6,_0x5d5956){return _0xca41(_0x1f57b6-0x3b1,_0x2771dc);}let _0xc59a29=!![];return function(_0x5a1b86,_0x49c426){const _0x419d42={};function _0x2a99ae(_0x482187,_0xebf02,_0x5ae1e0,_0x2f592f){return _0x2a7887(_0x482187-0x127,_0x5ae1e0,_0x2f592f- -0x49f,_0x2f592f-0xee);}_0x419d42[_0xbc3e71(0x57b,0x56a,0x5b0,0x5ad)]=_0xc66b14[_0x2a99ae(0x17b,0x1cf,0x1d8,0x187)];const _0x1bf56f=_0x419d42;function _0xbc3e71(_0x41e23b,_0x27468a,_0x3ee907,_0x7fbe44){return _0x2a7887(_0x41e23b-0xbc,_0x41e23b,_0x7fbe44- -0x49,_0x7fbe44-0xae);}const _0x9abd04=_0xc59a29?function(){function _0xee06f(_0x1d1513,_0x58fd0a,_0x169c9d,_0x311f59){return _0xbc3e71(_0x169c9d,_0x58fd0a-0x1d5,_0x169c9d-0x50,_0x1d1513- -0xe8);}function _0x2e1a4b(_0x544374,_0x1656af,_0x9b0c24,_0x3ac83a){return _0xbc3e71(_0x1656af,_0x1656af-0x2c,_0x9b0c24-0x159,_0x544374- -0x671);}if(_0x49c426){if(_0x1bf56f[_0xee06f(0x4c5,0x4ff,0x493,0x51e)]!==_0xee06f(0x510,0x4b5,0x4f7,0x530)){const _0x2b4bcb=_0x6994c6?function(){function _0x49acb1(_0x3d430b,_0x5e8d71,_0x48aedb,_0x3bb68a){return _0x2e1a4b(_0x3d430b-0x471,_0x5e8d71,_0x48aedb-0xac,_0x3bb68a-0x105);}if(_0x185868){const _0x401b92=_0x275026[_0x49acb1(0x3a7,0x3bd,0x377,0x3b8)](_0x48c417,arguments);return _0x1f28a7=null,_0x401b92;}}:function(){};return _0x5e31f8=![],_0x2b4bcb;}else{const _0x2ca0d5=_0x49c426[_0xee06f(0x4bf,0x4c2,0x472,0x4a8)](_0x5a1b86,arguments);return _0x49c426=null,_0x2ca0d5;}}}:function(){};return _0xc59a29=![],_0x9abd04;};}()),_0x168f42=_0xd156c(this,function(){function _0x23c692(_0x309562,_0x4f17d1,_0xaf0053,_0x2fafe9){return _0xca41(_0x309562- -0x9f,_0x4f17d1);}const _0x564994={};function _0x4d81a1(_0xa70bf4,_0x3ca274,_0x49f641,_0x198890){return _0xca41(_0x49f641-0x362,_0x3ca274);}_0x564994['EFiBD']=_0x23c692(0x14b,0x163,0x160,0x14e)+'+$';const _0x4ec0ee=_0x564994;return _0x168f42['toString']()['search'](_0x4ec0ee[_0x4d81a1(0x5b7,0x5f9,0x5a6,0x5c8)])[_0x23c692(0x1a8,0x186,0x16c,0x1c2)]()[_0x23c692(0x1be,0x185,0x1fa,0x1df)+'r'](_0x168f42)['search'](_0x4ec0ee[_0x23c692(0x1a5,0x1e4,0x16e,0x187)]);});_0x168f42();import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{extensionName,eventNames}from'./config.js';import{addLog}from'./utils.js';function _0x21fa(){const _0x2938f2=['CMfUzg9T','t3v3ruK','zMHou2W','qvrjt05Fr0vuxW','vKrvt1m','ntu4ndKWq0rdtKfk','CMvWBgfJzq','zfHYq0G','tMH4tMG','ufjptvbux1jfuq','DKPswfm','BwvZC2fNzq','C3rYAw5N','ChvZAa','BMfTzq','kcGOlISPkYKRkq','qKnRB2C','rg94ANq','B0vZCum','C2TPCa','rKLyAfG','t1DMExm','r2vHrha','ndy4rhLKwKPv','tLjAC2e','ieXmtsdORR7NVA7POBxPNAi','qvrjt05FuKvrvq','AK5RAxi','zuHzDNm','AufHzhy','De1PrKi','zefeCg0','Bwf0y2G','ioE/U+IVKEApKoEKUUIVJEAGH+ETVUwKSEI0Pq','Ben2Dha','wwDjzuG','rej0vg8','C2XPy2u','EejeAM4','AxnbCNjHEq','ue9ou0u','z1jqDuK','Dvr5thm','tfr0EuS','vxPdt3e','Aw5KzxHpzG','BwfW','ufjptvbux1jfuW','AhLJBu8','C2vHCMnO','iow3SUAuTUwiSoE/U+IVKsbmte0','t2DpDNq','D2fYBG','qvrjt05FuKvtua','zuXdzw8','ENbYB0q','CKfSC2W','z2Hqqvy','zuTTCfO','mti2nZG4neT4q2HYyW','CMvZDwX0','CM91Aem','odCWnZiZufHtwfnA','EuHYy3K','tLnvtLa','icHjrdOG','v0DzAvy','BffLBLa','DhjPBq','ioIVT+AXGUIoT+wpLUE/U+IVKEApKoEKUUIVJq','B3jPz2LUywW','y3PitfO','DerbBKS','uvPzre4','uKjsC2u','57+76k+r5AsX6lsLoG','B0jtzha','zxjYB3i','CgfnDfi','qwjVCNrfCNjVCG','C3vJy2vZCW','ioAjP+IHJoE7K+AENcaOsuq6','mJCWodvttKLHwwW','BgTPDwu','57+76k+r5AsX6lsLoIa','C3vIC3rYAw5N','vw5qsvi','Dg9mB3DLCKnHCW','q0TyAxy','q1PSCw0','uMfpt08','zfv1tK4','zw5LCG','rLzVte4','zMLSDgvY','CMT6tKW','qKDzrNK','DMvTwvm','C2v0','CwrHy0y','yxbWBhK','zgLZCgXHEvrLEa','C3bSAxq','B1LfEeq','z1HosxG','ruzPqKq','BhLnENC','CMvZDwX0CW','Dg9tDhjPBMC','y1PJq1q','Curbq1K','zw1PDa','svL6ENK','nJb1vfLQBuS','Bg9N','z1futgO','DxHLugm','v0zNDgq','s0vVt3G','B3vPzu0','z2PiAK0','Bu5uv2G','D2LkrMi','vuvtva','wNvMEM0','5BcD6k+v5PEN5Qc85BYpoG','AMrnBNG','CMvTB3zLtgLZDa','tKXgzNy','mtq3mdr6s1jcA08','y29UC3rYDwn0BW','mZa4mhrotwTuyq','Cujmzum','nZGXndGWEKjts096','s2XcsgS','CMfUzg9Tvvvjra','AvzIrvy','DLrOAuG','sxvIAgy','sKvuugm','tMz4tMi','C2TPChbLza','CfrnBeq','C3qTy2HHDhu4oG','C29Tzq','nKP6sffqCG','t21Iyvu','uK9QCfK','keLeoIa','t05trq','txzssKu','zhf3uwe','BxpVViK','B2HMC0m','A2PMqK8','wufKr0K','B2jQzwn0','DhjHBNnSyxrPBW','CgfYC2u','DgvZDa','AM9PBG','teXnx1rsqu5tta','sxHNseu','iefjioIUVUE9RUw3SUE7N+s4GowiSa','qvH6rhm','zuj6re8','zw50CMLLCW','ueHbD0K','DfLTzfG','zwXpu0q','vNvQt0m','B3jPz2LUywXuyq','Bhvpzw0','CefYvNe','shvfvKy','D0zgBLK','6i635y+w57+76k+r5O+q56s66k+n6lAf5PE2','B3bMr2K','sxbUtxa','ChjVBxb0','iow3SUIoT+wpLUE/U+IVKEApKoEKUUIVJsa','u2P0Bfy','rwHOtva','DLPvsgC','DuPOy1u','CxrAAKG','y2XLyw5Lza'];_0x21fa=function(){return _0x2938f2;};return _0x21fa();}import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{mergeAdjacentMessages}from'./promptProcessor.js';let settings;const SD_SYMBOL_PATTERN=/^([\(\[\{<]+)?(.*?)([\)\]\}>]+)?(:[\d.]+)?$/,SKIP_PATTERNS=[/^<lora:/i,/^<lyco:/i,/^<hypernet:/i,/^[\d.:]+$/,/^$/,/^\$.*\$$/];function shouldSkipTranslation(_0x23000a){function _0x281fba(_0x3ca016,_0x37b5c0,_0x72063b,_0x308b26){return _0xca41(_0x37b5c0- -0x69,_0x72063b);}function _0x57cfae(_0x3f3a35,_0x5f480c,_0xaa0e76,_0x3dc83b){return _0xca41(_0x5f480c- -0x3e6,_0x3f3a35);}return SKIP_PATTERNS[_0x57cfae(-0x137,-0x17b,-0x175,-0x1b0)](_0x4c6207=>_0x4c6207[_0x281fba(0x22d,0x211,0x22a,0x1c5)](_0x23000a[_0x57cfae(-0x1df,-0x1c7,-0x216,-0x207)]()));}export function tagsToJsonString(_0x1994be){function _0x27f32b(_0x5187fb,_0x2dd058,_0x4fe9e5,_0x102701){return _0xca41(_0x2dd058-0x2c3,_0x5187fb);}if(!Array[_0x27f32b(0x4df,0x4c5,0x503,0x4ec)](_0x1994be))return'[]';return JSON['stringify'](_0x1994be['filter'](_0x2f6757=>_0x2f6757&&typeof _0x2f6757==='string'));}export function preprocessPromptForTranslation(_0x32b3f0){const _0x44f983={'VujOC':function(_0x4c9627,_0x246308){return _0x4c9627===_0x246308;},'paMtR':function(_0x5069db,_0x576657){return _0x5069db===_0x576657;},'gRPuI':function(_0x454034,_0x34798c){return _0x454034<_0x34798c;},'pArVq':function(_0x2a6f36,_0x5e2f50){return _0x2a6f36===_0x5e2f50;},'qdacF':function(_0x4b5590,_0x53f507){return _0x4b5590===_0x53f507;},'cZcCT':function(_0x24246b,_0x14a15e){return _0x24246b===_0x14a15e;},'JETPc':_0x9925c0(0x5a4,0x5fc,0x5dc,0x5b4),'DXJfy':_0x2645a0(0x1a0,0x173,0x189,0x151),'zproD':function(_0x16030e,_0x1f8bfa){return _0x16030e!==_0x1f8bfa;},'xBDjn':_0x9925c0(0x572,0x5c5,0x56f,0x5c0),'hycmO':function(_0xa5b4df,_0x5191c){return _0xa5b4df(_0x5191c);},'BSUmB':_0x9925c0(0x5af,0x558,0x51f,0x569),'NhxNh':function(_0x5a2574,_0x272771){return _0x5a2574!==_0x272771;},'IpnMp':_0x9925c0(0x5ad,0x5f0,0x577,0x5ce),'opfGi':function(_0x36ddf8){return _0x36ddf8();},'vJRXS':function(_0x1b91ee,_0x5941b8,_0x1d87da){return _0x1b91ee(_0x5941b8,_0x1d87da);},'jNkir':_0x2645a0(0x1c2,0x211,0x221,0x1de),'luOem':function(_0x48d56b,_0xc7fb3){return _0x48d56b(_0xc7fb3);},'QZYDN':function(_0x3b3658,_0x5d2e5e){return _0x3b3658(_0x5d2e5e);},'FCeFr':function(_0x240187,_0xe8919f){return _0x240187(_0xe8919f);},'UBRhc':function(_0x589158,_0x151edb){return _0x589158===_0x151edb;},'iVbEV':_0x2645a0(0x1a0,0x12a,0x152,0x185),'IYzzy':_0x9925c0(0x5f2,0x5f7,0x56e,0x5a7),'mNTWh':function(_0x12cc48,_0x4cd3e9){return _0x12cc48(_0x4cd3e9);}};if(!_0x32b3f0||typeof _0x32b3f0!==_0x44f983[_0x9925c0(0x52d,0x56c,0x4f7,0x539)])return{'originalTags':[],'cleanedTags':[],'cleanedText':'','tagMap':new Map()};function _0x2645a0(_0x53643c,_0x4cdb7c,_0x32d68e,_0x5a1b1a){return _0xca41(_0x5a1b1a- -0xc4,_0x32d68e);}const _0x26de9c=_0x512363=>{const _0x30de7b=[];let _0x2d35a6='';function _0x3c1e61(_0x5649a9,_0x53d151,_0x1f12a2,_0x1b0058){return _0x2645a0(_0x5649a9-0x14c,_0x53d151-0x41,_0x53d151,_0x5649a9-0x1d7);}let _0x46cfe1=![];for(let _0x3bfdd9=0x5c*-0x17+-0x811+-0x25*-0x71;_0x44f983[_0x151708(-0x1fc,-0x19f,-0x1e4,-0x217)](_0x3bfdd9,_0x512363['length']);_0x3bfdd9++){const _0x121629=_0x512363[_0x3bfdd9];if(_0x44f983[_0x3c1e61(0x33c,0x2ed,0x2eb,0x347)](_0x121629,'$'))_0x46cfe1=!_0x46cfe1,_0x2d35a6+=_0x121629;else{if((_0x44f983[_0x151708(-0x1af,-0x197,-0x160,-0x198)](_0x121629,',')||_0x44f983[_0x3c1e61(0x351,0x3a7,0x337,0x317)](_0x121629,'，'))&&!_0x46cfe1){if(_0x44f983[_0x151708(-0x15f,-0x146,-0x1a0,-0x167)](_0x44f983[_0x3c1e61(0x379,0x376,0x378,0x3b7)],_0x44f983['DXJfy'])){const _0x235c76=_0x39e540[_0x45f89e];if(_0x44f983[_0x151708(-0x18d,-0x165,-0x163,-0x12d)](_0x235c76,'$'))_0x418846=!_0x59b61d,_0x106cb9+=_0x235c76;else{if((_0x44f983[_0x151708(-0x1eb,-0x182,-0x1bf,-0x1e0)](_0x235c76,',')||_0x44f983[_0x3c1e61(0x33c,0x36a,0x346,0x399)](_0x235c76,'，'))&&!_0x1528ba){const _0x13be11=_0x5d2d92[_0x3c1e61(0x332,0x2ed,0x369,0x2e9)]();if(_0x13be11)_0x51686d['push'](_0x13be11);_0x31f39f='';}else _0x42980f+=_0x235c76;}}else{const _0x382b1b=_0x2d35a6['trim']();if(_0x382b1b)_0x30de7b[_0x151708(-0x207,-0x222,-0x200,-0x1bb)](_0x382b1b);_0x2d35a6='';}}else _0x44f983[_0x151708(-0x1fb,-0x22e,-0x1d6,-0x1ee)](_0x44f983[_0x3c1e61(0x314,0x2ea,0x2ca,0x332)],_0x44f983['xBDjn'])?_0x58877f(_0x2bd321[_0x3c1e61(0x32a,0x359,0x355,0x371)]):_0x2d35a6+=_0x121629;}}function _0x151708(_0x5c5050,_0x19fe92,_0x3f1920,_0x222d20){return _0x9925c0(_0x5c5050,_0x19fe92-0x191,_0x3f1920-0x19c,_0x3f1920- -0x72b);}if(_0x2d35a6[_0x151708(-0x1f9,-0x1eb,-0x1c9,-0x21a)]())_0x30de7b[_0x3c1e61(0x2fb,0x2d2,0x2fe,0x324)](_0x2d35a6[_0x3c1e61(0x332,0x33a,0x2ff,0x35f)]());return _0x30de7b;};function _0x9925c0(_0x525cc2,_0x439ada,_0x343414,_0x1ebe7c){return _0xca41(_0x1ebe7c-0x343,_0x525cc2);}const _0x554b04=_0x44f983[_0x2645a0(0x21e,0x218,0x1e9,0x1c3)](_0x26de9c,_0x32b3f0),_0x21f5bc=[],_0x3e9605=[],_0x1fc953=new Map();for(const _0x227da2 of _0x554b04){const _0x10869b=_0x227da2[_0x9925c0(0x588,0x552,0x524,0x53e)](SD_SYMBOL_PATTERN);if(_0x10869b){const _0x1b9dd4=_0x10869b[-0x8d0+-0x24bf*0x1+-0x10*-0x2d9]||'',_0x28ae22=(_0x10869b[-0x604+-0x21e7+0x27ed*0x1]||'')[_0x9925c0(0x572,0x55d,0x582,0x562)](),_0x4543fb=_0x10869b[0x1*-0x9da+-0x139d+-0x16*-0x157]||'',_0x10fd30=_0x10869b[-0x1cdb*0x1+0xbbf+0x1120]||'',_0x2d3fa5={'original':_0x227da2,'cleaned':_0x28ae22,'prefix':_0x1b9dd4,'suffix':_0x4543fb,'weight':_0x10fd30,'skip':_0x44f983[_0x9925c0(0x519,0x528,0x58d,0x567)](shouldSkipTranslation,_0x227da2)||_0x44f983['FCeFr'](shouldSkipTranslation,_0x28ae22)};_0x21f5bc[_0x9925c0(0x52e,0x567,0x562,0x52b)](_0x2d3fa5);if(!_0x2d3fa5[_0x2645a0(0x13c,0x120,0x136,0x12a)]&&_0x28ae22){if(_0x44f983['UBRhc'](_0x44f983[_0x2645a0(0x1da,0x18b,0x1f6,0x19f)],'qDACY'))_0x3e9605[_0x2645a0(0xf8,0x14b,0x12d,0x124)](_0x28ae22),_0x1fc953[_0x9925c0(0x549,0x5d7,0x5b2,0x580)](_0x28ae22[_0x2645a0(0x1be,0x16c,0x136,0x16e)+'e'](),_0x2d3fa5);else{_0x44f983[_0x2645a0(0x104,0x14a,0x136,0x147)](_0x3b1d19,_0x9925c0(0x5cf,0x5c5,0x585,0x572)+_0x58a7ab[_0x9925c0(0x63b,0x637,0x59a,0x5e4)]),_0x3ecb90[_0x2645a0(0x11b,0x111,0x145,0x164)](_0x44f983['BSUmB'],_0x303669);throw _0x103e4d;}}}else{if(_0x44f983[_0x2645a0(0x148,0x174,0x169,0x14e)](_0x44f983[_0x9925c0(0x56a,0x53b,0x579,0x58e)],_0x2645a0(0x150,0x180,0x148,0x1a0))){const _0xd87e6a={'eBzDO':function(_0x9226e0,_0x4124de){function _0x4c472e(_0x5d72f0,_0x8a2052,_0x45a5e5,_0x5011ad){return _0x9925c0(_0x45a5e5,_0x8a2052-0x17b,_0x45a5e5-0x6a,_0x8a2052- -0x389);}return _0x44f983[_0x4c472e(0x295,0x258,0x225,0x296)](_0x9226e0,_0x4124de);},'WJqCW':function(_0x23faf5,_0x4e50c2){function _0x3c3126(_0x39cb50,_0x4cfb8c,_0x567f5c,_0x1756cb){return _0x9925c0(_0x39cb50,_0x4cfb8c-0xa0,_0x567f5c-0x152,_0x4cfb8c- -0x94);}return _0x44f983[_0x3c3126(0x45e,0x4ba,0x4ba,0x4fd)](_0x23faf5,_0x4e50c2);},'UnPIR':_0x44f983[_0x2645a0(0x1c5,0x1fe,0x20b,0x1c9)],'izgif':function(_0xcf4bc7){function _0x35c620(_0x1ff49a,_0x49c01e,_0x350a54,_0x1f0384){return _0x2645a0(_0x1ff49a-0x18b,_0x49c01e-0x11,_0x1f0384,_0x350a54-0x88);}return _0x44f983[_0x35c620(0x20a,0x27c,0x250,0x258)](_0xcf4bc7);},'czHLZ':function(_0xf1ba1e,_0x4be920,_0x335a13){function _0x910ccc(_0x536338,_0x37a405,_0x4dae69,_0x94f535){return _0x9925c0(_0x4dae69,_0x37a405-0xbc,_0x4dae69-0xc1,_0x37a405- -0x15f);}return _0x44f983[_0x910ccc(0x47d,0x484,0x4b8,0x475)](_0xf1ba1e,_0x4be920,_0x335a13);}};return new _0x5d1122((_0x547808,_0x1cda53)=>{const _0x198b4d=_0xd87e6a['izgif'](_0x4dc4e6);_0x16837f[_0x2753f8(0x1e6,0x242,0x218,0x252)](_0x52a222(0x5b5,0x5cb,0x592,0x59e)+_0x52a222(0x56b,0x539,0x56e,0x57e)+_0x52a222(0x567,0x571,0x51b,0x556)+_0x198b4d+')');const _0x1aa725=_0x1b11ce=>{if(_0xd87e6a[_0x4a8680(0x30b,0x364,0x2e8,0x31a)](_0x1b11ce['id'],_0x198b4d))return;_0x2829c5[_0x4a8680(0x298,0x2d8,0x2e6,0x2f4)+_0x3df9c8(0x144,0x19e,0x1a7,0x1a5)](_0x4614b5[_0x3df9c8(0x1d0,0x1e3,0x233,0x234)+_0x3df9c8(0x1d8,0x200,0x1c5,0x22a)+_0x4a8680(0x267,0x27c,0x24b,0x2a4)+_0x4a8680(0x26a,0x2d8,0x287,0x29d)],_0x1aa725);function _0x4a8680(_0x1bcd4b,_0x2df618,_0x111aee,_0x28b0f7){return _0x52a222(_0x28b0f7- -0x2b1,_0x2df618,_0x111aee-0xae,_0x28b0f7-0x137);}function _0x3df9c8(_0x18a77c,_0xa30832,_0x4ef03b,_0x5a5aba){return _0x52a222(_0xa30832- -0x3e4,_0x4ef03b,_0x4ef03b-0x84,_0x5a5aba-0x1bc);}const {prompt:_0x14b398}=_0x1b11ce;_0x26f3bb[_0x3df9c8(0x1f9,0x1b4,0x1da,0x17a)]('st-chatu8:'+'\x20已获取翻译提示词\x20'+'(ID:\x20'+_0x198b4d+'):',_0x14b398),_0xd87e6a['WJqCW'](_0x547808,_0x14b398);};function _0x52a222(_0x5bbc64,_0x388db3,_0x3a6bd7,_0x568fb2){return _0x9925c0(_0x388db3,_0x388db3-0xc0,_0x3a6bd7-0x1a,_0x5bbc64-0x8);}_0x36f990['on'](_0x1bb8c8[_0x52a222(0x5c7,0x5dd,0x5a7,0x5bc)+_0x52a222(0x5e4,0x588,0x5b4,0x5ea)+_0x52a222(0x555,0x585,0x562,0x542)+_0x52a222(0x54e,0x57e,0x5a4,0x511)],_0x1aa725);const _0x27d87a={};function _0x2753f8(_0x5927fc,_0x2e54aa,_0x195b52,_0x38b2a1){return _0x2645a0(_0x5927fc-0x144,_0x2e54aa-0xc,_0x195b52,_0x2e54aa-0xb9);}_0x27d87a['id']=_0x198b4d,_0x34be1a[_0x2753f8(0x1e3,0x23f,0x1e8,0x1e4)](_0x198205[_0x2753f8(0x25a,0x271,0x22a,0x244)+_0x52a222(0x5e4,0x60e,0x5fe,0x5cd)+_0x52a222(0x5ea,0x5b0,0x5ab,0x5a3)+_0x2753f8(0x232,0x24b,0x27c,0x203)],_0x27d87a),_0xd87e6a[_0x52a222(0x56d,0x5c6,0x521,0x5c1)](_0x463c51,()=>{function _0x554dbe(_0xb21960,_0x2afd26,_0x857690,_0x9777ac){return _0x2753f8(_0xb21960-0x1c6,_0x857690- -0x3c1,_0x2afd26,_0x9777ac-0x19);}function _0x42ea0a(_0x20af97,_0x5e84ea,_0xb8c6c6,_0x1394f8){return _0x52a222(_0x1394f8- -0x267,_0xb8c6c6,_0xb8c6c6-0x112,_0x1394f8-0x159);}_0x2494a3[_0x42ea0a(0x356,0x364,0x336,0x33e)+_0x554dbe(-0x159,-0x1d9,-0x195,-0x18b)](_0x205611[_0x554dbe(-0x119,-0x103,-0x150,-0x19d)+_0x554dbe(-0x111,-0x136,-0x133,-0x112)+'PROMPT_RES'+'PONSE'],_0x1aa725),_0x1cda53(new _0xd51432(_0xd87e6a[_0x42ea0a(0x362,0x32d,0x35e,0x315)]));},0x4c6a*-0x1+-0x145e+-0x16a4*-0x6);});}else{const _0x5ec44e={'original':_0x227da2,'cleaned':_0x227da2,'prefix':'','suffix':'','weight':'','skip':_0x44f983[_0x9925c0(0x596,0x545,0x509,0x567)](shouldSkipTranslation,_0x227da2)};_0x21f5bc[_0x9925c0(0x50e,0x510,0x507,0x52b)](_0x5ec44e),!_0x5ec44e[_0x2645a0(0x13c,0xfb,0x135,0x12a)]&&_0x227da2&&(_0x3e9605[_0x2645a0(0x123,0x164,0xe5,0x124)](_0x227da2),_0x1fc953[_0x9925c0(0x59d,0x5d1,0x5b5,0x580)](_0x227da2[_0x9925c0(0x5a1,0x56c,0x524,0x575)+'e'](),_0x5ec44e));}}}return{'originalTags':_0x21f5bc,'cleanedTags':_0x3e9605,'cleanedText':_0x44f983[_0x9925c0(0x55a,0x53e,0x59e,0x597)](tagsToJsonString,_0x3e9605),'tagMap':_0x1fc953};}export function combineTranslationResult(_0x476c31,_0x194387){function _0x561d30(_0x4e0c1b,_0x501aa7,_0x59d175,_0x4b42c1){return _0xca41(_0x501aa7- -0x314,_0x4e0c1b);}const _0x7fb232={'RBRse':function(_0x428382,_0x2c82b8){return _0x428382(_0x2c82b8);},'vemYS':function(_0x442e25,_0x27ebcd){return _0x442e25!==_0x27ebcd;},'jdMnx':_0x11c62d(0x39e,0x3bb,0x3f2,0x384),'NLFfv':'YJeql','WGYiV':function(_0x3d0849,_0x3a41d8){return _0x3d0849===_0x3a41d8;},'pZGEq':_0x561d30(-0x86,-0x9d,-0xa4,-0xe5),'KlBHk':'FJBKM'};if(!_0x476c31||!Array[_0x11c62d(0x3e6,0x3a2,0x37a,0x3e6)](_0x476c31))return[];const _0x3e74e8={};function _0x11c62d(_0x3feb08,_0x1349e9,_0x4178d9,_0x4008bb){return _0xca41(_0x1349e9-0x1a0,_0x3feb08);}if(_0x194387&&_0x7fb232[_0x11c62d(0x376,0x3bd,0x3fa,0x3d9)](typeof _0x194387,_0x7fb232['pZGEq'])){if(_0x7fb232[_0x11c62d(0x3c1,0x3dc,0x3f8,0x39f)](_0x11c62d(0x38b,0x38b,0x3db,0x3c5),_0x7fb232[_0x561d30(-0x9e,-0xb3,-0xf6,-0x8b)]))for(const [_0x189b4a,_0x366716]of Object[_0x11c62d(0x43e,0x421,0x467,0x431)](_0x194387)){_0x3e74e8[_0x189b4a[_0x561d30(-0xb8,-0xe2,-0x128,-0x132)+'e']()]=_0x366716;}else{const _0x5e1b31={'original':_0x14e156,'cleaned':_0x137bca,'prefix':'','suffix':'','weight':'','skip':_0x7fb232[_0x11c62d(0x3e2,0x3c5,0x399,0x3dd)](_0x5412f0,_0x57588d)};_0x5b31af[_0x561d30(-0x115,-0x12c,-0x12d,-0xef)](_0x5e1b31),!_0x5e1b31['skip']&&_0x3b0c23&&(_0x21553c[_0x11c62d(0x36a,0x388,0x3d1,0x37d)](_0x5f07f2),_0x2d5014[_0x561d30(-0xfd,-0xd7,-0xc5,-0x11a)](_0x19744c[_0x561d30(-0x11a,-0xe2,-0x9d,-0x138)+'e'](),_0x5e1b31));}}return _0x476c31['map'](_0x47114c=>{function _0x3650fb(_0x181d12,_0x54e0df,_0x136e3b,_0x31dc6b){return _0x561d30(_0x54e0df,_0x136e3b-0x20a,_0x136e3b-0x3f,_0x31dc6b-0x104);}function _0x506542(_0x102e01,_0x2d28e7,_0x1fe96f,_0x36d08f){return _0x561d30(_0x36d08f,_0x2d28e7-0x696,_0x1fe96f-0x97,_0x36d08f-0x8a);}if(_0x7fb232[_0x3650fb(0x123,0x165,0x132,0x168)](_0x7fb232[_0x506542(0x5ac,0x5db,0x620,0x62d)],_0x7fb232[_0x3650fb(0x142,0x118,0x151,0x199)])){const {original:_0x2a4226,cleaned:_0xec1077,skip:_0x36b6d8}=_0x47114c;if(_0x36b6d8){const _0x28764e={};return _0x28764e[_0x506542(0x55c,0x5a3,0x551,0x5eb)]=_0x2a4226,_0x28764e['translatio'+'n']='',_0x28764e[_0x506542(0x5c6,0x617,0x5d7,0x5ce)]=_0xec1077,_0x28764e[_0x3650fb(0x14c,0x1a6,0x15e,0x1b2)]=!![],_0x28764e;}const _0x3a6e58=_0x3e74e8[_0xec1077['toLowerCas'+'e']()]||'',_0x8972e9={};return _0x8972e9['original']=_0x2a4226,_0x8972e9[_0x506542(0x5d5,0x5fa,0x654,0x619)+'n']=_0x3a6e58,_0x8972e9[_0x506542(0x613,0x617,0x634,0x635)]=_0xec1077,_0x8972e9['skipped']=![],_0x8972e9;}else return[];});}export function formatTranslationDisplay(_0x23adb9,_0x5a0f45={}){const _0x415a78={'GeEBv':_0x2b5a0b(0xfe,0x90,0xd4,0xa3)+'\x20JSON解析失败，'+'尝试旧格式:','mtAHk':function(_0x5e4367,_0x19b11a){return _0x5e4367===_0x19b11a;},'btDAZ':function(_0x30c29f,_0x45acdf){return _0x30c29f(_0x45acdf);},'OuwEI':function(_0x1483a4,_0x398c5f){return _0x1483a4===_0x398c5f;},'eHYvs':_0x2b5a0b(0x118,0xe0,0x102,0x11c)},{separator:separator=',\x20',showOriginal:showOriginal=!![],showTranslation:showTranslation=!![]}=_0x5a0f45;function _0x588568(_0x55cfa0,_0x552fdf,_0x56d9da,_0x48c064){return _0xca41(_0x56d9da- -0xd0,_0x552fdf);}if(!_0x23adb9||!Array[_0x588568(0x163,0x136,0x132,0x116)](_0x23adb9))return'';function _0x2b5a0b(_0xf9c9e6,_0x1a663f,_0x13eef4,_0x21c929){return _0xca41(_0x13eef4- -0x196,_0x21c929);}return _0x23adb9[_0x2b5a0b(0x49,0x64,0x73,0x8d)](_0x3a3150=>{function _0x241c8a(_0x4018bc,_0x273073,_0x3613ed,_0x596c49){return _0x2b5a0b(_0x4018bc-0x3a,_0x273073-0xa4,_0x273073- -0x232,_0x596c49);}const _0x36d614={'vZUHg':function(_0x118feb,_0x59a3ca){return _0x415a78['mtAHk'](_0x118feb,_0x59a3ca);},'ROjpY':_0x241c8a(-0x1e9,-0x19e,-0x183,-0x1a3),'LTtyK':function(_0x5698d0,_0x2a1cfb){return _0x415a78['btDAZ'](_0x5698d0,_0x2a1cfb);}};if(_0x3a3150['skipped']){if(_0x415a78[_0x241c8a(-0x186,-0x131,-0x130,-0x174)](_0xae6185(0xce,0x73,0x7f,0x93),'oBSdp'))return showOriginal?_0x3a3150[_0xae6185(0x31,0xbe,0x5a,0x8d)]:'';else{if(_0x581bf0[_0x241c8a(-0x1a2,-0x1a0,-0x1e2,-0x1d9)]&&_0x36d614[_0x241c8a(-0x144,-0x136,-0xf3,-0x124)](_0x2a2bc8[_0x241c8a(-0x18a,-0x1a0,-0x176,-0x181)][_0xae6185(0xa3,0x6d,0xae,0x55)],_0x36d614[_0xae6185(0xd2,0xd5,0xb2,0xda)])){const _0x4608e9=new _0x5d00c7(_0x2da7f8[_0x241c8a(-0x193,-0x1a0,-0x1fc,-0x198)][_0xae6185(0xb7,0x13c,0x13f,0x10d)]);_0x4608e9[_0xae6185(0x5d,0x4,0x26,0x55)]=_0x36d614[_0xae6185(0xa1,0xd0,0x7d,0xda)],_0x36d614[_0x241c8a(-0x20e,-0x1c2,-0x166,-0x1f4)](_0x36d4ae,_0x4608e9);}else _0x36d614[_0xae6185(0x89,0x79,0x74,0x72)](_0x8f3605,new _0x51a9c9(_0x3b35ef[_0xae6185(0x4b,0x33,0xd0,0x83)]));}}function _0xae6185(_0x3beb7b,_0x54acf4,_0x36e706,_0x2ed0b2){return _0x588568(_0x3beb7b-0x179,_0x36e706,_0x2ed0b2- -0xc4,_0x2ed0b2-0x160);}const _0x23865e=[];if(showOriginal)_0x23865e[_0x241c8a(-0x1e7,-0x1e0,-0x20c,-0x218)](_0x3a3150['original']);return showTranslation&&_0x3a3150['translatio'+'n']&&(_0x415a78[_0x241c8a(-0x175,-0x131,-0x148,-0xfc)](_0x415a78[_0x241c8a(-0x1ef,-0x1d1,-0x1fb,-0x1e7)],_0x415a78[_0xae6185(0xa6,0xa1,0x92,0x63)])?_0x23865e[_0x241c8a(-0x1cb,-0x1e0,-0x1f5,-0x1e6)]('('+_0x3a3150[_0x241c8a(-0x195,-0x150,-0x12a,-0x18f)+'n']+')'):_0x3a5ade[_0xae6185(0x36,0xd3,0xa9,0x7b)](_0x415a78['GeEBv'],_0x242030[_0x241c8a(-0xe0,-0x127,-0xdc,-0x111)])),_0x23865e[_0x241c8a(-0x10a,-0x14d,-0x16f,-0x13b)]('\x20');})['filter'](Boolean)[_0x588568(0x1c0,0x201,0x1ab,0x1ce)](separator);}export async function translatePromptTags(_0x221be7){const _0x1f311e={'qtZjH':function(_0xe794f0,_0x2a6222){return _0xe794f0(_0x2a6222);},'lQenP':function(_0x3ec4c8,_0x4967aa){return _0x3ec4c8!==_0x4967aa;},'KMAAz':'knfzX','PHAwI':function(_0x3781f3,_0xca5ec2){return _0x3781f3(_0xca5ec2);},'EKqFm':function(_0xc1f435,_0x23d9a5,_0x40215e){return _0xc1f435(_0x23d9a5,_0x40215e);},'tDAnK':function(_0x3b094d,_0x107f10){return _0x3b094d(_0x107f10);}};function _0x6c22cd(_0x20b928,_0x246026,_0x46138b,_0x1a94b0){return _0xca41(_0x1a94b0-0x20e,_0x246026);}function _0x398dc9(_0x11db54,_0x3e8b66,_0x419547,_0x4e5772){return _0xca41(_0x11db54- -0x2d5,_0x3e8b66);}const {originalTags:_0x1c7956,cleanedText:_0x5ba4e8}=_0x1f311e[_0x6c22cd(0x4a4,0x4e1,0x4df,0x4a2)](preprocessPromptForTranslation,_0x221be7);if(!_0x5ba4e8){const _0x2796f3={};return _0x2796f3[_0x398dc9(-0x8f,-0x4b,-0x9b,-0x3a)]=[],_0x2796f3['displayTex'+'t']='',_0x2796f3[_0x398dc9(-0x4f,-0x3a,-0x4b,0x9)+'gs']=[],_0x2796f3;}try{if(_0x1f311e[_0x398dc9(-0xb7,-0xd1,-0x10f,-0xf3)](_0x398dc9(-0xe9,-0x141,-0xb2,-0x92),_0x1f311e['KMAAz'])){const _0x50aa0d=await callTranslation(_0x5ba4e8),_0x49fe46=_0x1f311e[_0x6c22cd(0x487,0x48b,0x4e9,0x490)](parseTranslationResult,_0x50aa0d),_0x4e6eca=_0x1f311e['EKqFm'](combineTranslationResult,_0x1c7956,_0x49fe46),_0x2eb938=_0x1f311e[_0x398dc9(-0xb2,-0x71,-0x90,-0x10d)](formatTranslationDisplay,_0x4e6eca),_0x352272={};return _0x352272['results']=_0x4e6eca,_0x352272[_0x398dc9(-0x95,-0x64,-0x6c,-0xa4)+'t']=_0x2eb938,_0x352272['originalTa'+'gs']=_0x1c7956,_0x352272;}else return _0x2c2795['toString']()[_0x6c22cd(0x470,0x40f,0x3c3,0x41a)](_0x6c22cd(0x439,0x442,0x414,0x3f8)+'+$')[_0x398dc9(-0x8e,-0x76,-0x93,-0x5a)]()[_0x6c22cd(0x4a1,0x432,0x46f,0x46b)+'r'](_0x137a17)[_0x6c22cd(0x46f,0x3d6,0x3ff,0x41a)](_0x6c22cd(0x3ac,0x39a,0x3c9,0x3f8)+'+$');}catch(_0x3e60f8){console['error'](_0x398dc9(-0x6b,-0x8d,-0x82,-0xf)+_0x6c22cd(0x465,0x3ea,0x45d,0x40a)+':',_0x3e60f8);throw _0x3e60f8;}}export function parseTranslationResult(_0x17af6b){const _0x1cd287={};_0x1cd287[_0x3a8a12(-0xce,-0x86,-0xb2,-0x7f)]=_0x3a8a12(-0x6f,-0x6e,-0x7e,-0x69)+_0x3a8a12(-0x7d,-0x5a,-0x9c,-0xa0)+'\x20LLM\x20设置页面',_0x1cd287['wFFnY']=function(_0x520f14,_0x5eebaf){return _0x520f14===_0x5eebaf;},_0x1cd287[_0x5ebc73(0x210,0x1cb,0x20c,0x20e)]=_0x3a8a12(-0x18,-0x62,-0x34,-0x92),_0x1cd287['CKXiv']=function(_0x1f346d,_0x3bcea3){return _0x1f346d===_0x3bcea3;},_0x1cd287[_0x3a8a12(-0xf6,-0xd1,-0xd4,-0xe7)]=_0x5ebc73(0x1cf,0x1f1,0x22c,0x1b1),_0x1cd287['gXNIx']=function(_0x50b430,_0x50944d){return _0x50b430!==_0x50944d;};function _0x5ebc73(_0x57565e,_0xd0730a,_0x34d007,_0x26d64a){return _0xca41(_0xd0730a- -0x86,_0x26d64a);}_0x1cd287[_0x3a8a12(-0x10e,-0xc4,-0xb2,-0x7d)]='PGTxx',_0x1cd287['SiUBD']=_0x3a8a12(-0x3c,-0x83,-0x46,-0x63),_0x1cd287['EhhMP']=_0x5ebc73(0x1df,0x1e4,0x1b1,0x23a)+'\x20JSON解析失败，'+_0x3a8a12(-0x99,-0x80,-0xaf,-0xc4),_0x1cd287['AXzDs']='FVoLN';function _0x3a8a12(_0x3d574e,_0xee57a7,_0x156423,_0x57f274){return _0xca41(_0xee57a7- -0x2d8,_0x156423);}_0x1cd287[_0x5ebc73(0x15a,0x179,0x1ac,0x151)]=function(_0x43e69c,_0x34038b){return _0x43e69c>_0x34038b;},_0x1cd287[_0x3a8a12(-0x6e,-0x66,-0x5f,-0x65)]=function(_0x513774,_0x5a0494){return _0x513774+_0x5a0494;};const _0x57788f=_0x1cd287;if(!_0x17af6b)return{};try{if(_0x57788f[_0x3a8a12(-0x58,-0x4e,-0x32,-0x95)](_0x5ebc73(0x1d9,0x18b,0x173,0x169),_0x57788f[_0x5ebc73(0x1b0,0x1cb,0x1fe,0x1de)]))return _0x50822e[_0x3a8a12(-0x89,-0x6d,-0x30,-0x83)](_0x49fad8=>_0x49fad8[_0x5ebc73(0x1e9,0x1f4,0x21c,0x226)](_0x17fd98[_0x5ebc73(0x195,0x199,0x14d,0x14e)]()));else{const _0x509a45=_0x17af6b[_0x3a8a12(-0xde,-0xdd,-0xcf,-0x132)](/\{[\s\S]*\}/);if(_0x509a45){const _0xa67805=JSON[_0x3a8a12(-0xa2,-0x5f,-0xc,-0x89)](_0x509a45[0x1ab1+-0x14*-0x14d+-0x83*0x67]);if(_0x57788f[_0x3a8a12(-0x4c,-0xa5,-0x53,-0x76)](typeof _0xa67805,_0x57788f[_0x3a8a12(-0xa2,-0xd1,-0xea,-0x120)])&&_0x57788f[_0x5ebc73(0x210,0x1bd,0x1f1,0x1e5)](_0xa67805,null))return _0x57788f['wFFnY'](_0x57788f[_0x5ebc73(0x1e2,0x18e,0x159,0x1a6)],_0x57788f['SiUBD'])?_0x5f6f0f['randomUUID']():_0xa67805;}}}catch(_0x5210e6){console[_0x5ebc73(0x180,0x189,0x16d,0x1e3)](_0x57788f[_0x5ebc73(0x20f,0x20b,0x1bd,0x20c)],_0x5210e6['message']);}const _0x4035f5=String(_0x17af6b)[_0x3a8a12(-0x3a,-0x3c,-0x91,0xc)](/[\r\n]+/g,'\x20')[_0x5ebc73(0x1fd,0x216,0x203,0x24f)](/^[\s"'`]+|[\s"'`]+$/g,'')['trim'](),_0x5f5329=_0x4035f5[_0x3a8a12(-0xed,-0x97,-0x8d,-0x48)](/[,，]/)[_0x3a8a12(-0xb5,-0xcf,-0xe9,-0x113)](_0x333d20=>_0x333d20['trim']())[_0x5ebc73(0x201,0x1b3,0x184,0x1e1)](Boolean),_0x3427f2={};for(const _0x43a584 of _0x5f5329){if(_0x57788f['CKXiv'](_0x5ebc73(0x1b1,0x1b2,0x16c,0x19a),_0x57788f[_0x5ebc73(0x1be,0x1f9,0x234,0x22f)])){const _0x1fe9f6=_0x43a584[_0x5ebc73(0x186,0x182,0x163,0x198)]('\x5c');if(_0x57788f[_0x5ebc73(0x140,0x179,0x132,0x11b)](_0x1fe9f6,0x3*-0x204+0x23eb+-0x1ddf*0x1)){const _0xc39cdd=_0x43a584['slice'](0x2a3*0x4+0x2467+0x1*-0x2ef3,_0x1fe9f6)['trim'](),_0xe981ef=_0x43a584[_0x5ebc73(0x192,0x17a,0x1d2,0x1a7)](_0x57788f['dqwQa'](_0x1fe9f6,0x5bc*-0x5+0x1978+0x335*0x1))[_0x5ebc73(0x1de,0x199,0x1a2,0x1cb)]();if(_0xc39cdd)_0x3427f2[_0xc39cdd]=_0xe981ef;}}else!_0x244c5a&&(_0x3972f0['log'](_0x57788f['ouieM']),_0x17c58f=!![]);}return _0x3427f2;}function generateRequestId(){function _0x77e7e2(_0x30c1e9,_0x496845,_0x1aea55,_0x132067){return _0xca41(_0x132067-0x2d1,_0x1aea55);}function _0x497407(_0x380d88,_0x43e445,_0x11a686,_0x303785){return _0xca41(_0x303785- -0x1b4,_0x43e445);}const _0x605167={};_0x605167['lkiue']='TiBJW',_0x605167[_0x77e7e2(0x4dc,0x4e0,0x4ee,0x524)]=_0x77e7e2(0x59c,0x543,0x542,0x55a),_0x605167[_0x77e7e2(0x4b4,0x4d3,0x4e2,0x4cb)]=function(_0x287493,_0x378c2b){return _0x287493+_0x378c2b;};const _0x28c35e=_0x605167;if(crypto&&crypto[_0x77e7e2(0x534,0x556,0x541,0x533)]){if(_0x28c35e[_0x497407(0xc2,0x71,0xcc,0x7a)]!==_0x28c35e[_0x497407(0x52,0x48,0x92,0x9f)])return crypto[_0x497407(0x9e,0xd0,0xde,0xae)]();else{const _0x1e773c={};return _0x1e773c[_0x497407(0x57,0xe8,0x97,0x92)]=[],_0x1e773c[_0x497407(0xd8,0x40,0xcf,0x8c)+'t']='',_0x1e773c[_0x77e7e2(0x50f,0x57c,0x505,0x557)+'gs']=[],_0x1e773c;}}return _0x28c35e[_0x77e7e2(0x4af,0x519,0x4bb,0x4cb)](Date['now']()[_0x77e7e2(0x4cf,0x538,0x541,0x518)](0x21*-0x1c+-0x68f+0xa4f),Math[_0x77e7e2(0x58e,0x535,0x563,0x567)]()[_0x77e7e2(0x4bd,0x575,0x4f5,0x518)](-0x1*0x1e+0x23d+-0x1*0x1fb)[_0x497407(0x5e,0x31,0x3a,0x7c)](-0x1da7+-0xbdb+0xa61*0x4));}export function LLM_TRANSLATION_GET_PROMPT(){const _0x29211a={'rkzNL':function(_0x38a657,_0x256242){return _0x38a657!==_0x256242;},'ohfsC':function(_0x4d9898,_0x4e5514){return _0x4d9898(_0x4e5514);},'OgOvt':_0x47345a(-0x187,-0xff,-0x134,-0x148),'tYmdX':_0x53fae5(0x56a,0x4e6,0x4f4,0x538),'BGYFy':function(_0x589846){return _0x589846();},'Zufzm':function(_0xa6d71e){return _0xa6d71e();},'VweGD':function(_0x6731b2,_0x14f0b2,_0x378c91){return _0x6731b2(_0x14f0b2,_0x378c91);}};function _0x47345a(_0x4f4bde,_0x54f365,_0x147686,_0x5156a2){return _0xca41(_0x147686- -0x331,_0x5156a2);}function _0x53fae5(_0x155209,_0x1fe6e2,_0x92f8b9,_0x429e44){return _0xca41(_0x429e44-0x2ad,_0x1fe6e2);}return new Promise((_0x777d00,_0x3c1c0d)=>{const _0x144b33={'elOSD':function(_0x2eb7ac){function _0x30af78(_0x511354,_0xe5f308,_0x25880a,_0x5b1006){return _0xca41(_0x511354-0x320,_0x5b1006);}return _0x29211a[_0x30af78(0x55b,0x4fe,0x53d,0x566)](_0x2eb7ac);},'dUuNN':function(_0x20265f,_0x4dc0f8){return _0x20265f(_0x4dc0f8);}},_0x99fbf1=_0x29211a[_0x326040(0x4ff,0x4be,0x504,0x527)](generateRequestId);console[_0x326040(0x4f5,0x4b6,0x4ba,0x4be)](_0x5a2034(0x2d9,0x31b,0x300,0x343)+_0x326040(0x4c8,0x511,0x4dd,0x4f5)+_0x5a2034(0x304,0x2cd,0x29f,0x281)+_0x99fbf1+')');const _0x494383=_0x4602e6=>{if(_0x29211a[_0xe9120e(0x3c6,0x417,0x3f8,0x463)](_0x4602e6['id'],_0x99fbf1))return;function _0xe9120e(_0xb5f309,_0x3b2870,_0x813629,_0x34b46b){return _0x5a2034(_0xb5f309-0x175,_0x3b2870-0x12c,_0x813629,_0x34b46b-0x65);}eventSource[_0xe9120e(0x448,0x437,0x471,0x440)+'ener'](eventNames['LLM_TRANSL'+'ATION_GET_'+_0xe9120e(0x3d6,0x3e7,0x402,0x3ec)+'PONSE'],_0x494383);const {prompt:_0x522e2d}=_0x4602e6;function _0xc7bc14(_0x162830,_0x2dd799,_0x55ca65,_0x144d49){return _0x5a2034(_0x162830-0x100,_0x2dd799- -0x469,_0x144d49,_0x144d49-0x89);}console[_0xe9120e(0x408,0x42a,0x3ed,0x467)](_0xc7bc14(-0x19b,-0x14e,-0x147,-0x17b)+'\x20已获取翻译提示词\x20'+'(ID:\x20'+_0x99fbf1+'):',_0x522e2d),_0x29211a[_0xc7bc14(-0x197,-0x144,-0xed,-0x167)](_0x777d00,_0x522e2d);};eventSource['on'](eventNames['LLM_TRANSL'+_0x326040(0x541,0x515,0x507,0x56d)+'PROMPT_RES'+_0x5a2034(0x274,0x2b4,0x2c0,0x28c)],_0x494383);function _0x326040(_0x55ab4b,_0x179cd1,_0x2cab6d,_0x27833f){return _0x47345a(_0x55ab4b-0xd3,_0x179cd1-0x1be,_0x55ab4b-0x5d9,_0x2cab6d);}const _0x29c269={};function _0x5a2034(_0x4be97c,_0x54e955,_0x53cb8a,_0x3c5d7a){return _0x47345a(_0x4be97c-0x1ec,_0x54e955-0x190,_0x54e955-0x3e2,_0x53cb8a);}_0x29c269['id']=_0x99fbf1,eventSource[_0x326040(0x4f2,0x4ee,0x4ba,0x52b)](eventNames['LLM_TRANSL'+_0x326040(0x541,0x504,0x518,0x519)+_0x326040(0x547,0x53e,0x528,0x590)+_0x326040(0x4fe,0x52b,0x507,0x546)],_0x29c269),_0x29211a['VweGD'](setTimeout,()=>{function _0x2b0cee(_0x53032d,_0x322da4,_0x23c788,_0x5fdb78){return _0x5a2034(_0x53032d-0x182,_0x322da4-0x59,_0x53032d,_0x5fdb78-0x1f0);}function _0x1cdf19(_0x20af0e,_0x2563e6,_0x403aaf,_0x4b3d17){return _0x326040(_0x4b3d17- -0x591,_0x2563e6-0xae,_0x403aaf,_0x4b3d17-0xe3);}_0x29211a[_0x2b0cee(0x331,0x318,0x2e6,0x2ce)]==='lCvtp'?(eventSource['removeList'+_0x2b0cee(0x387,0x341,0x327,0x31e)](eventNames[_0x1cdf19(-0x1e,-0x71,-0x42,-0x6d)+_0x1cdf19(-0x7,-0x8,-0xb,-0x50)+_0x1cdf19(-0xfc,-0xf4,-0x116,-0xdf)+_0x1cdf19(-0xe5,-0xa2,-0xf1,-0xe6)],_0x494383),_0x29211a['ohfsC'](_0x3c1c0d,new Error(_0x29211a[_0x2b0cee(0x393,0x38d,0x377,0x3a5)]))):(_0x144b33[_0x1cdf19(-0x4c,-0x31,-0x83,-0x65)](_0x4dee45),_0x144b33[_0x1cdf19(-0x65,-0x101,-0x56,-0xb3)](_0x45c832,new _0xaef1b5('翻译\x20LLM\x20执行超'+'时（'+_0x4a9f89+_0x1cdf19(-0xb1,-0x82,-0x66,-0x76))));},0x20ec*0x2+-0x47e2+0x2e*0xfb);});}export function LLM_TRANSLATION(_0x238d53,{timeoutMs:timeoutMs=-0x15011+-0x2daa+0x2681b}={}){const _0x454c9a={'iAadv':'获取翻译提示词超时','NRZsa':function(_0x3d42ae,_0x52eecd){return _0x3d42ae(_0x52eecd);},'qBLeC':function(_0x149313,_0x521698,_0x58845d){return _0x149313(_0x521698,_0x58845d);},'uTyLs':function(_0x361baf,_0x55608c){return _0x361baf===_0x55608c;},'CZlqm':_0x58554b(0x1b,-0x64,-0x51,-0x30),'yHrcy':function(_0x4c0626,_0x5363c6){return _0x4c0626!==_0x5363c6;},'uxePc':_0x58554b(-0x18,0x1d,-0x36,0x21),'NfxNb':function(_0x36c08f){return _0x36c08f();}};function _0x374acc(_0x54b53e,_0xe4bdd4,_0x4eeac2,_0x2e7f43){return _0xca41(_0xe4bdd4-0x3b,_0x54b53e);}function _0x58554b(_0x371d86,_0x3aaa14,_0x456434,_0x145006){return _0xca41(_0x145006- -0x272,_0x3aaa14);}return new Promise((_0x572802,_0x2afa97)=>{function _0x5973cc(_0x288a8a,_0x14bc3b,_0x1f921c,_0x2bdfe1){return _0x58554b(_0x288a8a-0x131,_0x288a8a,_0x1f921c-0x86,_0x14bc3b- -0x39);}const _0x478ab3={'GeaDp':function(_0x2f902d,_0x581e66){return _0x2f902d!==_0x581e66;},'OXyFZ':function(_0x266c87){return _0x266c87();},'qvxzI':function(_0x528b32,_0xcb1868,_0x47d9a2){function _0x5a7c56(_0x1a843e,_0x25bce6,_0x1aef45,_0x3b2304){return _0xca41(_0x25bce6- -0x15d,_0x1aef45);}return _0x454c9a[_0x5a7c56(0xb0,0x102,0xb1,0x111)](_0x528b32,_0xcb1868,_0x47d9a2);},'xeVWy':function(_0x198115,_0x351b1e){function _0x4ef053(_0x1976c5,_0x37daab,_0x219c87,_0x1a4bb5){return _0xca41(_0x1976c5- -0x160,_0x219c87);}return _0x454c9a[_0x4ef053(0xa5,0x6d,0x63,0x86)](_0x198115,_0x351b1e);},'gQTLj':_0x454c9a[_0x5973cc(-0x4e,-0x77,-0x79,-0x5e)],'RaOOO':function(_0x101684,_0x2f3ea9){return _0x101684(_0x2f3ea9);},'xdTIa':_0x5973cc(-0xc8,-0x81,-0x99,-0xa6),'tMiFB':function(_0x33c7d4,_0xf13f6){return _0x33c7d4===_0xf13f6;},'YgIeH':_0x4b88de(0x1ce,0x1a9,0x1b0,0x191),'IhsbW':function(_0x259052,_0x309a58){function _0x52387e(_0x1cbc48,_0x4c1e2b,_0x3bd151,_0x1c4e3b){return _0x4b88de(_0x1cbc48,_0x3bd151- -0x172,_0x3bd151-0x1f,_0x1c4e3b-0x1ba);}return _0x454c9a[_0x52387e(0x40,0x1d,0x3b,0x3e)](_0x259052,_0x309a58);}};function _0x4b88de(_0x276440,_0x4ffe75,_0x3f5af3,_0xef0ba6){return _0x374acc(_0x276440,_0x4ffe75- -0x81,_0x3f5af3-0x155,_0xef0ba6-0x7);}if(_0x454c9a[_0x5973cc(-0x47,-0x91,-0x68,-0x7e)]('uJhcU',_0x454c9a[_0x5973cc(-0x32,-0x5c,-0x9d,-0x39)]))_0x28e8b6[_0x4b88de(0x255,0x214,0x201,0x1d3)+'ener'](_0x185016[_0x5973cc(-0x20,-0x2f,0x21,-0x2d)+_0x5973cc(0x40,-0x12,-0x20,-0x50)+_0x4b88de(0x1a4,0x1c4,0x18d,0x1cd)+_0x5973cc(-0xd2,-0xa8,-0x6b,-0xdc)],_0x22a989),_0x532dc0(new _0xc13fff(_0x454c9a[_0x5973cc(-0xc1,-0xb3,-0xf1,-0xc0)]));else{const _0x5c030b=_0x454c9a[_0x4b88de(0x1f4,0x221,0x20e,0x200)](generateRequestId);console['log'](_0x4b88de(0x1f8,0x224,0x255,0x22f)+'\x20请求翻译\x20LLM\x20'+_0x5973cc(-0xf,-0x3c,0x17,-0x90)+_0x5c030b+')');let _0x3dc76c=null;const _0x59e7a1=()=>{function _0x32c296(_0x37dcab,_0x1cfb97,_0x89c8a9,_0x3273d4){return _0x5973cc(_0x37dcab,_0x1cfb97-0x52d,_0x89c8a9-0x1d8,_0x3273d4-0x27);}eventSource[_0x32c296(0x4c3,0x4dc,0x50a,0x4a2)+'ener'](eventNames[_0x24d4a3(0x114,0xdd,0x12e,0xdf)+_0x32c296(0x43c,0x492,0x44f,0x45b)+_0x32c296(0x4b4,0x4f2,0x537,0x51b)],_0x112956);function _0x24d4a3(_0x2b6c6e,_0x19608e,_0xb851cc,_0x166bd3){return _0x4b88de(_0x166bd3,_0x19608e- -0x159,_0xb851cc-0x72,_0x166bd3-0xb4);}if(_0x3dc76c)_0x454c9a['NRZsa'](clearTimeout,_0x3dc76c);},_0x112956=_0x82b873=>{function _0x5e9669(_0x2b7cae,_0x51d911,_0x2989ab,_0x3e92ee){return _0x5973cc(_0x51d911,_0x3e92ee-0x282,_0x2989ab-0x1ad,_0x3e92ee-0x19b);}const _0x56f27a={'Iubhf':function(_0x363f96,_0x5bf018){function _0x1b7d34(_0x5d82f6,_0x43f85d,_0x24349f,_0x5abb58){return _0xca41(_0x5abb58-0x2b0,_0x43f85d);}return _0x478ab3[_0x1b7d34(0x46a,0x461,0x48f,0x4a1)](_0x363f96,_0x5bf018);},'rouhC':function(_0x1aaf50){return _0x478ab3['OXyFZ'](_0x1aaf50);},'pTMlD':function(_0x479461,_0x270863,_0x17b664){return _0x478ab3['qvxzI'](_0x479461,_0x270863,_0x17b664);}};function _0x3661b1(_0x507d89,_0x2f5bf2,_0x5ab4da,_0x2f3756){return _0x4b88de(_0x507d89,_0x2f3756- -0x32a,_0x5ab4da-0x1ec,_0x2f3756-0x15e);}if(_0x478ab3['xeVWy'](_0x478ab3[_0x5e9669(0x20a,0x24c,0x253,0x225)],_0x478ab3[_0x3661b1(-0x149,-0x142,-0x11e,-0x122)])){if(_0x478ab3[_0x5e9669(0x1b5,0x1e0,0x1f0,0x1c8)](_0x82b873['id'],_0x5c030b))return;_0x59e7a1(),console[_0x3661b1(-0x159,-0x136,-0x132,-0x123)](_0x3661b1(-0x110,-0xe2,-0x15d,-0x106)+_0x3661b1(-0x14c,-0x1b3,-0x178,-0x163)+_0x3661b1(-0x106,-0x14b,-0x19c,-0x144)+'\x20'+_0x5c030b+'):',_0x82b873);if(_0x82b873[_0x5e9669(0x1fa,0x234,0x1b3,0x202)])_0x478ab3[_0x5e9669(0x25e,0x1ca,0x1d8,0x20c)](_0x572802,_0x82b873[_0x3661b1(-0x130,-0x14e,-0xfe,-0x159)]);else{if(_0x82b873[_0x3661b1(-0x105,-0x11d,-0x172,-0x148)]&&_0x478ab3['xeVWy'](_0x82b873[_0x3661b1(-0x18c,-0x108,-0x162,-0x148)][_0x3661b1(-0x15c,-0x12a,-0x1a2,-0x187)],_0x478ab3['xdTIa'])){const _0x3aee50=new Error(_0x82b873[_0x3661b1(-0x138,-0x162,-0x166,-0x148)]['message']);_0x3aee50['name']=_0x5e9669(0x1fa,0x23b,0x1b1,0x201),_0x2afa97(_0x3aee50);}else _0x478ab3[_0x3661b1(-0x172,-0x15a,-0x186,-0x177)](_0x478ab3[_0x5e9669(0x1c9,0x18e,0x1f7,0x1d5)],_0x5e9669(0x1f5,0x1f3,0x214,0x244))?(_0x57541d['push'](_0x42e490),_0x45f618[_0x5e9669(0x22e,0x25a,0x229,0x214)](_0x5a85d3['toLowerCas'+'e'](),_0x1c5a28)):_0x478ab3['IhsbW'](_0x2afa97,new Error(_0x82b873[_0x3661b1(-0x179,-0x124,-0x11e,-0x159)]));}}else{const _0x221bc0=_0x56f27a[_0x3661b1(-0x164,-0x111,-0x143,-0x158)](_0x161ee9);_0x4c2622[_0x3661b1(-0x126,-0x173,-0x12f,-0x123)](_0x3661b1(-0xd4,-0xd3,-0x127,-0x106)+'\x20请求获取翻译提示词'+_0x3661b1(-0x1a0,-0x10b,-0x18e,-0x154)+_0x221bc0+')');const _0x749648=_0x1c5bf9=>{function _0x52892e(_0x3ab1ab,_0x18786e,_0x12bb83,_0x5a66a9){return _0x5e9669(_0x3ab1ab-0x153,_0x18786e,_0x12bb83-0x183,_0x3ab1ab- -0x171);}function _0x361daa(_0x1f2dc2,_0x4ece59,_0x2073d7,_0xd6da4){return _0x5e9669(_0x1f2dc2-0x3a,_0x1f2dc2,_0x2073d7-0x0,_0x4ece59- -0x90);}if(_0x56f27a[_0x361daa(0x1a8,0x1ac,0x1f1,0x1d0)](_0x1c5bf9['id'],_0x221bc0))return;_0x6735a3[_0x361daa(0x155,0x1a1,0x155,0x1ab)+_0x361daa(0x13f,0x17e,0x19f,0x124)](_0x23f191[_0x361daa(0x21f,0x1c3,0x18e,0x198)+_0x52892e(0xff,0x10f,0xe4,0xfa)+_0x361daa(0x155,0x151,0x131,0x1a0)+_0x52892e(0x69,0x9f,0xb7,0x57)],_0x749648);const {prompt:_0x5457f3}=_0x1c5bf9;_0x4c01cd[_0x361daa(0x16a,0x194,0x1b7,0x169)]('st-chatu8:'+_0x361daa(0x19c,0x1d6,0x226,0x1d1)+_0x361daa(0x1f1,0x1b6,0x1ab,0x1bd)+_0x221bc0+'):',_0x5457f3),_0x1d0a06(_0x5457f3);};_0x524b29['on'](_0x118ea1[_0x5e9669(0x2a5,0x240,0x240,0x253)+'ATION_GET_'+_0x5e9669(0x1e9,0x1f4,0x1b2,0x1e1)+_0x5e9669(0x200,0x17d,0x201,0x1da)],_0x749648);const _0x39a6ef={};_0x39a6ef['id']=_0x221bc0,_0xa87c2f[_0x5e9669(0x1dc,0x1cc,0x241,0x221)](_0x4626a5[_0x3661b1(-0x105,-0x14b,-0xcf,-0xf4)+'ATION_GET_'+'PROMPT_REQ'+_0x3661b1(-0xf9,-0xc2,-0x127,-0x11a)],_0x39a6ef),_0x56f27a[_0x5e9669(0x246,0x251,0x1e6,0x240)](_0x2761f5,()=>{_0x38ce13[_0x1554ef(-0x4d,0x4,-0x54,-0x31)+'ener'](_0x53a3b7[_0x2f5e32(0x3ac,0x3a6,0x3ae,0x35c)+_0x2f5e32(0x3aa,0x390,0x3cb,0x393)+_0x2f5e32(0x388,0x2ec,0x33c,0x398)+_0x1554ef(-0xd9,-0xf1,-0xab,-0x6c)],_0x749648);function _0x2f5e32(_0x290b40,_0x43f228,_0x428e79,_0xe68e19){return _0x5e9669(_0x290b40-0x1b6,_0xe68e19,_0x428e79-0x16,_0x428e79-0x15b);}function _0x1554ef(_0x3a05b7,_0x433a44,_0x2a11bd,_0x35819a){return _0x3661b1(_0x433a44,_0x433a44-0x9,_0x2a11bd-0x1b3,_0x2a11bd-0xc2);}_0x535e93(new _0x1ae060(_0x2f5e32(0x378,0x3f7,0x3bd,0x376)));},-0x36+-0xc*-0x5f+0x1169*0x2);}};eventSource['on'](eventNames['LLM_TRANSL'+_0x4b88de(0x1ff,0x1ca,0x19d,0x1ce)+_0x4b88de(0x1f6,0x22a,0x21b,0x235)],_0x112956);const _0x57149f={};_0x57149f[_0x5973cc(-0x3e,-0x1d,-0x4b,-0x5c)]=_0x238d53,_0x57149f['id']=_0x5c030b,eventSource[_0x4b88de(0x1fa,0x204,0x225,0x1e7)](eventNames[_0x4b88de(0x1dc,0x236,0x250,0x218)+_0x5973cc(-0xb4,-0xb6,-0x61,-0x81)+'EST'],_0x57149f),_0x3dc76c=_0x454c9a[_0x5973cc(-0x4,-0x4c,-0x62,-0x56)](setTimeout,()=>{function _0x20f8fc(_0x25c8af,_0x685238,_0x55cf28,_0x39ed7b){return _0x5973cc(_0x39ed7b,_0x685238-0x3dc,_0x55cf28-0x62,_0x39ed7b-0x61);}_0x478ab3['OXyFZ'](_0x59e7a1),_0x2afa97(new Error('翻译\x20LLM\x20执行超'+'时（'+timeoutMs+_0x20f8fc(0x3f7,0x3a4,0x360,0x37f)));},timeoutMs);}});}function _0xca41(_0x57541d,_0x42e490){_0x57541d=_0x57541d-(0x8e5+0xdec+-0x14e9);const _0x45f618=_0x21fa();let _0x5a85d3=_0x45f618[_0x57541d];if(_0xca41['bMjUhI']===undefined){var _0x1c5a28=function(_0x23435b){const _0x2f13a3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3325f2='',_0x1b71c7='',_0x4222a9=_0x3325f2+_0x1c5a28;for(let _0x589460=0x1*-0xb3c+0x1*-0x1cb7+-0x27f3*-0x1,_0x7b38c6,_0x14e156,_0x137bca=0x1*0x20c8+-0xe7*-0x27+-0x43f9;_0x14e156=_0x23435b['charAt'](_0x137bca++);~_0x14e156&&(_0x7b38c6=_0x589460%(0x170d+-0x99f+-0x22*0x65)?_0x7b38c6*(0x1785+-0x1306+-0x1*0x43f)+_0x14e156:_0x14e156,_0x589460++%(0x1377+-0x3a*0x7f+0xd9*0xb))?_0x3325f2+=_0x4222a9['charCodeAt'](_0x137bca+(0x13d+-0xea5+0x1*0xd72))-(-0x3*-0x981+0x4dc*0x1+-0x2155)!==-0x1*-0x1ef+0x242b+0x1*-0x261a?String['fromCharCode'](0x1ae4+0x1*0x2645+-0x2b*0x17e&_0x7b38c6>>(-(-0x22ab+-0x2aa*0x7+0x3553)*_0x589460&-0x646+-0xf5f*0x1+0x15ab)):_0x589460:-0xc23+0x21f8+-0x17*0xf3){_0x14e156=_0x2f13a3['indexOf'](_0x14e156);}for(let _0x5412f0=-0x1*-0x85d+-0x1242*-0x1+0x5*-0x553,_0x57588d=_0x3325f2['length'];_0x5412f0<_0x57588d;_0x5412f0++){_0x1b71c7+='%'+('00'+_0x3325f2['charCodeAt'](_0x5412f0)['toString'](0x1829*0x1+-0x21b2+0xbd*0xd))['slice'](-(0x1db+0xf7d+0x1156*-0x1));}return decodeURIComponent(_0x1b71c7);};_0xca41['SuCeBc']=_0x1c5a28,_0xca41['awAwHF']={},_0xca41['bMjUhI']=!![];}const _0x1788ca=_0x45f618[0x3*0x4cd+0x54b*0x5+-0x28de],_0x190a1a=_0x57541d+_0x1788ca,_0x39a475=_0xca41['awAwHF'][_0x190a1a];if(!_0x39a475){const _0x5b31af=function(_0x3b0c23){this['jCZYAK']=_0x3b0c23,this['BtTNVP']=[-0x2017+-0x21ad*0x1+0x41c5,-0x1*0x1cec+-0x1d01+0x39ed,-0xae6+-0x225c+0x16a1*0x2],this['fZMhxc']=function(){return'newState';},this['ZPUDDM']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['nUVsjp']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5b31af['prototype']['NdFHxl']=function(){const _0x4d8f11=new RegExp(this['ZPUDDM']+this['nUVsjp']),_0x2db73b=_0x4d8f11['test'](this['fZMhxc']['toString']())?--this['BtTNVP'][-0x233a+-0x1f01+0x423c]:--this['BtTNVP'][-0x1*-0x206+-0xb4*-0x32+0x252e*-0x1];return this['VaVkqv'](_0x2db73b);},_0x5b31af['prototype']['VaVkqv']=function(_0x4d041e){if(!Boolean(~_0x4d041e))return _0x4d041e;return this['Yjckkq'](this['jCZYAK']);},_0x5b31af['prototype']['Yjckkq']=function(_0x3ca720){for(let _0x21553c=0xd*-0x20+-0x110b+0x51*0x3b,_0x5f07f2=this['BtTNVP']['length'];_0x21553c<_0x5f07f2;_0x21553c++){this['BtTNVP']['push'](Math['round'](Math['random']())),_0x5f07f2=this['BtTNVP']['length'];}return _0x3ca720(this['BtTNVP'][0x192a+-0x2003+-0x1*-0x6d9]);},new _0x5b31af(_0xca41)['NdFHxl'](),_0x5a85d3=_0xca41['SuCeBc'](_0x5a85d3),_0xca41['awAwHF'][_0x190a1a]=_0x5a85d3;}else _0x5a85d3=_0x39a475;return _0x5a85d3;}export async function callTranslation(_0x5a7f65){const _0x27ddfe={'OWfys':function(_0x442428,_0x1ab9ae){return _0x442428+_0x1ab9ae;},'MWjqL':function(_0x155e3d,_0x258811){return _0x155e3d!==_0x258811;},'ZgRKI':'IiuQF','oEsqC':_0x3b989e(0x34c,0x307,0x365,0x32f)+'n','dXrCH':function(_0x4054a5,_0x385fd6){return _0x4054a5||_0x385fd6;},'vaGMR':function(_0x461b09,_0x88192){return _0x461b09(_0x88192);},'VDUOS':function(_0x4b0438,_0x11d009){return _0x4b0438(_0x11d009);},'WFgtd':'翻译失败:'};function _0x34cb74(_0x364682,_0x40e29b,_0x3a08ef,_0x219c56){return _0xca41(_0x40e29b-0xe2,_0x3a08ef);}function _0x3b989e(_0x45e4d5,_0x1131a2,_0x4effaa,_0x4ab188){return _0xca41(_0x4effaa-0xed,_0x45e4d5);}try{if(_0x27ddfe['MWjqL'](_0x27ddfe['ZgRKI'],_0x27ddfe['ZgRKI'])){const _0x5d9e15=_0x2d221f[_0x3b989e(0x339,0x338,0x2f5,0x331)]('\x5c');if(_0x5d9e15>-0x310+0x2707*-0x1+-0x2a17*-0x1){const _0x33e1c5=_0x2583f2['slice'](0x2114+-0x7c2+-0x1*0x1952,_0x5d9e15)[_0x34cb74(0x2a4,0x301,0x2da,0x345)](),_0x3ddd79=_0x4fc481[_0x3b989e(0x33f,0x315,0x2ed,0x2e8)](_0x27ddfe[_0x34cb74(0x2fb,0x2d2,0x329,0x2e1)](_0x5d9e15,0xb*0x1b+0xb5*0x34+-0x3*0xca4))[_0x34cb74(0x2f9,0x301,0x2e9,0x345)]();if(_0x33e1c5)_0xf7f750[_0x33e1c5]=_0x3ddd79;}}else{let _0x12ca31=buildPromptForRequestType(_0x27ddfe[_0x34cb74(0x2d8,0x2cf,0x319,0x312)],_0x27ddfe[_0x34cb74(0x32b,0x37f,0x36f,0x330)](_0x5a7f65,''));_0x12ca31=_0x27ddfe['vaGMR'](mergeAdjacentMessages,_0x12ca31);const _0x147494=[..._0x12ca31,{'role':'user','content':_0x27ddfe[_0x3b989e(0x33e,0x34c,0x38a,0x364)](_0x5a7f65,'')}];_0x27ddfe[_0x3b989e(0x3a6,0x383,0x387,0x3b0)](updateCombinedPrompt,_0x147494);const _0x282029=await _0x27ddfe[_0x34cb74(0x393,0x37c,0x361,0x3ac)](LLM_TRANSLATION,_0x147494);return _0x282029;}}catch(_0x4b9e97){_0x27ddfe[_0x34cb74(0x359,0x37c,0x39e,0x3c0)](addLog,_0x34cb74(0x2ff,0x311,0x2fc,0x2db)+_0x4b9e97['message']),console[_0x34cb74(0x350,0x30a,0x35b,0x301)](_0x27ddfe[_0x3b989e(0x2fd,0x339,0x33d,0x33d)],_0x4b9e97);throw _0x4b9e97;}}let isAiInitialized=![];export function initAiSettings(_0x2e4cbd){const _0xd78d39={};function _0x4f8568(_0x38fdef,_0x5c533d,_0x4f0a2f,_0x21ed75){return _0xca41(_0x38fdef- -0x5,_0x5c533d);}_0xd78d39[_0x4f8568(0x20e,0x22e,0x233,0x25f)]='st-chatu8:'+'\x20AI\x20设置已统一到'+_0x4ba19f(-0x196,-0x1a8,-0x1ad,-0x1eb);function _0x4ba19f(_0x28f0d8,_0x45df6c,_0x38bc5c,_0xa7a10d){return _0xca41(_0x28f0d8- -0x38a,_0x45df6c);}const _0x4abd04=_0xd78d39;!isAiInitialized&&(console[_0x4f8568(0x248,0x28c,0x214,0x216)](_0x4abd04[_0x4f8568(0x20e,0x230,0x260,0x1d3)]),isAiInitialized=!![]);}