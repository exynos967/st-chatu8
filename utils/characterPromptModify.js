(function(_0x116248,_0x9e95de){function _0x598dd6(_0x3cfa38,_0x14dd79,_0x4d4366,_0x1d91bc){return _0x138a(_0x14dd79- -0x1b1,_0x3cfa38);}function _0x5dce68(_0x513b23,_0x30cee,_0xdbdbe7,_0x4f6ad2){return _0x138a(_0xdbdbe7- -0x1f1,_0x4f6ad2);}const _0x4b10a9=_0x116248();while(!![]){try{const _0x55ed13=parseInt(_0x5dce68(0x145,0x14a,0x92,0x17d))/(0xa7*0x1+-0x1f2d*-0x1+-0x1fd3*0x1)*(-parseInt(_0x5dce68(0x69,0x4f,0x1b,0xd7))/(-0x24cc+-0x44*0x7c+-0x45be*-0x1))+parseInt(_0x598dd6(0x77,0x48,0xdb,-0x11))/(0x1*-0x1e34+0x1*0xf33+0xf04)*(-parseInt(_0x5dce68(0xce,-0x4,0x76,0x161))/(-0x1710+0x19b1+-0x3*0xdf))+-parseInt(_0x598dd6(-0x48,0x9c,0xb3,-0x21))/(0x57*0x8+-0x1351+-0x2c5*-0x6)*(parseInt(_0x5dce68(0xf1,0x140,0xf1,0x18a))/(0x1cae+-0x25c*-0x9+-0x18f2*0x2))+parseInt(_0x598dd6(-0x9,0x34,0x1d,-0x3b))/(0xe7+0x1*-0x1274+-0x177*-0xc)+parseInt(_0x5dce68(-0x3d,0xe8,0x33,-0xa8))/(-0x16f*0xd+-0x874+0x1b1f)*(-parseInt(_0x598dd6(0x100,0x108,0x182,0x12c))/(-0x26a7*0x1+0x43e+-0x1*-0x2272))+parseInt(_0x5dce68(0x1c7,0x24f,0x16a,0xfa))/(0x1*0x1d37+0x73*-0xb+-0x183c*0x1)+-parseInt(_0x5dce68(0x61,0xf4,0x147,0x1c2))/(0x2249+-0x35*-0xb2+-0x4718)*(-parseInt(_0x5dce68(0x6a,-0x1b,0x81,0xad))/(0xe9*-0x23+0x1eb9+0x12e));if(_0x55ed13===_0x9e95de)break;else _0x4b10a9['push'](_0x4b10a9['shift']());}catch(_0x37d357){_0x4b10a9['push'](_0x4b10a9['shift']());}}}(_0x1a32,0xdf03c+-0xf*-0x38a9+-0x9383c));const _0x4a57c2=(function(){let _0x4aa786=!![];return function(_0x58b36b,_0x5d0055){function _0x1283f4(_0x199e94,_0x39f263,_0x3d9908,_0x1796b8){return _0x138a(_0x199e94-0x2e1,_0x39f263);}const _0x509b41={};_0x509b41[_0x59c6dc(0x334,0x3c8,0x341,0x487)]=function(_0x3166f8,_0x2ed0cd){return _0x3166f8===_0x2ed0cd;},_0x509b41[_0x1283f4(0x5af,0x650,0x61f,0x666)]=_0x1283f4(0x535,0x44b,0x55b,0x46a);const _0x5ee792=_0x509b41;function _0x59c6dc(_0x50c118,_0x250789,_0x24d082,_0x4e365a){return _0x138a(_0x250789-0xe8,_0x50c118);}const _0x9435ef=_0x4aa786?function(){function _0x45821f(_0x7b1c40,_0x22c065,_0x271799,_0x48b412){return _0x1283f4(_0x48b412- -0x69b,_0x22c065,_0x271799-0x128,_0x48b412-0x101);}function _0x4c30eb(_0x4392db,_0x169876,_0x22ff37,_0x14bbf5){return _0x59c6dc(_0x4392db,_0x169876-0x25c,_0x22ff37-0x59,_0x14bbf5-0x2b);}if(_0x5ee792[_0x45821f(-0x20,-0x181,-0xf4,-0xda)](_0x5ee792[_0x45821f(-0xdd,-0x156,-0x1cc,-0xec)],_0x45821f(-0x13e,-0x92,-0x169,-0x166))){if(_0x5d0055){const _0x36a5cc=_0x5d0055[_0x45821f(-0x33,0x15,0x55,-0x44)](_0x58b36b,arguments);return _0x5d0055=null,_0x36a5cc;}}else return _0x46fe66;}:function(){};return _0x4aa786=![],_0x9435ef;};}()),_0x22897d=_0x4a57c2(this,function(){function _0x2cb1e7(_0x2d6060,_0x15abfb,_0x14fc08,_0x21ccf2){return _0x138a(_0x15abfb- -0x35,_0x21ccf2);}function _0x363a02(_0x303d1b,_0x5cd8c6,_0x598a98,_0x5904a9){return _0x138a(_0x598a98- -0x244,_0x5904a9);}const _0x4e1e01={};_0x4e1e01[_0x363a02(-0xaf,-0x24,-0x54,0x97)]=_0x363a02(0x2,-0x155,-0x88,-0x72)+'+$';const _0x5aea92=_0x4e1e01;return _0x22897d[_0x363a02(-0x93,-0xb,0x29,-0x41)]()[_0x2cb1e7(0x19e,0x247,0x1d0,0x2e7)](_0x2cb1e7(0xf7,0x187,0x276,0x187)+'+$')['toString']()['constructo'+'r'](_0x22897d)[_0x2cb1e7(0x317,0x247,0x1f9,0x315)](_0x5aea92[_0x2cb1e7(0x235,0x1bb,0x29a,0x222)]);});_0x22897d();import{eventSource}from'../../../../../script.js';import{eventNames,extensionName}from'./config.js';import{extension_settings}from'../../../../extensions.js';import{getContext}from'../../../../st-context.js';import{saveSettingsDebounced}from'../../../../../script.js';import{generateCharacterListText,generateOutfitEnableListText,generateCommonCharacterListText}from'./settings/worldbook.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{refreshCharacterSettings}from'./settings/character/index.js';import{stylishConfirm}from'./ui_common.js';import{mergeAdjacentMessages,replaceAllPlaceholders,replacePlaceholder as _0x3a94d7}from'./promptProcessor.js';function replacePlaceholder(_0x29d003,_0x42e7e9,_0x1ef115,_0x50e625){const _0x236ce6={'CUGxZ':function(_0x4d4d2e,_0x45a7dc){return _0x4d4d2e!==_0x45a7dc;},'YsUig':function(_0x548d12,_0x20719f){return _0x548d12(_0x20719f);},'JikiK':function(_0x1aae86,_0xd40d66){return _0x1aae86===_0xd40d66;},'iUpWj':'string','fpFGo':'dMnBM','rftVl':function(_0x4056b8,_0x3a5882){return _0x4056b8!==_0x3a5882;},'JVKmy':'OVgil','Hhtlr':function(_0x1938a9,_0x48c227){return _0x1938a9===_0x48c227;},'wFjsf':_0x28eab3(0x5c,0x33,0x80,0xbb),'dzqLc':function(_0x2a95e7,_0x38471d){return _0x2a95e7===_0x38471d;},'FVZGS':_0x28eab3(0x13e,0x121,0x188,0xda),'bQvsD':function(_0x185c3f,_0x568588,_0x4a67b8,_0x1e78d4,_0x1b187a){return _0x185c3f(_0x568588,_0x4a67b8,_0x1e78d4,_0x1b187a);}};if(_0x236ce6[_0x28eab3(0x23,0x117,0x10c,0x14b)](typeof _0x29d003,_0x236ce6[_0x3b1203(-0x16,-0x63,0x1,-0x8b)]))return _0x1ef115&&_0x29d003['includes'](_0x42e7e9)&&(_0x50e625&&(_0x236ce6['CUGxZ'](_0x28eab3(0xc9,0x58,-0x25,0x76),_0x236ce6['fpFGo'])?_0x50e625[_0x28eab3(0x17e,0x101,0x60,0x77)](_0x42e7e9):_0x53390f[_0x3b1203(0x1a5,0x1c9,0x189,0x1bb)](_0xaf717c))),_0x29d003[_0x28eab3(0x4d,0x10c,0xa3,0xfa)](_0x42e7e9,_0x1ef115);if(Array[_0x28eab3(0x85,0x10b,0x4b,0xa1)](_0x29d003)){if(_0x236ce6['rftVl']('OVgil',_0x236ce6[_0x3b1203(0x17d,0xf5,0x9e,0x25c)])){if(_0x236ce6['CUGxZ'](_0x390079['id'],_0x4e57ab))return;_0x9b0e4f[_0x3b1203(0x195,0x23b,0x242,0x275)+_0x28eab3(0xd5,0x100,0x1b0,0x24)](_0x2dd8bd[_0x28eab3(-0x9f,-0x2,0x9f,-0x3e)+'ODIFY_GET_'+_0x3b1203(0x179,0xb2,0xfc,0x201)+_0x28eab3(0x183,0xb9,0x71,0x19f)],_0x3576ad),_0x236ce6[_0x3b1203(0x47,-0x34,-0x7b,0x64)](_0x1703c4,_0xf80505[_0x28eab3(0x4a,0xc0,0x6d,0x194)]);}else return _0x29d003[_0x3b1203(-0x12,0x61,0xe3,-0xce)](_0x34c59d=>replacePlaceholder(_0x34c59d,_0x42e7e9,_0x1ef115,_0x50e625));}if(_0x29d003&&_0x236ce6[_0x28eab3(-0x35,0xad,-0x47,0xc2)](typeof _0x29d003,_0x236ce6[_0x28eab3(-0xbd,-0x5d,-0x100,-0x6a)])){if(_0x236ce6[_0x28eab3(0x123,0xee,0x145,0x164)](_0x236ce6['FVZGS'],'UrMCU')){_0x4318ef[_0x3b1203(0x106,0x1ce,0x126,0x64)]('已取消更新');return;}else{const _0x4dee00={};for(const _0x564ac9 in _0x29d003){_0x4dee00[_0x564ac9]=_0x236ce6[_0x28eab3(-0xfa,-0xa9,0x3d,-0xa6)](replacePlaceholder,_0x29d003[_0x564ac9],_0x42e7e9,_0x1ef115,_0x50e625);}return _0x4dee00;}}function _0x3b1203(_0x4b04ae,_0x3ee174,_0x25bf83,_0x52e38b){return _0x138a(_0x4b04ae- -0x1c7,_0x25bf83);}function _0x28eab3(_0x3e1eb8,_0x3bf2d5,_0x2114ff,_0x4cd79e){return _0x138a(_0x3bf2d5- -0x253,_0x3e1eb8);}return _0x29d003;}function attachImagesToMessage(_0x11324d,_0x3895a6,_0x768207,_0x59ad7f='参考图片'){const _0x4c3cd6={'pvAJC':function(_0x8a0f4,_0x3e1e19){return _0x8a0f4!==_0x3e1e19;},'BPqNC':function(_0x5b657e,_0x54cef3){return _0x5b657e(_0x54cef3);},'BbHCW':'KRvTE','uRTKR':_0x2c3988(0x252,0x1fe,0x2ef,0x245),'apCgZ':function(_0x14754e,_0x316108){return _0x14754e===_0x316108;},'BxfWD':function(_0x182db5,_0x418aec){return _0x182db5+_0x418aec;},'kgQeR':_0x2c3988(0x419,0x403,0x452,0x37d),'lZDjz':_0x2c3988(0x1d8,0x2a0,0x319,0x26b),'orrbO':_0x2c3988(0x29f,0x3e9,0x2fd,0x333),'LutwZ':_0x2c3988(0x313,0x235,0x246,0x230),'gCJZJ':_0x2c3988(0x106,0x1de,0x12b,0x1b1),'AOMqc':function(_0x6e89a2,_0x9eb157){return _0x6e89a2===_0x9eb157;},'MqzJW':function(_0x470825,_0x46e6d9){return _0x470825<_0x46e6d9;},'BcpBw':function(_0x552ecf,_0x58a942){return _0x552ecf>=_0x58a942;},'gQFMq':function(_0x5535bb,_0x2142f0){return _0x5535bb===_0x2142f0;},'OUmvU':function(_0x2aae46,_0x36e5a2){return _0x2aae46>_0x36e5a2;}};if(!_0x768207||_0x4c3cd6[_0x2c3988(0x340,0x310,0x277,0x2b4)](_0x768207[_0x2c3988(0x2fa,0x2fc,0x26c,0x2d4)],0x21f1+-0x241a*-0x1+0x3*-0x1759)||_0x4c3cd6['MqzJW'](_0x3895a6,-0x1fb6+0x3b4+-0x956*-0x3)||_0x4c3cd6[_0x300038(0xe5,0x1ae,0x114,0x188)](_0x3895a6,_0x11324d[_0x300038(0x173,0x17b,0x2a3,0x243)]))return _0x11324d;const _0x315fbf=[..._0x11324d];function _0x2c3988(_0x4976bc,_0x2ee4c9,_0x44ebce,_0x12e0fb){return _0x138a(_0x12e0fb-0xf,_0x44ebce);}const _0x42cb81=_0x315fbf[_0x3895a6];function _0x300038(_0x2f4618,_0x3c88f8,_0x3ea9b5,_0x1f5131){return _0x138a(_0x1f5131- -0x82,_0x3c88f8);}const _0x2dc20f=[];if(_0x4c3cd6['gQFMq'](typeof _0x42cb81[_0x300038(0x17e,0x7a,0x21c,0x16d)],_0x4c3cd6[_0x300038(0x1a6,0x152,0x25e,0x1ea)])){const _0x3f9074={};_0x3f9074['type']=_0x4c3cd6[_0x2c3988(0x234,0x205,0x2bb,0x26e)],_0x3f9074[_0x2c3988(0x392,0x468,0x459,0x37d)]=_0x42cb81[_0x300038(0x134,0x25d,0x16d,0x16d)],_0x2dc20f[_0x300038(0x30a,0x33f,0x282,0x2ea)](_0x3f9074);}else Array['isArray'](_0x42cb81[_0x300038(0x207,0x89,0xcb,0x16d)])&&_0x2dc20f[_0x2c3988(0x438,0x2ed,0x2cc,0x37b)](..._0x42cb81[_0x2c3988(0x214,0x131,0x1de,0x1fe)]);if(_0x4c3cd6['OUmvU'](_0x768207[_0x2c3988(0x268,0x355,0x31b,0x2d4)],0x3b0+-0xdf9+0xa49*0x1)){const _0x378708={};_0x378708['type']=_0x300038(0x2f4,0x3bc,0x337,0x2ec),_0x378708[_0x2c3988(0x411,0x3e8,0x2fb,0x37d)]=_0x300038(0x117,0x27f,0x1ba,0x1c9)+_0x768207[_0x2c3988(0x22a,0x2c5,0x29b,0x2d4)]+'张'+_0x59ad7f+']',_0x2dc20f[_0x2c3988(0x324,0x44b,0x3b0,0x37b)](_0x378708);}_0x768207[_0x300038(0x1e0,0x301,0x15c,0x21f)]((_0x5ec624,_0x1c92d7)=>{function _0x5883b2(_0x140a63,_0x552ff8,_0x3b3bd8,_0x43371b){return _0x300038(_0x140a63-0x196,_0x3b3bd8,_0x3b3bd8-0x1c,_0x552ff8-0x62);}function _0x56e46a(_0x35bba6,_0x1bf207,_0x5ebd4b,_0x276e6e){return _0x300038(_0x35bba6-0xe1,_0x276e6e,_0x5ebd4b-0xd0,_0x35bba6- -0x52);}if(_0x56e46a(0x173,0x134,0x221,0xca)!==_0x4c3cd6[_0x5883b2(0x39e,0x325,0x2d3,0x268)]){const _0x4c2104=typeof _0x5ec624===_0x4c3cd6[_0x5883b2(0x1ac,0x24c,0x260,0x2ff)]?_0x5ec624:_0x5ec624[_0x5883b2(0xff,0x1b4,0x267,0x195)],_0x26eb17=_0x4c3cd6[_0x56e46a(0x1c0,0x223,0x2a8,0x13c)](typeof _0x5ec624,_0x5883b2(0x271,0x266,0x225,0x20a))&&_0x5ec624[_0x5883b2(0x192,0x183,0x12f,0xb9)]?_0x5ec624[_0x56e46a(0xcf,0xc0,0xae,0xdb)]:''+_0x59ad7f+_0x4c3cd6[_0x5883b2(0x3aa,0x2c6,0x261,0x365)](_0x1c92d7,0x3ef*-0x4+0x112+0xeab),_0x40cd3d={};_0x40cd3d[_0x5883b2(0x107,0x1aa,0xfd,0x1c5)]=_0x4c3cd6[_0x5883b2(0x217,0x23f,0x2d2,0x236)],_0x40cd3d['text']='['+_0x26eb17+']',_0x2dc20f['push'](_0x40cd3d);let _0x16cbc7=_0x4c2104;!_0x4c2104['startsWith'](_0x4c3cd6[_0x56e46a(0x148,0x1e9,0x23c,0x8d)])&&(_0x4c3cd6[_0x56e46a(0x13c,0xff,0xc3,0x226)]===_0x4c3cd6[_0x56e46a(0x13c,0x1e1,0x13b,0x117)]?_0x16cbc7=_0x5883b2(0x107,0x1d2,0x1eb,0x2c6)+_0x5883b2(0x2e6,0x2b3,0x313,0x2ff)+'4,'+_0x4c2104:_0x2b4f81[_0x500dab]&&_0x4c3cd6[_0x56e46a(0x282,0x245,0x231,0x1df)](_0x12eb1d[_0x229154],_0x2f9919[_0x4ea84e])&&_0x28ba6f++);const _0x51939b={};_0x51939b[_0x5883b2(0x195,0x1aa,0x1a5,0x1b9)]=_0x4c3cd6[_0x5883b2(0x2e1,0x2dd,0x2c5,0x35d)],_0x51939b[_0x56e46a(0x14d,0x229,0x181,0x23a)]={},_0x51939b[_0x56e46a(0x14d,0x229,0x181,0x23a)][_0x56e46a(0x1f4,0x2da,0x24b,0x2c4)]=_0x16cbc7,_0x51939b[_0x56e46a(0x14d,0x229,0x181,0x23a)][_0x56e46a(0x1c9,0x119,0x10c,0x264)]=_0x4c3cd6[_0x5883b2(0x2a7,0x27e,0x222,0x356)],_0x2dc20f[_0x5883b2(0x3a4,0x34c,0x3aa,0x41c)](_0x51939b);}else _0x4c3cd6[_0x56e46a(0x268,0x1c7,0x182,0x2fd)](_0x373888,_0x43844c);});const _0x2fd223={..._0x42cb81};return _0x2fd223[_0x2c3988(0x1c7,0x179,0x27f,0x1fe)]=_0x2dc20f,_0x315fbf[_0x3895a6]=_0x2fd223,_0x315fbf;}function findMessageIndexWithPlaceholder(_0x170a8b,_0xc2e127){const _0x2156a7={'Oiqsi':_0x416816(0x401,0x4c8,0x49b,0x5b0),'xSJtT':_0x416816(0x48b,0x4ce,0x4b1,0x544)+_0x33178a(0x3a0,0x322,0x306,0x486)+_0x33178a(0x3d1,0x32e,0x45a,0x32e)+'ed','pzhlw':function(_0x2a5617,_0x565c89){return _0x2a5617(_0x565c89);},'qxQCq':function(_0x20a9d3,_0x12b1d2){return _0x20a9d3<_0x12b1d2;},'YepgA':function(_0x4a332f,_0x5c12b1){return _0x4a332f===_0x5c12b1;},'nxLNo':_0x416816(0x446,0x4c3,0x49d,0x502),'jZKrP':_0x416816(0x42b,0x3c2,0x414,0x4a7),'fijNY':function(_0x155f8c,_0x236810){return _0x155f8c===_0x236810;},'VkeSV':_0x33178a(0x2c9,0x327,0x2d7,0x26f),'VMwCV':function(_0xe0f44b,_0x5a95e0){return _0xe0f44b===_0x5a95e0;},'lFkXm':'FPgOf','gVCPe':_0x416816(0x447,0x485,0x528,0x54d),'nrZDs':'rCLCz','XqXtc':_0x33178a(0x245,0x1c7,0x273,0x155),'Ntxgh':_0x33178a(0x401,0x402,0x414,0x331),'LgNFJ':_0x416816(0x4f5,0x436,0x500,0x521)};for(let _0x28eac6=-0x5c7+-0x1a35*-0x1+0x146e*-0x1;_0x2156a7[_0x416816(0x3c9,0x43d,0x3b3,0x50b)](_0x28eac6,_0x170a8b[_0x416816(0x540,0x48c,0x405,0x4a9)]);_0x28eac6++){if(_0x2156a7[_0x33178a(0x2a7,0x1bd,0x28e,0x332)](_0x2156a7[_0x416816(0x48e,0x42f,0x4b4,0x462)],_0x2156a7[_0x416816(0x4f1,0x409,0x328,0x375)]))_0x23bb38=_0x4fb4dc(_0x10a38a,_0x4e46d3,_0x47795c,_0x2156a7[_0x416816(0x42d,0x39f,0x46a,0x3b1)]),_0xbf19e8[_0x33178a(0x2b6,0x278,0x229,0x1d8)](_0x2156a7['xSJtT'],_0x1316b8['length'],_0x416816(0x479,0x3f8,0x30a,0x35e)+_0x33178a(0x304,0x262,0x3ac,0x2ba)+'\x20index',_0x19d201);else{const _0x1718eb=_0x170a8b[_0x28eac6];if(_0x2156a7[_0x33178a(0x26a,0x2a8,0x178,0x2e4)](typeof _0x1718eb[_0x416816(0x3f6,0x3b6,0x4ab,0x30a)],_0x2156a7[_0x33178a(0x23c,0x200,0x208,0x253)])&&_0x1718eb[_0x416816(0x305,0x3b6,0x3c8,0x436)][_0x416816(0x3b6,0x413,0x3f6,0x35a)](_0xc2e127))return _0x28eac6;else{if(Array[_0x33178a(0x3f1,0x352,0x360,0x38c)](_0x1718eb['content'])){if(_0x2156a7[_0x33178a(0x2e9,0x390,0x3db,0x318)](_0x2156a7['lFkXm'],_0x2156a7[_0x33178a(0x3bc,0x3b6,0x2d6,0x2d3)]))_0x1cb8ff[_0x87fc04[_0x457c18]]=_0xdbaaaa;else for(const _0x3ea2cd of _0x1718eb[_0x416816(0x44e,0x3b6,0x367,0x40a)]){if(_0x2156a7['nrZDs']!==_0x2156a7[_0x33178a(0x2e5,0x273,0x278,0x25b)]){if(_0x2156a7['VMwCV'](_0x3ea2cd[_0x33178a(0x25d,0x2b7,0x263,0x20f)],_0x2156a7['Ntxgh'])&&_0x3ea2cd[_0x416816(0x456,0x535,0x470,0x4d3)][_0x416816(0x3f1,0x413,0x485,0x467)](_0xc2e127)){if(_0x2156a7[_0x33178a(0x26a,0x211,0x1c3,0x224)](_0x416816(0x35f,0x436,0x491,0x4e5),_0x2156a7[_0x416816(0x32b,0x377,0x2b2,0x34e)]))return _0x28eac6;else{if(_0x84a734){const _0x424d42=_0x2f36d1[_0x33178a(0x409,0x4b6,0x464,0x4e4)](_0x486cec,arguments);return _0x468412=null,_0x424d42;}}}}else{const _0x1652d8=_0x1d2163[_0x33178a(0x279,0x2d2,0x2fa,0x20d)+_0x416816(0x40c,0x3ba,0x330,0x45b)](_0x33178a(0x30e,0x321,0x24b,0x384)+_0x2067ae);_0x1652d8&&(_0x1652d8[_0x33178a(0x299,0x253,0x2c0,0x37a)]=_0x27f0cd[_0x2aeb11],_0x2156a7['pzhlw'](_0x3f566e,_0x1652d8)[_0x33178a(0x356,0x3b2,0x343,0x2fa)](_0x33178a(0x3e8,0x47f,0x3ee,0x433)));}}}}}}function _0x33178a(_0x43c4ec,_0x59ca76,_0x185f4e,_0x1a11cf){return _0x138a(_0x43c4ec-0x93,_0x59ca76);}function _0x416816(_0x508244,_0x153d90,_0x1c293d,_0x2a5db9){return _0x138a(_0x153d90-0x1c7,_0x1c293d);}return-(-0x12e0*0x2+-0x1*0x2261+0x2411*0x2);}function generateRequestId(){const _0x3f05af={};_0x3f05af['pQoUz']='(((.+)+)+)'+'+$';function _0x4cede1(_0x84f952,_0xc729c1,_0x27ba8e,_0x175cb6){return _0x138a(_0x175cb6-0x3a9,_0xc729c1);}_0x3f05af[_0x40cca9(0x38e,0x413,0x370,0x40b)]=function(_0x3eca70,_0x204131){return _0x3eca70!==_0x204131;},_0x3f05af[_0x40cca9(0x284,0x1c8,0x25e,0x2a6)]=_0x40cca9(0x3a8,0x318,0x2e1,0x299),_0x3f05af['sANyT']=_0x4cede1(0x50b,0x5c2,0x5b4,0x5b0),_0x3f05af[_0x4cede1(0x7d2,0x76b,0x769,0x6ef)]=function(_0x2d857c,_0x13171e){return _0x2d857c+_0x13171e;};function _0x40cca9(_0x5c8dd7,_0xcd46cf,_0x2fae35,_0x2e8aef){return _0x138a(_0x2fae35-0xc2,_0x5c8dd7);}const _0x434149=_0x3f05af;if(crypto&&crypto['randomUUID'])return _0x434149[_0x40cca9(0x3c9,0x2de,0x370,0x424)](_0x434149[_0x40cca9(0x34e,0x331,0x25e,0x22c)],_0x434149[_0x40cca9(0x2d2,0x2f0,0x315,0x3f0)])?crypto[_0x40cca9(0x313,0x26f,0x27a,0x206)]():_0x48415c['toString']()[_0x4cede1(0x55e,0x63f,0x60c,0x625)]('(((.+)+)+)'+'+$')[_0x40cca9(0x2cc,0x345,0x32f,0x250)]()['constructo'+'r'](_0x1e1bcc)[_0x40cca9(0x330,0x35c,0x33e,0x259)](Cmtopu[_0x4cede1(0x57f,0x601,0x5cf,0x5c3)]);return _0x434149[_0x40cca9(0x460,0x41d,0x408,0x41a)](Date['now']()[_0x4cede1(0x5cd,0x5af,0x5b4,0x616)](0x2*-0xaf9+0x26ec+-0x10d6),Math[_0x4cede1(0x66d,0x6e4,0x5ea,0x6ad)]()[_0x4cede1(0x68a,0x6aa,0x608,0x616)](-0x12*0x184+0x32+0x2b9*0xa)[_0x40cca9(0x37d,0x2bd,0x352,0x272)](-0xc*-0x212+0x650*-0x2+-0xc36));}export function LLM_CHAR_MODIFY_GET_PROMPT(){const _0x21f36a={'Tamom':function(_0x2c9349,_0x55a4d0){return _0x2c9349===_0x55a4d0;},'wlvVr':'yZRtU','HoPIm':function(_0x3aa870,_0x5adc03){return _0x3aa870!==_0x5adc03;},'nbnHD':function(_0x5d964d,_0x5f0803){return _0x5d964d(_0x5f0803);},'CGFDS':_0xdbebb(0x5db,0x526,0x603,0x565)+'时','KPlwJ':function(_0x5a7efa){return _0x5a7efa();},'kwDaB':function(_0x598107,_0x2d0887,_0x1f7a08){return _0x598107(_0x2d0887,_0x1f7a08);}};function _0xdbebb(_0x30b049,_0x214bd9,_0x46f275,_0x169863){return _0x138a(_0x214bd9-0x266,_0x169863);}return new Promise((_0x2bf59b,_0x197ce7)=>{const _0x1672a7={'QNaPn':function(_0x43ba8f,_0x440761){function _0x8b112f(_0xd62154,_0x41944d,_0x550ca2,_0x2e4d35){return _0x138a(_0x2e4d35-0x136,_0x41944d);}return _0x21f36a[_0x8b112f(0x2eb,0x39e,0x264,0x2da)](_0x43ba8f,_0x440761);},'IZQHi':'HgLBd','rvXFV':_0x21f36a[_0x41e59b(0x6c6,0x701,0x714,0x640)],'ktTZo':function(_0x5ac7e9,_0x719c1a){return _0x21f36a['HoPIm'](_0x5ac7e9,_0x719c1a);},'flJbX':function(_0x33d4a8,_0x1ab9df){function _0x339040(_0x34defa,_0x144c5d,_0x395cff,_0xce5c76){return _0x41e59b(_0x34defa,_0x144c5d-0x1cc,_0x395cff-0x102,_0x144c5d- -0xa0);}return _0x21f36a[_0x339040(0x4f1,0x44a,0x499,0x4bb)](_0x33d4a8,_0x1ab9df);},'TxeDy':_0x21f36a[_0x2cf724(0x3d2,0x2d2,0x3e2,0x358)]},_0x5683f5=_0x21f36a['KPlwJ'](generateRequestId);console['log'](_0x2cf724(0x541,0x400,0x418,0x4ac)+_0x2cf724(0x49b,0x4ed,0x40c,0x4b2)+_0x2cf724(0x4c1,0x464,0x529,0x43b)+_0x2cf724(0x51c,0x3c1,0x3ed,0x45c)+_0x41e59b(0x559,0x6a8,0x6c1,0x5d0)+_0x41e59b(0x6a6,0x751,0x757,0x667)+_0x5683f5+')');const _0x3ce638=_0x2a68eb=>{function _0x25e8f2(_0x2fdd54,_0x3a6131,_0x4c23e4,_0x67aeb6){return _0x41e59b(_0x4c23e4,_0x3a6131-0x19a,_0x4c23e4-0x131,_0x3a6131- -0x34e);}function _0x2a4424(_0x36f11d,_0x5f4476,_0x25f7c4,_0x7076ed){return _0x41e59b(_0x7076ed,_0x5f4476-0x130,_0x25f7c4-0x130,_0x5f4476-0x4);}if(_0x1672a7[_0x2a4424(0x415,0x4d0,0x545,0x4c9)](_0x1672a7['IZQHi'],_0x1672a7[_0x2a4424(0x594,0x5b5,0x618,0x4c2)]))return _0x16220d[_0x25e8f2(0x24d,0x16b,0x190,0x186)]();else{if(_0x1672a7[_0x2a4424(0x47c,0x51d,0x514,0x44e)](_0x2a68eb['id'],_0x5683f5))return;eventSource['removeList'+'ener'](eventNames[_0x25e8f2(0x170,0x204,0x2a7,0x14d)+_0x25e8f2(0x1ce,0x28d,0x2b8,0x369)+_0x2a4424(0x56c,0x645,0x6b9,0x680)+_0x25e8f2(0x28d,0x2bf,0x297,0x270)],_0x3ce638),_0x1672a7[_0x25e8f2(0x2b4,0x24e,0x20a,0x340)](_0x2bf59b,_0x2a68eb[_0x25e8f2(0x262,0x2c6,0x36e,0x391)]);}};function _0x41e59b(_0x3e9834,_0x1cba3d,_0x5246fd,_0x20743b){return _0xdbebb(_0x3e9834-0x1f3,_0x20743b-0x9b,_0x5246fd-0x4d,_0x3e9834);}eventSource['on'](eventNames['LLM_CHAR_M'+_0x41e59b(0x60d,0x564,0x600,0x5db)+_0x41e59b(0x627,0x648,0x5f6,0x641)+_0x41e59b(0x67b,0x647,0x54f,0x60d)],_0x3ce638);const _0x38737d={};_0x38737d['id']=_0x5683f5,eventSource[_0x41e59b(0x426,0x5a7,0x494,0x4b8)](eventNames[_0x41e59b(0x4b2,0x483,0x580,0x552)+_0x2cf724(0x3fd,0x3e0,0x416,0x47f)+_0x2cf724(0x3a2,0x3c5,0x4a7,0x41c)+_0x41e59b(0x582,0x6bc,0x6df,0x662)],_0x38737d);function _0x2cf724(_0x165ce4,_0x5a67d6,_0x3177ad,_0x1f14ef){return _0xdbebb(_0x165ce4-0x9c,_0x1f14ef- -0xc1,_0x3177ad-0x147,_0x5a67d6);}_0x21f36a[_0x2cf724(0x41a,0x3f5,0x4e7,0x49f)](setTimeout,()=>{eventSource[_0x113920(0x604,0x5fb,0x6a8,0x570)+_0x518e08(0x30d,0x26a,0x278,0x2a2)](eventNames[_0x113920(0x590,0x4f0,0x467,0x410)+_0x113920(0x53d,0x579,0x569,0x4f5)+_0x113920(0x541,0x5df,0x4ed,0x646)+_0x113920(0x62a,0x5ab,0x5af,0x5c9)],_0x3ce638);function _0x113920(_0x18a684,_0x83cf0f,_0x38625c,_0x6e4309){return _0x41e59b(_0x18a684,_0x83cf0f-0x47,_0x38625c-0xc9,_0x83cf0f- -0x62);}function _0x518e08(_0x4c8e33,_0xc317ae,_0x41aed5,_0x2ae46f){return _0x2cf724(_0x4c8e33-0x69,_0x2ae46f,_0x41aed5-0x140,_0x4c8e33- -0x1eb);}_0x197ce7(new Error(_0x1672a7[_0x113920(0x508,0x547,0x534,0x4cb)]));},0x17fa+-0x17b*0x23+0x42e7*0x1);});}export function LLM_CHAR_MODIFY(_0xdb658f,_0x2b4016={}){function _0x28a28b(_0x15e3d7,_0x27b5e6,_0x212d42,_0x32fbba){return _0x138a(_0x212d42-0x3d6,_0x32fbba);}function _0x244805(_0x19cae6,_0x7995dc,_0x4b8bb0,_0x2f718b){return _0x138a(_0x19cae6- -0x2e2,_0x2f718b);}const _0x5aca0c={'CNJLu':function(_0x331568,_0x43c699){return _0x331568!==_0x43c699;},'hGKTT':_0x244805(0x55,-0x15,0xd4,0x11d),'CSFYz':function(_0x1ada51,_0x5e0491){return _0x1ada51!==_0x5e0491;},'Solzi':function(_0x48f179,_0x2b0ffe){return _0x48f179!==_0x2b0ffe;},'VrSst':_0x244805(0x3,-0x8b,0xeb,0xb9),'gxzIn':_0x244805(-0x11e,-0x8b,-0x88,-0xd1),'CVsqd':function(_0x19ba6c,_0x334d81){return _0x19ba6c(_0x334d81);},'jzanY':_0x244805(0x8c,0x63,-0x43,0x137),'PSMmO':function(_0x3dab91){return _0x3dab91();},'zpyag':_0x244805(0xa,0x2b,-0x34,0xa1)+_0x28a28b(0x65a,0x63d,0x6a0,0x6ea),'uQUUW':function(_0x3b9bc5,_0x2a1c5a){return _0x3b9bc5!==_0x2a1c5a;},'ZbTcR':_0x28a28b(0x665,0x50f,0x601,0x63d),'fuPgT':function(_0x5dd017,_0x40870f,_0x2da228){return _0x5dd017(_0x40870f,_0x2da228);}};return new Promise((_0x3a363b,_0x51ce05)=>{function _0x2d67ce(_0x2b8fea,_0x371a6a,_0x469c27,_0xc56e0b){return _0x28a28b(_0x2b8fea-0xa7,_0x371a6a-0x29,_0xc56e0b- -0x18c,_0x2b8fea);}const _0x48afb9={'tSzXG':function(_0x2e2ef3,_0x3e30bd){return _0x2e2ef3(_0x3e30bd);},'XuKnS':_0x5aca0c['jzanY'],'EhGlw':_0x2d67ce(0x524,0x65b,0x5b9,0x59f),'Unork':function(_0x10dc32){return _0x5aca0c['PSMmO'](_0x10dc32);},'aQVDh':_0x5aca0c['zpyag']};function _0x54a0f0(_0x29fb67,_0x20a827,_0x1dc0d6,_0x730e26){return _0x28a28b(_0x29fb67-0x15,_0x20a827-0x18f,_0x1dc0d6- -0x414,_0x730e26);}if(_0x5aca0c[_0x2d67ce(0x497,0x548,0x453,0x4bd)](_0x2d67ce(0x447,0x3c5,0x3eb,0x478),_0x5aca0c[_0x2d67ce(0x530,0x54d,0x5d3,0x550)])){const _0x7d6b72=generateRequestId(),_0x2bf74d=_0x2b4016[_0x54a0f0(0x2d3,0x193,0x20b,0x120)]||0x32ce+-0x8*0x8f2+-0xff22*-0x1;let _0x587b94=null;console[_0x2d67ce(0x495,0x44b,0x4bf,0x46d)](_0x2d67ce(0x5af,0x4f3,0x48b,0x551)+_0x54a0f0(0x23c,0x21c,0x2cf,0x295)+_0x54a0f0(0x1ba,0x255,0x1ac,0x1c8)+'ing\x20char\x20m'+_0x2d67ce(0x426,0x572,0x4b1,0x4a5)+'request\x20(I'+_0x54a0f0(0x356,0x325,0x269,0x192)+_0x7d6b72+')');const _0x140dd3=()=>{eventSource['removeList'+_0x145567(0x312,0x419,0x2dc,0x3b9)](eventNames[_0x4481c3(-0x10f,-0x1af,-0xfa,-0x182)+'ODIFY_RESP'+'ONSE'],_0x220266);function _0x145567(_0x2d6bed,_0x3efb04,_0x489107,_0x30c3dc){return _0x54a0f0(_0x2d6bed-0x38,_0x3efb04-0x175,_0x30c3dc-0xa4,_0x2d6bed);}function _0x4481c3(_0x45e73f,_0x511906,_0x5496c2,_0x732307){return _0x2d67ce(_0x511906,_0x511906-0x1a2,_0x5496c2-0xe4,_0x5496c2- -0x595);}_0x587b94&&(_0x48afb9[_0x4481c3(0x6b,0x38,-0x11,0x5)](clearTimeout,_0x587b94),_0x587b94=null);},_0x220266=_0x345184=>{function _0x551dd2(_0xab9ea2,_0x3023a0,_0x1b94f2,_0x457aee){return _0x2d67ce(_0x1b94f2,_0x3023a0-0x69,_0x1b94f2-0x15a,_0xab9ea2-0x54);}function _0x53a157(_0x5b5906,_0x5609e2,_0x5ad395,_0x49bfd){return _0x54a0f0(_0x5b5906-0x33,_0x5609e2-0x90,_0x5b5906-0x143,_0x49bfd);}if(_0x5aca0c['CNJLu'](_0x5aca0c['hGKTT'],_0x5aca0c[_0x53a157(0x451,0x4da,0x449,0x50f)])){const _0x3736cc={};_0x3736cc[_0x551dd2(0x468,0x3ec,0x51a,0x46e)]=_0x48afb9[_0x551dd2(0x588,0x52c,0x587,0x65c)],_0x3736cc['text']=_0x133233[_0x551dd2(0x48d,0x4ab,0x403,0x3af)],_0xe86a55[_0x551dd2(0x60a,0x5b7,0x544,0x572)](_0x3736cc);}else{if(_0x5aca0c[_0x53a157(0x476,0x55d,0x3e8,0x56a)](_0x345184['id'],_0x7d6b72))return;_0x140dd3();if(_0x345184['success']){if(_0x5aca0c[_0x551dd2(0x554,0x4ff,0x4af,0x4d4)](_0x5aca0c[_0x53a157(0x433,0x4ad,0x4cf,0x47b)],_0x5aca0c['gxzIn']))_0x3a363b(_0x345184[_0x53a157(0x430,0x3c0,0x4e3,0x3b2)]);else{if(_0x1c246c[_0x45239f]){const _0x10ed50=_0x1e2a86['getElement'+_0x551dd2(0x491,0x525,0x4d6,0x418)](_0x551dd2(0x519,0x53c,0x4ea,0x49f)+_0x4bb548);_0x10ed50&&(_0x10ed50[_0x551dd2(0x4a4,0x3ef,0x554,0x581)]=_0x4d9e5f[_0x446c4f],_0x3bb336(_0x10ed50)[_0x53a157(0x3c8,0x444,0x3bc,0x3ab)](_0x48afb9[_0x53a157(0x366,0x3c3,0x27c,0x3dd)]));}}}else _0x5aca0c['CVsqd'](_0x51ce05,new Error(_0x345184['result']||_0x53a157(0x37f,0x471,0x425,0x3e9)));}};eventSource['on'](eventNames[_0x54a0f0(0x180,0x2f9,0x213,0x1d8)+_0x2d67ce(0x398,0x40f,0x4b3,0x41d)+_0x54a0f0(0x1b0,0x121,0x1d9,0xf1)],_0x220266);const _0x10a0a2={};_0x10a0a2[_0x54a0f0(0x277,0x384,0x2d5,0x30b)]=_0xdb658f,_0x10a0a2['id']=_0x7d6b72,eventSource[_0x54a0f0(0xc9,0x24d,0x179,0xfd)](eventNames[_0x54a0f0(0x26c,0x195,0x213,0x177)+_0x54a0f0(0x22f,0x371,0x314,0x310)+_0x54a0f0(0x1d9,0x27b,0x289,0x28c)],_0x10a0a2),_0x587b94=_0x5aca0c['fuPgT'](setTimeout,()=>{function _0x1d331a(_0x229bc5,_0x109a7f,_0x396c4b,_0x1a0449){return _0x54a0f0(_0x229bc5-0x136,_0x109a7f-0xd7,_0x396c4b-0x173,_0x109a7f);}function _0x19d28d(_0x25e9fb,_0x4db3d3,_0x44131f,_0x33d982){return _0x54a0f0(_0x25e9fb-0x1a5,_0x4db3d3-0x142,_0x44131f-0x3e6,_0x25e9fb);}_0x48afb9['Unork'](_0x140dd3),_0x48afb9[_0x1d331a(0x479,0x3de,0x46f,0x499)](_0x51ce05,new Error(_0x48afb9[_0x19d28d(0x53b,0x5f5,0x5e9,0x50c)]));},_0x2bf74d);}else _0xe5a970?_0x39a5ab[_0x2d67ce(0x592,0x4cb,0x4e8,0x57d)+'fits']['push'](_0x464bee['data']):_0x124b80['push'](_0x13a795[_0x2d67ce(0x415,0x4c8,0x37e,0x3f1)]);});}function preprocessTagContent(_0x1691de){const _0x3866e6={};_0x3866e6[_0x20618b(0x95,0xd9,0xcb,0x15a)]=_0x5dca97(0x5e4,0x56e,0x526,0x554),_0x3866e6[_0x5dca97(0x4b5,0x59b,0x461,0x46e)]=_0x5dca97(0x5e6,0x65c,0x58d,0x6cd);const _0x2ec67a=_0x3866e6;function _0x5dca97(_0x201e61,_0x44468b,_0x3c0340,_0x4a6682){return _0x138a(_0x201e61-0x2b5,_0x4a6682);}let _0x1c7a91=_0x1691de[_0x5dca97(0x58a,0x577,0x598,0x510)](/:/g,':')[_0x20618b(0x5a,0x1e,0xf9,-0x50)](/,/g,',');_0x1c7a91=_0x1c7a91[_0x5dca97(0x58a,0x4a9,0x56e,0x642)](/下半身NSWebcam:/g,_0x2ec67a[_0x20618b(0x95,0x6c,-0x54,0xc6)]);function _0x20618b(_0x390345,_0x528f2c,_0x51de07,_0x1a4442){return _0x138a(_0x390345- -0x27b,_0x51de07);}return _0x1c7a91=_0x1c7a91[_0x5dca97(0x58a,0x51e,0x530,0x597)](/下半身NSFW_背面:/g,_0x5dca97(0x5e4,0x58b,0x6b6,0x5e3)),_0x1c7a91=_0x1c7a91[_0x5dca97(0x58a,0x53a,0x497,0x50d)](/上半身NSFW_背面:/g,_0x2ec67a[_0x20618b(-0x7b,-0x15e,-0x16d,0x62)]),_0x1c7a91;}function parseCharacterData(_0x1507b4){const _0xfc643b={'rxHIx':function(_0x3a6618,_0x584f9b){return _0x3a6618!==_0x584f9b;},'reMYG':function(_0x22b7a5,_0x4afc36){return _0x22b7a5(_0x4afc36);},'ifRMF':function(_0x301252){return _0x301252();},'KjIYx':function(_0x21f183,_0x43c686,_0x350acf){return _0x21f183(_0x43c686,_0x350acf);},'DvqCS':'nameCN','NjfRF':_0x281be5(0x447,0x510,0x4d3,0x4d5),'FPVao':_0x281be5(0x53e,0x4fd,0x584,0x54e)+'raits','kgqmk':_0x28775a(-0x38,0x16,0x64,0xcc)+'ures','twrRJ':_0x281be5(0x387,0x466,0x3c4,0x395)+_0x281be5(0x420,0x400,0x3cc,0x43c),'PdjGL':_0x28775a(0x9a,0xa1,0xac,0x0)+_0x28775a(0x153,0x199,0x1ea,0x168),'vOfaT':_0x281be5(0x4ca,0x345,0x430,0x40a)+_0x281be5(0x2f6,0x3a8,0x40a,0x3a1),'mrWRZ':'upperBodyN'+_0x28775a(0x11f,0x2,0x7c,-0x45),'naOAp':_0x28775a(0x106,0x2e,0x9c,0x69)+'SFWBack','zgnbl':_0x281be5(0x45d,0x4e2,0x473,0x4e0)+'FW','fzKVZ':_0x28775a(0x18e,0x174,0x1af,0x148)+'FWBack','NofUM':function(_0x36d749,_0x51d398){return _0x36d749===_0x51d398;},'fyyHA':function(_0x85aa96,_0x575f45){return _0x85aa96+_0x575f45;},'JVlCb':function(_0x59e7d3,_0x2467e1){return _0x59e7d3&&_0x2467e1;},'qglBt':'BpjMp'},_0xb4f403=_0x1507b4['split']('\x0a')[_0x281be5(0x2ff,0x3e7,0x407,0x3b6)](_0x22a849=>_0x22a849['trim']())['filter'](_0x264a13=>_0x264a13),_0x2e4c77={};_0x2e4c77[_0x28775a(0x21c,0x163,0x145,0x227)]='',_0x2e4c77['nameEN']='',_0x2e4c77['characterT'+_0x28775a(0x124,0xaf,0x19c,0x18d)]='',_0x2e4c77[_0x28775a(0x10c,-0x85,0x64,-0x68)+_0x28775a(0x7f,0x153,0x69,0x7b)]='',_0x2e4c77['facialFeat'+_0x281be5(0x372,0x45e,0x4d0,0x43c)]='',_0x2e4c77[_0x281be5(0x4af,0x391,0x35b,0x3dd)+'FW']='',_0x2e4c77['upperBodyS'+_0x281be5(0x605,0x46d,0x468,0x51b)]='',_0x2e4c77['fullBodySF'+'W']='',_0x2e4c77[_0x281be5(0x418,0x379,0x4a7,0x40a)+_0x281be5(0x48f,0x2ed,0x2c0,0x3a1)]='',_0x2e4c77[_0x281be5(0x496,0x475,0x31b,0x3cd)+_0x28775a(0xb7,0x20,0x7c,-0x1d)]='',_0x2e4c77[_0x281be5(0x4bd,0x30d,0x329,0x3cd)+_0x281be5(0x311,0x4db,0x438,0x403)]='',_0x2e4c77[_0x281be5(0x4bc,0x5ac,0x544,0x4e0)+'FW']='',_0x2e4c77['fullBodyNS'+'FWBack']='';const _0x40b394=_0x2e4c77,_0x178bcf={};function _0x28775a(_0x2696af,_0x76ee6c,_0x14d407,_0x2124d1){return _0x138a(_0x14d407- -0x130,_0x76ee6c);}_0x178bcf[_0x281be5(0x5ba,0x50a,0x472,0x4f5)]=_0xfc643b['DvqCS'],_0x178bcf[_0x281be5(0x3bc,0x4ff,0x3d6,0x445)]=_0xfc643b[_0x28775a(0xb4,0x9,0xe1,-0x10)],_0x178bcf[_0x281be5(0x4a7,0x4a6,0x5fa,0x50f)]=_0xfc643b[_0x28775a(-0x35,0x2,0xb1,0xda)],_0x178bcf[_0x281be5(0x50f,0x388,0x47f,0x46c)]=_0xfc643b[_0x281be5(0x5d2,0x4ee,0x65e,0x56e)],_0x178bcf[_0x28775a(0x3e,0xf5,0x120,0x17e)]=_0xfc643b[_0x281be5(0x352,0x44d,0x3b3,0x3a0)],_0x178bcf[_0x281be5(0x493,0x4e9,0x539,0x561)]='upperBodyS'+'FW',_0x178bcf[_0x281be5(0x541,0x654,0x4d5,0x569)]=_0xfc643b['PdjGL'],_0x178bcf[_0x28775a(0x206,0x1f1,0x248,0x250)]='fullBodySF'+'W';function _0x281be5(_0x11104a,_0x78dd7b,_0x3071a1,_0x130ae8){return _0x138a(_0x130ae8-0x201,_0x3071a1);}_0x178bcf[_0x281be5(0x50b,0x477,0x49f,0x466)]=_0xfc643b['vOfaT'],_0x178bcf['上半身NSFW']=_0xfc643b[_0x281be5(0x573,0x4c0,0x533,0x4ae)],_0x178bcf[_0x281be5(0x481,0x421,0x473,0x3c1)]=_0xfc643b[_0x281be5(0x56f,0x544,0x4e2,0x4b9)],_0x178bcf[_0x281be5(0x41c,0x450,0x376,0x3df)]=_0xfc643b[_0x28775a(0x8,0x36,0x8a,0x158)],_0x178bcf['下半身NSFW背面']=_0xfc643b[_0x28775a(0x1d2,0x20e,0x157,0x70)];const _0x391400=_0x178bcf;for(const _0xedbb25 of _0xb4f403){const _0x405237=_0xedbb25[_0x28775a(0x143,0x24a,0x232,0x158)](':');if(_0xfc643b[_0x281be5(0x3a6,0x2f0,0x3a6,0x3ac)](_0x405237,-(0x106+0x1577+-0x167c)))continue;const _0x5c4bfb=_0xedbb25[_0x281be5(0x50c,0x40b,0x419,0x491)](0x57d+-0x2b*-0xc3+-0x263e,_0x405237)[_0x281be5(0x52f,0x5c5,0x560,0x551)](),_0x3b68b=_0xedbb25[_0x28775a(0x172,0x1a3,0x160,0x9a)](_0xfc643b[_0x281be5(0x35c,0x2e6,0x45d,0x399)](_0x405237,0x1*-0x1c19+-0xf15+0xa5*0x43))[_0x281be5(0x46d,0x553,0x5b0,0x551)]();if(_0x391400[_0x5c4bfb])_0x40b394[_0x391400[_0x5c4bfb]]=_0x3b68b;else _0xfc643b['JVlCb'](_0x5c4bfb,_0x3b68b)&&console[_0x28775a(0xc1,0x86,0xf3,0xe7)](_0x28775a(0x151,0x24d,0x1d7,0x192)+_0x28775a(0x2bb,0xfd,0x1dd,0x25a)+_0x28775a(0xe8,0x119,0xd4,0x60)+'字段\x20\x22'+_0x5c4bfb+'\x22');}if(!_0x40b394['nameCN'])return _0xfc643b[_0x281be5(0x494,0x512,0x650,0x57a)](_0xfc643b[_0x28775a(0x15f,0x9a,0x115,0x9c)],_0x281be5(0x5d9,0x4e0,0x5a9,0x4f8))?null:new _0x2bcd5a((_0x4f74d0,_0x2fc73c)=>{function _0x4cc019(_0x43fc12,_0x34c4cb,_0x6604ca,_0x3e82e8){return _0x28775a(_0x43fc12-0x12,_0x3e82e8,_0x43fc12-0x241,_0x3e82e8-0xc);}const _0x531014={'gpIwj':function(_0x345478,_0x235235){function _0xb1ab90(_0x20fcc6,_0x30a9ff,_0x2bae99,_0x389425){return _0x138a(_0x2bae99- -0x12,_0x389425);}return _0xfc643b[_0xb1ab90(0x398,0x28a,0x367,0x2ca)](_0x345478,_0x235235);},'ZYhPB':function(_0x65448b,_0x40dfb4){function _0x30738b(_0x50a928,_0x4acd3c,_0x4f1da6,_0xf9f8dc){return _0x138a(_0xf9f8dc- -0x52,_0x50a928);}return _0xfc643b[_0x30738b(0x289,0x348,0x1cf,0x28b)](_0x65448b,_0x40dfb4);}},_0xc502a8=_0xfc643b[_0xca04c0(0x156,0xd6,0x15d,0x1cf)](_0x1a3d2e);_0x43158b['log'](_0x4cc019(0x418,0x3e1,0x418,0x32f)+_0x4cc019(0x41e,0x355,0x355,0x477)+_0xca04c0(0x1a5,0xa2,0x18f,0xa3)+_0xca04c0(0x212,0x165,0x1b0,0x200)+_0x4cc019(0x3e0,0x463,0x460,0x38b)+_0x4cc019(0x477,0x541,0x4cc,0x3c6)+_0xc502a8+')');const _0x37d60a=_0x209366=>{function _0x16fce2(_0x1781c8,_0x212796,_0x1a89c7,_0x55ed3){return _0x4cc019(_0x1a89c7-0xc8,_0x212796-0x77,_0x1a89c7-0x184,_0x212796);}if(_0x531014[_0xace27c(0x4ad,0x537,0x563,0x500)](_0x209366['id'],_0xc502a8))return;function _0xace27c(_0x12738b,_0xee45f7,_0x5c4f3d,_0xfd2112){return _0x4cc019(_0x12738b-0x2c,_0xee45f7-0x19c,_0x5c4f3d-0xee,_0xfd2112);}_0x30df53[_0x16fce2(0x49b,0x544,0x535,0x45a)+'ener'](_0x5bf577[_0x16fce2(0x505,0x36d,0x42a,0x34e)+'ODIFY_GET_'+_0x16fce2(0x44d,0x53c,0x519,0x581)+_0x16fce2(0x4f6,0x5bb,0x4e5,0x475)],_0x37d60a),_0x531014[_0x16fce2(0x406,0x460,0x3c0,0x390)](_0x4f74d0,_0x209366[_0x16fce2(0x561,0x583,0x4ec,0x536)]);};function _0xca04c0(_0x3a3911,_0x21e82f,_0x2cd80f,_0x1d4cd2){return _0x28775a(_0x3a3911-0x18e,_0x1d4cd2,_0x2cd80f-0x29,_0x1d4cd2-0x1d5);}_0xbad3ac['on'](_0x376ca4[_0x4cc019(0x362,0x3d0,0x3af,0x33c)+'ODIFY_GET_'+'PROMPT_RES'+_0xca04c0(0x168,0x1a2,0x205,0x28a)],_0x37d60a);const _0x3eab73={};_0x3eab73['id']=_0xc502a8,_0x2e675f[_0xca04c0(0x57,0x6a,0xb0,0x100)](_0x328e5c['LLM_CHAR_M'+'ODIFY_GET_'+_0x4cc019(0x388,0x32b,0x37d,0x337)+_0xca04c0(0x289,0x1d1,0x25a,0x196)],_0x3eab73),_0xfc643b['KjIYx'](_0xfed8ab,()=>{_0x3e766e[_0x187eb4(0x151,0x17f,0x31e,0x237)+_0x187eb4(0x24f,0x30b,0x20a,0x22e)](_0x2b1c3c[_0x187eb4(0x12e,0x62,0x1af,0x12c)+_0x187eb4(0x116,0x21a,0x20a,0x1b5)+_0x23fde5(0x3d4,0x397,0x2f2,0x3c5)+_0x23fde5(0x43b,0x363,0x2ed,0x2c2)],_0x37d60a);function _0x187eb4(_0x20b99c,_0x3673b6,_0x28215a,_0x74c5b1){return _0xca04c0(_0x20b99c-0x2,_0x3673b6-0x30,_0x74c5b1- -0x1e,_0x3673b6);}function _0x23fde5(_0x2d865a,_0x1fba83,_0xebdf1b,_0x1a20e6){return _0x4cc019(_0x1fba83- -0xba,_0x1fba83-0xd2,_0xebdf1b-0x132,_0x1a20e6);}_0x531014['ZYhPB'](_0x2fc73c,new _0x2a1291('获取角色修改提示词超'+'时'));},-0x1c*0x218+-0xf*0x253+0x848d);});return console['log'](_0x281be5(0x57e,0x5d1,0x556,0x508)+'PromptModi'+_0x28775a(0x25c,0x1a3,0x1fd,0x155)+_0x28775a(0x25e,0x1e0,0x1c1,0x183),_0x40b394),_0x40b394;}function parseOutfitData(_0x31c344){const _0x468cba={};_0x468cba[_0x5dfcf3(-0xd,-0x39,-0xab,-0x69)]=_0x5aff4d(0x31c,0x3d2,0x34c,0x398),_0x468cba[_0x5aff4d(0x467,0x5b6,0x445,0x4e5)]=_0x5dfcf3(-0x46,0x57,0x2d,0x2a),_0x468cba[_0x5aff4d(0x28f,0x26e,0x2aa,0x334)]=_0x5aff4d(0x39d,0x4f2,0x42a,0x44a),_0x468cba['JUray']=_0x5aff4d(0x4aa,0x45a,0x519,0x428)+_0x5aff4d(0x40e,0x395,0x23b,0x31c),_0x468cba['Tgisg']=_0x5aff4d(0x420,0x31c,0x3cf,0x3a2),_0x468cba['YNnmh']=_0x5dfcf3(0x7d,0x7c,0xb6,0x48)+'ck',_0x468cba[_0x5aff4d(0x433,0x41a,0x4de,0x4af)]=function(_0x3ff768,_0x592288){return _0x3ff768===_0x592288;};function _0x5dfcf3(_0x13bf7,_0x5d5422,_0x5b87ba,_0x26e17d){return _0x138a(_0x26e17d- -0x24b,_0x13bf7);}_0x468cba[_0x5dfcf3(0x130,0x24,0x4f,0xdd)]=function(_0x126f08,_0x46fd39){return _0x126f08+_0x46fd39;},_0x468cba['EbTLI']=_0x5aff4d(0x45e,0x513,0x504,0x4b9),_0x468cba[_0x5aff4d(0x37d,0x469,0x3bc,0x39c)]=function(_0x18c8a8,_0x226304){return _0x18c8a8&&_0x226304;},_0x468cba[_0x5dfcf3(0xe5,0x40,0x3f,0xea)]=function(_0x12cee6,_0x5727a3){return _0x12cee6!==_0x5727a3;},_0x468cba[_0x5aff4d(0x4c4,0x541,0x478,0x45a)]=_0x5aff4d(0x3d4,0x477,0x37f,0x3a9),_0x468cba['WKDtB']=function(_0x34a631,_0x3fe373){return _0x34a631===_0x3fe373;},_0x468cba[_0x5aff4d(0x480,0x32e,0x37a,0x40b)]=_0x5aff4d(0x4c8,0x4bf,0x463,0x430),_0x468cba[_0x5dfcf3(0x3a,0xb5,0xd9,0xd7)]=_0x5dfcf3(-0xa8,-0xbe,-0xe,-0xb0),_0x468cba['flUqS']=_0x5aff4d(0x500,0x551,0x494,0x47d)+_0x5aff4d(0x548,0x3bb,0x3a3,0x483)+_0x5aff4d(0x3d8,0x2ca,0x43e,0x38f)+'数据:';const _0x509d5f=_0x468cba,_0x5c5a7b=_0x31c344[_0x5dfcf3(0x30,0x72,0x1a1,0x112)]('\x0a')[_0x5dfcf3(-0x94,-0x54,-0x161,-0x96)](_0x13f895=>_0x13f895[_0x5aff4d(0x4c6,0x5ab,0x3f0,0x4c6)]())['filter'](_0x17556b=>_0x17556b),_0x184018={};_0x184018[_0x5aff4d(0x355,0x3b2,0x4c6,0x3eb)]='',_0x184018[_0x5dfcf3(-0x43,0x79,0xa1,0x89)]='',_0x184018[_0x5aff4d(0x307,0x3ec,0x302,0x398)]='',_0x184018['upperBody']='',_0x184018[_0x5dfcf3(0x12a,0x50,-0x77,0x67)+'ack']='';function _0x5aff4d(_0x34502d,_0x231b86,_0x1d7ba6,_0x24629d){return _0x138a(_0x24629d-0x176,_0x34502d);}_0x184018['fullBody']='',_0x184018[_0x5dfcf3(0x13,0x5d,0xf8,0x48)+'ck']='';const _0x214b60=_0x184018,_0x17a0b2={};_0x17a0b2[_0x5aff4d(0x43e,0x4a6,0x39d,0x42a)]=_0x509d5f[_0x5aff4d(0x429,0x419,0x279,0x358)],_0x17a0b2['中文名称']=_0x509d5f[_0x5dfcf3(0x62,0xc3,0xcd,0x124)],_0x17a0b2[_0x5aff4d(0x2fc,0x41a,0x2ef,0x3ba)]=_0x509d5f[_0x5dfcf3(-0x12d,-0x81,-0x49,-0x8d)],_0x17a0b2['上半身']=_0x5dfcf3(-0x5b,-0x2c,0xfd,0x77),_0x17a0b2[_0x5aff4d(0x4aa,0x49a,0x48c,0x492)]=_0x509d5f[_0x5dfcf3(-0xd2,-0xd4,-0x139,-0x8e)],_0x17a0b2[_0x5dfcf3(0x6c,-0xb0,-0x40,-0x2b)]=_0x509d5f[_0x5aff4d(0x3d7,0x434,0x3d7,0x3b6)],_0x17a0b2[_0x5aff4d(0x509,0x3ce,0x531,0x496)]=_0x509d5f[_0x5dfcf3(0x40,0x12e,0xaa,0x93)];const _0x372a3c=_0x17a0b2;for(const _0x5385ba of _0x5c5a7b){const _0x3057c9=_0x5385ba[_0x5aff4d(0x5a8,0x43d,0x533,0x4d8)](':');if(_0x509d5f['zuvAB'](_0x3057c9,-(-0x7e+-0x92*0x43+0x3*0xce7)))continue;const _0x3b1e6d=_0x5385ba['substring'](-0x1f51*0x1+0xead*0x1+0x3c*0x47,_0x3057c9)[_0x5aff4d(0x520,0x559,0x406,0x4c6)](),_0x95ecd7=_0x5385ba[_0x5dfcf3(-0x8d,0xe4,0x4c,0x45)](_0x509d5f[_0x5aff4d(0x4ec,0x55d,0x3df,0x49e)](_0x3057c9,0x122b+-0x1d6+-0x14*0xd1))[_0x5dfcf3(0x191,0x15e,0x16d,0x105)]();if(_0x372a3c[_0x3b1e6d])_0x509d5f[_0x5dfcf3(0x1af,0x87,0x2e,0xee)](_0x509d5f[_0x5dfcf3(-0x10d,0x4c,0x4e,-0x92)],_0x509d5f['EbTLI'])?_0x214b60[_0x372a3c[_0x3b1e6d]]=_0x95ecd7:_0x1a0731[_0x5dfcf3(0x138,0x173,0xd1,0xa5)+_0x5dfcf3(0x173,0x18f,0x113,0xa3)]={};else _0x509d5f[_0x5aff4d(0x351,0x3ca,0x401,0x39c)](_0x3b1e6d,_0x95ecd7)&&(_0x509d5f[_0x5dfcf3(0x2a,0x91,0x46,0xea)](_0x509d5f[_0x5dfcf3(0x130,0x5c,-0x46,0x99)],_0x509d5f['gPNhI'])?_0x45201f[_0x5aff4d(0x4ea,0x412,0x587,0x4a9)+_0x5dfcf3(0x11c,-0x17,0x3d,0xdc)]['push'](_0x324d45['data']):console[_0x5dfcf3(0xa4,-0x7c,0x7f,-0x28)]('[character'+_0x5dfcf3(0xb0,0x145,0x103,0xc2)+'fy]\x20未识别的服装'+'字段\x20\x22'+_0x3b1e6d+'\x22'));}if(!_0x214b60['nameCN']){if(_0x509d5f[_0x5aff4d(0x41f,0x545,0x4fe,0x471)](_0x509d5f[_0x5dfcf3(0x1a,-0x2f,-0x33,0x4a)],_0x509d5f[_0x5dfcf3(0xb5,0x3f,0x40,0xd7)]))_0x305cf4++;else return null;}return console[_0x5aff4d(0x320,0x445,0x3d0,0x399)](_0x509d5f[_0x5aff4d(0x48c,0x4d8,0x497,0x4eb)],_0x214b60),_0x214b60;}function extractCharacterAndOutfitTags(_0x1f0ea4){function _0x41500b(_0x5941ca,_0x4d6d52,_0x10e73f,_0x27f4c4){return _0x138a(_0x4d6d52-0x3a9,_0x27f4c4);}const _0x39a31e={'udzUF':function(_0x7d189,_0x3d124e){return _0x7d189!==_0x3d124e;},'HRoNL':function(_0x360742,_0x2cb695){return _0x360742(_0x2cb695);},'pCXcg':function(_0x11a695,_0x1965eb){return _0x11a695(_0x1965eb);},'MBHsx':_0x41500b(0x7c7,0x6d3,0x755,0x64f),'lxiUL':_0x2d2369(0x2f8,0x345,0x3ed,0x394),'sqbmd':function(_0x5e4732,_0x1d920e){return _0x5e4732===_0x1d920e;},'rBNfn':function(_0x3c2065,_0xbcb976){return _0x3c2065!==_0xbcb976;},'pEmfk':_0x41500b(0x480,0x56c,0x5f8,0x4ff),'DXYeh':function(_0x3175bc,_0x6d7aba){return _0x3175bc!==_0x6d7aba;},'zvmhr':_0x2d2369(0x374,0x353,0x3e0,0x4c8),'sJaGa':'character','URLdc':function(_0xb7fc2a,_0x253022){return _0xb7fc2a!==_0x253022;},'yNGsP':_0x2d2369(0x2e3,0x34d,0x306,0x28a),'yOhgy':_0x41500b(0x4bf,0x547,0x594,0x5a1),'zuZUP':function(_0x54fbe6,_0x381735){return _0x54fbe6===_0x381735;},'abHmE':function(_0x321d73,_0x2645f3){return _0x321d73!==_0x2645f3;},'UCHjk':_0x41500b(0x5b6,0x5a0,0x5de,0x4d9),'vmAiz':function(_0x22ac08,_0xd84f3d){return _0x22ac08===_0xd84f3d;}},_0xdc44b6=[];_0x1f0ea4=_0x1f0ea4[_0x2d2369(0x393,0x329,0x378,0x396)](/<thinking>[\s\S]*?<\/thinking>/gi,'')[_0x41500b(0x64e,0x6f9,0x7c0,0x759)]();function _0x2d2369(_0x169c0c,_0x35a895,_0x2c1655,_0x4027e8){return _0x138a(_0x2c1655-0xa3,_0x169c0c);}const _0x5c4b41=/<(人物|服装)>([\s\S]*?)<\/\1>/g;let _0x5cae5b;while((_0x5cae5b=_0x5c4b41['exec'](_0x1f0ea4))!==null){if(_0x39a31e[_0x2d2369(0x382,0x408,0x3c1,0x33b)](_0x2d2369(0x3d3,0x393,0x3ad,0x2c7),_0x39a31e[_0x2d2369(0x27c,0x39b,0x2cd,0x278)])){const _0x559648=_0x5cae5b[-0x1*-0x11b7+0x53*0x71+-0x3659],_0x51730c=preprocessTagContent(_0x5cae5b[0x75f+-0x1165+-0x3*-0x358]),_0x41ea51=_0x5cae5b[_0x41500b(0x589,0x5c6,0x542,0x53f)];if(_0x39a31e['sqbmd'](_0x559648,'人物')){if(_0x39a31e[_0x41500b(0x619,0x5b1,0x5a7,0x525)](_0x39a31e['pEmfk'],_0x39a31e['pEmfk']))_0x4e3057[_0x571de4]&&(_0x446ce7[_0x30464c]=_0x4fc2d9[_0x28dc20]);else{const _0x47db71=_0x39a31e[_0x2d2369(0x2d2,0x2c7,0x297,0x27d)](parseCharacterData,_0x51730c);if(_0x47db71){if(_0x39a31e[_0x41500b(0x5d6,0x5fe,0x6c3,0x50d)](_0x39a31e[_0x41500b(0x5b7,0x571,0x5ee,0x4ca)],_0x39a31e[_0x2d2369(0x219,0x21b,0x26b,0x276)]))_0x4b8d5a[_0x5bda32]&&_0x39a31e[_0x41500b(0x679,0x6c7,0x6a1,0x62e)](_0x9fd367[_0x3bea92],_0x106209[_0x42b73a])&&_0x34e432++;else{const _0x237352={};_0x237352['type']=_0x39a31e['sJaGa'],_0x237352[_0x41500b(0x5c3,0x550,0x4fc,0x605)]=_0x47db71,_0x237352[_0x2d2369(0x25a,0x2e9,0x31b,0x33a)]=_0x41ea51,_0x237352['matchedOut'+_0x41500b(0x699,0x6d0,0x6c3,0x6f3)]=[],_0xdc44b6[_0x2d2369(0x3f8,0x4ca,0x40f,0x32c)](_0x237352);}}}}else{if(_0x39a31e[_0x2d2369(0x2a4,0x263,0x2f2,0x263)](_0x559648,'服装')){if(_0x39a31e[_0x2d2369(0x21a,0x21e,0x287,0x19b)](_0x39a31e[_0x41500b(0x613,0x57f,0x540,0x665)],_0x39a31e[_0x2d2369(0x1c3,0x279,0x279,0x204)]))_0x39a31e['HRoNL'](_0x5e658f,_0x1e36d6);else{const _0x3ac3a7=parseOutfitData(_0x51730c);if(_0x3ac3a7){const _0x5d2b1f={};_0x5d2b1f[_0x41500b(0x599,0x573,0x5e7,0x579)]=_0x39a31e['MBHsx'],_0x5d2b1f[_0x41500b(0x5a1,0x550,0x47b,0x50f)]=_0x3ac3a7,_0x5d2b1f[_0x41500b(0x568,0x621,0x5ec,0x6bc)]=_0x41ea51,_0xdc44b6['push'](_0x5d2b1f);}}}}}else _0x3c1f99[_0x41500b(0x5f5,0x67f,0x678,0x76a)]=[];}_0xdc44b6[_0x41500b(0x5aa,0x674,0x5b9,0x6f9)]((_0x3c0240,_0x477e5e)=>_0x3c0240[_0x41500b(0x669,0x621,0x5e3,0x6a9)]-_0x477e5e['position']);let _0x511eea=null;const _0x7eb7cd=[],_0x22d974=[];for(const _0x54fca9 of _0xdc44b6){if(_0x39a31e[_0x41500b(0x64e,0x5f8,0x6e0,0x565)](_0x2d2369(0x1e3,0x2fa,0x241,0x2b4),_0x39a31e[_0x41500b(0x6bd,0x690,0x6a8,0x69c)])){if(_0x39a31e[_0x2d2369(0x474,0x3c5,0x3c0,0x38f)](_0x54fca9[_0x2d2369(0x2eb,0x23b,0x26d,0x223)],'character'))_0x39a31e[_0x41500b(0x6c7,0x627,0x565,0x6bc)](_0x39a31e['UCHjk'],_0x2d2369(0x2ef,0x399,0x3bb,0x33a))?(_0x511eea=_0x54fca9,_0x7eb7cd[_0x41500b(0x80a,0x715,0x706,0x665)](_0x54fca9)):_0x37c0cb[_0x2d2369(0x403,0x3ff,0x40f,0x4a4)](..._0xea2ccb['matchedOut'+'fits']);else _0x39a31e[_0x2d2369(0x38a,0x210,0x2fd,0x263)](_0x54fca9['type'],_0x39a31e[_0x41500b(0x72a,0x6ca,0x722,0x67a)])&&(_0x511eea?_0x511eea[_0x41500b(0x5ff,0x6dc,0x747,0x6d5)+'fits'][_0x2d2369(0x373,0x44c,0x40f,0x47f)](_0x54fca9[_0x2d2369(0x215,0x1a4,0x24a,0x1e9)]):_0x22d974[_0x41500b(0x7b4,0x715,0x70a,0x7bb)](_0x54fca9['data']));}else{const _0x2d20be=_0x39a31e['pCXcg'](_0x36dadb,_0x10a1e8);if(_0x2d20be){const _0x3c9b5d={};_0x3c9b5d[_0x41500b(0x603,0x573,0x5fb,0x5fb)]=_0x39a31e[_0x41500b(0x6e6,0x6ca,0x697,0x6db)],_0x3c9b5d[_0x2d2369(0x285,0x16a,0x24a,0x32c)]=_0x2d20be,_0x3c9b5d[_0x2d2369(0x310,0x327,0x31b,0x3aa)]=_0x2d3ed2,_0xae6d63[_0x2d2369(0x3b7,0x32b,0x40f,0x3da)](_0x3c9b5d);}}}return{'characters':_0x7eb7cd['map'](_0x405e61=>({..._0x405e61['data'],'matchedOutfits':_0x405e61['matchedOut'+_0x41500b(0x74b,0x6d0,0x619,0x766)]})),'outfits':_0x22d974};}function getCurrentCharacterPreset(){function _0x1310d4(_0x1bc1fc,_0x2d4424,_0x50830a,_0x567c1c){return _0x138a(_0x2d4424- -0x312,_0x50830a);}const _0x3a4624=extension_settings[extensionName],_0x47b68f=_0x3a4624[_0x1310d4(0x83,-0x23,-0xb4,0x64)+_0x1310d4(0x95,0x46,-0x84,0xab)];if(!_0x47b68f||!_0x3a4624[_0x120a96(0x6d5,0x537,0x614,0x599)+_0x120a96(0x5b6,0x559,0x4d2,0x484)][_0x47b68f])return null;const _0x224e32={};_0x224e32['id']=_0x47b68f,_0x224e32[_0x120a96(0x4ec,0x473,0x4cc,0x4fb)]=_0x3a4624[_0x1310d4(-0x5f,-0x23,0xbc,0x66)+_0x1310d4(-0xd8,-0x165,-0x23b,-0xea)][_0x47b68f];function _0x120a96(_0x35532c,_0x1ff9f0,_0x39d9bc,_0x4421fe){return _0x138a(_0x39d9bc-0x325,_0x35532c);}return _0x224e32;}function _0x138a(_0xcf9db0,_0x3561b3){_0xcf9db0=_0xcf9db0-(-0x1a1c+0x1c76+-0x2*0x65);const _0x5c582d=_0x1a32();let _0x4ec093=_0x5c582d[_0xcf9db0];if(_0x138a['lrRbcZ']===undefined){var _0xd47f6c=function(_0x154acb){const _0x3faa15='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4d6354='',_0x88df9e='',_0x48f508=_0x4d6354+_0xd47f6c;for(let _0x2c652f=-0x1710+0x1*0x1d83+0xd*-0x7f,_0x28006b,_0x385b39,_0x31c5f2=0xec*-0xe+-0x184b+0x2533;_0x385b39=_0x154acb['charAt'](_0x31c5f2++);~_0x385b39&&(_0x28006b=_0x2c652f%(-0x57*-0x11+0x1e52+-0x1*0x2415)?_0x28006b*(-0x19*0x4f+0x1248+0x1*-0xa51)+_0x385b39:_0x385b39,_0x2c652f++%(0x1390+-0x1*0x16eb+0x35f))?_0x4d6354+=_0x48f508['charCodeAt'](_0x31c5f2+(-0x1*0x1709+0x2*0xe17+-0x51b*0x1))-(-0x288*0x1+0xc9b+-0xa09)!==-0xb*0x157+-0x51*0x72+-0x1*-0x32cf?String['fromCharCode'](-0x115c+0x554+-0xd07*-0x1&_0x28006b>>(-(-0x9c+0x1ec8+-0x507*0x6)*_0x2c652f&0x4c4+-0x26*0xe4+0x1d1a)):_0x2c652f:-0x1653+-0x265b+0x2*0x1e57){_0x385b39=_0x3faa15['indexOf'](_0x385b39);}for(let _0x413d6c=0x204+0x5*-0x679+0x1e59,_0x16b5d8=_0x4d6354['length'];_0x413d6c<_0x16b5d8;_0x413d6c++){_0x88df9e+='%'+('00'+_0x4d6354['charCodeAt'](_0x413d6c)['toString'](0x2de+-0x2*0x20b+0x148))['slice'](-(0x402*0x9+0x22ef+-0x46ff));}return decodeURIComponent(_0x88df9e);};_0x138a['vgRPXB']=_0xd47f6c,_0x138a['ddwNyK']={},_0x138a['lrRbcZ']=!![];}const _0x5acf78=_0x5c582d[-0x15b5+0x2388+-0xdd3],_0x40ecf7=_0xcf9db0+_0x5acf78,_0x53c495=_0x138a['ddwNyK'][_0x40ecf7];if(!_0x53c495){const _0x218bb2=function(_0x2860d9){this['kJdZGn']=_0x2860d9,this['zhvgJl']=[0x4a9*-0x3+-0x1*0x7dc+-0x3*-0x748,0x903+0x233*-0x3+-0x26a,-0x17*-0xfe+-0x1*-0x1d23+-0x33f5],this['jKbvSg']=function(){return'newState';},this['zbpqWE']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['sshPAk']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x218bb2['prototype']['tFfYQB']=function(){const _0x25b47c=new RegExp(this['zbpqWE']+this['sshPAk']),_0x10963c=_0x25b47c['test'](this['jKbvSg']['toString']())?--this['zhvgJl'][0x1ad9*-0x1+0x107d+0xa5d]:--this['zhvgJl'][-0x1*-0x177d+0x27f+0x2*-0xcfe];return this['LqosXW'](_0x10963c);},_0x218bb2['prototype']['LqosXW']=function(_0x4a6174){if(!Boolean(~_0x4a6174))return _0x4a6174;return this['jrbPoQ'](this['kJdZGn']);},_0x218bb2['prototype']['jrbPoQ']=function(_0x54971f){for(let _0x436d77=0x3*0x6d9+0x3b5*0x7+-0x2e7e,_0x34f8f5=this['zhvgJl']['length'];_0x436d77<_0x34f8f5;_0x436d77++){this['zhvgJl']['push'](Math['round'](Math['random']())),_0x34f8f5=this['zhvgJl']['length'];}return _0x54971f(this['zhvgJl'][0x1a16+0xdea+-0x2800]);},new _0x218bb2(_0x138a)['tFfYQB'](),_0x4ec093=_0x138a['vgRPXB'](_0x4ec093),_0x138a['ddwNyK'][_0x40ecf7]=_0x4ec093;}else _0x4ec093=_0x53c495;return _0x4ec093;}function buildCharacterText(_0x23e0e2){const _0x3d1c13={};_0x3d1c13[_0x5b145b(0x4bd,0x553,0x58e,0x46d)]=_0x5b145b(0x515,0x4e2,0x3f2,0x5bf),_0x3d1c13[_0x14e693(0x11b,0x1b4,0x6f,0xa7)]='</人物>';const _0x302279=_0x3d1c13,_0x23c9a9=_0x23e0e2[_0x5b145b(0x494,0x491,0x4e3,0x544)];let _0x102056=_0x302279[_0x5b145b(0x545,0x553,0x643,0x47c)];_0x102056+=_0x14e693(0x86,0x19,0x17a,-0x32)+(_0x23c9a9[_0x5b145b(0x59f,0x55f,0x5ca,0x4ae)]||'')+'\x0a',_0x102056+=_0x14e693(0x3e,-0xa4,0x79,0xf7)+(_0x23c9a9[_0x5b145b(0x5f8,0x5be,0x5d0,0x5b7)]||'')+'\x0a',_0x102056+=_0x5b145b(0x3fd,0x4c7,0x4d6,0x3e3)+(_0x23c9a9['characterT'+_0x5b145b(0x5f9,0x5b6,0x58a,0x69c)]||'')+'\x0a',_0x102056+=_0x5b145b(0x5cf,0x5a9,0x66d,0x535)+(_0x23c9a9[_0x5b145b(0x413,0x47e,0x54e,0x55c)+_0x14e693(0x44,0xf8,-0x3e,-0x61)]||'')+'\x0a',_0x102056+='五官外貌背面:\x20'+(_0x23c9a9[_0x5b145b(0x4fe,0x47e,0x4af,0x3d3)+_0x5b145b(0x539,0x525,0x435,0x452)]||'')+'\x0a',_0x102056+=_0x14e693(0x14e,0x121,0xe0,0x76)+(_0x23c9a9[_0x5b145b(0x5a8,0x4c6,0x58c,0x4e3)+'FW']||'')+'\x0a',_0x102056+=_0x14e693(0x7c,0x13e,0x6c,0x79)+(_0x23c9a9[_0x14e693(0x87,-0x3,0x76,0x129)+_0x5b145b(0x57d,0x604,0x580,0x5ab)]||'')+'\x0a',_0x102056+=_0x5b145b(0x598,0x593,0x600,0x57e)+(_0x23c9a9['fullBodySF'+'W']||'')+'\x0a',_0x102056+='下半身SFW背面:\x20'+(_0x23c9a9[_0x5b145b(0x495,0x4f3,0x4ee,0x4b3)+_0x5b145b(0x535,0x48a,0x57f,0x416)]||'')+'\x0a',_0x102056+=_0x5b145b(0x5cc,0x58e,0x55e,0x5c0)+(_0x23c9a9[_0x14e693(0x77,0xef,-0x21,0x10c)+_0x14e693(0x57,0xe2,0x143,0x88)]||'')+'\x0a';function _0x14e693(_0x542bc4,_0xcf8aa,_0x3ab8a7,_0x366e22){return _0x138a(_0x542bc4- -0x155,_0x3ab8a7);}_0x102056+=_0x14e693(0x1dc,0x1e0,0x174,0x2a7)+'\x20'+(_0x23c9a9['upperBodyN'+_0x5b145b(0x4e8,0x4ec,0x4ec,0x519)]||'')+'\x0a';function _0x5b145b(_0x1cf685,_0x21a457,_0x54219f,_0x128247){return _0x138a(_0x21a457-0x2ea,_0x54219f);}return _0x102056+=_0x14e693(0x16f,0xc7,0x200,0x109)+(_0x23c9a9['fullBodyNS'+'FW']||'')+'\x0a',_0x102056+=_0x14e693(0x1da,0x2a4,0x205,0x2a8)+'\x20'+(_0x23c9a9[_0x14e693(0x18a,0xb2,0x121,0x1fc)+_0x14e693(0x1c5,0x299,0x27c,0x24f)]||'')+'\x0a',_0x102056+=_0x302279[_0x5b145b(0x4b8,0x55a,0x465,0x470)],_0x102056;}function _0x1a32(){const _0x5a8290=['zNLDiow3SUABToAwSoACJEIJHEMIHa','DxbWzxjcB2r5qG','sg11Cem','5B2s5BgE5lQ6','C29dEvK','u29SEMK','DgLUzYbJAgfYia','BMfpqxa','mZa2ntq5t3bHBxPr','BgPfELC','5lIk5y2k6lQRtLngvW','zM1pwNK','zvrXvLK','D3DcDfq','5lQu5A6y5Asw6lkmoIa','6i635y+w6kEs6iMY5l+U5Ps55O+q56s66k+n6lAf','C2L6zq','DxbWzxjcB2r5','DhjPz2DLCG','5lIl5y2k6lQRtLngvZOG','BgvUz3rO','v29YBgrcB29R','rvnu','DxjS','BLbcD1q','5Rgc6lAf5PE2','C29YDa','CMfPDhm','Aw5MBW','zLD2q1i','Bw9KAwz5ihbYBW','zxH0icH0CMLNzW','5Qoa5Rwl5yIW6kEs6iMY5OIw5PYn6kof5Qch562+','B2XRBNG','l3bUzZTIyxnLnG','BMfTzuvo','CMvWBgfJzq','B3v0zML0CW','AM9PBG','CMfJDgvYl291Da','txvgB1u','t0rjrLLFr0vuxW','iIZMMk/LKkBLVzxLHAu/','zxjYB3i','CMvnwuC','wu5UBwG','zNvSBejVzhLouW','tev1D1G','CfH1wwm','mtG2D2jQyM5c','u05tz2i','z1boAeK','qLzVt28','qNHMv0q','Eu9Oz3K','ChzWyKu','zNLDienOyxjHyW','whvlBLm','u1ztCva','6kEs6iMY5l+U5Ps5ieXmtsdOR7C','vMPnvgC','zxrZ','y2HHCMfJDgvYua','B3v0zML0uhjLCW','5PwW5O2UoG','y3rLCG','CfL3tKK','5lIT5PAh5zcn56EW','z1jirxq','r1nUAKK','v3bYwhi','Eu90reS','BM1AvfC','A3Deyui','v0TeDei','v012CeK','thv0D1O','5PYQ5zYOieXmtsdOVPpLH7RKUk0','tK15vKq','sgH0Bhi','5y+c6icd5zU+54Mh','BKn4A3O','DgvYihrYAwDNzq','CMfUzg9T','q29UDgv4Da','wMjuy1i','w2nOyxjHy3rLCG','rgPzB2u','wMHMAKy','v3zvCfm','rLPuv2K','ue9ou0u','uhjVBxb0tw9KAq','6kEs6iMY54M55B6b','BuvTEuy','CwDozge','vMLRsKG','vK5or2C','ChjVBxb0','zw50CMLLCW','zNLDioATO+wCQowKHoEqHUINKUIjSG','C3vJy2vZCW','6kkR5l2/55sO77YA','AvzVu1y','DNbrEhu','rLDcywnR','y2HHCMfJDgvYCW','5lIk5y2k6lQR6iom6z2I','ENvAvva','Dwr6vuy','5BEY5y+w5RAi5PU05PAW','5lIl5y2k6lQR6iom6z2I','tujiC3G','s09isK0','s1bYAxG','yMXiCK8','zK1Mz2W','D29YBgqGyM9VAW','zML0CW','y0f1rwu','z1zdugu','B3v0zML0','CMvZDwX0','DgvKigrHDge6','zNLDioINO+AEKowiSoEAHos6UUEjQq','vNjtC3q','5lIl5y2k6lQRtLngv+IdJoMDOJO','vMPmv0G','5lIk5y2k6lQRtLngv+IdJoMDOJO','B2rqzuy','Bwf0y2HLze91Da','6k+35ywi6ycj5OUP5lIa5lIQ6kEs6iMY6Ake6k6+','CLHTCg0','Bfj0qNK','tuzIDKW','mJqZmuXmzKrNrW','ENv2qui','Dfn6weC','C21vAeO','qLbXtKm','BerZBLC','zNLDief0DgfJAa','D2X2vNi','ufjptvbux1jfuW','zhPXtgm','D2TUEwW','ALr3EwS','sLzlBxK','qMjiq1C','Ag16zMq','sMXWwMG','zfDwtLe','rMHvtei','EeLjuMO','rMXNDMO','AeDlvfq','y2HHCMfJDgvYva','vLP5y1e','6k+k5PAT77YA5Qoa5Rwl5yIW5lUL5lIl5y+y6yEp','DhjPBq','rKrfqwO','t0rjrLLFuKvrvq','zw5LCG','ywrK','Aw5WDxq','ChzbsKm','vwPzrfO','CMvZzxrjza','Ehj4zMe','DcbWCMvZzxq6','ntu3mtu2mePHzvbJwa','CMvTB3zLtgLZDa','C3bSAxq','AxnbCNjHEq','CMvWBgfJzufSBa','5lIk5y2k6lQRu0zx','vuvtva','Aw5KzxHpzG','v29ts1y','r3rYtw8','wxfYu1y','Bxb0icHjrdOG','yMzkr0y','5lIk5y2k6lQRu0zx6iom6z2I','r3zVrNC','sMLRAuS','BfPis2e','ChvZAa','A2DXBwS','Dgv4Da','AKLtD2W','z3bjD2O','q1ngwxO','5OM+5lIn5yIW5OYh5A6A55Qe6kEs6iMY6Ake6k6+','DLvzrfC','Cu5OA0q','zMXvCvm','yxbWBhK','uxPTv3y','5lIl5y2k6lQRu0zx','CNHisxG','vfnXAxy','uhbSrgC','u1vdrve','6iUX5PAh5zcn56EWoIa','zMfJAwfSrMvHDa','Dhb1Da','r2rxue0','y1v1Dwu','zNL5see','DxjLCW','rLLkreS','DhvNB3y','s0L4Ewe','CvzWs1e','uxvbtw0','DhDYuKO','v0jHy2S','ugjPww0','yxv0BW','BMfTzq','vgfTB20','zML0ihrHz3mGzG','ywnR','zgf0yq','z2vUzxjHDgLVBG','vMTLu1y','yLf2C0q','tM9Mvu0','u0zx','CMvZzxrZ','zMDVzuy','DuXLCNG','tgDorKO','AvvWv2O','t3fXDwO','q0Dgrfm','ioMHUEABToAuUsZMMk/LKkBLUPtNLkG/','BwfW','Axn4y0i','zw1PDa','CMfUzg9Tvvvjra','rwjuteK','EMDUyMW','vvfQCeq','kcGOlISPkYKRkq','sLvYyxK','AvHhuwe','5Qoa5Rwl5yIW5PYn6kofici','5lIk5y2k6lQRtLngv+IdJoMDOG','tLjqzxG','y29UDgv4DdO','rg5XtNi','uvHsqu4','shrTs2e','tKjPzhy','r250t08','ENzTAhi','CKPNquS','DhLWzq','uu5Hug4','DxbWzxjcB2r5tG','lxrHyI1JAgfYyq','whP1r3q','zKL4s1C','ywPmEMW','5lIk5y2k6lQRu0zx6iom6z2IoIa','wNHnuuG','t0rjrLLFuKvtua','yMfZzty0','DMTQq28','Eu5hC1a','zMLQtLK','t2LXC2K','BwvZC2fNzq','EfnQrfq','5lIT5PAh5zcn56EWoIa','DxbWzxjcB2r5uW','6kEs6iMY54M55B6boIa','5lIl5y2k6lQRtLngvW','tsbVDxrWDxqGzG','5lIk5y2k6lQR','rLbwyw8','D25RCLC','BMC6','vvjmzgm','nteXmdyXnLvot3n5AW','z2v0rwXLBwvUDa','wLLOuei','zNLDiowqIow5TUEBUoMcU+A2IoAbRW','BMjUseq','zNLDiev4zwn1Da','vuLqv2C','rxnczfK','rxr1BNq','vwPIuuC','y29UDgvUDa','CuTAB0i','ig1LC3nHz2uGAq','zgf0ytPPBwfNzq','qNLjza','sfjVtKW','AgrqEMC','D0zQC2y','y0TbA2O','pos6UUEjQt4k','mte2nJm2nffRtKzyvW','tKnwuKG','rvPUy2y','BMCGy2HHCMfJDa','rKjoCMO','z1f6DfC','B3vUzcbPBIbVDq','yxrXyKK','sNDLs0i','u0zxqMfJAW','zNLDien1CNjLBG','zNLDioACQUIVHUwiQ+EAHos6UUEjQq','CIb0zxH0oG','DMfSDwu','shvwyvi','CKjozM4','zNvSBejVzhLtrG','qMnWqNC','yvb5Cgi','mMjlEuXhzG','twjODKW','wxnvAwC','DgzUvMO','B3jYyK8','tMPMuKy','y25sDNC','r2zuDKG','wwvWz0e','ue93rKC','t2D1zvG','t05trq','A3ruwM8','zNLDioINO+AEKowiSoEAHoACJEIJHq','CffVvxO','BM5rs04','BfPeANO','Aw5KzxG','zNLDifnHDMvKia','BNLWzfq','5lIl5y2k6lQR','Aw1Hz2vFDxjS','B3DUzxi','Bg9N','mtC2C3rprxzM','DMfYAwfIBgvZoG','wxnPCwK','D2fYBMLUzW','t2D1rM4','6k6+ici','BhHPvuW','CfzsDwK','zNvSBejVzhK','Dg9mB3DLCKnHCW','sKfdzeS','vKjZtuq','EgnJzgG','Aw1Hz2vZihrVia','EMDkDNu','zM9fDLG','DxrytNK','EfnLt3G','C3rYAw5N','uKzcC04','uKnlqwi','rwLNwwu','A2DoEva','DxjLC0jHy2S','zNLDifvZzxiGCG','y2HHCMfJDgvY','s3z6yum','5Qoa5Rwl5yIW5PAW5PYn6kofici','vgDPC2C','yvfwrgG','ALPlCLa','6kEs6iMYl+ACJEIJHEApKoEKUUIVJEs/RUAuUq','6iUX5PAh5zcn56EW','CwDSqNq','uMXbEKK','tvDjv2K','5lIl5y2k6lQRtLngv+IdJoMDOG','DgLTzw91De1Z','zNLDifn0yxj0Aq','cLVKU6xKUiVMMk/NLkJMIlFKUiRKVkdNMOq','Aw5JBhvKzxm','nJaYnZvOvM9orwm','qMPADfy','C3fIBwq','5lQu5A6y5Asw6lkm6iom6z2I','teXnx0niqvjFtq','whfyDgm','C0foEvq','q1vwyLK','rfHzzwG','vK13q1y','AvbQBK0','tK13v3K','zuHPzgi','DM1bAxO','B2rPzNKGteXnia','zgf0ytO','ALjjsfu','DKHSu3e','A2Drzvi','BxHJCNO','rwHhBhC','6kEs6iMY5O+q56s66k+n5l+U5Ps55AsX6lsLoG','D1vcq0G','Awzstuy','5lIl5y2k6lQRu0zx6iom6z2I','EgzpAxu','neLNAw9SBW','BNHmtM8','vwHrt2C','Au1eAum','5lQu5A6y5Asw6lkm','Dvjus1i','Dg9tDhjPBMC','v0j5rge','txbbBfi','BxvXreK','BwvZC2fNzsbHDa','nta3nZjbz0jvsee','DvfvvvC','5A6m5OIq77Yb','BMfTzuno','CxHrq3e','ufjptvbux1jfuq','Cg9ZAxrPB24','tMLTwhe','teXnioIVT+AXGUwKSEI0Pq','y2HHCL8','C2vHCMnO','sfL3rhy','ywjiBuu','weDVu1K','tK1uuhC','uuryBwO','yunhsg8','mtGZnJm3A2fdEKDX','CezWzMe','zNLDifjHDYbmta','B2jQzwn0','zNPlvLO','5O+q56s66k+n5l+U5Ps56k+35RgclI4U','DLbjCMy','Aw5qD3m','iIdMNiKG','ufn2sNu','qxrtuxq','zLbHALa','DKP1q3m','C3vIC3rYAw5N','y2HHCL9TB2rPzG','ru9PELa','zNvSBejVzhLcyq','yxbdz1O','u0v4zhC','zNLDifjLCxvLCW','Bw9KAwz5ihjLCq','ruf3Exu','zNLDioACJEIJHsaI','CKjtBwe','zMXkyLG','zNLDievYCM9YoG','zgv0ywLS','z0nkwKO','CufgAfq','E3VLVzpLIy3OP5lOIBj9Fq','zM9YrwfJAa','qwPhqwW','5lIk5y2k6lQRu0zxoIa','5lIk5y2k6lQRtLngvZOG','qu9nCwm','ruvxC2K','rdOG','vhHLrhK','5lIl5y2k6lQRu0zxoIa','uxD3uKC','DeD1yKK','vK9zweC','BxjxuLO','EuTvt2C','5RkH5PYj5Qoa5Rwl5yIW6zYa6kAb5PU05PAW55Qe','CNzyrLy'];_0x1a32=function(){return _0x5a8290;};return _0x1a32();}export async function handleCharacterPromptModify(_0x2b0a1e,_0x5d3522=[]){function _0x574091(_0x55d85f,_0x17012c,_0x12c9d0,_0xe96c5a){return _0x138a(_0xe96c5a-0x292,_0x12c9d0);}const _0x31b201={'HtmKa':_0x141291(0x5d1,0x4be,0x677,0x58a)+'PromptModi'+_0x141291(0x571,0x49a,0x558,0x51f),'tfnVj':function(_0x1c33d2,_0x20b60b){return _0x1c33d2+_0x20b60b;},'YqrSV':function(_0x512d91,_0x2397f6,_0x508e6a,_0x1c51cd,_0x86c718){return _0x512d91(_0x2397f6,_0x508e6a,_0x1c51cd,_0x86c718);},'fgoeF':'text','DjYoe':_0x574091(0x588,0x4cc,0x596,0x552)+'时','cUuue':function(_0x11a48e){return _0x11a48e();},'fPajP':_0x141291(0x654,0x55b,0x5fe,0x58a)+_0x574091(0x502,0x686,0x577,0x59f)+_0x574091(0x4f0,0x4f1,0x40a,0x4dc)+_0x574091(0x577,0x48e,0x3e7,0x48e)+'er\x20prompt\x20'+_0x574091(0x616,0x57e,0x4d3,0x529)+'uest...','VjMTg':_0x141291(0x4b5,0x5a2,0x62a,0x58a)+_0x574091(0x4d7,0x56b,0x50b,0x59f)+_0x141291(0x56d,0x623,0x5a2,0x598)+_0x574091(0x555,0x538,0x58b,0x51a),'iMDiC':function(_0x21ada7,_0x1102ed){return _0x21ada7!==_0x1102ed;},'pvpbE':_0x141291(0x40d,0x4fa,0x535,0x49e),'fmOZy':_0x574091(0x519,0x555,0x4d4,0x599)+_0x574091(0x5c6,0x4d5,0x658,0x59f)+_0x574091(0x52e,0x44d,0x47e,0x4b0)+_0x141291(0x3db,0x40f,0x370,0x445),'EEWsi':_0x574091(0x66a,0x61c,0x4c8,0x599)+_0x141291(0x503,0x4a0,0x64e,0x590)+_0x141291(0x4db,0x4d2,0x44f,0x4a1)+_0x574091(0x5ed,0x5fc,0x645,0x5b8)+':','nPBwT':_0x574091(0x5fa,0x51c,0x4e3,0x599)+_0x141291(0x593,0x58b,0x615,0x590)+_0x141291(0x55d,0x4fa,0x57f,0x4a1)+_0x574091(0x53c,0x4b8,0x563,0x4b7),'JDUbj':function(_0x59ed14,_0x12ca02){return _0x59ed14||_0x12ca02;},'NRPex':'nXUmV','JweKB':function(_0x492fc4,_0x458dc2,_0x38616c){return _0x492fc4(_0x458dc2,_0x38616c);},'vkjCo':_0x574091(0x453,0x4fb,0x5b8,0x523)+'y','OguFn':function(_0x5b2ef0,_0x320cdf){return _0x5b2ef0(_0x320cdf);},'MbhvL':_0x141291(0x531,0x5c9,0x5f7,0x58a)+_0x141291(0x64b,0x60e,0x64a,0x590)+_0x574091(0x5e2,0x4e7,0x5f2,0x57b)+'ter\x20list\x20t'+_0x141291(0x505,0x488,0x5aa,0x553)+'ered):','SVSqP':_0x141291(0x4af,0x64c,0x500,0x58a)+_0x574091(0x55a,0x5c5,0x624,0x59f)+_0x574091(0x559,0x522,0x3df,0x47a)+'后:','dWVNQ':function(_0x155002,_0x1b89f9,_0x38c089){return _0x155002(_0x1b89f9,_0x38c089);},'Flgvj':'{{用户需求}}','NmIeI':_0x574091(0x4b5,0x5f6,0x668,0x599)+'PromptModi'+_0x574091(0x47b,0x4e9,0x41a,0x4ce)+'equirement'+_0x141291(0x541,0x476,0x4ed,0x474)+'ndex:','AtSQt':function(_0x2e6510,_0x45bbe7){return _0x2e6510||_0x45bbe7;},'DvyYf':function(_0x38a8fb,_0x26cf22,_0x182389){return _0x38a8fb(_0x26cf22,_0x182389);},'eHidb':function(_0x8ee620,_0x1776d9,_0x50a166,_0x224f87,_0x511eda){return _0x8ee620(_0x1776d9,_0x50a166,_0x224f87,_0x511eda);},'mtwaT':_0x141291(0x5c4,0x42e,0x4b4,0x523),'xccdh':_0x574091(0x611,0x5a3,0x5f3,0x599)+'PromptModi'+'fy]\x20Final\x20'+'prompt:','SNSgb':function(_0x27eed0,_0x48a48c){return _0x27eed0>_0x48a48c;},'GdWPM':function(_0x26cb0c,_0x49396f){return _0x26cb0c>_0x49396f;},'pXuYc':function(_0x13b4e3,_0x43dd26){return _0x13b4e3===_0x43dd26;},'XGoSY':_0x141291(0x4b9,0x56e,0x45a,0x52f),'sLxGO':_0x574091(0x4e2,0x4f8,0x67d,0x593),'isxcB':_0x574091(0x4d7,0x47a,0x47e,0x4c3)+_0x141291(0x475,0x425,0x4b9,0x4f4)+'\x20index','JlpZh':function(_0x27e866,_0x1ce275,_0x32cd21){return _0x27e866(_0x1ce275,_0x32cd21);},'VNNGg':function(_0x3970ac,_0x1040f8){return _0x3970ac!==_0x1040f8;},'jkkIZ':'LLM\x20返回结果为空','smUhJ':function(_0x2c795e,_0x4983a3){return _0x2c795e===_0x4983a3;},'ZxwVA':function(_0x139933,_0x1a2541){return _0x139933===_0x1a2541;},'PbiYm':_0x141291(0x5d0,0x5e1,0x569,0x581)+_0x141291(0x5c0,0x545,0x526,0x554),'zGSSX':_0x141291(0x61d,0x5fb,0x4ac,0x58a)+_0x574091(0x63f,0x545,0x4c3,0x59f)+'fy]\x20No\x20cha'+_0x574091(0x578,0x4f1,0x605,0x56a)+_0x574091(0x378,0x3db,0x347,0x437)+_0x141291(0x4d2,0x38e,0x495,0x482)+_0x574091(0x3d6,0x36e,0x461,0x427),'uSbqu':'[character'+_0x141291(0x504,0x57f,0x65e,0x590)+_0x574091(0x52c,0x5bb,0x42b,0x517)+_0x574091(0x48d,0x3d1,0x539,0x471)+'or\x20debuggi'+_0x141291(0x399,0x3f9,0x50d,0x466),'xSeOx':_0x141291(0x4c8,0x4ae,0x66c,0x58a)+_0x141291(0x588,0x64f,0x5b2,0x590)+'fy]\x20Extrac'+_0x141291(0x510,0x566,0x553,0x5af),'EAwyu':function(_0x2d4056,_0x1f80c3){return _0x2d4056>_0x1f80c3;},'aTyDG':_0x574091(0x40d,0x3da,0x513,0x49d),'SKNQs':_0x574091(0x556,0x653,0x5a7,0x5a1),'vPIrf':function(_0x194430,_0x26539e,_0x4f6c58){return _0x194430(_0x26539e,_0x4f6c58);},'HmupC':function(_0x3b497d,_0x21c967){return _0x3b497d>_0x21c967;},'xrxfa':function(_0x298db9,_0x411206){return _0x298db9>_0x411206;},'NMTPw':function(_0x36be19,_0x4f66ff){return _0x36be19!==_0x4f66ff;},'EOizP':_0x141291(0x56a,0x56c,0x519,0x55c),'vUYDW':_0x141291(0x479,0x44c,0x517,0x4c6)+_0x141291(0x5b2,0x5d1,0x589,0x4f7),'pYwNI':_0x141291(0x5bd,0x45b,0x5d3,0x50d)};function _0x141291(_0x4b21a2,_0x261588,_0x5c73f6,_0x59016c){return _0x138a(_0x59016c-0x283,_0x5c73f6);}console[_0x141291(0x585,0x3e1,0x4f9,0x4a6)](_0x31b201[_0x141291(0x4b1,0x463,0x5ca,0x511)]),toastr[_0x141291(0x476,0x46e,0x4d1,0x550)](_0x31b201[_0x574091(0x5a8,0x4e4,0x56e,0x57f)]);try{if(_0x31b201[_0x141291(0x514,0x4b2,0x530,0x4ed)]('nnQKN',_0x31b201[_0x574091(0x5e5,0x536,0x494,0x57a)]))_0x4ac188[_0x574091(0x600,0x56a,0x56d,0x56e)](_0x31b201[_0x141291(0x3cb,0x534,0x4ca,0x448)],_0x3e16c7),_0x1cf891[_0x141291(0x496,0x562,0x46e,0x55f)](_0x574091(0x5e0,0x413,0x48c,0x4f4)+'\x20'+_0x5b547e[_0x574091(0x51b,0x47f,0x4af,0x46b)]);else{const _0xe3a95b=getContext(),_0x19d3e4=extension_settings[extensionName],_0x54571a=_0x31b201[_0x141291(0x356,0x47c,0x4eb,0x41a)](getCurrentCharacterPreset);if(!_0x54571a){toastr[_0x141291(0x634,0x603,0x5ea,0x55f)](_0x574091(0x688,0x5e3,0x609,0x5c6));return;}console[_0x141291(0x45c,0x43a,0x59b,0x4a6)](_0x574091(0x574,0x523,0x5f5,0x599)+'PromptModi'+_0x141291(0x46a,0x54b,0x53f,0x486)+_0x574091(0x5e3,0x5d3,0x5b8,0x5ec),_0x54571a['id']);const _0x28c75f=_0x54571a[_0x574091(0x370,0x3f9,0x383,0x439)][_0x574091(0x4cb,0x34d,0x457,0x43a)+_0x141291(0x5c4,0x600,0x62a,0x588)]||'',_0xde0369=_0x54571a['data'][_0x574091(0x44a,0x4bc,0x50c,0x43a)+_0x141291(0x4c1,0x521,0x5ab,0x549)]||'',_0x13865a=_0x54571a[_0x574091(0x4f7,0x3d3,0x479,0x439)][_0x141291(0x427,0x418,0x3eb,0x42b)+'Variables']||{};console[_0x574091(0x434,0x41c,0x479,0x4b5)](_0x31b201[_0x141291(0x4e0,0x4cb,0x4dc,0x53f)],_0x28c75f),console[_0x574091(0x3de,0x50f,0x513,0x4b5)](_0x31b201[_0x141291(0x54c,0x51c,0x5ad,0x529)],_0xde0369),console['log'](_0x31b201[_0x574091(0x634,0x5e6,0x5ae,0x55b)],_0x13865a);const _0x1e83f7=_0x31b201['JDUbj'](_0x2b0a1e,''),_0x116ee9=[];_0x2b0a1e&&_0x116ee9[_0x141291(0x5c3,0x55f,0x525,0x5ef)](_0x2b0a1e);_0x28c75f&&_0x116ee9['push'](_0x28c75f);if(_0xde0369){if(_0x31b201['NRPex']===_0x31b201[_0x141291(0x4ef,0x380,0x39b,0x444)])_0x116ee9[_0x141291(0x58d,0x6a6,0x55e,0x5ef)](_0xde0369);else{if(_0x23b5e6&&_0x36fc46[_0x574091(0x40b,0x50c,0x361,0x44a)])return _0x1804a4[_0x574091(0x4ef,0x49b,0x3bd,0x44a)]();return _0x31b201[_0x141291(0x57f,0x518,0x416,0x492)](_0x2460b0['now']()[_0x141291(0x491,0x5a4,0x427,0x4f0)](0x7*0x4a5+-0x1195+-0xeca),_0x12f490['random']()[_0x574091(0x456,0x57e,0x4bf,0x4ff)](0x1*0x989+0x51c+0x4f*-0x2f)[_0x574091(0x4d1,0x55d,0x5ef,0x522)](0xa*0x314+0x179a+0x244*-0x18));}}const _0x53f550=_0x116ee9[_0x141291(0x582,0x599,0x5df,0x55a)]('\x0a');console[_0x574091(0x43e,0x406,0x474,0x4b5)](_0x574091(0x5ad,0x63a,0x599,0x599)+_0x574091(0x5b3,0x685,0x4dc,0x59f)+_0x141291(0x4e1,0x5fa,0x5bd,0x56c)+_0x574091(0x66f,0x65c,0x54f,0x595)+_0x141291(0x4de,0x4fe,0x3ef,0x488),_0x53f550);let _0x42f952=_0x31b201[_0x141291(0x545,0x4f7,0x3f8,0x484)](buildPromptForRequestType,_0x31b201[_0x141291(0x4bb,0x3f0,0x4a2,0x458)],_0x1e83f7);const _0x55adec=_0x31b201[_0x574091(0x4bd,0x405,0x548,0x4ba)](generateCharacterListText,_0x53f550),_0x4279f9=_0x31b201[_0x141291(0x42c,0x32d,0x4b0,0x41a)](generateOutfitEnableListText),_0x76bdb7=generateCommonCharacterListText();console[_0x574091(0x574,0x43f,0x553,0x4b5)](_0x31b201[_0x141291(0x447,0x4bc,0x4d2,0x490)],_0x55adec);const _0x413906=_0xe3a95b['chatMetada'+'ta']?.['variables']||{},_0x351288=_0x31b201[_0x141291(0x405,0x45a,0x3c3,0x4ab)](buildCharacterText,_0x54571a);_0x42f952=_0x31b201[_0x141291(0x4b3,0x3d3,0x3c0,0x4ab)](mergeAdjacentMessages,_0x42f952),console[_0x141291(0x3fe,0x469,0x550,0x4a6)](_0x31b201[_0x141291(0x531,0x5d1,0x4c1,0x56e)],_0x42f952);const _0x39cbee=_0x31b201[_0x141291(0x542,0x5af,0x514,0x5cb)](findMessageIndexWithPlaceholder,_0x42f952,_0x31b201[_0x574091(0x5b8,0x69d,0x682,0x5dd)]);console[_0x141291(0x3d4,0x4b1,0x4be,0x4a6)](_0x31b201['NmIeI'],_0x39cbee);const _0x170631={..._0x13865a,..._0x413906},_0x43f8ce={'context':_0x28c75f,'worldBookContent':_0xde0369,'variables':_0x170631,'userDemand':_0x31b201[_0x574091(0x5b5,0x5d2,0x4d4,0x51f)](_0x2b0a1e,''),'characterListText':_0x55adec,'outfitEnableListText':_0x4279f9,'commonCharacterListText':_0x76bdb7},{messages:_0x2c34cc,replacedVariables:_0x3d7c76}=_0x31b201['DvyYf'](replaceAllPlaceholders,_0x42f952,_0x43f8ce);_0x42f952=_0x2c34cc,_0x42f952=_0x31b201[_0x141291(0x413,0x5a0,0x566,0x4dc)](_0x3a94d7,_0x42f952,_0x31b201['mtwaT'],_0x351288,_0x3d7c76),console[_0x141291(0x4a9,0x4fb,0x433,0x4a6)](_0x31b201[_0x574091(0x3dd,0x5a9,0x4e9,0x4c2)],_0x42f952);let _0x4e822e='';_0x31b201[_0x141291(0x4b1,0x649,0x60f,0x566)](_0x3d7c76[_0x141291(0x4bf,0x585,0x5d4,0x544)],-0x1*0xffb+0x6*0x4df+-0xd3f)&&(_0x4e822e=_0x574091(0x532,0x52a,0x630,0x5e1)+_0x574091(0x60f,0x680,0x635,0x5a9)+[..._0x3d7c76][_0x141291(0x5b0,0x5dd,0x52e,0x55a)]('、')+'\x0a');_0x5d3522&&_0x31b201[_0x141291(0x3d9,0x3ff,0x416,0x419)](_0x5d3522[_0x141291(0x4b1,0x482,0x4e5,0x548)],-0x2641+-0x1141+0x3782)&&_0x39cbee>=0x106d+-0x1f*-0x43+-0x417*0x6&&(_0x31b201[_0x574091(0x4d1,0x61e,0x481,0x573)](_0x31b201[_0x141291(0x536,0x5e3,0x4ed,0x502)],_0x141291(0x3aa,0x432,0x3b8,0x413))?_0x46e226&&_0x82fced[_0x141291(0x5ee,0x64b,0x69d,0x5d7)](_0x1b2f0b):(_0x42f952=_0x31b201['eHidb'](attachImagesToMessage,_0x42f952,_0x39cbee,_0x5d3522,_0x31b201['sLxGO']),console[_0x574091(0x52a,0x4f8,0x3f3,0x4b5)]('[character'+_0x574091(0x623,0x643,0x66a,0x59f)+'fy]\x20Attach'+'ed',_0x5d3522['length'],_0x31b201[_0x574091(0x4a2,0x389,0x405,0x448)],_0x39cbee)));_0x31b201[_0x574091(0x625,0x570,0x615,0x5d9)](updateCombinedPrompt,_0x42f952,_0x4e822e);const _0x535b88={};_0x535b88['timeoutMs']=0x493e0;const _0x554017=await _0x31b201['DvyYf'](LLM_CHAR_MODIFY,_0x42f952,_0x535b88);console[_0x141291(0x446,0x55f,0x410,0x4a6)](_0x141291(0x574,0x511,0x59b,0x58a)+_0x141291(0x4dd,0x601,0x670,0x590)+'fy]\x20LLM\x20ou'+'tput:',_0x554017);if(!_0x554017){if(_0x31b201[_0x141291(0x5ec,0x646,0x5bc,0x595)](_0x574091(0x5a0,0x5fe,0x63a,0x5ab),'IHbiX')){toastr['error'](_0x31b201['jkkIZ']);return;}else _0x339356[_0x38c183]=_0x31b201[_0x141291(0x568,0x5ca,0x4f7,0x5e8)](_0x48c2f3,_0x4f5b8f[_0x456f3c],_0x416bec,_0x55ac19,_0x56dfd9);}const _0x383710=extractCharacterAndOutfitTags(_0x554017);if(_0x31b201[_0x574091(0x5ec,0x576,0x5a6,0x5cd)](_0x383710['characters'][_0x574091(0x496,0x4ea,0x565,0x557)],0x2c5+-0xd*-0x2b+-0x1*0x4f4)&&_0x31b201['ZxwVA'](_0x383710['outfits'][_0x574091(0x5d6,0x5c0,0x5d6,0x557)],0x1f16+-0x1f13+-0x3)){toastr[_0x574091(0x561,0x5a9,0x4bf,0x4b9)](_0x31b201[_0x574091(0x384,0x43b,0x366,0x433)]),console[_0x574091(0x410,0x3c5,0x419,0x4b5)](_0x31b201['zGSSX']),console[_0x141291(0x419,0x528,0x507,0x4a6)](_0x31b201['uSbqu'],_0x554017);return;}console['log'](_0x31b201[_0x141291(0x455,0x58e,0x49f,0x4b8)],_0x383710);if(_0x31b201[_0x574091(0x4c0,0x436,0x484,0x52a)](_0x383710['characters'][_0x574091(0x61d,0x639,0x491,0x557)],-0xbbe+0xf2f+-0x371)){if(_0x31b201['aTyDG']===_0x31b201['SKNQs']){const _0x2ca133={};_0x2ca133[_0x141291(0x446,0x3cc,0x476,0x44d)]=_0x31b201[_0x574091(0x456,0x390,0x4ad,0x440)],_0x2ca133[_0x141291(0x50c,0x5dc,0x54d,0x5f1)]=_0x574091(0x598,0x5c7,0x59f,0x4dd)+_0x154acb['length']+'张'+_0x3faa15+']',_0x53c495[_0x141291(0x675,0x524,0x6d3,0x5ef)](_0x2ca133);}else{const _0x425cb5=_0x383710[_0x141291(0x5a0,0x516,0x679,0x59e)][0x1*0x180f+-0x1259+-0x5b6];await _0x31b201[_0x574091(0x50c,0x55b,0x4a6,0x51b)](updateCharacterPresetFromLLM,_0x54571a['id'],_0x425cb5);}}const _0x2fcc96=[..._0x383710['outfits']];for(const _0x180d1f of _0x383710[_0x141291(0x598,0x658,0x5ab,0x59e)]){_0x180d1f[_0x574091(0x5ee,0x5bc,0x57a,0x5c5)+_0x141291(0x506,0x5a8,0x503,0x5aa)]&&_0x31b201[_0x574091(0x4a6,0x56f,0x571,0x545)](_0x180d1f[_0x141291(0x665,0x4d1,0x5a5,0x5b6)+_0x574091(0x66e,0x58f,0x57c,0x5b9)][_0x141291(0x61c,0x5e7,0x5f5,0x548)],0xaa*-0x15+0x15*-0x135+0x59d*0x7)&&_0x2fcc96['push'](..._0x180d1f[_0x141291(0x650,0x65e,0x693,0x5b6)+_0x141291(0x54b,0x609,0x673,0x5aa)]);}if(_0x31b201[_0x141291(0x513,0x562,0x503,0x5dc)](_0x2fcc96['length'],0x6a6+0x1*0x11f1+-0x1*0x1897)){if(_0x31b201[_0x141291(0x436,0x43f,0x4b9,0x503)](_0x574091(0x5a1,0x59c,0x5ed,0x56b),_0x31b201[_0x574091(0x56d,0x562,0x4f1,0x524)]))return _0x4f86e3;else await updateOutfitPresetsFromLLM(_0x2fcc96);}toastr[_0x141291(0x64d,0x5d6,0x4ba,0x599)](_0x31b201[_0x574091(0x5cd,0x604,0x634,0x605)]);}}catch(_0x334480){if(_0x31b201[_0x141291(0x48d,0x595,0x536,0x576)]!==_0x574091(0x431,0x55f,0x4b7,0x51c)){const _0x46da53={'POwFG':function(_0x33b9fc,_0x99d77){return _0x33b9fc!==_0x99d77;},'soCyY':function(_0x5016c1,_0x468d97){return _0x5016c1(_0x468d97);},'JdUKI':_0x31b201[_0x141291(0x496,0x5db,0x4f2,0x58b)]},_0x13257c=_0x31b201[_0x574091(0x397,0x4c5,0x4c5,0x429)](_0xe3bd5);_0x303348[_0x141291(0x54c,0x3c8,0x4da,0x4a6)](_0x141291(0x621,0x538,0x50b,0x58a)+_0x141291(0x5df,0x604,0x629,0x590)+_0x574091(0x49f,0x5f7,0x5b0,0x528)+'ting\x20char\x20'+_0x574091(0x5d4,0x4f8,0x524,0x561)+_0x574091(0x63d,0x636,0x678,0x5f8)+_0x13257c+')');const _0x41470d=_0x551406=>{if(_0x46da53[_0x507b04(0x3a3,0x38c,0x27c,0x368)](_0x551406['id'],_0x13257c))return;function _0x507b04(_0x3837a5,_0xbfe8f0,_0x1f0635,_0x597607){return _0x141291(_0x3837a5-0x1da,_0xbfe8f0-0x17a,_0x1f0635,_0x597607- -0x130);}_0x1895f9[_0x507b04(0x459,0x538,0x528,0x4af)+_0x507b04(0x47f,0x42b,0x44b,0x4a6)](_0x91acdf['LLM_CHAR_M'+_0x2c490d(0x41c,0x425,0x4c5,0x41d)+_0x2c490d(0x417,0x486,0x41a,0x483)+_0x507b04(0x3bd,0x413,0x383,0x45f)],_0x41470d);function _0x2c490d(_0x1afbcf,_0x562359,_0x638d82,_0x54c275){return _0x141291(_0x1afbcf-0xec,_0x562359-0x49,_0x638d82,_0x54c275- -0x140);}_0x46da53[_0x507b04(0x3fd,0x3d8,0x3d0,0x408)](_0x5c77d3,_0x551406['prompt']);};_0x37070c['on'](_0x5149d6[_0x141291(0x427,0x5ad,0x46d,0x4d4)+'ODIFY_GET_'+_0x141291(0x693,0x5c0,0x5c7,0x5c3)+_0x141291(0x56c,0x5c9,0x4d8,0x58f)],_0x41470d);const _0x12bd69={};_0x12bd69['id']=_0x13257c,_0x5d71c7[_0x141291(0x487,0x499,0x37c,0x43a)](_0x140ba9['LLM_CHAR_M'+_0x141291(0x583,0x5cc,0x634,0x55d)+_0x141291(0x409,0x44d,0x553,0x4fa)+'UEST'],_0x12bd69),_0x48b37b(()=>{function _0x3d46cd(_0x7d5d4e,_0x5d2aff,_0x41d921,_0x4f41f6){return _0x141291(_0x7d5d4e-0x1c,_0x5d2aff-0x94,_0x5d2aff,_0x41d921- -0x5d);}function _0x5a8053(_0x38ba4b,_0x2e5b82,_0x5cc41a,_0x1e1820){return _0x574091(_0x38ba4b-0x148,_0x2e5b82-0x1a4,_0x38ba4b,_0x2e5b82- -0x3f6);}_0x41b169['removeList'+'ener'](_0x1c10d4[_0x5a8053(0x9f,0xed,0x177,0x1bb)+_0x5a8053(0xaf,0x176,0x25f,0x1de)+'PROMPT_RES'+_0x3d46cd(0x55e,0x48d,0x532,0x510)],_0x41470d),_0x46da53[_0x5a8053(0x7c,0x151,0x112,0x1bd)](_0xdb2254,new _0x4b4ccc(_0x46da53['JdUKI']));},-0xfd*0x2d+0x2*-0x86d+-0x33d*-0x1f);}else console[_0x141291(0x5dd,0x64b,0x563,0x55f)](_0x31b201[_0x574091(0x532,0x3b0,0x3b9,0x457)],_0x334480),toastr['error'](_0x141291(0x4d3,0x562,0x5da,0x4e5)+'\x20'+_0x334480[_0x141291(0x497,0x4d0,0x533,0x45c)]);}}async function updateCharacterPresetFromLLM(_0x216880,_0x4a72ea){const _0x3d58e3={'nmZTW':_0x5e7aa5(0x4ea,0x48e,0x459,0x42c),'NCVRH':'英文名称','UIPWg':'五官外貌','kgNyP':_0x5e7aa5(0x559,0x463,0x3fc,0x498),'eTqVY':_0x5e7aa5(0x3bc,0x3f1,0x3f4,0x4b0),'QwwRG':_0x5e7aa5(0x3d2,0x474,0x340,0x3f3),'vHlSq':_0x57c7a5(0x1af,0x1fb,0x27d,0x20a),'rJgAK':_0x5e7aa5(0x314,0x2bc,0x2e5,0x316),'qVpKQ':_0x5e7aa5(0x2f5,0x470,0x417,0x380),'fIxKW':function(_0x1412d1,_0x3f5e62){return _0x1412d1!==_0x3f5e62;},'xSjDT':_0x5e7aa5(0x35c,0x3bc,0x4d7,0x3e7)+'内容','yOtDK':function(_0x5955f8,_0x1fafeb){return _0x5955f8(_0x1fafeb);},'OnKPI':_0x57c7a5(0x30e,0x3b1,0x245,0x2f9),'ZhfjF':_0x5e7aa5(0x31a,0x365,0x2ca,0x326),'GtrMo':function(_0x1cc2e2){return _0x1cc2e2();},'QDXmj':'#st-chatu8'+_0x5e7aa5(0x3f3,0x2a0,0x2d9,0x305)+_0x5e7aa5(0x4c3,0x391,0x4c9,0x42a),'rBSma':function(_0x8568c,_0x1c405b){return _0x8568c===_0x1c405b;},'xPvnu':_0x5e7aa5(0x3bc,0x3e8,0x415,0x3ba),'gQztW':_0x5e7aa5(0x377,0x3f6,0x350,0x437)},_0x166ab9=extension_settings[extensionName],_0x36c4fd=_0x166ab9['characterP'+_0x5e7aa5(0x235,0x345,0x2c5,0x2e5)][_0x216880];if(!_0x36c4fd){toastr['error'](_0x5e7aa5(0x559,0x479,0x4c6,0x4aa));return;}const _0x41f818={};_0x41f818[_0x57c7a5(0x264,0x1df,0x347,0x1c7)]=_0x3d58e3[_0x57c7a5(0x2e8,0x384,0x2e7,0x273)],_0x41f818['nameEN']=_0x3d58e3[_0x5e7aa5(0x3ee,0x383,0x3a5,0x332)],_0x41f818[_0x5e7aa5(0x470,0x4dc,0x52b,0x485)+'raits']=_0x5e7aa5(0x3f1,0x3d2,0x3e4,0x446),_0x41f818[_0x5e7aa5(0x2be,0x1f5,0x204,0x2cc)+_0x57c7a5(0x188,0x193,0x1f4,0x1f5)]=_0x3d58e3[_0x57c7a5(0x1da,0x283,0x2bd,0x194)];function _0x5e7aa5(_0x50f33e,_0xf38212,_0x18cdd8,_0x5cc962){return _0x138a(_0x5cc962-0x138,_0x18cdd8);}_0x41f818[_0x57c7a5(0x183,0x169,0x141,0x23f)+_0x5e7aa5(0x40a,0x3d8,0x350,0x373)]='五官外貌背面',_0x41f818[_0x57c7a5(0x1cb,0x1a3,0x1ea,0x1d5)+'FW']=_0x3d58e3[_0x57c7a5(0x229,0x21e,0x221,0x137)],_0x41f818[_0x5e7aa5(0x28e,0x3f7,0x3ce,0x314)+_0x5e7aa5(0x4a9,0x477,0x434,0x452)]=_0x5e7aa5(0x44d,0x458,0x4a7,0x4a0);function _0x57c7a5(_0xebc218,_0x290ff6,_0xaa7dc3,_0x34ae4e){return _0x138a(_0xebc218- -0x11,_0xaa7dc3);}_0x41f818[_0x57c7a5(0x1f8,0x14e,0x291,0x274)+'W']=_0x3d58e3[_0x57c7a5(0x2ac,0x324,0x394,0x222)],_0x41f818[_0x57c7a5(0x1f8,0x226,0x141,0x2db)+_0x57c7a5(0x18f,0xa3,0x1bd,0x178)]=_0x5e7aa5(0x41a,0x476,0x35a,0x39d),_0x41f818[_0x5e7aa5(0x386,0x295,0x2ff,0x304)+_0x5e7aa5(0x255,0x3cd,0x36c,0x2e4)]=_0x3d58e3[_0x5e7aa5(0x43c,0x41d,0x405,0x3e2)],_0x41f818[_0x5e7aa5(0x339,0x2a8,0x2f7,0x304)+_0x57c7a5(0x1f1,0x28a,0x184,0x269)]=_0x3d58e3[_0x5e7aa5(0x3d9,0x3e0,0x439,0x396)],_0x41f818[_0x57c7a5(0x2ce,0x275,0x31d,0x2c9)+'FW']=_0x3d58e3[_0x57c7a5(0x1b8,0x23b,0x180,0x256)],_0x41f818[_0x57c7a5(0x2ce,0x29d,0x325,0x2fb)+'FWBack']=_0x3d58e3[_0x57c7a5(0x18c,0xcd,0x27d,0x1bb)];const _0x23f291=_0x41f818;let _0x55e9b5=-0x1*-0x112a+0x1*0x2135+-0x325f;for(const _0x3c21cc in _0x23f291){_0x4a72ea[_0x3c21cc]&&_0x3d58e3[_0x57c7a5(0x1be,0x161,0x10f,0x17e)](_0x4a72ea[_0x3c21cc],_0x36c4fd[_0x3c21cc])&&_0x55e9b5++;}if(_0x55e9b5===0xed*-0xd+0x1*-0x26ee+0x32f7){toastr['info'](_0x3d58e3[_0x57c7a5(0x1c9,0x13d,0x109,0x155)]);return;}const _0x2abd46='检测到角色\x20\x22'+_0x216880+_0x5e7aa5(0x3f0,0x2ff,0x40f,0x3c3)+_0x55e9b5+_0x5e7aa5(0x321,0x2ec,0x248,0x2ec),_0x51c64d=await _0x3d58e3[_0x57c7a5(0x2e7,0x2f9,0x2ef,0x28c)](stylishConfirm,_0x2abd46);if(!_0x51c64d){toastr['info'](_0x3d58e3['OnKPI']);return;}for(const _0x29a09e in _0x23f291){if(_0x4a72ea[_0x29a09e]){if(_0x3d58e3[_0x57c7a5(0x1be,0x252,0x222,0x1b0)](_0x3d58e3['ZhfjF'],_0x3d58e3[_0x57c7a5(0x2f8,0x326,0x3cf,0x239)]))return _0x29030c&&_0x2ef1ff['includes'](_0x5541e9)&&(_0x2ed3c2&&_0xd1205e[_0x57c7a5(0x343,0x3b9,0x374,0x3a6)](_0x1470ad)),_0x4f4db7[_0x57c7a5(0x34e,0x37f,0x307,0x30c)](_0x3581dd,_0x6622bc);else _0x36c4fd[_0x29a09e]=_0x4a72ea[_0x29a09e];}}_0x3d58e3[_0x5e7aa5(0x48b,0x4ca,0x469,0x49c)](saveSettingsDebounced);const _0x5b0775=$(_0x3d58e3[_0x57c7a5(0x270,0x2c4,0x20b,0x25d)]);_0x5b0775[_0x5e7aa5(0x353,0x48c,0x3a9,0x3fd)]&&(_0x3d58e3[_0x57c7a5(0x289,0x21d,0x23b,0x259)](_0x3d58e3['xPvnu'],_0x3d58e3[_0x57c7a5(0x1ed,0x111,0x27a,0x28d)])?_0x165705[_0x367d74[_0x12db90]]=_0x247a53:_0x3d58e3['yOtDK'](refreshCharacterSettings,_0x5b0775)),_0x3d58e3[_0x57c7a5(0x2e7,0x33b,0x261,0x281)](updateFormFields,_0x4a72ea),console[_0x57c7a5(0x212,0x1e0,0x2d6,0x2b2)]('[character'+_0x57c7a5(0x2fc,0x28a,0x218,0x30b)+'fy]\x20已更新角色预'+_0x5e7aa5(0x40a,0x27d,0x36a,0x361)+_0x216880+'\x22');}async function updateOutfitPresetsFromLLM(_0x1434ab){const _0x5e631c={'RCKAb':function(_0x3db306,_0x1e8fad){return _0x3db306(_0x1e8fad);},'qAFhT':'input','odPeF':function(_0x51c7ed,_0x547a7a){return _0x51c7ed(_0x547a7a);},'WByDa':_0x5b4741(0x15,0xd3,0xf4,0xe4)+'时','ajLzl':_0x5b4741(0xc7,0x6c,0x1a2,0x12d),'KrMIM':'nameEN','WoSKV':_0x5b4741(-0x117,-0xca,-0x11f,-0x128)+_0x5b4741(-0x70,-0xf9,-0x72,-0xff),'SUCEQ':_0x5b4741(-0xdf,-0x19c,-0x22,-0x6f)+_0x59b6b8(0x58f,0x458,0x545,0x550),'XzuGt':_0x5b4741(0x34,0xd1,0x11a,0xa)+'FW','NBidv':_0x59b6b8(0x683,0x71f,0x678,0x5c9)+_0x5b4741(0x6f,0xd7,-0x1b,0xed),'bfJGF':'中文名称','ZxMQH':_0x5b4741(-0x67,-0x5a,-0x158,-0x48),'NimXq':_0x5b4741(0x9,-0x81,-0x36,-0x28),'TDUgA':_0x59b6b8(0x595,0x625,0x579,0x4e4),'fMfgl':_0x5b4741(0x71,0x8c,0x58,0xe9),'Etunt':function(_0x28b437,_0x4312af){return _0x28b437!==_0x4312af;},'lZHKa':_0x59b6b8(0x6c3,0x590,0x5f6,0x5ac),'UjYDZ':_0x59b6b8(0x502,0x67a,0x5d2,0x5b4),'PSvJu':function(_0x44d7b2,_0x539c20){return _0x44d7b2===_0x539c20;},'QzmWv':_0x59b6b8(0x652,0x5c1,0x6aa,0x60d),'pFpfa':_0x5b4741(-0x111,-0x1e6,-0x1a6,-0x49),'iPjnM':_0x59b6b8(0x66c,0x4e1,0x5af,0x642),'lRtBy':'RlAzI','VBsMD':function(_0x157025,_0xc9ff0e){return _0x157025===_0xc9ff0e;},'nCxkz':'GntOO','VjLWH':function(_0x24c333,_0xb65b55){return _0x24c333===_0xb65b55;},'zgJvu':_0x59b6b8(0x72b,0x636,0x6e2,0x7c6),'mxcrz':'DbQcY','hdPzg':function(_0x27d27d,_0x19a738){return _0x27d27d===_0x19a738;},'NMwWy':_0x5b4741(-0x6d,-0x131,-0x54,-0xb2),'GfTvH':'sgpaG','cnRvw':'MaeMR','xfOiu':function(_0x29042e){return _0x29042e();},'UQjpD':'#st-chatu8'+_0x59b6b8(0x64d,0x5d8,0x566,0x562)+_0x59b6b8(0x6e1,0x67a,0x68b,0x675)};function _0x59b6b8(_0x3ff39f,_0x14e8ef,_0x464f7a,_0x5f2bbd){return _0x138a(_0x464f7a-0x399,_0x5f2bbd);}const _0x975208=extension_settings[extensionName],_0x3dd08f={};_0x3dd08f[_0x59b6b8(0x641,0x6d8,0x60e,0x583)]=_0x5e631c[_0x59b6b8(0x7a3,0x6cb,0x700,0x762)],_0x3dd08f['nameEN']=_0x5e631c[_0x5b4741(-0xd9,-0x194,-0x1ad,-0x4b)],_0x3dd08f[_0x59b6b8(0x549,0x5ca,0x5bb,0x627)]=_0x5e631c[_0x5b4741(-0x32,0x91,0x9a,-0x1)],_0x3dd08f[_0x5b4741(0x17,-0xcb,0xfb,-0x7e)]=_0x5e631c['TDUgA'],_0x3dd08f[_0x5b4741(0x7,0x0,0x22,-0x4a)+_0x59b6b8(0x560,0x546,0x53f,0x486)]=_0x5e631c[_0x5b4741(0x7a,0xd9,0xcc,0xe)],_0x3dd08f[_0x5b4741(-0x7f,-0x174,-0xf9,0x14)]=_0x5b4741(-0x8b,0x3b,0x26,-0xa6),_0x3dd08f[_0x5b4741(-0x18,-0x7a,0xb7,-0x101)+'ck']=_0x59b6b8(0x6ef,0x6d2,0x6b9,0x68f);const _0x3fbcfe=_0x3dd08f;for(const _0x48a831 of _0x1434ab){if(_0x5e631c[_0x5b4741(-0xbe,-0x120,-0x8e,-0xaf)](_0x5e631c[_0x5b4741(0xc0,0xa3,0x32,0x10c)],_0x5e631c[_0x59b6b8(0x79f,0x776,0x6f0,0x6c7)])){const _0x284658=_0x48a831[_0x5b4741(-0x36,-0x5e,-0xa6,-0xa4)];if(!_0x284658)continue;const _0x5bcc67=_0x975208[_0x5b4741(0x45,-0xa2,0x117,-0x96)+_0x59b6b8(0x6a0,0x74e,0x687,0x6e0)]?.[_0x284658];if(_0x5bcc67){let _0x2714c7=0x89*-0x31+0x907+-0x899*-0x2;for(const _0x1d997f in _0x3fbcfe){_0x5e631c[_0x59b6b8(0x550,0x5ce,0x625,0x69c)](_0x5e631c[_0x59b6b8(0x6e3,0x7e1,0x710,0x6ce)],_0x5e631c[_0x5b4741(0xcc,0x1ab,0x8d,0x9a)])?_0x48a831[_0x1d997f]&&_0x5e631c['Etunt'](_0x48a831[_0x1d997f],_0x5bcc67[_0x1d997f])&&_0x2714c7++:(_0x5c1d6f[_0x59b6b8(0x67d,0x61c,0x59f,0x60c)]=_0x3959cf[_0x232d01],_0x5e631c['RCKAb'](_0x16afa5,_0x583148)[_0x5b4741(0x18,0x23,0xcf,0x11)](_0x5e631c[_0x59b6b8(0x564,0x6e8,0x638,0x5e1)]));}if(_0x5e631c[_0x59b6b8(0x5f3,0x5f4,0x625,0x57e)](_0x2714c7,-0x7a7+0x523+-0x5c*-0x7)){console[_0x5b4741(-0x88,-0x33,-0xa4,-0xd9)](_0x5b4741(0x5c,-0x48,0x5f,-0x31)+'PromptModi'+'fy]\x20服装\x20\x22'+_0x284658+'\x22\x20没有变更');continue;}const _0x5302ed=_0x59b6b8(0x480,0x5c1,0x558,0x49e)+_0x284658+'\x22\x20有\x20'+_0x2714c7+'\x20项更改,是否应用?',_0x42c9c3=await _0x5e631c[_0x59b6b8(0x532,0x60e,0x5d1,0x574)](stylishConfirm,_0x5302ed);if(!_0x42c9c3){if(_0x5e631c[_0x59b6b8(0x66f,0x53c,0x61d,0x66d)]===_0x5e631c[_0x59b6b8(0x6bb,0x56a,0x5f0,0x650)])_0xc1a18d[_0x5b4741(0xb1,0xc0,0x13d,0x128)+'ener'](_0xddaeb6[_0x59b6b8(0x659,0x51f,0x5ea,0x512)+_0x5b4741(0x2f,-0x74,0x9e,-0x96)+_0x5b4741(0x95,0x2c,0x97,0x37)+_0x5b4741(0x61,0xdb,0x133,-0xd)],_0x35b1e5),_0x5e631c[_0x5b4741(0x87,-0x5e,0x126,0xc5)](_0x2a559c,new _0x9b36f6(_0x5e631c[_0x59b6b8(0x683,0x5c2,0x607,0x537)]));else continue;}for(const _0x2304b7 in _0x3fbcfe){if(_0x5e631c[_0x59b6b8(0x5b3,0x56e,0x625,0x583)](_0x5e631c[_0x59b6b8(0x724,0x789,0x6cf,0x704)],_0x59b6b8(0x53c,0x6b3,0x5df,0x6b3)))_0x48a831[_0x2304b7]&&(_0x5e631c[_0x5b4741(-0x7c,0x20,-0x95,-0x131)](_0x5b4741(-0xe4,-0x165,-0x95,-0xd2),_0x5e631c[_0x5b4741(0x57,0x48,-0x86,0x71)])?_0x5bcc67[_0x2304b7]=_0x48a831[_0x2304b7]:_0x3742f5++);else{_0x28355d['error'](_0x5e631c[_0x5b4741(-0xdb,-0x54,0x8,-0x122)]);return;}}console[_0x5b4741(-0x88,-0x147,-0x5d,-0x100)](_0x59b6b8(0x69d,0x75d,0x6a0,0x6ef)+_0x5b4741(0x62,0xa,-0x6f,0xc4)+_0x5b4741(0x6,0xee,0x19,-0xc7)+_0x59b6b8(0x670,0x682,0x5c2,0x68e)+_0x284658+'\x22');}else{if(_0x5e631c[_0x59b6b8(0x70e,0x722,0x6c9,0x5f9)](_0x59b6b8(0x6ff,0x724,0x6e2,0x793),_0x5e631c[_0x5b4741(-0x79,-0x89,0x64,-0xe0)])){const _0x494e6c=_0x59b6b8(0x6c6,0x6ad,0x5d8,0x60d)+_0x284658+_0x5b4741(0x30,0x10,0xac,0xaf),_0x516cd3=await stylishConfirm(_0x494e6c);if(!_0x516cd3){if(_0x5e631c[_0x5b4741(-0x4b,-0xc8,0x1b,-0x103)]!==_0x5e631c[_0x59b6b8(0x61f,0x64e,0x5f9,0x5cd)]){const _0x484539={};_0x484539[_0x59b6b8(0x473,0x54e,0x563,0x51d)]='outfit',_0x484539[_0x5b4741(-0x104,-0x84,-0x64,-0x1ce)]=_0x480a7b,_0x484539[_0x59b6b8(0x628,0x606,0x611,0x589)]=_0x11ae33,_0x2b606c[_0x5b4741(0xc1,-0x2,0xc8,0x29)](_0x484539);}else continue;}if(!_0x975208[_0x5b4741(0x45,0x102,0x11,-0x9)+_0x5b4741(0x43,0x11f,-0x21,0xb9)]){if(_0x5e631c[_0x59b6b8(0x527,0x619,0x58e,0x656)](_0x5e631c[_0x5b4741(-0x53,-0xf5,-0x2e,0x51)],_0x5b4741(-0x6d,-0xa0,-0x14d,-0xdc)))_0x975208[_0x5b4741(0x45,0x107,-0x80,0x80)+'ets']={};else return _0x5bb6b5[_0x59b6b8(0x55d,0x558,0x54e,0x563)](_0x2967cb=>_0x2969fd(_0x2967cb,_0x15317a,_0x5b0d91,_0x25db8d));}const _0x2995d5={};_0x2995d5['nameCN']=_0x48a831['nameCN'],_0x2995d5['nameEN']=_0x48a831[_0x5b4741(0x29,-0xae,0x3d,0xf4)]||'',_0x2995d5[_0x5b4741(-0x89,-0x30,0x16,-0x19)]=_0x48a831[_0x59b6b8(0x668,0x639,0x5bb,0x632)]||'',_0x2995d5[_0x59b6b8(0x578,0x712,0x65b,0x626)]=_0x48a831[_0x59b6b8(0x63e,0x638,0x65b,0x5d0)]||'',_0x2995d5['upperBodyB'+'ack']=_0x48a831[_0x59b6b8(0x5d1,0x740,0x64b,0x625)+_0x5b4741(-0x105,-0xe1,-0x1ea,-0x120)]||'',_0x2995d5[_0x59b6b8(0x4fa,0x4e4,0x5c5,0x592)]=_0x48a831['fullBody']||'',_0x2995d5[_0x59b6b8(0x5a4,0x578,0x62c,0x718)+'ck']=_0x48a831[_0x59b6b8(0x606,0x5e2,0x62c,0x565)+'ck']||'',_0x975208[_0x5b4741(0x45,0x1,0x29,0xcd)+'ets'][_0x284658]=_0x2995d5,console[_0x5b4741(-0x88,-0xe3,0x14,-0x101)](_0x59b6b8(0x6d1,0x666,0x6a0,0x64f)+_0x59b6b8(0x6d9,0x702,0x6a6,0x6ab)+'fy]\x20已创建服装预'+_0x59b6b8(0x5b8,0x6a9,0x5c2,0x56d)+_0x284658+'\x22');if(_0x48a831[_0x5b4741(-0x89,-0x85,0x3e,-0x110)]&&_0x48a831[_0x5b4741(-0x89,-0xfb,-0x65,-0xa4)]['trim']()){if(_0x5e631c[_0x59b6b8(0x4ca,0x5a4,0x586,0x516)]('sgpaG',_0x5e631c[_0x5b4741(-0x98,-0x9d,-0x6e,0x49)])){const _0x17dbcd={};for(const _0x2f0433 in _0x33bbdc){_0x17dbcd[_0x2f0433]=_0x201e99(_0x32e30a[_0x2f0433],_0x2a0784,_0x203c04,_0xeebac6);}return _0x17dbcd;}else{const _0x276b61=_0x48a831[_0x59b6b8(0x61e,0x4d7,0x5bb,0x698)][_0x5b4741(0xa5,0xca,0x3f,0xc6)]()[_0x59b6b8(0x5de,0x6a2,0x5c6,0x651)+'e']()[_0x5b4741(0x2a,-0x53,0x2a,0x4e)](/\s+/g,'');for(const [_0x1c591a,_0x3d6540]of Object[_0x5b4741(0x69,-0x70,-0x20,-0x73)](_0x975208['characterP'+_0x5b4741(-0xfe,-0x109,-0x67,-0x1be)]||{})){if(_0x3d6540[_0x59b6b8(0x616,0x74d,0x66d,0x582)]&&_0x5e631c[_0x5b4741(0x85,0x65,0xa4,0x3)](_0x3d6540[_0x59b6b8(0x761,0x6eb,0x66d,0x6ce)][_0x59b6b8(0x4f9,0x66f,0x5c6,0x55d)+'e']()[_0x5b4741(0x2a,-0x69,0xdd,-0x1c)](/\s+/g,''),_0x276b61)){if(_0x5e631c[_0x59b6b8(0x600,0x651,0x5ab,0x5ab)]===_0x5e631c[_0x5b4741(-0x99,0x39,0x37,-0xa7)]){!_0x3d6540['outfits']&&(_0x3d6540[_0x5b4741(0x2b,0x10f,0xb4,0x90)]=[]);!_0x3d6540['outfits'][_0x5b4741(-0x5f,0x38,-0xa1,-0x13a)](_0x284658)&&(_0x3d6540[_0x59b6b8(0x746,0x649,0x66f,0x6da)][_0x5b4741(0xc1,0x12,-0x25,0x1e)](_0x284658),console[_0x5b4741(-0x88,-0xa3,0x4,0x30)](_0x59b6b8(0x782,0x5e3,0x6a0,0x6e6)+_0x5b4741(0x62,0xa5,0x3e,-0x70)+_0x59b6b8(0x5c1,0x54f,0x632,0x606)+_0x284658+'\x22\x20已归属到角色\x20\x22'+_0x1c591a+'\x22'));break;}else{const _0x2af308=[_0x5b4741(-0x36,-0x74,0x14,-0x11f),_0x5e631c['KrMIM'],_0x59b6b8(0x6d6,0x7b0,0x6e6,0x7ba)+_0x5b4741(0x21,-0x12,-0x21,0x70),'facialFeat'+_0x5b4741(-0x112,-0x155,-0x7b,-0x82),_0x5e631c[_0x59b6b8(0x644,0x7b2,0x6fc,0x7af)],'upperBodyS'+'FW','upperBodyS'+_0x59b6b8(0x677,0x603,0x6b3,0x723),_0x59b6b8(0x55f,0x593,0x5a2,0x53d)+'W',_0x5b4741(-0xa2,-0x58,-0x117,-0x3)+_0x59b6b8(0x54b,0x5d4,0x539,0x533),_0x5e631c[_0x59b6b8(0x4f0,0x5ef,0x52b,0x488)],'upperBodyN'+_0x59b6b8(0x567,0x603,0x59b,0x4e8),_0x5e631c[_0x59b6b8(0x4fc,0x59a,0x567,0x634)],_0x5e631c[_0x5b4741(-0xe5,-0x1ca,-0x1cd,-0xa)]];_0x2af308['forEach'](_0xff620b=>{function _0x2c2371(_0x1ff144,_0x2ebbec,_0x3a2e4f,_0x1f6c8d){return _0x5b4741(_0x2ebbec- -0x17,_0x2ebbec-0x113,_0x3a2e4f-0x153,_0x3a2e4f);}function _0xcd8fa9(_0x34fa93,_0x9e18a4,_0x33184b,_0x2868ae){return _0x59b6b8(_0x34fa93-0x1d2,_0x9e18a4-0x6b,_0x9e18a4- -0x607,_0x34fa93);}if(_0x166268[_0xff620b]){const _0x1a635a=_0x5dde5f[_0xcd8fa9(-0x13e,-0x88,0x1b,-0x3e)+'ById'](_0xcd8fa9(0x53,0xd,0x84,0xa)+_0xff620b);_0x1a635a&&(_0x1a635a['value']=_0x3125ab[_0xff620b],_0x540296(_0x1a635a)['trigger'](_0xcd8fa9(0x27,0xe7,0x18f,0x1c0)));}});}}}}}}else _0xc55da3(_0x5a0643[_0x5b4741(0x80,0x160,0x29,-0x49)]);}}else _0x2cfb84[_0x5b4741(0xa9,0x19d,0xe,-0x3a)](_0x332f93);}function _0x5b4741(_0x3c393b,_0x3ca3e3,_0x218360,_0x4c915a){return _0x138a(_0x3c393b- -0x2ab,_0x4c915a);}_0x5e631c[_0x59b6b8(0x5f8,0x5a5,0x5ff,0x644)](saveSettingsDebounced);const _0x3c6b31=_0x5e631c[_0x59b6b8(0x632,0x50c,0x5d1,0x50a)]($,_0x5e631c[_0x59b6b8(0x641,0x5a7,0x554,0x5e5)]);_0x3c6b31['length']&&_0x5e631c[_0x5b4741(-0x73,-0x102,-0xc9,-0x164)](refreshCharacterSettings,_0x3c6b31);}function updateFormFields(_0x346074){function _0x1336f6(_0x1e29b1,_0x386cbe,_0x43e9a6,_0x38610f){return _0x138a(_0x1e29b1-0x38c,_0x386cbe);}function _0x5e6dfa(_0x46c866,_0x5557ee,_0x4dce32,_0x12a886){return _0x138a(_0x46c866-0x2bf,_0x12a886);}const _0x5ee2fb={'EsBdY':_0x1336f6(0x5c9,0x6ae,0x650,0x4ef),'wknyl':_0x5e6dfa(0x5ee,0x5ac,0x565,0x588),'KPrix':'上半身NSFW背面:','FBNrj':function(_0x36580c,_0x13acf9){return _0x36580c===_0x13acf9;},'RFBsN':function(_0x535dc5,_0x410205){return _0x535dc5!==_0x410205;},'uLerx':_0x5e6dfa(0x628,0x6aa,0x628,0x551),'PplDg':function(_0x293aa0,_0x39748c){return _0x293aa0(_0x39748c);},'BjZtV':'input','ncbIM':_0x5e6dfa(0x593,0x5fd,0x5b1,0x62a),'HYwDv':_0x1336f6(0x6d9,0x762,0x74f,0x62d)+_0x5e6dfa(0x58b,0x5a9,0x4d8,0x4a8),'GSnjI':'facialFeat'+_0x1336f6(0x525,0x560,0x5b4,0x59e),'utXNy':'facialFeat'+_0x1336f6(0x5c7,0x605,0x5d1,0x5c3),'VZycQ':_0x5e6dfa(0x49b,0x53b,0x52f,0x52c)+'FW','AjGAl':_0x5e6dfa(0x49b,0x459,0x41c,0x4a3)+_0x1336f6(0x6a6,0x68f,0x748,0x768),'FDEAj':_0x1336f6(0x595,0x4b6,0x4e4,0x50d)+_0x5e6dfa(0x45f,0x4b3,0x549,0x48f),'bjGVm':_0x5e6dfa(0x48b,0x4a1,0x48f,0x49b)+_0x5e6dfa(0x46b,0x3ee,0x3ce,0x3bb),'ociUb':_0x5e6dfa(0x48b,0x52c,0x3c3,0x44b)+_0x5e6dfa(0x4c1,0x4ec,0x4e7,0x4fa),'olknx':_0x1336f6(0x66b,0x6f0,0x74f,0x618)+'FW','gRHEt':'fullBodyNS'+'FWBack'},_0x32fa1d=[_0x5e6dfa(0x534,0x565,0x5e9,0x515),_0x5ee2fb['ncbIM'],_0x5ee2fb[_0x1336f6(0x609,0x66a,0x58b,0x647)],_0x5ee2fb[_0x5e6dfa(0x5b5,0x676,0x63b,0x5b9)],_0x5ee2fb[_0x5e6dfa(0x4f3,0x4fd,0x448,0x4d5)],_0x5ee2fb[_0x5e6dfa(0x60d,0x53a,0x6eb,0x6f4)],_0x5ee2fb[_0x1336f6(0x62e,0x5bd,0x5ea,0x66d)],'fullBodySF'+'W',_0x5ee2fb[_0x5e6dfa(0x610,0x56d,0x625,0x56e)],_0x5ee2fb['bjGVm'],_0x5ee2fb['ociUb'],_0x5ee2fb[_0x1336f6(0x65e,0x6b0,0x5a8,0x5e5)],_0x5ee2fb[_0x1336f6(0x681,0x5c4,0x5ad,0x709)]];_0x32fa1d[_0x1336f6(0x62d,0x59e,0x6c2,0x581)](_0x595b70=>{function _0x421d0c(_0x22e8a6,_0x3a6ff1,_0x5caf1c,_0x35ada0){return _0x1336f6(_0x35ada0- -0x5b4,_0x5caf1c,_0x5caf1c-0x1e7,_0x35ada0-0x45);}function _0x192ea4(_0x34713a,_0x2fc9ef,_0x51940d,_0x2dfe06){return _0x5e6dfa(_0x51940d- -0x160,_0x2fc9ef-0x125,_0x51940d-0xe8,_0x2fc9ef);}if(_0x5ee2fb[_0x421d0c(-0xde,-0x118,-0xd1,-0x2b)](_0x421d0c(-0xd,0x19e,0x5f,0xe3),_0x192ea4(0x3ff,0x494,0x46a,0x411))){if(_0x346074[_0x595b70]){if(_0x5ee2fb[_0x421d0c(-0x87,-0x5a,-0x5c,0xf)](_0x5ee2fb[_0x192ea4(0x21e,0x36c,0x30e,0x2df)],_0x192ea4(0x450,0x44c,0x3ee,0x4af))){const _0x4c5489=document[_0x421d0c(-0xe0,0x68,-0x5f,-0x42)+_0x421d0c(0x22,-0x10e,-0x4e,-0x35)](_0x192ea4(0x2f5,0x39f,0x3da,0x451)+_0x595b70);_0x4c5489&&(_0x4c5489[_0x192ea4(0x387,0x3b8,0x365,0x343)]=_0x346074[_0x595b70],_0x5ee2fb[_0x192ea4(0x392,0x2a7,0x2f0,0x2cb)]($,_0x4c5489)[_0x192ea4(0x3be,0x32e,0x422,0x484)](_0x5ee2fb[_0x192ea4(0x31e,0x3e1,0x3ad,0x36b)]));}else{const _0x3ef9e5={};_0x3ef9e5[_0x421d0c(-0x35,-0xce,-0x23,-0x5e)]=_0x5ee2fb[_0x421d0c(0x89,-0xb1,-0x125,-0x3c)],_0x3ef9e5[_0x421d0c(0x49,-0x1,-0x110,-0x81)]=_0x59e84b,_0x3ef9e5['position']=_0x20fd53,_0x3ef9e5[_0x192ea4(0x4f3,0x414,0x492,0x56f)+_0x192ea4(0x4b4,0x50e,0x486,0x44b)]=[],_0x449559[_0x192ea4(0x55c,0x4be,0x4cb,0x492)](_0x3ef9e5);}}}else{let _0x5df607=_0x1fbf9f[_0x421d0c(-0x4,0x3f,0x45,0xad)](/:/g,':')[_0x192ea4(0x4a2,0x3fc,0x434,0x461)](/,/g,',');return _0x5df607=_0x5df607['replace'](/下半身NSWebcam:/g,_0x192ea4(0x467,0x502,0x48e,0x425)),_0x5df607=_0x5df607[_0x192ea4(0x33f,0x40d,0x434,0x373)](/下半身NSFW_背面:/g,_0x5ee2fb[_0x192ea4(0x594,0x50a,0x4a1,0x469)]),_0x5df607=_0x5df607['replace'](/上半身NSFW_背面:/g,_0x5ee2fb[_0x421d0c(0xe7,0xaf,0x95,0xfb)]),_0x5df607;}});}