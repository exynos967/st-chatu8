(function(_0x1d59aa,_0x800305){function _0x5da23e(_0x561c35,_0x49f3e6,_0x50555e,_0x452172){return _0x5159(_0x49f3e6- -0x2b6,_0x452172);}const _0x44ffdf=_0x1d59aa();function _0x16452a(_0xb9861d,_0x21bb3c,_0x674a7f,_0x4adff5){return _0x5159(_0x21bb3c-0x246,_0xb9861d);}while(!![]){try{const _0x2c37c7=parseInt(_0x16452a(0x445,0x40b,0x42a,0x447))/(0x113e+-0x1248+-0x59*-0x3)+-parseInt(_0x5da23e(-0x66,-0xa5,-0xd2,-0x61))/(-0x1191*0x1+-0x3a9*-0x1+-0x2*-0x6f5)*(-parseInt(_0x5da23e(-0x13c,-0x113,-0xe8,-0x131))/(-0x269b*-0x1+0x1949+0x154b*-0x3))+-parseInt(_0x16452a(0x443,0x414,0x434,0x444))/(-0x161c+0x3*0x56c+0x5dc)*(-parseInt(_0x5da23e(-0x143,-0x10a,-0x109,-0xe0))/(-0x175e+0xb16+-0xc4d*-0x1))+-parseInt(_0x5da23e(-0xd0,-0xa9,-0x99,-0xb3))/(-0xe45+0x2659+0x180e*-0x1)*(parseInt(_0x16452a(0x3f9,0x3eb,0x40f,0x42b))/(0xde6+-0x1082+0x2a3))+-parseInt(_0x16452a(0x3a4,0x3e7,0x426,0x429))/(-0x851+-0x21f*0x7+0x1732)*(-parseInt(_0x5da23e(-0xdb,-0x102,-0x11a,-0x101))/(0x4f2+-0xb24+0x63b))+parseInt(_0x16452a(0x45b,0x455,0x45b,0x444))/(-0xba7+-0x1013*0x1+0x1bc4)+parseInt(_0x5da23e(-0x101,-0x112,-0xe0,-0x152))/(0x12f*-0xb+0x14b4+-0x7a4)*(-parseInt(_0x5da23e(-0x12f,-0xfc,-0xc4,-0xf6))/(-0x2368+-0x1f63+0xf1*0x47));if(_0x2c37c7===_0x800305)break;else _0x44ffdf['push'](_0x44ffdf['shift']());}catch(_0x4e8c88){_0x44ffdf['push'](_0x44ffdf['shift']());}}}(_0x3b71,-0xa7d92+-0x134f8+-0x107*-0x1121));const _0x24170c=(function(){const _0x5c4a7b={'XWVWs':'[ComfyUI\x20K'+_0x2e7095(0x3da,0x426,0x3c8,0x3fb)+'停止保活定时器','xguLC':function(_0x24eec0,_0x45ff60){return _0x24eec0(_0x45ff60);},'OYJsK':_0x16ce22(0x2b7,0x2f4,0x28f,0x2c5)+_0x2e7095(0x3f8,0x40f,0x3d8,0x3fb)+_0x16ce22(0x315,0x2f8,0x2fd,0x353)+'ing','FaRWL':function(_0x521eef,_0x2239a1){return _0x521eef===_0x2239a1;},'JKHgE':_0x16ce22(0x2bc,0x290,0x29d,0x2ed),'QEVqE':function(_0x452011,_0x5a8000){return _0x452011!==_0x5a8000;},'OkegV':_0x2e7095(0x3be,0x3e5,0x3e1,0x3a8),'hiUrt':'zAGOw','kNyDz':_0x16ce22(0x2d5,0x2b1,0x2cf,0x2b4),'cSlKp':'WgjsF'};function _0x16ce22(_0xa5464,_0xe0e99f,_0x1204fe,_0x57ca9a){return _0x5159(_0xa5464-0x11a,_0x1204fe);}let _0x128067=!![];function _0x2e7095(_0x5584e9,_0x1a61cf,_0x28e44d,_0x91a56f){return _0x5159(_0x91a56f-0x1e0,_0x28e44d);}return function(_0xe0ecb7,_0x24eda0){function _0x5b8e68(_0x4fe744,_0x54e3d1,_0x185063,_0x1233a1){return _0x16ce22(_0x185063-0x1a4,_0x54e3d1-0x14e,_0x4fe744,_0x1233a1-0x21);}const _0x1343eb={'plvdR':_0x5c4a7b['OYJsK'],'VlLyL':function(_0x2118d9,_0x3c99f5){function _0x3cd8ae(_0xe4a7ff,_0x1c0eb3,_0x58b9fd,_0x17bed1){return _0x5159(_0x58b9fd- -0x17a,_0x1c0eb3);}return _0x5c4a7b[_0x3cd8ae(0xb2,0xa3,0x8a,0xab)](_0x2118d9,_0x3c99f5);},'geBBJ':_0x5c4a7b['JKHgE'],'DfgIK':function(_0x344b85,_0x3a74a8){function _0x13ff35(_0x2111dc,_0x33f70e,_0x5154be,_0x2f2719){return _0x5159(_0x33f70e-0x2e6,_0x2111dc);}return _0x5c4a7b[_0x13ff35(0x4fb,0x4bb,0x4e3,0x4d4)](_0x344b85,_0x3a74a8);},'hbpdI':_0x5c4a7b[_0x5b8e68(0x4b5,0x4c7,0x4bf,0x4c0)],'OyVaf':_0x5c4a7b[_0x57a57f(0xb9,0xd6,0xf5,0xf1)],'ONxXw':_0x5c4a7b[_0x57a57f(0x93,0xb6,0xbe,0x9e)]};function _0x57a57f(_0x3c24aa,_0x564892,_0x48583c,_0x2a7ec5){return _0x16ce22(_0x3c24aa- -0x222,_0x564892-0x14d,_0x48583c,_0x2a7ec5-0x10d);}if(_0x5c4a7b['cSlKp']===_0x57a57f(0xdb,0x106,0xad,0xe2))_0x3839ce&&(_0x39eae6['log'](_0x5c4a7b[_0x5b8e68(0x4a7,0x453,0x48f,0x462)]),_0x5c4a7b[_0x57a57f(0xff,0xf0,0xbe,0x136)](_0x471868,_0x20a112),_0xd0d5f2=null);else{const _0x30370c=_0x128067?function(){const _0x57c98d={'sXRwl':function(_0x16c37b,_0x2931b6){function _0x8ec3b4(_0x29b1b0,_0x34a8d7,_0x50715b,_0x334b8e){return _0x5159(_0x334b8e-0xf2,_0x34a8d7);}return _0x1343eb[_0x8ec3b4(0x2a5,0x26b,0x277,0x299)](_0x16c37b,_0x2931b6);},'nHmEb':_0x1343eb[_0x5c4bfa(0x4fd,0x528,0x554,0x535)]};function _0x54424f(_0x16a9ea,_0x454abb,_0x2cc763,_0x22eb81){return _0x5b8e68(_0x22eb81,_0x454abb-0x18e,_0x2cc763- -0x442,_0x22eb81-0x1d6);}function _0x5c4bfa(_0x54f013,_0xf36e8c,_0x1dd517,_0x1837a5){return _0x57a57f(_0xf36e8c-0x456,_0xf36e8c-0x15f,_0x54f013,_0x1837a5-0x2d);}if(_0x1343eb[_0x54424f(0x4a,0x87,0x7a,0x46)](_0x54424f(0x1b,0x77,0x44,0x39),_0x1343eb['hbpdI'])){_0x7fbc6d[_0x5c4bfa(0x573,0x536,0x50d,0x51b)](_0x1343eb[_0x54424f(0x88,0x38,0x60,0x66)]);return;}else{if(_0x24eda0){if(_0x1343eb[_0x5c4bfa(0x582,0x54c,0x570,0x586)](_0x1343eb[_0x54424f(0x45,0x33,0x66,0x56)],_0x1343eb[_0x54424f(0xa9,0x71,0x7f,0xaa)])){const _0x134b33=_0x24eda0[_0x5c4bfa(0x4d8,0x4e7,0x4ac,0x4f1)](_0xe0ecb7,arguments);return _0x24eda0=null,_0x134b33;}else{const _0x55d8b3=_0x15f43e[_0x32feb9];if(!_0x55d8b3)return![];const _0x4db0e4=_0x55d8b3['scriptEnab'+_0x5c4bfa(0x552,0x54a,0x528,0x569)]===!![]||_0x57c98d[_0x54424f(0x8f,0x78,0x4c,0x72)](_0x55d8b3[_0x54424f(0x1f,0x6c,0x29,0x55)+_0x54424f(0x4f,0xa2,0x78,0xaa)],_0x57c98d[_0x54424f(0x45,0x29,0x57,0x30)]),_0x5e41e4=_0x57c98d[_0x54424f(0x4b,0x76,0x4c,0x66)](_0x55d8b3[_0x5c4bfa(0x511,0x51b,0x53f,0x4f3)],'comfyui');return _0x4db0e4&&_0x5e41e4;}}}}:function(){};return _0x128067=![],_0x30370c;}};}()),_0x4198d3=_0x24170c(this,function(){function _0x2eae6f(_0x5ac3e6,_0x1078a0,_0x447789,_0x139451){return _0x5159(_0x1078a0- -0x38f,_0x447789);}function _0x36f1bc(_0x3ed92,_0xf8086d,_0x531adc,_0x5a8be7){return _0x5159(_0xf8086d- -0x24b,_0x5a8be7);}const _0x4e2177={};_0x4e2177[_0x36f1bc(-0x81,-0x98,-0xcb,-0xc0)]='(((.+)+)+)'+'+$';const _0x4baa24=_0x4e2177;return _0x4198d3[_0x2eae6f(-0x19d,-0x196,-0x19b,-0x1d9)]()['search'](_0x4baa24['DYPJH'])['toString']()[_0x36f1bc(-0x8f,-0x7c,-0xac,-0x96)+'r'](_0x4198d3)[_0x36f1bc(-0x4e,-0x32,-0x42,-0x4d)](_0x4baa24[_0x36f1bc(-0x69,-0x98,-0xb7,-0x66)]);});_0x4198d3();import{extension_settings}from'../../../../extensions.js';function _0x3b71(){const _0x13b502=['y3LXrfK','ntzrvLHTwMm','Dhj1zq','mtK5oda1n1LztLbcrG','mtfuBLfWtey','mtyYnfLjDgD0rW','B05Hz04','vMXmEuW','DgXOCgi','ugLUzYdLPlhOTkuGkgq','yxrZ','Eefds3y','nwHIDfLRrG','C2nYAxb0rw5HyG','ywzKtNC','qMjPr2G','tufyDgW','AxjLy3qP','qLbNt24','rfLqsKG','nZq1ody2rKDdAeXj','qMDNueC','ugLUzYdLVilLUlGGkhy','vwDkDNu','z29AC2e','tcdMNkRORR7NVA4','mtC2nty2ntzyCwDIs0i','Dw5Rr08','Aw5N','r2HyExO','t3PJt08','u3j6Cgu','AxjLy3qPoG','AgLvCNq','Cgz3vKW','ue9tva','sMffr28','odqWodzOrLb4wLu','r05mCei','r0vu','BfDprMu','ugLUzYdMIjdLIP8Gkgq','zhrdBfK','ugLUzYdLVilLUlGGkgq','Bwz5l3bPBMC','Bw9Kzq','mty5nde4mfLxDevdrG','y29UC3rYDwn0BW','C1HsD2W','wfDwv3m','se1kyMe','B3L2vKe','ugLUzYdMIjdLIP8Gkhy','uuvwCuu','BwvZC2fNzq','5ygC5Q2I5l+D5Rs75A6A5PE25zMO','y2XPzw50','C3rYAw5NAwz5','z2vcqKO','BKHTrwi','5yID5AEl5yYw5l+D5Rs75QIH5z2x','weXgy2W','5P2H5lU25lIn5RUH6lAZ77Ym5lIn5zcV5yQO5l+D','vxz0wgm','r2Lzz3e','Egj5qvm','DwXiAwi','zMzXA0m','CgX2zfi','zNPzEhq','y29TzNL1Aq','vhfmsum','Bg9N','rKr5wu4','t3Lwywy','DhjPBq','rvnbtfm','AM5pAvG','uhb6y20','kcGOlISPkYKRkq','CuXnDuS','D1blu2C','AweGu2LSBhLuyq','EKvJyu8','DM9dy2q','A3HqC3e','l2fWAs9Zzc9JBW','DxjS','q29TzNLvssbvuG','Dg9tDhjPBMC','uM9KCNa','5P2H5lU25lIn5RUH6lAZ77Ym6lEZ6l+hiha','BgvK','D1z1sNi','rgzNsuS','EM5sD0K','DvnQwu0','t2TLz1y','C3rHDhvZ','t054whC','rMfsv0W','ve9KDgy','DMvYBIK6','EgD1tem','y29TzNL1AvvYBa','ugLUzYdLPlhOTkuGkhy','Cg1Zqwm','B0XQsfy','DMvYBIK','mtaWmZHvuhbvDLu','EMH0v1O','ndKYnda5mejbu3fmsa','rKPOsMe','mNLbtLnLyW','BeT4reK','s3DHqxy','BerzuKS','Du9rDvq','yMDHzMu','qvfTBue','uMP6D2q','C2vHCMnO','AML1z3vHBG','zwvWqwXPDMvDia','vhvND3K','D01xq3a','BI9QC29U','zLHyyue','yxbWBhK','Dg9Rzw4','A055rhO','l3n5C3rLBv9ZDa','w0nVBwz5vuKGsW','wgfcBLy','yxbWBgLJyxrPBW'];_0x3b71=function(){return _0x13b502;};return _0x3b71();}import{extensionName}from'./config.js';import{getRequestHeaders}from'./utils.js';let keepAliveTimer=null;const KEEP_ALIVE_INTERVAL=-0x11a8+-0x38d1+0x7189;function shouldKeepAlive(){const _0x5019bc={};function _0x45d159(_0x47d0dc,_0x2b538d,_0xefec71,_0x4c69c5){return _0x5159(_0x4c69c5- -0xc1,_0xefec71);}_0x5019bc['JaEGo']=function(_0x4d9096,_0x5362f9){return _0x4d9096===_0x5362f9;},_0x5019bc[_0x45d159(0xf4,0x127,0x12c,0xf6)]=_0xa36963(0x532,0x4f1,0x528,0x531),_0x5019bc[_0x45d159(0x131,0x113,0x11f,0x128)]=_0xa36963(0x5a4,0x53c,0x56c,0x586);function _0xa36963(_0xa08972,_0x4474be,_0x38f965,_0x2d6552){return _0x5159(_0x38f965-0x386,_0x2d6552);}const _0x5b4cf1=_0x5019bc,_0x189077=extension_settings[extensionName];if(!_0x189077)return![];const _0x4ab694=_0x5b4cf1[_0xa36963(0x53f,0x520,0x54a,0x534)](_0x189077[_0xa36963(0x566,0x52f,0x533,0x56f)+_0x45d159(0x13a,0x115,0xfc,0x13b)],!![])||_0x189077[_0xa36963(0x56a,0x4f3,0x533,0x511)+_0xa36963(0x56a,0x57a,0x582,0x567)]===_0x5b4cf1['UgJvu'],_0x568ef8=_0x5b4cf1['JaEGo'](_0x189077[_0xa36963(0x583,0x596,0x553,0x584)],_0x5b4cf1[_0xa36963(0x57d,0x573,0x56f,0x552)]);return _0x4ab694&&_0x568ef8;}async function pingViaSillyTavern(){function _0x383eec(_0x2fdde6,_0x1ae309,_0x4c8187,_0x225e5a){return _0x5159(_0x2fdde6-0x1a5,_0x4c8187);}function _0x375b4a(_0x3ad8a0,_0xf4e28f,_0x25a591,_0x24a298){return _0x5159(_0x24a298-0x1f1,_0xf4e28f);}const _0x27163c={'FJhJa':_0x383eec(0x342,0x383,0x373,0x374)+_0x375b4a(0x449,0x43f,0x3ca,0x40c)+_0x375b4a(0x3d3,0x39c,0x3c9,0x3a7)+_0x383eec(0x397,0x3cf,0x396,0x354)+'vern):','eCNcU':_0x383eec(0x342,0x382,0x34c,0x334)+_0x375b4a(0x406,0x3d0,0x3d2,0x40c)+_0x383eec(0x39d,0x37f,0x384,0x3de)+_0x375b4a(0x388,0x391,0x3d8,0x3aa),'wMWCp':_0x375b4a(0x3e7,0x3f4,0x418,0x3e7)+_0x375b4a(0x393,0x390,0x3a8,0x3bd),'znRwI':_0x383eec(0x368,0x39c,0x373,0x355),'xEJsY':function(_0x153821,_0x223968){return _0x153821(_0x223968);},'BbiGh':_0x375b4a(0x35b,0x36c,0x3a1,0x38e)+'eepAlive]\x20'+_0x383eec(0x379,0x341,0x336,0x336)+_0x383eec(0x397,0x3a1,0x3b4,0x37d)+_0x375b4a(0x3bb,0x3cb,0x3fc,0x3fd),'TOdtf':function(_0x2795dc,_0x106442){return _0x2795dc===_0x106442;},'BggPG':_0x375b4a(0x407,0x3b6,0x3f9,0x3d3)};try{const _0x55a888=extension_settings[extensionName]?.[_0x383eec(0x3ad,0x3af,0x394,0x3c6)]?.['trim']();if(!_0x55a888){console[_0x383eec(0x38d,0x364,0x38b,0x394)](_0x27163c['eCNcU']);return;}const _0x495db2={};_0x495db2[_0x375b4a(0x426,0x40c,0x42c,0x3e8)]=_0x55a888;const _0x582ebd=await fetch(_0x27163c[_0x375b4a(0x44a,0x446,0x42b,0x40e)],{'method':_0x27163c[_0x383eec(0x3a4,0x36f,0x3e4,0x3d6)],'headers':_0x27163c['xEJsY'](getRequestHeaders,window[_0x383eec(0x33f,0x300,0x346,0x337)]),'body':JSON[_0x375b4a(0x3a0,0x3d5,0x3e1,0x3ca)](_0x495db2)});_0x582ebd['ok']?console['log'](_0x27163c[_0x375b4a(0x3a3,0x379,0x3d9,0x3a0)]):_0x27163c[_0x383eec(0x3aa,0x3c9,0x3bd,0x369)](_0x383eec(0x392,0x37a,0x365,0x3d3),'xbLcS')?_0xe827f6[_0x375b4a(0x3df,0x39f,0x3a5,0x3d9)](_0x27163c[_0x383eec(0x3b5,0x3bd,0x376,0x387)],_0x1fcd95[_0x383eec(0x37b,0x363,0x3b6,0x353)]):console[_0x383eec(0x38d,0x3ac,0x3b3,0x36d)](_0x383eec(0x342,0x379,0x36d,0x37d)+_0x383eec(0x3c0,0x3d0,0x3ca,0x39e)+_0x383eec(0x3ae,0x3c2,0x3ed,0x3e4)+_0x375b4a(0x3da,0x412,0x41b,0x3e3)+_0x383eec(0x3ab,0x3b7,0x37a,0x3b1),_0x582ebd[_0x375b4a(0x3b8,0x3dd,0x3d2,0x3f3)]);}catch(_0xc50cbc){_0x27163c[_0x383eec(0x35a,0x373,0x388,0x37a)]!==_0x27163c[_0x375b4a(0x3e6,0x3cd,0x3c5,0x3a6)]?_0x494443():console[_0x383eec(0x38d,0x392,0x3bd,0x3aa)]('[ComfyUI\x20K'+_0x383eec(0x3c0,0x3ce,0x3eb,0x3c2)+_0x383eec(0x35b,0x348,0x35a,0x36b)+_0x383eec(0x397,0x398,0x3c8,0x38b)+_0x383eec(0x3ab,0x3b5,0x3c8,0x3d0),_0xc50cbc[_0x383eec(0x37b,0x34b,0x387,0x37a)]);}}function _0x5159(_0x38d7ba,_0x509651){_0x38d7ba=_0x38d7ba-(0x15*0x14b+0x576+0x634*-0x5);const _0x11aa9f=_0x3b71();let _0x2ea631=_0x11aa9f[_0x38d7ba];if(_0x5159['BhUJLd']===undefined){var _0x1ccc54=function(_0x4982ce){const _0x29d251='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x264216='',_0x1975bd='',_0x1351e8=_0x264216+_0x1ccc54;for(let _0x3bf3c4=0x2*-0x304+0x3b3*0x6+0x1*-0x102a,_0x4a0a3e,_0x1a8d67,_0x347dd8=0x695+-0x2*-0x178+-0x985*0x1;_0x1a8d67=_0x4982ce['charAt'](_0x347dd8++);~_0x1a8d67&&(_0x4a0a3e=_0x3bf3c4%(0x3ea+-0x3*0x33b+0x5cb)?_0x4a0a3e*(-0x3*-0xc83+0x11e7*-0x2+-0x1*0x17b)+_0x1a8d67:_0x1a8d67,_0x3bf3c4++%(-0x296*-0x9+-0x9*-0x7+-0x1781))?_0x264216+=_0x1351e8['charCodeAt'](_0x347dd8+(-0x11e7*-0x2+0x4*0x42d+0x68f*-0x8))-(-0x1*-0x1f7+0x1613+-0x1800)!==-0xd58+0x383*0x9+-0x1243?String['fromCharCode'](0x20b*-0x2+-0x73+-0xec*-0x6&_0x4a0a3e>>(-(-0x1a1*0xb+0x1ede+-0xcf1)*_0x3bf3c4&-0x1ac3+0x11*0xa7+-0xfb2*-0x1)):_0x3bf3c4:-0x15f3+0x628*-0x1+0x1c1b){_0x1a8d67=_0x29d251['indexOf'](_0x1a8d67);}for(let _0x22c894=-0x2b6*0xc+-0x14f4+0x357c,_0x5e3107=_0x264216['length'];_0x22c894<_0x5e3107;_0x22c894++){_0x1975bd+='%'+('00'+_0x264216['charCodeAt'](_0x22c894)['toString'](-0x1d3d+0x2*-0xa3d+0x1*0x31c7))['slice'](-(0xc76+-0xcee+0x7a));}return decodeURIComponent(_0x1975bd);};_0x5159['JztEJx']=_0x1ccc54,_0x5159['xgGTpG']={},_0x5159['BhUJLd']=!![];}const _0x2fa8a5=_0x11aa9f[0x1f0e+0x13d*0xf+0x16b*-0x23],_0x3179bc=_0x38d7ba+_0x2fa8a5,_0x3c0dc0=_0x5159['xgGTpG'][_0x3179bc];if(!_0x3c0dc0){const _0x159d09=function(_0x59917b){this['WazVje']=_0x59917b,this['KonXfL']=[-0x1916+0x1*0xaa3+0xe74,0x287+0x38*-0x6a+0x14a9,-0x1*0x1c61+0x1e00+-0x19f],this['NuGRFc']=function(){return'newState';},this['jtCzWP']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['EbASeT']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x159d09['prototype']['EyoCmX']=function(){const _0x4ac7ca=new RegExp(this['jtCzWP']+this['EbASeT']),_0x3937d4=_0x4ac7ca['test'](this['NuGRFc']['toString']())?--this['KonXfL'][-0x1ae*0x2+0x1daa+-0x1a4d]:--this['KonXfL'][-0x20a5+0x150f*-0x1+0x35b4];return this['TXYGlY'](_0x3937d4);},_0x159d09['prototype']['TXYGlY']=function(_0x7794c3){if(!Boolean(~_0x7794c3))return _0x7794c3;return this['CGwQwo'](this['WazVje']);},_0x159d09['prototype']['CGwQwo']=function(_0x15affe){for(let _0x1d6d58=0x1*0x18df+-0x2*-0xceb+-0x32b5,_0x41315e=this['KonXfL']['length'];_0x1d6d58<_0x41315e;_0x1d6d58++){this['KonXfL']['push'](Math['round'](Math['random']())),_0x41315e=this['KonXfL']['length'];}return _0x15affe(this['KonXfL'][-0x4*-0x812+-0x1*0x607+0x205*-0xd]);},new _0x159d09(_0x5159)['EyoCmX'](),_0x2ea631=_0x5159['JztEJx'](_0x2ea631),_0x5159['xgGTpG'][_0x3179bc]=_0x2ea631;}else _0x2ea631=_0x3c0dc0;return _0x2ea631;}async function pingDirect(){function _0x240851(_0x490bab,_0xdbfd40,_0x2617ea,_0x1d9319){return _0x5159(_0xdbfd40-0x121,_0x490bab);}const _0x36fe2c={'pmsAc':_0x27df53(0x289,0x29b,0x2c6,0x2b0)+'eepAlive]\x20'+'ComfyUI\x20UR'+_0x27df53(0x301,0x2be,0x2e2,0x2d8),'KcEuo':_0x27df53(0x2b3,0x28b,0x2c6,0x2c1)+_0x27df53(0x343,0x368,0x344,0x317)+_0x240851(0x2fd,0x2fd,0x2f9,0x327),'HMJba':function(_0x6f6157){return _0x6f6157();},'Tugwy':function(_0xa2eccc,_0x5ae932){return _0xa2eccc!==_0x5ae932;},'Rodrp':_0x27df53(0x33d,0x328,0x348,0x315),'cyqDY':function(_0x475421,_0x2f8f68,_0x39af7c){return _0x475421(_0x2f8f68,_0x39af7c);},'qLMuK':_0x240851(0x2eb,0x2c0,0x2c8,0x2dc)+_0x240851(0x343,0x33f,0x33d,0x322),'pfwVL':function(_0x391303,_0x6676dc){return _0x391303===_0x6676dc;},'Srzpe':_0x27df53(0x323,0x343,0x33f,0x31c),'fzYxt':function(_0x53756d,_0x2db62f){return _0x53756d!==_0x2db62f;},'SNlxH':'GkOnF','MAXtl':_0x240851(0x313,0x30f,0x2f2,0x31f),'xACKv':_0x240851(0x2a0,0x2be,0x2f3,0x29c)+_0x240851(0x34a,0x33c,0x303,0x307)+_0x240851(0x2de,0x2ca,0x2b1,0x2cc)+_0x240851(0x303,0x2e1,0x308,0x30e),'sRKTV':_0x240851(0x2f0,0x334,0x363,0x374),'wPKSg':'VjBHa','lDYRK':_0x240851(0x2df,0x2be,0x2e0,0x282)+_0x240851(0x364,0x33c,0x323,0x35c)+_0x27df53(0x2f7,0x2f7,0x2f4,0x32f)+'irect):'};function _0x27df53(_0x810c7,_0x39b1cb,_0x3b343a,_0x202467){return _0x5159(_0x3b343a-0x129,_0x202467);}try{const _0x5f55f9=extension_settings[extensionName]?.[_0x27df53(0x32b,0x339,0x331,0x365)]?.[_0x27df53(0x303,0x2f3,0x314,0x327)]();if(!_0x5f55f9){if(_0x36fe2c[_0x27df53(0x367,0x365,0x345,0x324)](_0x36fe2c[_0x27df53(0x35b,0x332,0x323,0x363)],_0x36fe2c['Rodrp'])){if(_0x4a569e){const _0x2c2d16=_0x280d5c[_0x27df53(0x2a6,0x2ea,0x2c2,0x2a0)](_0x5b639d,arguments);return _0x4412e3=null,_0x2c2d16;}}else{console[_0x27df53(0x30a,0x336,0x311,0x313)](_0x36fe2c[_0x27df53(0x372,0x318,0x333,0x34f)]);return;}}const _0x51627d=await _0x36fe2c[_0x27df53(0x2ed,0x2fd,0x2c9,0x292)](fetch,_0x5f55f9+(_0x240851(0x2fc,0x2bd,0x2fa,0x29e)+_0x240851(0x2c4,0x2cb,0x289,0x30e)),{'method':_0x240851(0x2bc,0x2e8,0x2e3,0x2f6),'headers':{'Content-Type':_0x36fe2c[_0x27df53(0x33d,0x2eb,0x319,0x315)]}});if(_0x51627d['ok']){if(_0x36fe2c[_0x27df53(0x313,0x2be,0x2eb,0x2fd)](_0x36fe2c[_0x240851(0x2ed,0x2e0,0x2d9,0x2f7)],_0x36fe2c[_0x240851(0x2bf,0x2e0,0x31d,0x324)]))console[_0x240851(0x30f,0x309,0x34c,0x31c)]('[ComfyUI\x20K'+_0x27df53(0x315,0x326,0x344,0x351)+_0x240851(0x2cf,0x2ea,0x2ff,0x32e)+_0x27df53(0x2c6,0x30e,0x2da,0x2e2));else{const _0x465353=_0x273b85?function(){if(_0x4005da){const _0x55add3=_0x3fcc92['apply'](_0x4fbb27,arguments);return _0x2189a1=null,_0x55add3;}}:function(){};return _0x1431fb=![],_0x465353;}}else{if(_0x36fe2c[_0x27df53(0x2d8,0x2e9,0x30e,0x2ea)](_0x36fe2c['SNlxH'],_0x36fe2c[_0x240851(0x2e0,0x2d1,0x290,0x2e8)]))console[_0x240851(0x2c9,0x309,0x340,0x34d)](_0x36fe2c[_0x240851(0x2b7,0x2cc,0x29b,0x2c4)],_0x51627d['status']);else{_0x3d3932['log'](_0x36fe2c[_0x240851(0x2ed,0x32b,0x2ee,0x2fb)]);return;}}}catch(_0x44e2ad){_0x36fe2c['sRKTV']!==_0x36fe2c[_0x27df53(0x330,0x354,0x31a,0x333)]?console[_0x240851(0x2d8,0x309,0x328,0x349)](_0x36fe2c[_0x240851(0x342,0x335,0x32c,0x331)],_0x44e2ad[_0x27df53(0x326,0x313,0x2ff,0x2d3)]):(_0x50cff2[_0x27df53(0x340,0x2fd,0x311,0x2d5)](_0x36fe2c['KcEuo']),_0x36fe2c[_0x240851(0x2f7,0x2f3,0x311,0x2fc)](_0x38d7ba));}}async function doPing(){const _0x2a26fa={'LlKPU':_0x446740(-0x218,-0x201,-0x1d6,-0x207)+'eepAlive]\x20'+_0x5e5c07(-0xee,-0xe5,-0xe5,-0x107)+'活','wVuJr':function(_0x344aa7){return _0x344aa7();},'BPgOn':'[ComfyUI\x20K'+'eepAlive]\x20'+_0x5e5c07(-0x89,-0xac,-0xc8,-0xdb)+_0x446740(-0x1fc,-0x1e2,-0x20c,-0x1d8),'hIFGn':_0x446740(-0x1a9,-0x184,-0x198,-0x1b3),'vpnvJ':_0x5e5c07(-0x159,-0x143,-0x11b,-0x12e),'GhXyz':function(_0x27469e){return _0x27469e();}};function _0x5e5c07(_0x47ffb9,_0x3dcfcc,_0x1b0bca,_0xcbbef6){return _0x5159(_0x1b0bca- -0x2c3,_0xcbbef6);}if(!_0x2a26fa[_0x5e5c07(-0x8b,-0x9d,-0xc6,-0xf4)](shouldKeepAlive)){console[_0x446740(-0x19b,-0x1b6,-0x1db,-0x1b8)](_0x2a26fa[_0x446740(-0x1aa,-0x1ec,-0x21c,-0x20a)]);return;}const _0x93f88f=extension_settings[extensionName]?.[_0x5e5c07(-0x12c,-0xf0,-0xeb,-0xe1)];function _0x446740(_0x33ecef,_0x10040d,_0x43547d,_0x5b7049){return _0x5159(_0x10040d- -0x39e,_0x5b7049);}if(_0x93f88f===_0x2a26fa['hIFGn']){if(_0x2a26fa['vpnvJ']!=='DUQCO')await _0x2a26fa[_0x446740(-0x186,-0x1a1,-0x1e3,-0x17a)](pingViaSillyTavern);else{_0x5ecdb9[_0x5e5c07(-0x9c,-0x101,-0xdb,-0xed)](_0x2a26fa['LlKPU']);return;}}else await _0x2a26fa[_0x446740(-0x1de,-0x1e1,-0x1bc,-0x214)](pingDirect);}export function startKeepAlive(){const _0x287350={'zEcaO':_0x25092(-0x1ce,-0x212,-0x1f8,-0x220)+'+$','oyvVA':function(_0x1b98b0){return _0x1b98b0();},'lKxDI':_0x326fff(0x29d,0x28e,0x2ba,0x2ce),'oNagN':_0x326fff(0x2ee,0x2dd,0x2aa,0x312),'OmwbD':function(_0x432153,_0x5daedf,_0x22c7e2){return _0x432153(_0x5daedf,_0x22c7e2);}};_0x287350[_0x326fff(0x264,0x29b,0x26a,0x2cf)](stopKeepAlive);if(!shouldKeepAlive()){if(_0x287350[_0x326fff(0x2a7,0x2da,0x2c2,0x2f8)]===_0x287350[_0x25092(-0x237,-0x21a,-0x241,-0x276)])return _0x2c6319[_0x25092(-0x1cb,-0x1bc,-0x1ee,-0x1f1)]()[_0x326fff(0x2a4,0x2e1,0x31b,0x2a6)](foWNyN['zEcaO'])[_0x326fff(0x281,0x2c1,0x291,0x2d6)]()['constructo'+'r'](_0x69073e)[_0x326fff(0x2e3,0x2e1,0x2f1,0x29e)](foWNyN[_0x326fff(0x2f6,0x2bb,0x2c7,0x2e8)]);else{console[_0x25092(-0x20a,-0x21c,-0x1ff,-0x1cf)](_0x326fff(0x2a9,0x265,0x24d,0x292)+'eepAlive]\x20'+_0x326fff(0x2e0,0x2a6,0x2a4,0x2b6)+'活');return;}}console[_0x326fff(0x2a5,0x2b0,0x2d3,0x271)]('[ComfyUI\x20K'+'eepAlive]\x20'+'启动保活定时器，间隔'+':',KEEP_ALIVE_INTERVAL,'ms');function _0x25092(_0xca83fc,_0x573957,_0x2d1a3a,_0x26ca42){return _0x5159(_0x2d1a3a- -0x3e7,_0xca83fc);}_0x287350[_0x25092(-0x231,-0x1fa,-0x214,-0x1e1)](doPing);function _0x326fff(_0xc1516c,_0x2fbd08,_0x57397f,_0x39c25b){return _0x5159(_0x2fbd08-0xc8,_0x57397f);}keepAliveTimer=_0x287350['OmwbD'](setInterval,doPing,KEEP_ALIVE_INTERVAL);}export function stopKeepAlive(){const _0x5b2733={'EejYX':function(_0x1df5bb,_0xccf342){return _0x1df5bb===_0xccf342;},'oLjHV':_0x33ad02(0x28c,0x250,0x268,0x276),'AQmmA':_0x33ad02(0x26b,0x20d,0x220,0x234)+_0x33ad02(0x2df,0x2a8,0x280,0x2b2)+_0x8add4b(-0x15d,-0x153,-0x153,-0x17e),'goZsa':function(_0x2cb31a,_0x3c14f1){return _0x2cb31a(_0x3c14f1);}};function _0x33ad02(_0x466a2b,_0xae282d,_0x4f758c,_0xadc148){return _0x5159(_0xadc148-0x97,_0xae282d);}function _0x8add4b(_0x101a2a,_0x46664b,_0x163936,_0x4d1be9){return _0x5159(_0x46664b- -0x32a,_0x4d1be9);}if(keepAliveTimer){if(_0x5b2733['EejYX'](_0x8add4b(-0xd5,-0x112,-0xe1,-0x10d),_0x5b2733[_0x8add4b(-0x12c,-0x11f,-0x128,-0xf4)])){const _0x792481=_0x322ddb['apply'](_0x53c75c,arguments);return _0x321644=null,_0x792481;}else console[_0x8add4b(-0x114,-0x142,-0x132,-0x13a)](_0x5b2733[_0x33ad02(0x274,0x2ee,0x287,0x2ae)]),_0x5b2733[_0x33ad02(0x235,0x279,0x213,0x24f)](clearInterval,keepAliveTimer),keepAliveTimer=null;}}export function updateKeepAliveStatus(){function _0xb53e0a(_0xe42e68,_0x1b6164,_0x548d0e,_0x4febe0){return _0x5159(_0x4febe0- -0x123,_0x1b6164);}function _0x48168c(_0x50fa66,_0x38a86b,_0x2a1e09,_0xae7a73){return _0x5159(_0x50fa66- -0x22b,_0xae7a73);}const _0x179e7f={'afdNw':function(_0x1fc54b){return _0x1fc54b();},'EaWNr':_0xb53e0a(0x8c,0xb4,0x7b,0x7a)+_0xb53e0a(0x136,0xc5,0xdb,0xf8)+'启动保活定时器，间隔'+':','zhtWZ':function(_0x471a4f){return _0x471a4f();},'uSjYM':function(_0x1da26a,_0x15633f,_0x53a307){return _0x1da26a(_0x15633f,_0x53a307);},'kxPsq':function(_0x3314e3,_0x47baa0){return _0x3314e3!==_0x47baa0;},'ESALS':_0x48168c(-0x37,-0x66,-0x3a,-0x4a),'TqLIC':function(_0x3893c3){return _0x3893c3();},'OzcOO':function(_0x2c0e12,_0x3d52bb){return _0x2c0e12!==_0x3d52bb;},'XLFcl':_0x48168c(-0x8d,-0x58,-0xb2,-0x57)};if(shouldKeepAlive()){if(!keepAliveTimer){if(_0x179e7f[_0xb53e0a(0x8e,0xe3,0x112,0xd2)](_0x179e7f[_0x48168c(-0x3f,-0x74,-0x22,-0x62)],_0xb53e0a(0x95,0xaa,0xbe,0xa7)))_0x179e7f[_0xb53e0a(0xdb,0x99,0xbc,0xc4)](startKeepAlive);else{_0x54b1b5();if(!_0x179e7f[_0x48168c(-0x7d,-0x79,-0x74,-0xa3)](_0x387c19)){_0x39c11f[_0x48168c(-0x43,-0x47,-0x34,-0x28)](_0x48168c(-0x8e,-0x7f,-0x84,-0x65)+'eepAlive]\x20'+_0x48168c(-0x4d,-0x58,-0x17,-0x58)+'活');return;}_0x1fe895[_0xb53e0a(0x88,0xd2,0xc1,0xc5)](_0x179e7f['EaWNr'],_0x121262,'ms'),_0x179e7f[_0xb53e0a(0x104,0xe8,0x120,0xeb)](_0x13c1f1),_0x1c187c=_0x179e7f[_0x48168c(-0x2b,-0x32,-0x2e,-0x24)](_0x55972a,_0x465c20,_0x760c9b);}}}else _0x179e7f[_0x48168c(-0x6d,-0x94,-0xab,-0x9a)](_0xb53e0a(0x4c,0x3e,0x51,0x7b),_0x179e7f[_0x48168c(-0x4e,-0x4c,-0x43,-0x83)])?_0x179e7f['afdNw'](_0x4e3366):_0x179e7f[_0x48168c(-0x7d,-0xa7,-0xa1,-0x55)](stopKeepAlive);}export function initializeKeepAlive(){function _0x711b60(_0x190fb2,_0xd5addb,_0x93ecc0,_0x71161c){return _0x5159(_0xd5addb-0x2af,_0x93ecc0);}const _0x47902f={'xbyAS':_0x204df7(0xe3,0xf1,0x110,0x149)+'eepAlive]\x20'+_0x711b60(0x467,0x48b,0x48d,0x479),'GiYgq':function(_0x35ea1d){return _0x35ea1d();}};function _0x204df7(_0x23e87d,_0x2a4598,_0x321567,_0x4a3d49){return _0x5159(_0x321567- -0x8d,_0x2a4598);}console[_0x711b60(0x455,0x497,0x4a1,0x48d)](_0x47902f[_0x204df7(0x18a,0x177,0x154,0x178)]),_0x47902f[_0x204df7(0x11f,0x118,0x153,0x194)](updateKeepAliveStatus);}