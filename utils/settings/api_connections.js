(function(_0x395ae7,_0xb35a2e){function _0x1fb5c3(_0x156b48,_0x50b991,_0x378331,_0x5e6b99){return _0x4b6a(_0x156b48-0x1b5,_0x50b991);}function _0x3fa0db(_0x2da98b,_0x3cf940,_0x66cd42,_0x457a46){return _0x4b6a(_0x2da98b-0xf3,_0x457a46);}const _0x5e1057=_0x395ae7();while(!![]){try{const _0x18e065=parseInt(_0x1fb5c3(0x311,0x315,0x316,0x2a9))/(-0x6*-0x31e+0x1*0x1dc5+0x2*-0x183c)+parseInt(_0x3fa0db(0x228,0x224,0x1e8,0x254))/(0x1a51+-0x2152+-0x167*-0x5)+-parseInt(_0x3fa0db(0x29f,0x285,0x2e3,0x26c))/(-0x1*-0xca6+0x7e+-0xd21*0x1)+parseInt(_0x3fa0db(0x29e,0x297,0x28b,0x27b))/(-0xef8*-0x2+0x202+0x3d*-0x86)+-parseInt(_0x1fb5c3(0x35f,0x37a,0x376,0x34c))/(0x7ff*0x3+0x11*-0x62+0x1e*-0x95)+parseInt(_0x3fa0db(0x277,0x249,0x2a1,0x22a))/(0x461+-0x1*0x20e6+0x1c8b)+parseInt(_0x3fa0db(0x21e,0x248,0x231,0x259))/(-0x1b5+-0x1fec+0x21a8);if(_0x18e065===_0xb35a2e)break;else _0x5e1057['push'](_0x5e1057['shift']());}catch(_0xea532f){_0x5e1057['push'](_0x5e1057['shift']());}}}(_0x566f,0xe13*-0x7+0x7de8a*-0x1+0x1466f2));const _0x53eae9=(function(){const _0x48b00c={};_0x48b00c[_0x1dd060(-0x114,-0x115,-0x131,-0x165)]=_0x1859d6(0x208,0x248,0x279,0x1e9),_0x48b00c[_0x1dd060(-0x150,-0x1b1,-0x137,-0x198)]=function(_0x1e9fac,_0x2aa84f){return _0x1e9fac===_0x2aa84f;},_0x48b00c[_0x1859d6(0x1ac,0x219,0x250,0x1c9)]=_0x1859d6(0x2a0,0x23d,0x1d0,0x211);const _0x2dc1d7=_0x48b00c;function _0x1dd060(_0x3dc548,_0x36fdeb,_0x58f21b,_0x36e3d8){return _0x4b6a(_0x3dc548- -0x27c,_0x36fdeb);}let _0x346e40=!![];function _0x1859d6(_0x33f037,_0x16aab3,_0x1d134f,_0x250d2a){return _0x4b6a(_0x16aab3-0x9b,_0x33f037);}return function(_0x16a40f,_0x2a2546){function _0x215c20(_0xfbc516,_0x1b7442,_0xc8ddc4,_0x2fc083){return _0x1859d6(_0x2fc083,_0x1b7442-0x16c,_0xc8ddc4-0x1da,_0x2fc083-0x15e);}const _0x5cf66d={};_0x5cf66d[_0x215c20(0x322,0x318,0x385,0x2e2)]=_0x215c20(0x31b,0x337,0x322,0x385)+'ble\x20Diffus'+_0x219f98(0x3de,0x3f4,0x3b8,0x3d1)+'。';function _0x219f98(_0x46fa26,_0x3c785,_0x4c04cc,_0x31363c){return _0x1859d6(_0x4c04cc,_0x31363c-0x195,_0x4c04cc-0xaf,_0x31363c-0x1d9);}const _0x2de3a7=_0x5cf66d;if(_0x2dc1d7[_0x219f98(0x322,0x312,0x374,0x35c)](_0x215c20(0x383,0x3a9,0x37a,0x369),_0x2dc1d7['UdPaU'])){const _0x9bd945=_0x346e40?function(){function _0xf97996(_0x9aba6f,_0x3c5e2e,_0x1ebbcb,_0x2b6302){return _0x219f98(_0x9aba6f-0x1d5,_0x3c5e2e-0x138,_0x1ebbcb,_0x2b6302- -0xfd);}function _0x1539b1(_0x437051,_0x10fbcb,_0x8a0327,_0x580481){return _0x215c20(_0x437051-0xef,_0x10fbcb-0xa7,_0x8a0327-0x11e,_0x580481);}if(_0x2dc1d7['FeUZM']!==_0xf97996(0x319,0x283,0x30e,0x2c4)){if(_0x2a2546){const _0x55419b=_0x2a2546['apply'](_0x16a40f,arguments);return _0x2a2546=null,_0x55419b;}}else{_0x557f61(_0x2de3a7[_0x1539b1(0x39b,0x3bf,0x377,0x41d)]);return;}}:function(){};return _0x346e40=![],_0x9bd945;}else _0x5154b7[_0x219f98(0x431,0x373,0x3dd,0x3d6)+_0x219f98(0x2f0,0x330,0x395,0x347)]=-0x400*0x3+0x1359+-0x759;};}()),_0x4a2b3c=_0x53eae9(this,function(){function _0x2adff0(_0x367436,_0x18c8b8,_0x5b85d4,_0x4a96e8){return _0x4b6a(_0x18c8b8- -0x78,_0x4a96e8);}function _0x175737(_0x1c6e3f,_0x271d6b,_0xdcdf3a,_0x1f59d9){return _0x4b6a(_0x1c6e3f-0x25d,_0xdcdf3a);}const _0x3d061b={};_0x3d061b[_0x175737(0x38b,0x3b1,0x334,0x36a)]=_0x175737(0x3bc,0x375,0x3fd,0x3f1)+'+$';const _0x324ae0=_0x3d061b;return _0x4a2b3c[_0x2adff0(0xd6,0x112,0xba,0x134)]()['search'](_0x324ae0[_0x2adff0(0x9d,0xb6,0xef,0x7f)])[_0x175737(0x3e7,0x432,0x3f9,0x3eb)]()[_0x2adff0(0x101,0xcf,0x9f,0xcf)+'r'](_0x4a2b3c)[_0x2adff0(0xac,0x8e,0x44,0xec)](_0x324ae0[_0x175737(0x38b,0x397,0x3b9,0x34c)]);});_0x4a2b3c();import{extension_settings}from'../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../script.js';import{extensionName}from'../config.js';import{removeTrailingSlash,getRequestHeaders,getsdAuth,addLog}from'../utils.js';function _0x4b6a(_0x2c9b87,_0x387534){_0x2c9b87=_0x2c9b87-(0x26f+0x1c0*0x15+-0x2645*0x1);const _0x4f4536=_0x566f();let _0x49c5dd=_0x4f4536[_0x2c9b87];if(_0x4b6a['rqmyso']===undefined){var _0x22d94d=function(_0x2d4844){const _0x485388='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xc98bc0='',_0x2ad6b9='',_0x5a4887=_0xc98bc0+_0x22d94d;for(let _0x144d9a=-0x1085*0x1+0x1e41*0x1+-0xdbc,_0x5bd2d6,_0x11d802,_0x5acaf5=-0x1069+0x1*0x1aab+0xca*-0xd;_0x11d802=_0x2d4844['charAt'](_0x5acaf5++);~_0x11d802&&(_0x5bd2d6=_0x144d9a%(0x5d*0x5e+-0xbb*-0x34+-0x3*0x180a)?_0x5bd2d6*(-0x1e23+-0xa45*-0x1+-0xce*-0x19)+_0x11d802:_0x11d802,_0x144d9a++%(-0x5a*0x3c+0x2467+-0xf4b))?_0xc98bc0+=_0x5a4887['charCodeAt'](_0x5acaf5+(-0x1*-0x2521+-0x103*-0x16+-0x1*0x3b59))-(0x1b90+-0xec*0x5+0xb75*-0x2)!==0x2234+0xa39*0x1+-0x29d*0x11?String['fromCharCode'](0x809*0x2+-0x29d*0x7+0x4*0xce&_0x5bd2d6>>(-(0x2a1+-0x12*0x1d1+0x1*0x1e13)*_0x144d9a&0x1cdd+-0x1e89*-0x1+-0xed8*0x4)):_0x144d9a:-0x67*-0xd+0x6bb*0x1+0xbf6*-0x1){_0x11d802=_0x485388['indexOf'](_0x11d802);}for(let _0x5323e8=0x1a31+0x2*-0x1196+0x8fb,_0x11b28e=_0xc98bc0['length'];_0x5323e8<_0x11b28e;_0x5323e8++){_0x2ad6b9+='%'+('00'+_0xc98bc0['charCodeAt'](_0x5323e8)['toString'](-0x2*-0x10fb+-0x591+-0x1c55))['slice'](-(-0x6*0x4dc+0x2*-0x10a6+0x19a*0x27));}return decodeURIComponent(_0x2ad6b9);};_0x4b6a['vnuluA']=_0x22d94d,_0x4b6a['aDZqRf']={},_0x4b6a['rqmyso']=!![];}const _0x255e87=_0x4f4536[-0x1*0x102f+-0x1185*0x1+-0xc*-0x2cf],_0x17eca5=_0x2c9b87+_0x255e87,_0x2ef3c2=_0x4b6a['aDZqRf'][_0x17eca5];if(!_0x2ef3c2){const _0x667b9a=function(_0x5ed646){this['bnxrNg']=_0x5ed646,this['oTsMEI']=[0x1*-0x23b0+-0x1377+0x4*0xdca,-0x8dd*-0x3+0x7da+0x3*-0xb7b,0xcd4+0x25b2*0x1+-0xdf*0x3a],this['CjEYrd']=function(){return'newState';},this['hNdCdw']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['MBvvYw']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x667b9a['prototype']['mHfmET']=function(){const _0x35a7cf=new RegExp(this['hNdCdw']+this['MBvvYw']),_0x2699ec=_0x35a7cf['test'](this['CjEYrd']['toString']())?--this['oTsMEI'][0x1912+-0x192f+0x1e]:--this['oTsMEI'][-0xc84+0xcbc+-0x38];return this['HhcBzh'](_0x2699ec);},_0x667b9a['prototype']['HhcBzh']=function(_0x1f18de){if(!Boolean(~_0x1f18de))return _0x1f18de;return this['DKLBRK'](this['bnxrNg']);},_0x667b9a['prototype']['DKLBRK']=function(_0x4ab454){for(let _0xfd67c0=0xc5b*0x1+-0x78c+-0x4cf,_0xcb7ee5=this['oTsMEI']['length'];_0xfd67c0<_0xcb7ee5;_0xfd67c0++){this['oTsMEI']['push'](Math['round'](Math['random']())),_0xcb7ee5=this['oTsMEI']['length'];}return _0x4ab454(this['oTsMEI'][-0x1925+-0x1ab5+0x33da]);},new _0x667b9a(_0x4b6a)['mHfmET'](),_0x49c5dd=_0x4b6a['vnuluA'](_0x49c5dd),_0x4b6a['aDZqRf'][_0x17eca5]=_0x49c5dd;}else _0x49c5dd=_0x2ef3c2;return _0x49c5dd;}import{isValidUrl,showToast}from'../ui_common.js';function populateSelect(_0x5aa95e,_0x1edc43,_0x15f681){const _0x113239={};_0x113239[_0x351153(0x583,0x577,0x55c,0x52e)]=function(_0x23432b,_0x3d3b82){return _0x23432b===_0x3d3b82;},_0x113239[_0x58e9d3(-0x40,0x4d,0x19,0x3c)]=_0x58e9d3(0xfd,0x12e,0xc3,0xc9),_0x113239[_0x351153(0x543,0x503,0x53e,0x52b)]=_0x351153(0x4d7,0x4ed,0x56c,0x50b),_0x113239[_0x351153(0x57b,0x5c6,0x53b,0x567)]=_0x351153(0x4fd,0x538,0x50a,0x516),_0x113239['ifAUE']=function(_0x333a9f,_0x310d0e){return _0x333a9f>_0x310d0e;};const _0x49df8b=_0x113239;function _0x351153(_0x5406a6,_0x548aeb,_0x208853,_0x3281f8){return _0x4b6a(_0x3281f8-0x3d8,_0x5406a6);}if(!_0x5aa95e)return;const _0x24838c=_0x5aa95e[_0x58e9d3(0x12a,0xe1,0xc8,0x12f)];_0x5aa95e[_0x58e9d3(-0x33,0x18,0x37,0x43)]='';function _0x58e9d3(_0x56acce,_0x13d169,_0x19a6b0,_0x1ab690){return _0x4b6a(_0x19a6b0- -0xfd,_0x1ab690);}_0x1edc43[_0x351153(0x5c5,0x5de,0x56b,0x593)](_0x2bab63=>{function _0x3cafcb(_0x4c45a5,_0x17e783,_0x23104f,_0x32a020){return _0x351153(_0x4c45a5,_0x17e783-0xfd,_0x23104f-0x20,_0x32a020- -0x298);}function _0x5f4fc8(_0x1c6f56,_0x34b3e7,_0x37e2f3,_0x1fd4db){return _0x351153(_0x37e2f3,_0x34b3e7-0x83,_0x37e2f3-0x108,_0x34b3e7- -0x4fc);}if(_0x49df8b['ExtnE'](_0x49df8b['fYLgE'],_0x49df8b[_0x3cafcb(0x2fe,0x280,0x2e5,0x293)]))_0x52eab1[_0x5f4fc8(0x26,0x6,0x45,-0x2a)+'he']={};else{const _0x5de520=new Option(_0x2bab63[_0x3cafcb(0x279,0x2be,0x298,0x258)],_0x2bab63['value']);_0x5de520[_0x3cafcb(0x31e,0x2f5,0x29e,0x2d3)]=_0x2bab63[_0x5f4fc8(0x3d,-0xc,0x62,0x20)],_0x5aa95e[_0x3cafcb(0x326,0x342,0x341,0x2e7)](_0x5de520);}});if(_0x1edc43['some'](_0x2af42a=>_0x2af42a[_0x351153(0x552,0x55a,0x546,0x59d)]===_0x24838c))_0x5aa95e[_0x58e9d3(0x136,0xcd,0xc8,0x87)]=_0x24838c;else{if(_0x15f681&&_0x1edc43[_0x351153(0x51d,0x4f2,0x4cd,0x4fd)](_0x421b75=>_0x421b75[_0x58e9d3(0x10a,0xab,0xc8,0x110)]===_0x15f681)){if(_0x49df8b[_0x351153(0x588,0x4f0,0x533,0x52e)](_0x49df8b[_0x58e9d3(0x57,0x6c,0x92,0xa8)],_0x351153(0x549,0x567,0x55e,0x59b))){if(_0x31f2db){const _0x4b6ff1=_0x5d00f4[_0x58e9d3(0x6e,0x36,0x34,0x33)](_0x4ada56,arguments);return _0x454752=null,_0x4b6ff1;}}else _0x5aa95e[_0x58e9d3(0xd3,0xd7,0xc8,0x11e)]=_0x15f681;}else _0x49df8b[_0x351153(0x59a,0x5a6,0x5a6,0x57d)](_0x5aa95e[_0x58e9d3(0xc8,0x86,0x7a,0x2c)][_0x58e9d3(0x7d,0xb1,0x85,0x81)],-0x8db*0x1+-0x1131+0x1a0c*0x1)&&(_0x5aa95e[_0x58e9d3(0x93,0x7e,0xa9,0xc7)+'dex']=0x113f+-0x89*0x39+0x2*0x6a1);}}function _0x566f(){const _0xb5df27=['zLLmz0u','zgv4','Dgv4Da','ugXlDvi','vu5LDdOG','Bg9Yyv9Uyw1L','l2fWAs9Zzc9Zyq','6l+E5O6L44cccUMuMEIVRZOG','Dg9Rzw4','C2qTBw9KzwXZ','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','q0nfyvK','CYbMywLSzwq','tNziy2G','u2HYBe4','C29Tzq','DxjS','CLvXs3y','q0rODw0','C3rYAw5NAwz5','y29TzNL1AunHyW','ndy4ndi3neLtEKvRBa','y3rwt1O','C0juDLO','CKj6EwC','l2fWAs9Zzc9ZyW','6k+36l6t5ywL5PYj5Pwi55Qeifn0yq','yxbWBhK','DMfLx25HBwu','zfPeDNe','Aw5Uzxjive1m','mtC2mJa2rg5xvMHi','qKHHAfe','D2HhELK','loIVT+AXGUwKSEI0PsZNIRBMGihNOie6','vKfftg9HzgvY','igzVCIa','zfbuCwu','DgHMCgy','C3bSAwnL','EuHUt3C','uhnrwM0','ANL5vMu','y21zs0S','l2fWAs9Zzc92yq','D0nnz04','A3fIELi','q0XjueXVywrLCG','qLfjshi','y29UC3rYDwn0BW','rwPiAg4','Bw9KzwXZ','5OMa5PYjqvbj6k+35Rgc5z2h5AsX6lsL','C2tMTyVOR5xPK77MJQxLPlhOTkxOR7FMO4a','BNvXAvm','u3zmvfi','iUA1I+IVLvne6zo+5O6L5AsX6lsL572r','Bg9HzfnPBhrLCG','q2H0BKy','5P+L572r5z2a5OIw6icf572r57UC6l+E5O6L','y3Lhv2y','s3fsDg8','DejhCvi','q0nhyLm','rxH0BKu','EergzLC','ioMuMEIVR+IVPUAdHtOI','y2HSCe0','r0DvrG','y0rVr3a','nJq0nJi2s2fvrgzq','ELfmwu4','C3rHDhvZvgv4Da','kcGOlISPkYKRkq','vKPrs2S','D2TQywW','5PYQ55+L6zsz6k+V','reXPwhi','CKf6u3e','zNvSzMLSBgvK','lIdNRkZKUidKUkRPLjNOR686ia','tK5qy1K','rMvvwK0','tLfUrgW','icZOR7FMSylPLjNOR6/VViZOR7FMO4dMN6u','yMXLierPzMz1CW','zxzLCNK','DtHtzxr0Aw5NCW','AhnJBwC','wwrhz2K','tg9YyuXVywrLCG','BwvZC2fNzq','v1vnvem','wK5TAg0','u0tOV57MJQxMTyVOR5xLPlhOTkxVViZOR7C','AxDUuuu','q3fKvKW','B3b0Aw9UCW','l29IAMvJDf9PBG','Aw5WDxq','revgyue','vevyzLO','iMnWBwz5DwNMTyVOR5u','572r5z2a5PYj6k+V','vwrqyvu','Dw5LDf9Uyw1L','6l+E5O6L5AsX6lsL77Ym6k+35Qoa5P+L5zYW5z2a','y2TWDf9Uyw1L','BgvUz3rO','i3rLC3rtza','ote5mZmWogPLveHUzG','vw5LDeXVywrLCG','ugfNCMy','re5Qtgy','t2D2q3m','5Qoa5P+Lqvbj5zYW5z2a5zkm572r57UC','Dg9tDhjPBMC','C2rvCMW','C2nOzwr1BgvY','5PIV5zcM5Q2J56gU','B3PqBve','q1fbDLy','CMvXDwLYzwq','Bg5QAxe','ywXS','DgL0Bgu','txHerNm','qNDvzfi','D0HnCNO','zMLUza','C3HlEhq','qMTqt0C','CfbfvxC','CMzwsK8','zxjYB3i','svzAEfK','t25Lig9Yig1VCG','A0LuseC','yvjoy28','Aw9UiefqssdLNldLNya','t3n1BNO','l3nKyxbPl3yXlW','CNLotuK','Awzbvuu','C2vSzwn0zwrjBG','ywrK','ANnVBG','5zYW5z2a5PIV5zcM5Q2J56gU5OIw572r57UC6l+E','ntK1mdu0mg9RywvyEG','otq3mZKYALzAsMvp','mZu1ndiXneTiALPwAG','BuL1rLe','6zo+5O6L5AsX6lsL572r5z2aoG','C2tMTyVOR5xPK77MJQxLPlhOTkxNVzhLNya','t0HLz3e','C3rHDhvZ','C2tMTyVOR5xPK77MJQxMIjdLIP/NVzhLNya','C2nOzwr1BgvYCW','C2fiufi','C2rFyxv0Aa','y2XPCf9Uyw1L','ywXLCNm','iUA1I+IVLEMtVUAoPEwKSEI0PEE9KEwDGdO','y29TzNL1AvvYBa','Bwz5l3zHzxm','zM9YrwfJAa','svv5s3q','y2XPzw50','C2rdywnOzq','6l+E5O6L5Rwl6k+v5AsX6lsLoG','wwPyvgO','yxv0Aa','r1ncrfa','wu5qtxy','yMLty00','DMfSDwu','AgvKDwXLCNm','CMvQzwn0zwq','CMvZB2X2zq','rwvmBvC','z2v0rwXLBwvUDa','DMfLCW','s1nHBxbSzxi','5PIV5zcM5Q2J56gU5OIw572r57UC6l+E5O6L','ywXSu2v0DgXLza','BMfTzq','i3rLC3rdB21MEq','tg9HzgvYu2LTCa','C2fTCgXLCNm','zsbbueKGy2fSBa','qNLjza','tgrsveW','BwfW','sef4sNG','l2fWAs9Zzc91Ca','svrxEMC','l2fWAs9Zzc9JBW','Bwz5l3nHBxbSzq','B0nSteK','vu5fveXVywrLCG','q2jmuKi','DMfSDwvZ','zhfmtKu','AML1z3vHBG','C2vHCMnO','ue9tva','CMvHC29U','DxbZy2fSzxjZ','EKTUt1m','y2XPy2S','6l+E5O6L5OIq5yQF','r0DvrJOG','BgvYCW','C2nHBgvYCW','C2qTDMfL','reTvs1G','6k+35Rgc6zsz6k+V77Ym6k+35Qoa5P+L5zYW5z2a','B2jQzwn0sw5MBW','Bg9Yyxm','zujdve8'];_0x566f=function(){return _0xb5df27;};return _0x566f();}async function testComfyui(){const _0x50e251={'OHegq':function(_0x4b825e,_0xb7196a){return _0x4b825e(_0xb7196a);},'CbLRB':function(_0x53e2a5,_0x217862){return _0x53e2a5+_0x217862;},'qKKvm':_0x359b7d(0x1a9,0x1e9,0x23e,0x195)+_0x15d564(-0x12a,-0x13c,-0x135,-0xeb)+'连接。\x0a错误:\x20','ITWzg':function(_0xed6191,_0x4a7733){return _0xed6191(_0x4a7733);},'Pagrf':'sd测试链接失败请检'+_0x15d564(-0x185,-0x1a3,-0x16d,-0x158),'ZjNFV':'#testSd','DdByr':_0x359b7d(0x172,0x180,0x1da,0x198),'CCGbS':_0x359b7d(0x29c,0x22e,0x239,0x220),'xbwDL':_0x15d564(-0x11a,-0x1b3,-0x146,-0x186)+'fo','ShrlN':'djbYO','WshRX':_0x15d564(-0x114,-0xf6,-0x121,-0x144),'thfpf':function(_0x5754d9,_0x1c4222){return _0x5754d9===_0x1c4222;},'ALAry':'jiuguan','chlpM':function(_0xc9e378,_0x20f3c1){return _0xc9e378!==_0x20f3c1;},'HAxJx':_0x359b7d(0x1d2,0x196,0x14a,0x1e2),'LdRTL':function(_0x6a14b3,_0x444779,_0x59ca85){return _0x6a14b3(_0x444779,_0x59ca85);},'DAtWY':_0x15d564(-0x213,-0x1f0,-0x1c0,-0x1e4)+'mfy/models','YdGgi':_0x15d564(-0x1f3,-0x193,-0x1b7,-0x1c7),'HjyMS':_0x15d564(-0x1c1,-0x1df,-0x17b,-0x1b2),'wHMrz':function(_0x2f2471,_0x259ffb){return _0x2f2471(_0x259ffb);},'saHPR':function(_0xbf7146,_0x5d35d6){return _0xbf7146+_0x5d35d6;},'cDoGp':'返回错误可能是你输入'+_0x359b7d(0x1f0,0x1f2,0x229,0x22e),'NvHch':function(_0x11ceb9,_0x5437d4){return _0x11ceb9(_0x5437d4);},'dqLNE':function(_0x431cca,_0x4fa0c5,_0x597d7c){return _0x431cca(_0x4fa0c5,_0x597d7c);},'sBTvZ':_0x359b7d(0x17c,0x173,0x16e,0x1c3)+_0x15d564(-0x20b,-0x1d8,-0x1bf,-0x159)+'rs','eBCTO':function(_0x462f9b,_0x4f59e2){return _0x462f9b(_0x4f59e2);},'aRNco':_0x15d564(-0x1a8,-0x1cc,-0x1c0,-0x208)+_0x359b7d(0x263,0x22f,0x237,0x20e),'DNjLf':_0x359b7d(0x1dd,0x173,0x125,0x148)+'mfy/schedu'+_0x359b7d(0x15b,0x183,0x186,0x1bc),'wkjal':function(_0x3b22e3,_0x47416e){return _0x3b22e3(_0x47416e);},'VJQKk':function(_0x9e6ba9,_0x4155a1){return _0x9e6ba9(_0x4155a1);},'tBGqR':'连接成功','PsQZm':function(_0x192005){return _0x192005();},'TEXfZ':function(_0x4d0b4a,_0x3b4989){return _0x4d0b4a(_0x3b4989);},'EDlUT':_0x15d564(-0xf6,-0x17c,-0x14e,-0xe4),'ozPmQ':_0x15d564(-0xda,-0x10d,-0x145,-0x125),'hHOTe':_0x15d564(-0x1d4,-0x20d,-0x1a3,-0x16d),'GSBDP':_0x15d564(-0x1d8,-0x207,-0x1ce,-0x1d2),'hscmg':'required','kqbzR':_0x359b7d(0x1ea,0x201,0x1ff,0x1ad),'rUqKv':_0x15d564(-0x1f9,-0x1a0,-0x18c,-0x1de),'pPEUw':_0x359b7d(0x1fc,0x1ba,0x176,0x1d9),'NQnDl':_0x15d564(-0x1d7,-0x176,-0x179,-0x141)+_0x359b7d(0x209,0x1cf,0x227,0x202),'zKnOS':_0x15d564(-0xd6,-0xf3,-0x126,-0xe4),'GkFMM':function(_0x4a82ed,_0x4311e5){return _0x4a82ed(_0x4311e5);},'BkPOG':_0x15d564(-0xc8,-0x129,-0xff,-0xe9)};function _0x359b7d(_0x5b36e4,_0x522831,_0x3c3a99,_0x263d0f){return _0x4b6a(_0x522831-0x75,_0x5b36e4);}const _0x312682=extension_settings[extensionName];let _0x2e1502=document[_0x15d564(-0x20f,-0x192,-0x1d0,-0x1b1)+_0x15d564(-0x190,-0x17f,-0x1c6,-0x1a6)](_0x50e251[_0x359b7d(0x173,0x1ca,0x191,0x179)]),_0x3043a4=removeTrailingSlash(_0x2e1502[_0x15d564(-0x164,-0xe5,-0xf9,-0x9c)]),_0x3d96c5=_0x3043a4+_0x50e251['xbwDL'];!_0x312682[_0x359b7d(0x141,0x19f,0x1ff,0x174)+'he']&&(_0x50e251[_0x359b7d(0x184,0x199,0x16b,0x176)]===_0x50e251['WshRX']?(_0x50e251[_0x15d564(-0xf6,-0xe3,-0x10e,-0x135)](_0x1ce393,_0x50e251[_0x359b7d(0x128,0x177,0x10f,0x122)](_0x50e251['qKKvm'],_0x58b3c9['message'])),_0x50e251[_0x359b7d(0x146,0x172,0x16c,0x13b)](_0x45aadd,_0x15d564(-0x1b6,-0x153,-0x170,-0x1a5)+'址:'+_0x3f5884+_0x359b7d(0x179,0x1cd,0x168,0x1f3)+_0x5db1c3[_0x15d564(-0x1b2,-0x17d,-0x195,-0x18f)](_0x9fe97b))):_0x312682[_0x359b7d(0x1fd,0x19f,0x188,0x163)+'he']={});function _0x15d564(_0x19e5db,_0x235897,_0x5f39ef,_0x2befa0){return _0x4b6a(_0x5f39ef- -0x2be,_0x235897);}try{if(_0x50e251[_0x359b7d(0x153,0x1b1,0x205,0x1f3)](_0x312682[_0x15d564(-0x121,-0xed,-0x101,-0x112)],_0x50e251['ALAry'])){if(_0x50e251[_0x359b7d(0x1e5,0x1ce,0x19e,0x1c0)](_0x50e251[_0x15d564(-0x1e3,-0x19c,-0x1c3,-0x22e)],_0x359b7d(0x1f7,0x196,0x185,0x1ba))){if(!_0x28e473['ok'])throw new _0x338447('API\x20请求失败:\x20'+_0x2dfa0a[_0x359b7d(0x236,0x226,0x248,0x223)]+'\x20'+_0x2e153c['statusText']+'\x20for\x20'+_0x14e19f['url']);}else{const _0x272c66={};_0x272c66[_0x15d564(-0x1fc,-0x1ae,-0x198,-0x1c5)]=_0x3043a4;const _0xef1784=await _0x50e251[_0x15d564(-0x1a0,-0x21f,-0x1c5,-0x1e3)](fetch,_0x50e251['DAtWY'],{'method':_0x50e251[_0x359b7d(0x1f8,0x1e4,0x1ca,0x1d4)],'body':JSON['stringify'](_0x272c66),'headers':_0x50e251[_0x359b7d(0x1da,0x225,0x24b,0x22b)](getRequestHeaders,window[_0x15d564(-0x141,-0x20d,-0x1a0,-0x180)])});if(!_0xef1784['ok']){if(_0x50e251['chlpM'](_0x50e251['HjyMS'],_0x50e251['HjyMS']))_0x50e251[_0x15d564(-0x1e6,-0x1af,-0x1c1,-0x156)](_0x503b23,_0x50e251[_0x359b7d(0x1f6,0x1fb,0x1bb,0x199)]+_0x505630),_0x1bef60('sd测试链接失败网址'+':'+_0x1a4e0f+_0x359b7d(0x197,0x1cd,0x22c,0x176)+_0x39c440[_0x15d564(-0x1dd,-0x15d,-0x195,-0x12e)](_0x27f323));else{const _0x3c7b9b=await _0xef1784[_0x359b7d(0x1d4,0x18d,0x148,0x1e8)]();_0x50e251[_0x359b7d(0x1ca,0x20b,0x22b,0x22e)](alert,_0x50e251[_0x15d564(-0x145,-0xa0,-0x10a,-0x156)](_0x50e251[_0x15d564(-0x143,-0x14b,-0x163,-0x12a)],_0x3c7b9b)),_0x50e251[_0x15d564(-0x1bf,-0x188,-0x19b,-0x1ac)](addLog,_0x359b7d(0x24d,0x22d,0x272,0x27d)+_0x3043a4+_0x15d564(-0x159,-0x1d3,-0x166,-0x10f)+JSON[_0x359b7d(0x1f3,0x19e,0x1a1,0x1eb)](_0x3c7b9b)+(_0x359b7d(0x1ca,0x1ad,0x1e1,0x184)+'\x20')+_0xef1784[_0x359b7d(0x1dc,0x226,0x21d,0x1ee)]);throw new Error(_0x359b7d(0x1f5,0x195,0x188,0x1a5)+_0xef1784[_0x359b7d(0x261,0x226,0x23c,0x1bf)]);}}const _0x35bf85={};_0x35bf85['url']=_0x3043a4;const _0x1389c7=await _0x50e251[_0x15d564(-0x226,-0x152,-0x1ba,-0x206)](fetch,_0x50e251[_0x15d564(-0x19c,-0x156,-0x191,-0x1a6)],{'method':_0x50e251[_0x15d564(-0x11b,-0x158,-0x14f,-0x1b1)],'body':JSON[_0x359b7d(0x185,0x19e,0x157,0x1ba)](_0x35bf85),'headers':_0x50e251[_0x15d564(-0x18d,-0x215,-0x1a9,-0x201)](getRequestHeaders,window[_0x15d564(-0x1f9,-0x1ce,-0x1a0,-0x1de)])}),_0x42548b={};_0x42548b[_0x359b7d(0x1e8,0x19b,0x1b9,0x1a1)]=_0x3043a4;const _0x5253b4=await _0x50e251[_0x359b7d(0x17d,0x179,0x167,0x155)](fetch,_0x50e251[_0x15d564(-0x116,-0xef,-0x11e,-0x18c)],{'method':_0x50e251['YdGgi'],'body':JSON[_0x15d564(-0x132,-0x1ff,-0x195,-0x1cc)](_0x42548b),'headers':getRequestHeaders(window[_0x15d564(-0x154,-0x1d2,-0x1a0,-0x15d)])}),_0x36e54a={};_0x36e54a['url']=_0x3043a4;const _0x1ba553=await _0x50e251[_0x15d564(-0x1e6,-0x179,-0x1c5,-0x233)](fetch,_0x50e251[_0x359b7d(0x258,0x1fc,0x1b3,0x1ae)],{'method':_0x50e251[_0x359b7d(0x22a,0x1e4,0x1dd,0x1e0)],'body':JSON[_0x359b7d(0x134,0x19e,0x1e9,0x15c)](_0x36e54a),'headers':_0x50e251[_0x15d564(-0x176,-0xef,-0x15d,-0x157)](getRequestHeaders,window[_0x359b7d(0x166,0x193,0x186,0x12c)])});if(!_0x1389c7['ok']||!_0x5253b4['ok']||!_0x1ba553['ok'])throw new Error(_0x359b7d(0x1f2,0x213,0x260,0x1ce)+_0x15d564(-0x1a5,-0x177,-0x1c7,-0x21b)+_0x15d564(-0x19a,-0x1a8,-0x19c,-0x156));_0x50e251[_0x15d564(-0x174,-0x114,-0x15e,-0x159)](alert,_0x50e251[_0x359b7d(0x1a7,0x1c9,0x18b,0x1bc)]);const _0x375ae5=await _0xef1784[_0x359b7d(0x283,0x21d,0x207,0x258)](),_0x44b908=await _0x1389c7[_0x15d564(-0xeb,-0xdf,-0x116,-0xcd)](),_0x57f130=await _0x5253b4['json'](),_0x5c9f66=await _0x1ba553[_0x359b7d(0x208,0x21d,0x282,0x24a)]();_0x312682[_0x15d564(-0x13e,-0x16a,-0x194,-0x1cb)+'he'][_0x15d564(-0x1a3,-0x1c1,-0x175,-0x1b0)]=_0x375ae5,_0x312682['comfyuiCac'+'he'][_0x15d564(-0x1a7,-0x21c,-0x1c8,-0x201)]=_0x44b908,_0x312682[_0x15d564(-0x1b1,-0x165,-0x194,-0x157)+'he'][_0x359b7d(0x14b,0x164,0x1cc,0x19a)]=_0x57f130,_0x312682[_0x359b7d(0x14a,0x19f,0x14e,0x200)+'he'][_0x359b7d(0x1c7,0x228,0x1e7,0x204)]=_0x5c9f66,_0x312682[_0x15d564(-0x1af,-0x1d0,-0x194,-0x1c0)+'he'][_0x15d564(-0x1a4,-0x1da,-0x1aa,-0x181)]=[],_0x50e251[_0x15d564(-0x148,-0x179,-0x17f,-0x148)](saveSettingsDebounced);}}else{const _0x2e38e0=await _0x50e251[_0x15d564(-0x11f,-0x130,-0x143,-0x154)](fetch,_0x3d96c5);if(_0x2e38e0['ok']){_0x50e251['eBCTO'](alert,_0x50e251[_0x15d564(-0x106,-0x14d,-0x16a,-0x175)]);const _0x26c6ce=await _0x2e38e0['json'](),_0x154ece=_0x26c6ce[_0x50e251['EDlUT']][_0x50e251['ozPmQ']]['required'][_0x50e251['hHOTe']][-0x1c7d+0x946+0x1337*0x1],_0x298d03=_0x26c6ce['Checkpoint'+_0x15d564(-0x17b,-0x19e,-0x1c9,-0x1c3)+'le'][_0x15d564(-0x174,-0x121,-0x145,-0x143)][_0x359b7d(0x238,0x205,0x1c3,0x21d)][_0x359b7d(0x1ee,0x1f6,0x264,0x249)][-0x11c6+0x1*0x2137+0x1*-0xf71]['map'](_0x254dc9=>({'value':_0x254dc9,'text':_0x254dc9}))||[],_0x2e4fe9=_0x26c6ce[_0x359b7d(0x123,0x176,0x1be,0x18d)][_0x359b7d(0x20e,0x1ee,0x1e8,0x1e1)]['required'][_0x15d564(-0x136,-0xf5,-0x13f,-0x159)][-0x1dfd+0x3e*0x59+0x86f*0x1]['map'](_0x359486=>({'value':_0x359486,'text':_0x15d564(-0x14e,-0x185,-0x1a4,-0x1e9)+_0x359486}))||[],_0x56b06d=_0x26c6ce[_0x15d564(-0xe3,-0x127,-0x139,-0x17a)+'GGUF']?.[_0x359b7d(0x229,0x1ee,0x20c,0x209)][_0x15d564(-0x17d,-0x102,-0x12e,-0xf4)][_0x359b7d(0x1fd,0x1f4,0x1ef,0x21f)][0x611*-0x5+0x33*-0x1f+0x2482]['map'](_0xef731f=>({'value':_0xef731f,'text':'GGUF:\x20'+_0xef731f}))||[],_0x3cbebf=[..._0x298d03,..._0x2e4fe9,..._0x56b06d],_0x1fc668=_0x26c6ce[_0x50e251[_0x15d564(-0xab,-0xf4,-0xfc,-0x158)]][_0x50e251[_0x359b7d(0x19b,0x203,0x1c6,0x1ed)]][_0x50e251['hscmg']]['sampler_na'+'me'][0xb19*0x1+0x10*-0x243+-0x85d*-0x3],_0x52559d=_0x26c6ce[_0x15d564(-0x1f3,-0x1c6,-0x1ce,-0x1d3)][_0x50e251['ozPmQ']][_0x50e251[_0x359b7d(0x222,0x1e3,0x20d,0x1d8)]][_0x50e251[_0x15d564(-0x1cf,-0x182,-0x17a,-0x1d6)]][-0x242a+0x287*0x9+0xd6b],_0x5ade6b=_0x26c6ce[_0x15d564(-0x1a3,-0x172,-0x185,-0x173)]['input'][_0x50e251[_0x359b7d(0x1db,0x1e3,0x245,0x222)]][_0x50e251[_0x15d564(-0x1fe,-0x199,-0x197,-0x1a0)]][0x3*-0x3ad+0x131+0x9d6],_0x3daef4=_0x26c6ce[_0x50e251[_0x15d564(-0x173,-0x11d,-0x124,-0x123)]]['input'][_0x50e251[_0x359b7d(0x17b,0x1e3,0x241,0x1c8)]][_0x15d564(-0xd5,-0x10e,-0x108,-0xb5)][0x1153+-0xd*-0x119+-0x1f98],_0x2a44dc=_0x26c6ce[_0x50e251[_0x15d564(-0x1bf,-0x1ba,-0x155,-0x199)]]?.[_0x359b7d(0x1ed,0x1ee,0x1d0,0x1cb)]?.['required']?.[_0x359b7d(0x219,0x22b,0x247,0x1e7)]?.[-0x1cf8+-0x21f*-0x6+0x103e]?.[_0x359b7d(0x116,0x16f,0x168,0x1b5)](_0x143289=>_0x359b7d(0x18f,0x182,0x11d,0x17b)+_0x143289)||[],_0x4966a2=[..._0x3daef4,..._0x2a44dc];_0x312682[_0x15d564(-0x140,-0x1cb,-0x194,-0x1d8)+'he']['loras']=_0x154ece,_0x312682[_0x15d564(-0x19a,-0x194,-0x194,-0x1da)+'he'][_0x359b7d(0x1c8,0x1be,0x166,0x21c)]=_0x3cbebf,_0x312682[_0x359b7d(0x150,0x19f,0x1b1,0x1d1)+'he']['samplers']=_0x1fc668,_0x312682['comfyuiCac'+'he'][_0x359b7d(0x1d0,0x228,0x20a,0x1f0)]=_0x52559d,_0x312682['comfyuiCac'+'he'][_0x359b7d(0x155,0x164,0x1bb,0x10c)]=_0x5ade6b,_0x312682[_0x15d564(-0x14b,-0x1a3,-0x194,-0x15c)+'he']['CLIPs']=_0x4966a2,_0x312682[_0x359b7d(0x1fa,0x19f,0x16d,0x1cd)+'he'][_0x15d564(-0x20a,-0x158,-0x1ab,-0x1e1)]=_0x26c6ce,saveSettingsDebounced();}else _0x50e251[_0x359b7d(0x18a,0x1ce,0x1f5,0x1b5)](_0x50e251[_0x15d564(-0x1e5,-0x1a7,-0x1b4,-0x19d)],_0x50e251[_0x15d564(-0x1b4,-0x14f,-0x1b4,-0x1c9)])?(_0x4e492f[_0x15d564(-0x12a,-0x123,-0x127,-0x15a)](_0x50e251['ZjNFV'])['on'](_0x50e251['DdByr'],_0x10f385),_0x1a730e[_0x15d564(-0xcf,-0xca,-0x127,-0x151)](_0x15d564(-0x213,-0x175,-0x1ca,-0x19b)+'ui')['on'](_0x359b7d(0x1c4,0x180,0x1d6,0x129),_0xf8b995)):alert(_0x15d564(-0xda,-0xd8,-0x13e,-0x13b)+_0x15d564(-0x135,-0x133,-0x131,-0x14e));}window[_0x359b7d(0x157,0x1c4,0x1e3,0x19b)+'TavernChat'+_0x359b7d(0x1d7,0x1e2,0x23e,0x1a1)]();}catch(_0x2b3332){_0x50e251['GkFMM'](alert,'请求错误，请检查地址'+_0x359b7d(0x1a8,0x166,0x185,0x184)),_0x50e251[_0x15d564(-0x18f,-0x175,-0x1a9,-0x19f)](addLog,_0x15d564(-0x18c,-0x147,-0x142,-0x120)+_0x15d564(-0xd4,-0xd3,-0x110,-0xdc)+_0x3d96c5+(_0x359b7d(0x188,0x1df,0x212,0x231)+_0x359b7d(0x25f,0x21e,0x243,0x1bf)+'接\x22')),console[_0x359b7d(0x1f3,0x211,0x1c4,0x20a)](_0x50e251[_0x359b7d(0x1fb,0x20e,0x25e,0x1b7)],_0x2b3332);}}async function testSd(){const _0x5711d7={'ChtnF':_0x2cb9aa(-0x2f5,-0x27e,-0x2b6,-0x2b4)+_0x2cb9aa(-0x27b,-0x2f0,-0x2d7,-0x274),'IUyKt':function(_0x5247d0,_0x331901){return _0x5247d0(_0x331901);},'BHahQ':_0x2adbc4(0x5c3,0x5ac,0x557,0x57e),'CqdVL':_0x2adbc4(0x4cb,0x57a,0x523,0x52b),'EeLmW':function(_0x17bd26,_0x8ddacc){return _0x17bd26(_0x8ddacc);},'SvLTR':function(_0x11e3c7,_0x5e8a2b){return _0x11e3c7!==_0x5e8a2b;},'NNPcY':_0x2adbc4(0x4a9,0x4e0,0x4ef,0x4f9),'VIBqi':_0x2cb9aa(-0x2ad,-0x283,-0x298,-0x26b)+_0x2cb9aa(-0x23f,-0x277,-0x25d,-0x237)+_0x2adbc4(0x4dc,0x4d0,0x539,0x550)+'。','whGzY':function(_0x3752a3,_0x5b7e98){return _0x3752a3==_0x5b7e98;},'oClLI':_0x2adbc4(0x44e,0x508,0x49d,0x43e),'ryNMI':function(_0x29f1bc,_0x20bd7f){return _0x29f1bc===_0x20bd7f;},'rAzSq':_0x2cb9aa(-0x2e1,-0x24e,-0x280,-0x289),'nuqiS':_0x2cb9aa(-0x2f0,-0x269,-0x2ac,-0x255)+'mplers','DLiXr':_0x2adbc4(0x4eb,0x496,0x4da,0x47b)+'es','ZNmhm':_0x2cb9aa(-0x2d5,-0x283,-0x299,-0x2a1)+_0x2adbc4(0x442,0x450,0x482,0x417),'erBWw':_0x2adbc4(0x474,0x426,0x494,0x446)+_0x2adbc4(0x47a,0x480,0x4a7,0x4fa),'jyyVe':function(_0x5c9be2){return _0x5c9be2();},'biScM':function(_0x578ef9,_0x53f65f){return _0x578ef9(_0x53f65f);},'iwnQE':function(_0x3788b2,_0x39cadc){return _0x3788b2+_0x39cadc;},'WUMTC':_0x2cb9aa(-0x272,-0x26b,-0x27d,-0x282)+_0x2cb9aa(-0x2ab,-0x240,-0x277,-0x27c),'kITHG':function(_0x4f94f4,_0x59e666){return _0x4f94f4(_0x59e666);},'ScFcA':_0x2cb9aa(-0x264,-0x215,-0x225,-0x1eb)+'samplers','MxDFs':_0x2adbc4(0x5a0,0x566,0x53b,0x50a)+_0x2cb9aa(-0x2b3,-0x2f3,-0x2a9,-0x25b),'cyGWf':'/sdapi/v1/'+_0x2adbc4(0x506,0x451,0x4a8,0x48e),'BQIHr':_0x2adbc4(0x563,0x565,0x53b,0x504)+_0x2adbc4(0x5b9,0x545,0x54b,0x4f6),'rfVJO':_0x2adbc4(0x58e,0x567,0x53b,0x5a3)+_0x2cb9aa(-0x2f9,-0x28f,-0x2bf,-0x282),'BwUdR':_0x2cb9aa(-0x1f8,-0x206,-0x225,-0x223)+'latent-ups'+'cale-modes','PlKuR':_0x2cb9aa(-0x273,-0x249,-0x225,-0x293)+'loras','DEFaA':_0x2adbc4(0x49f,0x530,0x4d9,0x4f9),'OgvCs':_0x2cb9aa(-0x292,-0x2b2,-0x2bc,-0x28f),'CDhum':function(_0x12aeb2,_0x19fed2){return _0x12aeb2(_0x19fed2);},'PLWJt':function(_0x4f56c7,_0x42e302){return _0x4f56c7+_0x42e302;},'ygSnp':function(_0x5d5f06,_0x1b34c5){return _0x5d5f06(_0x1b34c5);}};function _0x2cb9aa(_0x25c8cd,_0x307610,_0x5517cb,_0x58ce7f){return _0x4b6a(_0x5517cb- -0x3c8,_0x25c8cd);}function _0x2adbc4(_0x9c5579,_0x52e1ce,_0x120cc7,_0x4a4472){return _0x4b6a(_0x120cc7-0x398,_0x9c5579);}const _0x27c46f=extension_settings[extensionName],_0x4c4ae0=document['getElement'+_0x2cb9aa(-0x2b1,-0x2b8,-0x2d0,-0x295)](_0x5711d7[_0x2cb9aa(-0x1e5,-0x207,-0x252,-0x25a)]),_0x3ea40a=_0x5711d7[_0x2adbc4(0x4fa,0x572,0x554,0x575)](removeTrailingSlash,_0x4c4ae0[_0x2cb9aa(-0x215,-0x1cd,-0x203,-0x1a9)]);if(!_0x5711d7[_0x2adbc4(0x433,0x439,0x485,0x49f)](isValidUrl,_0x3ea40a)){if(_0x5711d7[_0x2cb9aa(-0x2e7,-0x284,-0x27b,-0x2a8)]('AvlHa',_0x5711d7[_0x2adbc4(0x494,0x4a9,0x4ff,0x4b5)])){alert(_0x5711d7['VIBqi']);return;}else _0x37e7ae(_0x5711d7[_0x2cb9aa(-0x22b,-0x2d0,-0x278,-0x2bc)]),_0x5711d7[_0x2cb9aa(-0x1f9,-0x1ac,-0x20c,-0x22f)](_0x4f3f41,_0x2adbc4(0x56c,0x55f,0x514,0x4f1)+'链接失败网址:'+_0x125430+(_0x2adbc4(0x537,0x513,0x502,0x4e4)+_0x2adbc4(0x56f,0x543,0x541,0x593)+'接\x22')),_0x3e4f26[_0x2adbc4(0x58f,0x578,0x534,0x4db)](_0x5711d7[_0x2cb9aa(-0x27c,-0x25a,-0x292,-0x2eb)],_0x4f1873);}!_0x27c46f['sdCache']&&(_0x27c46f['sdCache']={});if(_0x5711d7[_0x2adbc4(0x4a0,0x4a2,0x4cf,0x530)](_0x27c46f['client'],_0x5711d7[_0x2cb9aa(-0x291,-0x2c4,-0x2c8,-0x279)])){if(_0x5711d7[_0x2cb9aa(-0x1c7,-0x1d3,-0x224,-0x24e)](_0x5711d7[_0x2adbc4(0x528,0x566,0x4fc,0x55d)],_0x5711d7[_0x2cb9aa(-0x23c,-0x2cf,-0x264,-0x1f7)])){const _0x390713={};_0x390713[_0x2cb9aa(-0x284,-0x2c6,-0x2d2,-0x2dc)]=_0x5711d7[_0x2cb9aa(-0x23e,-0x2ab,-0x27c,-0x28f)],_0x390713[_0x2adbc4(0x4a5,0x48d,0x4e1,0x50d)]='/api/sd/mo'+'dels',_0x390713[_0x2cb9aa(-0x308,-0x347,-0x2d9,-0x2ba)]=_0x5711d7[_0x2cb9aa(-0x2a1,-0x289,-0x265,-0x25d)],_0x390713['schedulers']=_0x5711d7[_0x2adbc4(0x51a,0x4e9,0x50b,0x546)],_0x390713[_0x2adbc4(0x4ec,0x49b,0x4a1,0x482)]=_0x5711d7['erBWw'];const _0x10925f=_0x390713;try{const _0x584f6d={};_0x584f6d[_0x2adbc4(0x46c,0x4dd,0x4be,0x4df)]=_0x3ea40a,_0x584f6d[_0x2cb9aa(-0x1bd,-0x254,-0x207,-0x258)]=_0x27c46f['st_chatu8_'+_0x2adbc4(0x4e0,0x526,0x54d,0x57b)]||'';const _0x4b0faf=await Promise['all'](Object[_0x2adbc4(0x4ed,0x47b,0x49b,0x444)](_0x10925f)[_0x2cb9aa(-0x2e9,-0x33c,-0x2ce,-0x2ef)](_0x2b2af5=>fetch(_0x2b2af5,{'method':_0x2cb9aa(-0x257,-0x316,-0x2c1,-0x2a0),'body':JSON[_0x2adbc4(0x489,0x498,0x4c1,0x4be)](_0x584f6d),'headers':getRequestHeaders(window[_0x2cb9aa(-0x264,-0x28e,-0x2aa,-0x2f6)])})));for(const _0x34c9e4 of _0x4b0faf){if(!_0x34c9e4['ok'])throw new Error('API\x20请求失败:\x20'+_0x34c9e4[_0x2cb9aa(-0x238,-0x1c0,-0x217,-0x22d)]+'\x20'+_0x34c9e4['statusText']+_0x2cb9aa(-0x27f,-0x26c,-0x28e,-0x236)+_0x34c9e4[_0x2adbc4(0x496,0x528,0x4be,0x46c)]);}const [_0x258662,_0x569ff7,_0x3322e6,_0x590111,_0x188035]=await Promise[_0x2cb9aa(-0x24c,-0x253,-0x236,-0x226)](_0x4b0faf[_0x2cb9aa(-0x2cb,-0x336,-0x2ce,-0x337)](_0x5b01d4=>_0x5b01d4[_0x2adbc4(0x577,0x531,0x540,0x542)]()));_0x27c46f['sdCache'][_0x2adbc4(0x4bb,0x4de,0x48e,0x4e0)]=_0x258662,_0x27c46f[_0x2adbc4(0x52f,0x56c,0x556,0x56a)][_0x2adbc4(0x4db,0x50d,0x4e1,0x51f)]=_0x569ff7[_0x2cb9aa(-0x2a0,-0x322,-0x2ce,-0x2ac)](_0x1c4a9f=>_0x1c4a9f[_0x2cb9aa(-0x24d,-0x1d8,-0x203,-0x1e3)]),_0x27c46f[_0x2cb9aa(-0x249,-0x1b1,-0x20a,-0x24f)][_0x2adbc4(0x4b3,0x423,0x487,0x43b)]=_0x3322e6,_0x27c46f[_0x2adbc4(0x5a9,0x4eb,0x556,0x583)][_0x2adbc4(0x58e,0x50e,0x54b,0x552)]=_0x590111,_0x27c46f[_0x2adbc4(0x537,0x4f6,0x556,0x580)][_0x2cb9aa(-0x2c3,-0x2f0,-0x2bf,-0x31d)]=_0x188035,_0x27c46f[_0x2adbc4(0x51a,0x59d,0x556,0x55a)]['loras']=[],_0x5711d7[_0x2adbc4(0x52e,0x52e,0x4d8,0x516)](saveSettingsDebounced),_0x5711d7['EeLmW'](alert,_0x2adbc4(0x486,0x4eb,0x4a4,0x4d6)),_0x5711d7[_0x2cb9aa(-0x25e,-0x216,-0x204,-0x25e)](addLog,_0x2cb9aa(-0x283,-0x22c,-0x216,-0x27b)+':'+_0x3ea40a);}catch(_0x5b4090){_0x5711d7[_0x2cb9aa(-0x22d,-0x248,-0x204,-0x1ba)](alert,_0x5711d7[_0x2adbc4(0x4b6,0x4a6,0x50d,0x535)](_0x5711d7[_0x2adbc4(0x4ad,0x567,0x50a,0x4bf)],_0x5b4090)),_0x5711d7[_0x2cb9aa(-0x215,-0x264,-0x229,-0x264)](addLog,_0x2adbc4(0x56d,0x522,0x547,0x523)+':'+_0x3ea40a+_0x2cb9aa(-0x294,-0x21d,-0x270,-0x2a3)+JSON[_0x2cb9aa(-0x28a,-0x2b0,-0x29f,-0x265)](_0x5b4090));}}else _0x5471d0[_0x2adbc4(0x530,0x567,0x55d,0x4ff)]=_0x3c02d3;}else{const _0x452d3e={};_0x452d3e[_0x2cb9aa(-0x2fc,-0x33c,-0x2d2,-0x29a)]=_0x5711d7['ScFcA'],_0x452d3e[_0x2cb9aa(-0x260,-0x24f,-0x27f,-0x284)]=_0x5711d7[_0x2cb9aa(-0x29d,-0x261,-0x234,-0x229)],_0x452d3e['vaes']=_0x5711d7[_0x2adbc4(0x4af,0x48b,0x4ea,0x519)],_0x452d3e[_0x2adbc4(0x5a4,0x532,0x54b,0x56e)]=_0x5711d7[_0x2cb9aa(-0x277,-0x23a,-0x282,-0x2ba)],_0x452d3e[_0x2cb9aa(-0x31f,-0x2c2,-0x2bf,-0x2f3)]=_0x5711d7[_0x2adbc4(0x4e6,0x552,0x533,0x59f)],_0x452d3e['latentUpsc'+_0x2adbc4(0x5a8,0x599,0x54f,0x57b)]=_0x5711d7[_0x2adbc4(0x4ec,0x4de,0x52d,0x4db)],_0x452d3e[_0x2cb9aa(-0x287,-0x25f,-0x2b4,-0x2f7)]=_0x5711d7[_0x2adbc4(0x4de,0x4a7,0x4b1,0x4c3)];const _0x316082=_0x452d3e;try{const _0x595519=await Promise[_0x2cb9aa(-0x285,-0x2cc,-0x2d6,-0x268)](Object[_0x2adbc4(0x489,0x4fb,0x49b,0x4c6)](_0x316082)[_0x2cb9aa(-0x30b,-0x271,-0x2ce,-0x335)](_0x44e761=>fetch(_0x3ea40a+_0x44e761,{'headers':{'Authorization':getsdAuth()}}))),_0x30dc2c=_0x595519[_0x2cb9aa(-0x2de,-0x2c6,-0x2ce,-0x2e0)](_0x316854=>_0x316854[_0x2adbc4(0x523,0x50c,0x549,0x50d)]===_0x2cb9aa(-0x25c,-0x279,-0x263,-0x245)&&_0x316854[_0x2adbc4(0x532,0x5c3,0x55d,0x50a)]['ok']?_0x316854[_0x2cb9aa(-0x1b2,-0x1af,-0x203,-0x1f2)]:null);if(_0x30dc2c[_0x2adbc4(0x546,0x516,0x504,0x4d6)](_0x457f72=>_0x457f72===null)){if(_0x5711d7[_0x2adbc4(0x477,0x549,0x4e5,0x47e)](_0x5711d7[_0x2adbc4(0x4d7,0x538,0x512,0x4a6)],_0x5711d7[_0x2adbc4(0x4fa,0x52b,0x512,0x57f)])){const _0x328450=_0x250645[_0x2cb9aa(-0x25d,-0x261,-0x297,-0x2b7)](_0x515476,arguments);return _0x2a0f73=null,_0x328450;}else{const _0x7dea1e=_0x595519[_0x2cb9aa(-0x1d1,-0x269,-0x231,-0x22e)](_0x1ac900=>_0x1ac900['status']===_0x2cb9aa(-0x345,-0x32d,-0x2dd,-0x2b1))?.[_0x2cb9aa(-0x2bc,-0x29c,-0x2c0,-0x2b0)]?.['message']||_0x595519[_0x2adbc4(0x517,0x518,0x52f,0x539)](_0x467508=>_0x467508[_0x2adbc4(0x58a,0x57a,0x549,0x561)]==='fulfilled'&&!_0x467508['value']['ok'])?.[_0x2cb9aa(-0x271,-0x1ce,-0x203,-0x1f5)]?.[_0x2cb9aa(-0x29d,-0x2a4,-0x26a,-0x273)]||_0x2adbc4(0x55f,0x50d,0x4fa,0x4fc);throw new Error(_0x2cb9aa(-0x29b,-0x2b5,-0x27e,-0x27c)+_0x2cb9aa(-0x24d,-0x264,-0x262,-0x2a7)+_0x7dea1e);}}const _0xb79a15=_0x30dc2c[_0x2cb9aa(-0x2a1,-0x328,-0x2ce,-0x2de)](_0x554c90=>_0x554c90?_0x554c90[_0x2cb9aa(-0x1be,-0x26b,-0x220,-0x1eb)]():Promise[_0x2adbc4(0x494,0x467,0x484,0x42b)](null)),[_0x27e43b,_0x160584,_0x231276,_0x5194a2,_0x2ae1f9,_0x112609,_0x3c7652]=await Promise[_0x2cb9aa(-0x23d,-0x267,-0x236,-0x209)](_0xb79a15);let _0x3c224b=_0x2ae1f9?_0x2ae1f9[_0x2adbc4(0x451,0x471,0x492,0x45d)](_0x3454c6=>_0x3454c6[_0x2cb9aa(-0x2fe,-0x2a7,-0x2d5,-0x2fc)]):[],_0x252d05=_0x112609?_0x112609[_0x2cb9aa(-0x28e,-0x2c3,-0x2ce,-0x2b9)](_0x11ef94=>_0x11ef94[_0x2cb9aa(-0x26f,-0x316,-0x2d5,-0x295)]):[];_0x3c224b[_0x2adbc4(0x530,0x4e1,0x4d5,0x478)](-0x3*0x38d+-0x3*0xa0d+0x28cf,-0xce7+-0x330+0x3*0x55d,..._0x252d05),_0x27c46f['sdCache'][_0x2cb9aa(-0x2ca,-0x312,-0x2d2,-0x30e)]=_0x27e43b?_0x27e43b['map'](_0x41b647=>_0x41b647[_0x2adbc4(0x4b6,0x436,0x48b,0x478)]):[],_0x27c46f['sdCache'][_0x2adbc4(0x507,0x530,0x4e1,0x4be)]=_0x160584?_0x160584[_0x2adbc4(0x4ac,0x446,0x492,0x4b0)](_0x15866f=>_0x15866f[_0x2adbc4(0x50f,0x556,0x52b,0x562)]):[],_0x27c46f[_0x2adbc4(0x573,0x58b,0x556,0x560)][_0x2adbc4(0x4a7,0x49b,0x487,0x474)]=_0x231276?_0x231276[_0x2cb9aa(-0x2ea,-0x2c3,-0x2ce,-0x307)](_0x43cd41=>_0x43cd41['model_name']):[],_0x27c46f[_0x2cb9aa(-0x19d,-0x251,-0x20a,-0x203)]['schedulers']=_0x5194a2?_0x5194a2[_0x2cb9aa(-0x2a9,-0x2ff,-0x2ce,-0x329)](_0x17ade9=>_0x17ade9['name']):[],_0x27c46f[_0x2adbc4(0x4f0,0x587,0x556,0x561)][_0x2adbc4(0x448,0x445,0x4a1,0x464)]=_0x3c224b,_0x27c46f[_0x2adbc4(0x50d,0x5ab,0x556,0x593)][_0x2cb9aa(-0x2d0,-0x315,-0x2b4,-0x31d)]=_0x3c7652?_0x3c7652[_0x2adbc4(0x4a3,0x464,0x492,0x470)](_0x24bc6f=>_0x24bc6f[_0x2adbc4(0x4e7,0x498,0x48b,0x4ac)]):[],saveSettingsDebounced(),_0x5711d7['kITHG'](alert,_0x5711d7[_0x2cb9aa(-0x21b,-0x230,-0x240,-0x25a)]);}catch(_0x1c043d){_0x5711d7[_0x2adbc4(0x45f,0x45b,0x4c0,0x464)](alert,_0x5711d7['PLWJt'](_0x2cb9aa(-0x2a4,-0x236,-0x254,-0x29d)+'检查API地址和网络'+_0x2adbc4(0x489,0x478,0x4b5,0x49e),_0x1c043d[_0x2cb9aa(-0x248,-0x1ed,-0x257,-0x272)])),_0x5711d7['ygSnp'](addLog,'\x22测试SD链接失败网'+'址:'+_0x3ea40a+'\x20错误详情:\x22'+JSON[_0x2adbc4(0x48e,0x4a7,0x4c1,0x50e)](_0x1c043d));}}window['loadSilter'+'TavernChat'+_0x2adbc4(0x537,0x4d1,0x505,0x554)]();}export function initApiConnectionTests(_0x185450){const _0x144aa0={};_0x144aa0[_0x8f1278(0x49b,0x488,0x506,0x4eb)]=_0x32e259(0x133,0xec,0x145,0x11e)+'ui',_0x144aa0[_0x8f1278(0x531,0x49d,0x4bd,0x4c9)]=_0x32e259(0xde,0x163,0x13f,0x135);function _0x32e259(_0x89cb95,_0xb83ba1,_0x2c8b2d,_0x189bf7){return _0x4b6a(_0x189bf7-0x2a,_0xb83ba1);}const _0x2d72e1=_0x144aa0;_0x185450['find'](_0x8f1278(0x564,0x54a,0x56d,0x511))['on'](_0x32e259(0x114,0x16a,0xd5,0x135),testSd);function _0x8f1278(_0x506c4b,_0xa9d23a,_0x38b3a5,_0x414f4d){return _0x4b6a(_0x414f4d-0x38e,_0x38b3a5);}_0x185450[_0x32e259(0x17c,0x15a,0x18e,0x1c1)](_0x2d72e1['zQLYN'])['on'](_0x2d72e1['dPTqe'],testComfyui);}