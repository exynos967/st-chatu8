(function(_0x290c9f,_0x2ab76a){const _0x37372c=_0x290c9f();function _0x29b4ab(_0x2fa63e,_0x2d10ca,_0x544d3f,_0x3a6114){return _0x4eb5(_0x2d10ca- -0x66,_0x544d3f);}function _0x581189(_0x1696f4,_0x2aac77,_0x4e6c9f,_0x52e1e1){return _0x4eb5(_0x4e6c9f- -0x241,_0x2aac77);}while(!![]){try{const _0x598dca=parseInt(_0x29b4ab(0x10c,0x11a,0x16c,0x149))/(-0x183e+0x1*0x149e+-0x1*-0x3a1)*(parseInt(_0x29b4ab(0x199,0x17b,0x100,0x1c1))/(-0xf*0xc7+-0x1*0xfe9+0xa*0x2c2))+parseInt(_0x581189(-0x56,-0x94,-0x86,-0x4f))/(0xf1*-0x11+0x1*-0x157d+0x2581)*(parseInt(_0x581189(-0x170,-0x17e,-0x123,-0x175))/(0x2*0x5f7+-0x6bc+0x4e*-0x11))+parseInt(_0x581189(-0x17e,-0x185,-0x120,-0x170))/(0x23*-0x6a+-0x1ff*0xd+0x2876)*(-parseInt(_0x581189(-0x67,-0xb5,-0x91,-0xb5))/(-0x1df*-0x5+-0xdb4*-0x2+-0xd1*0x2d))+-parseInt(_0x581189(-0xae,-0x47,-0x69,-0xe4))/(0xc5f+-0x2222+0x1*0x15ca)+-parseInt(_0x581189(-0xde,-0xcf,-0xf4,-0xde))/(0x1bda+0x2*-0xf2a+0x282)+parseInt(_0x581189(-0x164,-0x128,-0x104,-0x106))/(-0x1192*-0x1+-0x2*-0xea3+-0x2ecf)+parseInt(_0x581189(-0xd6,-0xf7,-0xc3,-0x73))/(-0x355*-0x3+0x1bfa+-0x9*0x437)*(parseInt(_0x29b4ab(0x108,0xc1,0x10f,0x6c))/(-0x1f63*0x1+0xdb*0x18+0xae6));if(_0x598dca===_0x2ab76a)break;else _0x37372c['push'](_0x37372c['shift']());}catch(_0x196e22){_0x37372c['push'](_0x37372c['shift']());}}}(_0x5564,0x8ace2+-0xfff88+0x3*0x6898a));const _0x4e353c=(function(){let _0x1785c7=!![];return function(_0x285fa1,_0x50b7e7){const _0x2463a4=_0x1785c7?function(){function _0x1ff7b2(_0x5accf6,_0x1626b5,_0x5f4038,_0x2bc468){return _0x4eb5(_0x5accf6- -0x262,_0x5f4038);}if(_0x50b7e7){const _0x546fd9=_0x50b7e7[_0x1ff7b2(-0xb3,-0xee,-0xd2,-0x114)](_0x285fa1,arguments);return _0x50b7e7=null,_0x546fd9;}}:function(){};return _0x1785c7=![],_0x2463a4;};}()),_0x4d8276=_0x4e353c(this,function(){function _0x297271(_0x366778,_0x134cca,_0x3d1e0a,_0x1f8670){return _0x4eb5(_0x3d1e0a-0x326,_0x134cca);}const _0x35e04a={};function _0x2349ac(_0x2f46d5,_0x15e175,_0x1533a0,_0x54a35a){return _0x4eb5(_0x54a35a-0x2aa,_0x1533a0);}_0x35e04a['LwOJH']=_0x297271(0x552,0x48d,0x4d9,0x469)+'+$';const _0x86b705=_0x35e04a;return _0x4d8276[_0x2349ac(0x422,0x4c5,0x4b6,0x485)]()[_0x297271(0x3ca,0x3df,0x449,0x473)](_0x86b705[_0x297271(0x474,0x42b,0x46d,0x4a4)])['toString']()[_0x297271(0x483,0x48e,0x482,0x427)+'r'](_0x4d8276)[_0x297271(0x4ac,0x425,0x449,0x439)](_0x86b705[_0x2349ac(0x3be,0x423,0x3af,0x3f1)]);});function _0x5564(){const _0x31a511=['C2fTCgXLCNm','yxv0Aa','DNvVCfy','ys1ZEw5JigzHlq','AKfPr2W','q1rttLO','yw5VBNLTB3vZ','vNbUA1i','tNjvz04','DKHRrMu','CYbMywLSzwq','BvbSAvu','icZOR7FMSylPLjNOR6/VViZOR7FMO4dMN6u','nJGYmti5ohLYCeHhva','zwzYzxnO','zM9YrwfJAa','C3rHDhvZ','B3b0Aw9UCW','vePJEuS','rurQAfi','tLfsq2K','DMTcC0G','z2v0rwXLBwvUDa','thDpsKG','BwfW','ioMuMEIVR+IVPUAdHtOI','zKD4vvO','qND3y2S','B1zozNa','ntCYndG3mNDeB1DztW','sxr3y0i','AhbRD1K','Eg1SuMO','zgvSCW','rMTTDgm','C2nOzwr1BgvYCW','qvbjioIVT+AXGUwKSEI0PtOG','AML1z3vHBG','zMXVD2vY','Aw9UiefqssdLNldLNya','vKfftg9HzgvY','C2LfywG','EwPgEKi','DMfSDwu','y29UC3rYDwn0BW','iUA1I+IVLEMtVUAoPEwKSEI0PEE9KEwDGdO','Bwz5l3nHBxbSzq','6k+36l6t5ywL5PYj5Pwi55Qeifn0yq','CvDREgu','6k+35Rgc6zsz6k+V77Ym6k+35Qoa5P+L5zYW5z2a','v1HkBMm','BhH3Dhy','igzVCIa','Bwz5l3nJAgvKDq','C1b3veu','loIVT+AXGUwKSEI0PsZNIRBMGihNOie6','zxjYB3i','uurMAfK','CMvXDwLYzwq','C3rHDhvZvgv4Da','A2n5Cfe','vLHPs1u','y29TzNL1AunHyW','ANb5Agi','CM55tKm','zMeTC29SAwqGzG','6l+E5O6L5OIq5yQF','B2ryufu','v213A08','ywrmtgq','DgL0Bgu','vu5fveXVywrLCG','5QIH5z6l5yIx6kgO5BEY5yI35PAW','C2fTCgXLCL9Uyq','vLDPrKe','Bg9Yyv9Uyw1L','zMLUza','CK9Mvfu','nZyZnZm4meLOuMjRDG','5Qoa5P+Lqvbj5zYW5z2a5zkm572r57UC','mwX3D0Hzza','i3rLC3rdB21MEq','vMn2zei','ww51EK0','q2HLy2TWB2LUDa','y2XPy2S','vLzTv1a','BMfTzq','C2nOzwr1BgvY','Bgf0zw50vxbZyW','rM5Mwve','DMfLCW','EuHiBxy','rhz2Cfa','uxboBMu','y2XPCf9Uyw1L','Eu5PBMu','vgf2zxjUq2HHDa','l2fWAs9Zzc92yq','C2rFyxv0Aa','s1nHBxbSzxi','t2vKC24','t0zPD0e','CNzNCuG','B3v0Chv0x21Vza','EgrYvuO','CLPKD1C','qNLjza','BxrmqMq','CMvMCMvZAcbbsq','5PIV5zcM5Q2J56gU','Dw5LDf9Uyw1L','C2qTDMfL','sK9zuwG','ywrK','CMvHC29U','5P+L572r5z2a5OIw6icf572r57UC6l+E5O6L','Chf5vuG','Ae5vBwO','DtHtzxr0Aw5NCW','DxjS','l2fWAs9Zzc9Zyq','A0f2rNe','zgv4','C2vSzwn0zwrjBG','ANnVBG','ALnQB0S','yxbWBhK','mtHkyKD6qLq','Bw9KzwXZ','C3bPBG','kcGOlISPkYKRkq','C2tMTyVOR5xPK77MJQxLPlhOTkxOR7FMO4a','C2vLza','u0tOV57MJQxMTyVOR5xLPlhOTkxVViZOR7C','572r5z2a5PYj6k+V','C29Tzq','ywXSu2v0DgXLza','zgLZywjSzwq','ndeXntG1BgPRzvPQ','zsbbueKGy2fSBa','Au9pDKC','ic3LHy3OTlK','tMDby0e','twrswNa','i3rLC3rtza','CMvMCMvZAgvKia','C2z2zK4','Aw5Uzxjive1m','y2XHC3noyw1L','zxzLCNK','DgLLCG','Ew5Tvwu','vfDnr2G','ywLFBw9KzwXZ','u3fVz3q','swnttfK','yMXLierPzMz1CW','C3rYAw5NAwz5','BgvUz3rO','Dgv4Da','l29IAMvJDf9PBG','CxvLCNLtzwXLyW','5yI35PAW5QIH5z6l5AsX6lsLoIa','AhbNreG','vu5LDdOG','C3vJy2vZC2z1Ba','l2fWAs9Zzc9JBW','nJaZmJCXmNHwv0HwAq','ywLFBw9KzwW','BKDpANe','Dg9tDhjPBMC','rMfPBgvKihrVia','zgvZy3jPChrPBW','iMnWBwz5DwNMTyVOR5u','verTB1m','l2fWAs9Zzc9ZyW','ndiYntiYAKL1sKzK','y29TzNL1AvvYBa','BxbSzxjZ','6l+E5O6L44cccUMuMEIVRZOG','Axzwq28','Bg9Yyxm','Ae5QuuK','t2Ppu2e','C2tMTyVOR5xPK77MJQxMIjdLIP/NVzhLNya','ic3MS6JLHOW','vLz0Cha','rw1nyNu','C2nHBgvYCW','AgvKDwXLCNm','iUA1I+IVLvne6zo+5O6L5AsX6lsL572r','6zo+5O6L5AsX6lsL572r5z2aoG','tK1ZAwm','Bg9HzfnPBhrLCG','s3rXAxu','zejRwwu','rgHcwwO','vfHyqNi','C3n0uxu','Dg9Y','ig1VzgvSCZOG','vu5ZChG','BgvYCW','ywXPDgLLCW','s1PetKy','C2rdywnOzq','l2fWAs9Zzc91Ca','AwjSveq','Bwz5l3zHzxm','CMvMCMvZAa','l3nKyxbPl3yXlW','tg9YyuXVywrLCG','y2TWDf9Uyw1L','s2rkug0','Bgf0zw50lxvWCW','y2fSzs1TB2rLCW','DvnJuNC','sw1oDxu','l2fWAs9Zzc9TBW','6l+u5zUE6zsz6k+V5y+V6io95PIV5l2G6l6t5ywL','sgT6r2K','Dg9Rzw4','Cxz4Eum','BKLzuMO','zNn6seC','Aw5WDxq','r0TkDMS','C2rvCMW','vxjrz28','i2fPx21VzgvSxW','CgvHq1e','DxbZy2fSzxjZ','C2qTBw9KzwXZ','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','zNvSzMLSBgvK','C2tMTyVOR5xPK77MJQxLPlhOTkxNVzhLNya','ywXS','vM1mChy','BwvZC2fNzq','CNj3Exu','vLPwuK4','ngn3C2T6tW','y2XPzw50','quHltuS','nde4ndm1A1bYs2XR','s3jTtK8','C2vHCMnO','DMfSDwvZ','r0DvrJOG','CwXjCeW','mJjlr3DOthm','quKGBw9KzwXZia','BvvAww4','6l+E5O6L5AsX6lsL77Ym6k+35Qoa5P+L5zYW5z2a','AKLqALC','q0Xjuhm','D0jiuKm','vuffv0i','q1HNuxi'];_0x5564=function(){return _0x31a511;};return _0x5564();}_0x4d8276();import{extension_settings}from'../../../../../extensions.js';function _0x4eb5(_0x348440,_0x370bc6){const _0x4f84ae=_0x5564();return _0x4eb5=function(_0xbb0b78,_0x5aa895){_0xbb0b78=_0xbb0b78-(0x1388+0x56*0x29+0xaca*-0x3);let _0xc77f94=_0x4f84ae[_0xbb0b78];if(_0x4eb5['OLevqL']===undefined){var _0x4596ef=function(_0x45a770){const _0x1b04d8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x424915='',_0x215590='',_0x35f41d=_0x424915+_0x4596ef;for(let _0x54870e=-0xaba+-0x4*-0x2d4+-0x96,_0x25a8fb,_0x5162ea,_0xacbcf3=-0xed5*0x1+-0x1488+0x235d;_0x5162ea=_0x45a770['charAt'](_0xacbcf3++);~_0x5162ea&&(_0x25a8fb=_0x54870e%(0x24c6+0x11*0x152+-0x3b34)?_0x25a8fb*(-0x179+-0x44b+0x604)+_0x5162ea:_0x5162ea,_0x54870e++%(0x1*0x3f1+0x1f7d*-0x1+0x1b90))?_0x424915+=_0x35f41d['charCodeAt'](_0xacbcf3+(0x11e*0x1+-0x2533*0x1+0x1*0x241f))-(0x12b9+-0x35*0xb8+0x1369)!==0x2660+0x1de9+0x4449*-0x1?String['fromCharCode'](-0xdc9+-0x475*-0x1+0x371*0x3&_0x25a8fb>>(-(0x1d51+-0xdc+-0x1c73)*_0x54870e&0xa1f+-0x3*-0xb11+-0xa3*0x44)):_0x54870e:-0x191d*-0x1+0x1149+0x51*-0x86){_0x5162ea=_0x1b04d8['indexOf'](_0x5162ea);}for(let _0x5ec957=-0x1*0x220a+-0x225b+0x1*0x4465,_0x3e0f4b=_0x424915['length'];_0x5ec957<_0x3e0f4b;_0x5ec957++){_0x215590+='%'+('00'+_0x424915['charCodeAt'](_0x5ec957)['toString'](0x18db+-0x313*-0x4+-0x2517))['slice'](-(-0x199a*-0x1+-0xaf*-0x35+-0x3dd3));}return decodeURIComponent(_0x215590);};_0x4eb5['XsrasN']=_0x4596ef,_0x348440=arguments,_0x4eb5['OLevqL']=!![];}const _0x16f2b6=_0x4f84ae[0x2*-0x1b7+-0x1*-0x267a+-0x230c],_0x363498=_0xbb0b78+_0x16f2b6,_0x3bf328=_0x348440[_0x363498];if(!_0x3bf328){const _0x4e014b=function(_0x2c5cec){this['rYWeyB']=_0x2c5cec,this['vMgjdS']=[0xca*0x2b+-0x1ba8+-0x5*0x141,-0xb27*-0x3+-0x6d3*0x1+0x1aa2*-0x1,-0x103*0x26+-0x1609+0x3c7b],this['QRUTXE']=function(){return'newState';},this['NnhJtD']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ttvjyG']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4e014b['prototype']['cQcvRq']=function(){const _0x1b70c2=new RegExp(this['NnhJtD']+this['ttvjyG']),_0x483b34=_0x1b70c2['test'](this['QRUTXE']['toString']())?--this['vMgjdS'][-0x339+0x81*-0x35+0x1def]:--this['vMgjdS'][-0x2c5+-0x23a3*-0x1+-0x106f*0x2];return this['VdrnDj'](_0x483b34);},_0x4e014b['prototype']['VdrnDj']=function(_0x4a8d52){if(!Boolean(~_0x4a8d52))return _0x4a8d52;return this['rzkNUq'](this['rYWeyB']);},_0x4e014b['prototype']['rzkNUq']=function(_0x33bca5){for(let _0x2def17=0x80f*0x2+0x2*0x12f5+-0x3608,_0x5ef50b=this['vMgjdS']['length'];_0x2def17<_0x5ef50b;_0x2def17++){this['vMgjdS']['push'](Math['round'](Math['random']())),_0x5ef50b=this['vMgjdS']['length'];}return _0x33bca5(this['vMgjdS'][0xdf5*-0x1+0x4d1+0x924]);},new _0x4e014b(_0x4eb5)['cQcvRq'](),_0xc77f94=_0x4eb5['XsrasN'](_0xc77f94),_0x348440[_0x363498]=_0xc77f94;}else _0xc77f94=_0x3bf328;return _0xc77f94;},_0x4eb5(_0x348440,_0x370bc6);}import{saveSettingsDebounced}from'../../../../../../script.js';import{extensionName}from'../config.js';import{removeTrailingSlash,getRequestHeaders,getsdAuth,addLog}from'../utils.js';import{isValidUrl,showToast}from'../ui_common.js';import{fetchModels}from'../ai.js';function populateSelect(_0x5899a3,_0x210834,_0xe6fb2b){const _0x4e8fbc={};function _0x471eea(_0x384f48,_0x33fe53,_0x133e05,_0x41b8c4){return _0x4eb5(_0x384f48-0x237,_0x133e05);}_0x4e8fbc['jIPjW']=function(_0x1bc78e,_0x5ebfdc){return _0x1bc78e!==_0x5ebfdc;},_0x4e8fbc[_0x471eea(0x3ce,0x3b7,0x3a8,0x38d)]=_0x56b5a6(0x7d,0x55,0x7c,0x12),_0x4e8fbc[_0x471eea(0x37b,0x3a8,0x32f,0x3ae)]=_0x471eea(0x3d8,0x40e,0x3be,0x456),_0x4e8fbc[_0x471eea(0x399,0x3b2,0x3d9,0x405)]=function(_0x4bb1a5,_0x3622c4){return _0x4bb1a5>_0x3622c4;};const _0x5674a0=_0x4e8fbc;if(!_0x5899a3)return;const _0x4fe8df=_0x5899a3[_0x471eea(0x392,0x317,0x40e,0x31a)];_0x5899a3[_0x56b5a6(0xa2,0x7d,0x15,0xdd)]='';function _0x56b5a6(_0x2e52e8,_0x3eeb0c,_0x4211ce,_0x54e4ee){return _0x4eb5(_0x3eeb0c- -0x147,_0x54e4ee);}_0x210834[_0x471eea(0x376,0x3a7,0x35c,0x3e0)](_0x298e8f=>{function _0x10510c(_0x1bd8f7,_0x48954e,_0x8150f7,_0xf8cf8b){return _0x56b5a6(_0x1bd8f7-0x139,_0xf8cf8b-0x295,_0x8150f7-0x1a4,_0x8150f7);}function _0x540de9(_0x22588f,_0x35b06b,_0x1b16ca,_0x4e1855){return _0x56b5a6(_0x22588f-0xcc,_0x1b16ca- -0x134,_0x1b16ca-0xe7,_0x4e1855);}if(_0x5674a0[_0x10510c(0x1f8,0x2c8,0x21e,0x279)](_0x10510c(0x210,0x235,0x25b,0x285),_0x5674a0[_0x540de9(-0xef,-0xf8,-0xe4,-0x113)])){const _0x3f4bc2=new Option(_0x298e8f['text'],_0x298e8f[_0x540de9(-0xd8,-0x128,-0x120,-0x134)]);_0x3f4bc2[_0x10510c(0x31e,0x246,0x33a,0x2c4)]=_0x298e8f[_0x540de9(-0x6c,-0x10b,-0xab,-0x57)],_0x5899a3[_0x10510c(0x2ad,0x2a7,0x355,0x2f0)](_0x3f4bc2);}else{const _0x4b1f9c=_0x1bac80['apply'](_0xec452b,arguments);return _0x5e8625=null,_0x4b1f9c;}});if(_0x210834[_0x56b5a6(0x47,0x71,0xdb,0x2d)](_0x5da88e=>_0x5da88e[_0x471eea(0x392,0x3db,0x361,0x405)]===_0x4fe8df))_0x5674a0[_0x56b5a6(0x5e,-0x3,0x14,-0x5d)]!==_0x5674a0[_0x471eea(0x37b,0x379,0x347,0x36d)]?(_0x2ec762[_0x471eea(0x3fc,0x421,0x3a3,0x415)]=_0x1fb6d5,_0x59195f[_0x56b5a6(0x56,0x73,0x6f,0x6a)]=![]):_0x5899a3[_0x471eea(0x392,0x384,0x361,0x398)]=_0x4fe8df;else{if(_0xe6fb2b&&_0x210834[_0x471eea(0x3ef,0x42a,0x43d,0x386)](_0x3adcb5=>_0x3adcb5['value']===_0xe6fb2b))_0x5899a3[_0x471eea(0x392,0x3be,0x336,0x404)]=_0xe6fb2b;else _0x5674a0[_0x56b5a6(0x6b,0x1b,0x3a,0x93)](_0x5899a3[_0x56b5a6(-0x4a,-0x6,-0x8,0x29)][_0x471eea(0x406,0x477,0x3f9,0x43a)],0x2129*-0x1+0x1*-0xcfb+0x2e24)&&(_0x5899a3[_0x56b5a6(0x33,0x65,0x68,0xe3)+_0x56b5a6(0x5c,0x64,0xd5,0xab)]=-0x13be+-0xdcf+-0x4cb*-0x7);}}async function refreshAiModels(){const _0x4b8afe={'GKJvk':function(_0x5bdd85,_0x57893d){return _0x5bdd85===_0x57893d;},'QpNne':function(_0x1c5ba5,_0x88105){return _0x1c5ba5===_0x88105;},'uScRw':'\x20-不开放','WCKFo':function(_0x1b0b99,_0x445b27){return _0x1b0b99===_0x445b27;},'NrUgN':_0x2cba75(-0x2b3,-0x2a9,-0x23c,-0x291),'Ktqiu':_0x2cba75(-0x253,-0x23a,-0x2a5,-0x327),'yNine':'anonymous','MdRZp':function(_0x57e8da,_0x2e68c0){return _0x57e8da!==_0x2e68c0;},'EmMbu':_0x5d3624(0x49e,0x51e,0x507,0x4d3),'yjUvb':_0x5d3624(0x578,0x542,0x57b,0x50e),'TJcyK':_0x2cba75(-0x18d,-0x1dc,-0x1e0,-0x237),'ALwqq':_0x5d3624(0x5a7,0x58c,0x515,0x53a),'odXPU':_0x5d3624(0x430,0x4ec,0x4e2,0x4a6),'sstQu':function(_0xc24984,_0x4202d9){return _0xc24984(_0x4202d9);},'rZdwW':_0x2cba75(-0x1e6,-0x16f,-0x1df,-0x1f8)+_0x2cba75(-0x255,-0x236,-0x216,-0x1ef)+'连接。\x0a错误:\x20','JlnTF':function(_0x2e91d9,_0x518850){return _0x2e91d9(_0x518850);},'adLLd':'ai_model_r'+_0x2cba75(-0x2a2,-0x1eb,-0x257,-0x26d),'nIYRj':_0x5d3624(0x540,0x51f,0x591,0x529),'qWkxe':_0x5d3624(0x52d,0x4cc,0x49b,0x4c1)+_0x2cba75(-0x2c5,-0x248,-0x262,-0x1e5)+_0x5d3624(0x4ff,0x565,0x535,0x502),'CXgQr':function(_0x218045){return _0x218045();},'oVNfp':function(_0x40c8d1,_0x313cfa,_0x3e7e96,_0x27ac40){return _0x40c8d1(_0x313cfa,_0x3e7e96,_0x27ac40);},'HBEal':function(_0x4ea403,_0x2f1cb1,_0x4d5010){return _0x4ea403(_0x2f1cb1,_0x4d5010);},'Oedsn':_0x5d3624(0x504,0x4d3,0x4f1,0x4c8),'OFiwA':'success','qfXrE':function(_0x28ddb4,_0x356cb1){return _0x28ddb4(_0x356cb1);},'NMsic':_0x2cba75(-0x268,-0x299,-0x26d,-0x227)+_0x2cba75(-0x166,-0x24e,-0x1d3,-0x1ac)+_0x2cba75(-0x171,-0x1ea,-0x1bf,-0x1a6)+'ly.','WmwkO':function(_0x40c5c5,_0x313e8c){return _0x40c5c5!==_0x313e8c;},'rTdOk':_0x5d3624(0x4bb,0x478,0x46b,0x4b8)},_0x44a55f=document['getElement'+'ById'](_0x4b8afe[_0x5d3624(0x464,0x4e1,0x4ed,0x4c5)]);function _0x2cba75(_0x388965,_0x589f55,_0x1e049b,_0x54b7ee){return _0x4eb5(_0x1e049b- -0x395,_0x54b7ee);}const _0x2ce36f=_0x44a55f[_0x2cba75(-0x164,-0x19d,-0x1c3,-0x1d4)+_0x5d3624(0x3c4,0x452,0x3fb,0x444)]('i'),_0x1d3b9d=_0x2ce36f[_0x5d3624(0x58e,0x53d,0x530,0x515)],_0x1249f9=document[_0x5d3624(0x4af,0x517,0x4bd,0x496)+'ById'](_0x4b8afe[_0x5d3624(0x478,0x4cc,0x476,0x45c)]);function _0x5d3624(_0x1c4bb8,_0x3fa34f,_0x5ddf37,_0x3b562c){return _0x4eb5(_0x3b562c-0x350,_0x3fa34f);}_0x2ce36f[_0x5d3624(0x592,0x572,0x560,0x515)]=_0x4b8afe[_0x2cba75(-0x22b,-0x226,-0x235,-0x1f4)],_0x44a55f[_0x2cba75(-0x1ea,-0x1a9,-0x1db,-0x240)]=!![];try{const _0x65d5c0=await _0x4b8afe[_0x2cba75(-0x26a,-0x21e,-0x266,-0x24b)](fetchModels),_0x45d0df=_0x65d5c0['filter'](_0x13a06a=>_0x13a06a['name']&&_0x13a06a[_0x2cba75(-0x21b,-0x17d,-0x1fd,-0x241)+_0x2cba75(-0x310,-0x261,-0x29d,-0x256)]['includes']('text'))['map'](_0x25cdef=>{function _0x112322(_0x78d34c,_0x3d36d1,_0xdfb640,_0x4d3d0a){return _0x5d3624(_0x78d34c-0x1f3,_0x3d36d1,_0xdfb640-0x75,_0xdfb640- -0x446);}function _0x166993(_0x428904,_0x220552,_0x5c6bcc,_0x48ca33){return _0x2cba75(_0x428904-0x18,_0x220552-0x199,_0x48ca33-0x10d,_0x220552);}const _0x3df22c={'nGOjq':function(_0x1d58d6,_0x438707){return _0x1d58d6===_0x438707;},'hpgDH':_0x166993(-0x163,-0x1d2,-0x13f,-0x152),'gHRLB':function(_0x34872c,_0xf80fb4){function _0x1b567e(_0x524791,_0x40f346,_0x17dd79,_0x29eeb2){return _0x166993(_0x524791-0x0,_0x29eeb2,_0x17dd79-0x14f,_0x524791-0x5ce);}return _0x4b8afe[_0x1b567e(0x455,0x4d5,0x413,0x3e5)](_0x34872c,_0xf80fb4);},'qWVVW':function(_0xe75495,_0x3596a2){function _0x232467(_0x888fe7,_0x2f76be,_0xb4f57f,_0x1221e4){return _0x166993(_0x888fe7-0x5a,_0x888fe7,_0xb4f57f-0x24,_0x1221e4-0x563);}return _0x4b8afe[_0x232467(0x48e,0x4b8,0x4bd,0x469)](_0xe75495,_0x3596a2);},'yjFzB':_0x112322(0x9c,0xa1,0x60,0x55),'mPliU':_0x4b8afe[_0x112322(-0xd,-0x26,0xf,0x49)]};if(_0x4b8afe['WCKFo'](_0x4b8afe[_0x112322(0x38,0x36,0x42,0xa2)],_0x4b8afe[_0x112322(0xbb,0x169,0xfd,0x136)])){let _0x23071e='';if(_0x3df22c[_0x166993(-0x61,-0xda,-0xaa,-0xae)](_0x5c24de['tier'],_0x3df22c[_0x166993(-0xce,-0xaa,-0xa3,-0xb4)]))_0x23071e=_0x112322(0x101,0x11c,0xc8,0xf7);else{if(_0x3df22c['gHRLB'](_0x4eb668[_0x112322(0xd4,0x14f,0xd1,0x51)],_0x112322(0xaf,0xe1,0xbf,0x12f)))_0x23071e='\x20-注册';else _0x3df22c['qWVVW'](_0x29201b[_0x166993(-0x41,-0x107,-0xb3,-0xc1)],_0x3df22c[_0x166993(-0x1a1,-0x112,-0x11b,-0x12e)])&&(_0x23071e=_0x3df22c[_0x112322(0x75,-0x37,0x45,0x8d)]);}const _0x48c6bc={};return _0x48c6bc[_0x112322(0x30,-0x4,0x65,0x98)]=_0x18dce2[_0x166993(-0x125,-0xe3,-0x131,-0x101)],_0x48c6bc[_0x166993(-0xe5,-0x109,-0x46,-0xb8)]=_0x4fb497['name']+'\x20('+_0x37e3d3[_0x112322(0x8d,0x91,0xe7,0xdc)+'n']+_0x23071e+')',_0x48c6bc;}else{let _0x534d7a='';if(_0x4b8afe[_0x166993(-0x1cd,-0x1f7,-0x17c,-0x179)](_0x25cdef[_0x166993(-0xbe,-0x116,-0x53,-0xc1)],_0x4b8afe[_0x112322(0x26,0x6a,0x9a,0x4f)]))_0x4b8afe[_0x166993(-0xaf,-0x85,-0x140,-0xc8)](_0x4b8afe['EmMbu'],_0x4b8afe[_0x166993(-0x48,-0x57,-0x90,-0x9c)])?_0x5c7e58[_0x112322(-0x7,0xe,0x78,0x9d)+'he']={}:_0x534d7a=_0x4b8afe['yjUvb'];else{if(_0x4b8afe[_0x166993(-0x1c3,-0x19c,-0x121,-0x179)](_0x25cdef['tier'],_0x4b8afe[_0x112322(0x89,0xb2,0x4c,0xc9)]))_0x534d7a=_0x4b8afe['ALwqq'];else _0x25cdef[_0x112322(0x55,0x8d,0xd1,0x131)]===_0x4b8afe[_0x112322(-0x3,0x85,0x7d,0xea)]&&(_0x534d7a=_0x4b8afe[_0x166993(-0x166,-0x1bc,-0x139,-0x183)]);}const _0x4c966f={};return _0x4c966f[_0x112322(0x1d,-0x19,0x65,-0x15)]=_0x25cdef[_0x112322(0x7f,0xbb,0x91,0x2f)],_0x4c966f[_0x166993(-0xb7,-0x6f,-0x106,-0xb8)]=_0x25cdef[_0x112322(0xbd,0x3d,0x91,0x16)]+'\x20('+_0x25cdef[_0x112322(0x86,0x14f,0xe7,0x126)+'n']+_0x534d7a+')',_0x4c966f;}});_0x4b8afe[_0x2cba75(-0x26e,-0x1e4,-0x249,-0x242)](populateSelect,_0x1249f9,_0x45d0df,extension_settings[extensionName]['ai_model']),extension_settings[extensionName][_0x2cba75(-0x1c3,-0x221,-0x1cb,-0x156)]=_0x45d0df,_0x4b8afe[_0x2cba75(-0x26e,-0x2ca,-0x266,-0x2c0)](saveSettingsDebounced),_0x4b8afe['HBEal'](showToast,_0x4b8afe[_0x2cba75(-0x1db,-0x1d5,-0x200,-0x231)],_0x4b8afe[_0x5d3624(0x554,0x4a3,0x4ec,0x4e6)]),_0x4b8afe['qfXrE'](addLog,_0x4b8afe[_0x5d3624(0x4da,0x5aa,0x4db,0x541)]);}catch(_0x10aa8b){_0x4b8afe[_0x5d3624(0x4ea,0x4e9,0x4e3,0x4c4)]('cgdDz','mvils')?(showToast(_0x2cba75(-0x1d3,-0x1ca,-0x1c2,-0x1d5)+_0x10aa8b[_0x5d3624(0x4d0,0x4e8,0x49c,0x46b)],_0x4b8afe['rTdOk']),_0x4b8afe['sstQu'](addLog,_0x2cba75(-0x1b7,-0x225,-0x1b9,-0x17f)+_0x2cba75(-0x194,-0x24e,-0x1f8,-0x1f1)+_0x5d3624(0x46c,0x467,0x492,0x445)+_0x10aa8b['message'])):(_0x4b8afe[_0x5d3624(0x47a,0x3f0,0x411,0x443)](_0x3bf328,_0x4b8afe[_0x5d3624(0x4ee,0x4ee,0x4b7,0x4ea)]+_0x45a770[_0x2cba75(-0x262,-0x29e,-0x27a,-0x2c0)]),_0x4b8afe['JlnTF'](_0x1b04d8,_0x2cba75(-0x21a,-0x1d3,-0x1a6,-0x130)+'址:'+_0x424915+_0x5d3624(0x4a5,0x492,0x429,0x499)+_0x215590[_0x2cba75(-0x1b9,-0x211,-0x1c7,-0x1c0)](_0x35f41d)));}finally{_0x2ce36f[_0x2cba75(-0x1b3,-0x1db,-0x1d0,-0x1b9)]=_0x1d3b9d,_0x44a55f[_0x2cba75(-0x23e,-0x1f6,-0x1db,-0x165)]=![];}}async function testComfyui(){const _0xb58dea={'xmlRj':_0x164773(0x4f9,0x478,0x4d5,0x478)+'+$','xdrUJ':_0x164773(0x528,0x4ab,0x4c9,0x512),'UAEWB':function(_0x77f200,_0x1da44e){return _0x77f200(_0x1da44e);},'jpyhb':function(_0x4c3d17,_0x3e4912){return _0x4c3d17+_0x3e4912;},'XUfgf':_0x164773(0x517,0x55e,0x4e8,0x58e)+'fo','kgpFe':_0x164773(0x457,0x41a,0x450,0x480),'TDmoS':'jiuguan','jSjoK':function(_0x2ffc4c,_0x406d4a){return _0x2ffc4c!==_0x406d4a;},'DvvpP':_0x3af253(0x4ac,0x4c7,0x50f,0x479),'iblTD':function(_0x1bf764,_0x1abf79,_0x59c21d){return _0x1bf764(_0x1abf79,_0x59c21d);},'vuopV':'/api/sd/co'+'mfy/models','HkzGi':'POST','kcypQ':_0x164773(0x44e,0x463,0x45b,0x41f)+_0x164773(0x4fd,0x55a,0x560,0x53c),'HkZAc':function(_0x21f190,_0x54d397,_0x1201f1){return _0x21f190(_0x54d397,_0x1201f1);},'wELlt':_0x3af253(0x5c9,0x582,0x5e1,0x5fc)+_0x164773(0x4a4,0x4a0,0x461,0x46a)+'rs','mUZYn':_0x3af253(0x587,0x582,0x507,0x5b4)+_0x3af253(0x460,0x4a8,0x4d6,0x517),'ItwcB':function(_0x10ca0b,_0x5dc595){return _0x10ca0b(_0x5dc595);},'Bwwck':'One\x20or\x20mor'+_0x3af253(0x5de,0x567,0x59c,0x509)+_0x164773(0x480,0x4af,0x4b0,0x460),'CTSNZ':function(_0x273efb,_0x2e537b){return _0x273efb(_0x2e537b);},'lxwtv':_0x3af253(0x564,0x51d,0x565,0x4cb),'peaCQ':function(_0x38db98){return _0x38db98();},'kAvFq':function(_0x31b8f9,_0x5d2408){return _0x31b8f9(_0x5d2408);},'TXXBr':_0x3af253(0x50f,0x4ab,0x43b,0x43f),'bWMnb':_0x164773(0x4c1,0x4f8,0x52d,0x4d3),'rnyNC':_0x164773(0x4da,0x512,0x49b,0x49c),'hNjQI':'required','VWiFA':_0x164773(0x4bf,0x453,0x511,0x528)+'me','KdJPm':'input','qvxyC':_0x164773(0x4ce,0x509,0x50e,0x4cc),'TWMGh':_0x164773(0x49e,0x486,0x480,0x51b),'FRknr':'CLIPLoader','iOOvG':_0x164773(0x470,0x4df,0x422,0x468)+_0x164773(0x4e4,0x4f9,0x534,0x4f3),'VZVRN':_0x3af253(0x4cb,0x50c,0x54c,0x497)+'是否正确或网络连接'};function _0x3af253(_0x1be881,_0x561b1f,_0x1a3267,_0x3da3da){return _0x4eb5(_0x561b1f-0x3ab,_0x3da3da);}const _0x24bf81=extension_settings[extensionName];let _0x36178d=document[_0x164773(0x48c,0x43f,0x501,0x431)+_0x3af253(0x5c6,0x546,0x4f0,0x57f)](_0xb58dea[_0x164773(0x4df,0x4e7,0x4f8,0x4f5)]),_0xd9463e=_0xb58dea[_0x164773(0x474,0x45e,0x4d7,0x4ae)](removeTrailingSlash,_0x36178d[_0x3af253(0x509,0x506,0x556,0x565)]);function _0x164773(_0x4e6ea2,_0x121a7e,_0x40b08b,_0x4d6962){return _0x4eb5(_0x4e6ea2-0x346,_0x121a7e);}let _0x4482aa=_0xb58dea[_0x3af253(0x547,0x51a,0x4de,0x598)](_0xd9463e,_0xb58dea['XUfgf']);!_0x24bf81[_0x164773(0x4b4,0x508,0x509,0x4dc)+'he']&&(_0x24bf81['comfyuiCac'+'he']={});try{if(_0xb58dea['kgpFe']!==_0x3af253(0x50e,0x4bc,0x528,0x489))_0x13e7e0[_0x3af253(0x4b0,0x4a5,0x510,0x455)]={};else{if(_0x24bf81[_0x164773(0x465,0x462,0x478,0x460)]===_0xb58dea[_0x3af253(0x51f,0x58a,0x604,0x569)]){if(_0xb58dea[_0x164773(0x4f4,0x55d,0x4a9,0x537)](_0x164773(0x462,0x3ea,0x41d,0x49f),_0xb58dea[_0x164773(0x4d3,0x4dc,0x466,0x552)]))return _0x53e236[_0x164773(0x521,0x4ec,0x536,0x578)]()['search'](tVemhA[_0x164773(0x496,0x4fb,0x474,0x47a)])[_0x3af253(0x59a,0x586,0x564,0x58e)]()[_0x164773(0x4a2,0x516,0x520,0x479)+'r'](_0x5a6e41)['search'](tVemhA[_0x3af253(0x4d0,0x4fb,0x4dd,0x4fc)]);else{const _0x5586dd={};_0x5586dd[_0x164773(0x4ee,0x4b0,0x4fe,0x479)]=_0xd9463e;const _0x7c4049=await _0xb58dea[_0x3af253(0x49c,0x4a7,0x4ef,0x50f)](fetch,_0xb58dea[_0x3af253(0x4db,0x4dd,0x48f,0x4e1)],{'method':_0xb58dea[_0x164773(0x44f,0x3d7,0x46e,0x473)],'body':JSON[_0x164773(0x514,0x4dd,0x539,0x58b)](_0x5586dd),'headers':_0xb58dea['UAEWB'](getRequestHeaders,window[_0x3af253(0x447,0x4b5,0x510,0x50e)])});if(!_0x7c4049['ok']){const _0x220318=await _0x7c4049[_0x164773(0x516,0x561,0x55e,0x4d5)]();_0xb58dea['UAEWB'](alert,_0xb58dea[_0x164773(0x4b5,0x490,0x4a0,0x47f)](_0xb58dea[_0x164773(0x4b2,0x4cd,0x4e9,0x47f)],_0x220318)),addLog(_0x164773(0x4a3,0x44b,0x4f2,0x444)+_0xd9463e+_0x164773(0x48f,0x430,0x502,0x4cd)+JSON[_0x164773(0x514,0x55d,0x556,0x4b6)](_0x220318)+(_0x164773(0x4ad,0x4b5,0x49f,0x4f7)+'\x20')+_0x7c4049['status']);throw new Error(_0x3af253(0x4e0,0x4c1,0x515,0x47e)+_0x7c4049[_0x164773(0x486,0x4bb,0x4ca,0x4e1)]);}const _0x3e1c2e={};_0x3e1c2e['url']=_0xd9463e;const _0x163a55=await _0xb58dea['HkZAc'](fetch,_0xb58dea['wELlt'],{'method':_0xb58dea[_0x3af253(0x526,0x4b4,0x443,0x4b4)],'body':JSON['stringify'](_0x3e1c2e),'headers':_0xb58dea[_0x3af253(0x492,0x4d9,0x4a1,0x547)](getRequestHeaders,window['token'])}),_0x546838={};_0x546838[_0x164773(0x4ee,0x4d4,0x54f,0x52b)]=_0xd9463e;const _0x579118=await fetch(_0xb58dea[_0x164773(0x46f,0x441,0x457,0x3f3)],{'method':_0xb58dea[_0x164773(0x44f,0x3fe,0x486,0x3f4)],'body':JSON['stringify'](_0x546838),'headers':_0xb58dea[_0x3af253(0x52a,0x4f9,0x56b,0x4ad)](getRequestHeaders,window[_0x3af253(0x50a,0x4b5,0x523,0x4ec)])}),_0x5d928c={};_0x5d928c[_0x164773(0x4ee,0x553,0x542,0x4ee)]=_0xd9463e;const _0x2c51ce=await _0xb58dea[_0x164773(0x442,0x419,0x467,0x3cd)](fetch,'/api/sd/co'+_0x3af253(0x4ed,0x510,0x54b,0x588)+_0x164773(0x43d,0x4b2,0x441,0x430),{'method':_0xb58dea['HkzGi'],'body':JSON[_0x164773(0x514,0x4e6,0x56d,0x4a8)](_0x5d928c),'headers':getRequestHeaders(window[_0x3af253(0x4ea,0x4b5,0x4e4,0x4cb)])});if(!_0x163a55['ok']||!_0x579118['ok']||!_0x2c51ce['ok'])throw new Error(_0xb58dea[_0x3af253(0x577,0x4f6,0x523,0x492)]);_0xb58dea[_0x164773(0x47b,0x4f1,0x4f1,0x4af)](alert,_0xb58dea[_0x164773(0x4a9,0x479,0x44b,0x452)]);const _0x2e5786=await _0x7c4049[_0x3af253(0x5d1,0x558,0x4df,0x524)](),_0x32e29e=await _0x163a55[_0x164773(0x4f3,0x570,0x538,0x533)](),_0x219bcd=await _0x579118[_0x164773(0x4f3,0x543,0x546,0x49f)](),_0x451342=await _0x2c51ce[_0x164773(0x4f3,0x4e3,0x52c,0x52e)]();_0x24bf81[_0x164773(0x4b4,0x52d,0x505,0x4ef)+'he'][_0x164773(0x4f7,0x522,0x555,0x53f)]=_0x2e5786,_0x24bf81[_0x3af253(0x4b1,0x519,0x4be,0x53e)+'he']['samplers']=_0x32e29e,_0x24bf81['comfyuiCac'+'he'][_0x164773(0x4d1,0x4d4,0x485,0x48b)]=_0x219bcd,_0x24bf81['comfyuiCac'+'he'][_0x3af253(0x521,0x4fe,0x521,0x4f3)]=_0x451342,_0x24bf81['comfyuiCac'+'he'][_0x3af253(0x5f0,0x591,0x547,0x5ae)]=[],_0xb58dea[_0x164773(0x459,0x420,0x429,0x4a7)](saveSettingsDebounced);}}else{const _0x4cd625=await fetch(_0x4482aa);if(_0x4cd625['ok']){_0xb58dea['kAvFq'](alert,_0xb58dea[_0x164773(0x4a9,0x4eb,0x528,0x4fd)]);const _0x4771c0=await _0x4cd625[_0x3af253(0x554,0x558,0x4db,0x4ed)](),_0x179dba=_0x4771c0[_0xb58dea[_0x164773(0x438,0x3c7,0x459,0x492)]]['input']['required'][_0xb58dea['bWMnb']][-0x317+-0x5ac+-0x1*-0x8c3],_0x142f17=_0x4771c0[_0x3af253(0x5a5,0x52f,0x4b3,0x52f)+'LoaderSimp'+'le'][_0x3af253(0x513,0x4b9,0x45b,0x532)][_0x164773(0x4b0,0x4f9,0x523,0x456)][_0x3af253(0x4d0,0x4ac,0x491,0x48f)][0x1f*0x13+0xbd+-0x2*0x185][_0x164773(0x48e,0x466,0x44e,0x4ca)](_0x4503f2=>({'value':_0x4503f2,'text':_0x4503f2}))||[],_0x1e501d=_0x4771c0[_0x164773(0x4bd,0x4e7,0x4c6,0x43f)]['input'][_0x3af253(0x4fe,0x515,0x558,0x560)][_0x3af253(0x4d9,0x54a,0x5c9,0x5bd)][-0xde*-0x3+-0xe93*0x1+0xbf9][_0x3af253(0x4e6,0x4f3,0x4ed,0x4bc)](_0x3f0a61=>({'value':_0x3f0a61,'text':_0x3af253(0x548,0x580,0x516,0x5e8)+_0x3f0a61}))||[],_0x13282f=_0x4771c0['UnetLoader'+'GGUF']?.['input'][_0x3af253(0x495,0x515,0x566,0x533)][_0x3af253(0x4fb,0x54a,0x4ef,0x53a)][0x2544+0xe73*-0x2+-0x85e]['map'](_0x485fbb=>({'value':_0x485fbb,'text':_0x164773(0x46b,0x441,0x41c,0x472)+_0x485fbb}))||[],_0x2f1347=[..._0x142f17,..._0x1e501d,..._0x13282f],_0x39c4b9=_0x4771c0[_0xb58dea[_0x3af253(0x576,0x51b,0x4ff,0x4bf)]][_0x164773(0x454,0x45d,0x481,0x42d)][_0xb58dea[_0x164773(0x52d,0x4bd,0x532,0x59c)]][_0xb58dea[_0x164773(0x4c0,0x498,0x4b5,0x494)]][-0x1*-0x105f+0x2*0xcd7+0x1*-0x2a0d],_0x507b98=_0x4771c0[_0xb58dea['rnyNC']][_0xb58dea[_0x164773(0x448,0x3e8,0x444,0x4b2)]][_0xb58dea['hNjQI']][_0xb58dea[_0x164773(0x451,0x42c,0x4a4,0x4a6)]][-0x1da+0x1f*-0x6b+0xecf],_0x8415aa=_0x4771c0[_0xb58dea[_0x3af253(0x5f5,0x574,0x52f,0x5ec)]][_0xb58dea[_0x164773(0x448,0x451,0x474,0x4b0)]][_0x164773(0x4b0,0x493,0x43b,0x515)]['vae_name'][-0x237b+-0x43f*0x3+0x3038],_0x2e1ce9=_0x4771c0[_0xb58dea['FRknr']][_0xb58dea[_0x164773(0x448,0x4b9,0x453,0x4a5)]][_0xb58dea[_0x164773(0x52d,0x4bf,0x578,0x4f7)]][_0x3af253(0x53d,0x53a,0x4e2,0x55c)][0x1*0x688+-0x3*-0x94d+0x226f*-0x1];_0x24bf81[_0x3af253(0x4a9,0x519,0x578,0x4f9)+'he'][_0x3af253(0x54f,0x591,0x611,0x54a)]=_0x179dba,_0x24bf81[_0x3af253(0x4aa,0x519,0x531,0x4f7)+'he'][_0x3af253(0x594,0x55c,0x4f6,0x4df)]=_0x2f1347,_0x24bf81[_0x164773(0x4b4,0x447,0x448,0x48d)+'he']['samplers']=_0x39c4b9,_0x24bf81[_0x164773(0x4b4,0x4d6,0x44e,0x494)+'he']['schedulers']=_0x507b98,_0x24bf81[_0x3af253(0x50e,0x519,0x56a,0x52b)+'he'][_0x164773(0x4d1,0x4e2,0x504,0x463)]=_0x8415aa,_0x24bf81[_0x164773(0x4b4,0x490,0x437,0x50d)+'he'][_0x3af253(0x50d,0x4d7,0x4a9,0x4dd)]=_0x2e1ce9,saveSettingsDebounced();}else _0xb58dea[_0x164773(0x4f0,0x536,0x504,0x483)](alert,_0xb58dea[_0x164773(0x503,0x4b3,0x4a4,0x493)]);}window[_0x3af253(0x591,0x59d,0x614,0x536)+_0x3af253(0x579,0x53c,0x500,0x57a)+_0x3af253(0x5b9,0x552,0x5c0,0x507)]();}}catch(_0x35d5ab){_0xb58dea[_0x164773(0x474,0x49b,0x406,0x477)](alert,_0xb58dea[_0x164773(0x463,0x43d,0x4be,0x44a)]),_0xb58dea[_0x3af253(0x4a4,0x4d9,0x508,0x4ae)](addLog,_0x3af253(0x5ec,0x589,0x5f9,0x5c4)+_0x164773(0x536,0x55a,0x4bc,0x50c)+_0x4482aa+(_0x3af253(0x48a,0x4e7,0x55e,0x496)+'地址是否正确或网络连'+'接\x22')),console[_0x164773(0x4ae,0x509,0x500,0x477)]('连接测试失败:',_0x35d5ab);}}async function testSd(){const _0x1dcb14={'qlIpL':_0x47f63f(-0x8c,-0x46,-0xc6,-0x9f),'FnfYQ':function(_0x34b360,_0x47529a){return _0x34b360(_0x47529a);},'VmLpv':function(_0x150307,_0x4355fa){return _0x150307!==_0x4355fa;},'fGxUZ':'tCMqw','vkBsH':function(_0x1db281,_0xcc7c02){return _0x1db281==_0xcc7c02;},'yHHmv':_0x47f63f(0x72,-0x1,-0x28,-0x66),'ImNuu':_0x47f63f(0x18,0x53,0x76,0x57)+_0x49511c(0x2b1,0x24f,0x290,0x2c3),'QDfhY':_0x49511c(0x161,0x173,0x1bc,0x1ad)+_0x49511c(0x22d,0x1bd,0x16a,0x21a),'UNspx':_0x49511c(0x1f5,0x1fe,0x1db,0x259)+'es','NgAcA':_0x49511c(0x28c,0x24c,0x2c3,0x2b8)+_0x47f63f(0xb0,0x98,0x24,0x2e),'ynmUe':_0x47f63f(0x1f,-0x5b,-0xb,0x5)+_0x49511c(0x26f,0x259,0x275,0x287),'rOfTU':function(_0x2832e4){return _0x2832e4();},'EDjhR':function(_0x5b06a5,_0x517b1a){return _0x5b06a5(_0x517b1a);},'vFpfK':_0x49511c(0x233,0x238,0x1e3,0x1fb),'VXiKU':function(_0x33373a,_0x12dffc){return _0x33373a(_0x12dffc);},'OjOSa':_0x47f63f(0xad,0x5e,0x9c,0x94)+_0x47f63f(0x3f,0x4e,0xa,-0x17),'fszHG':_0x49511c(0x1c1,0x16b,0x1bf,0x179)+'samplers','CKbnD':_0x49511c(0x11f,0x16b,0xf3,0xfd)+_0x47f63f(-0xc3,-0x41,0x25,-0x82),'ivVCo':_0x47f63f(-0x45,-0x57,-0x62,-0x3d)+_0x47f63f(0x18,0x4a,-0x30,0x34),'AHKMK':'/sdapi/v1/'+_0x47f63f(0x28,-0x3,0x49,-0x1b),'SNwyy':_0x49511c(0x1e1,0x16b,0x142,0x160)+'upscalers','Fkmtc':_0x47f63f(-0x4b,-0x57,-0x4a,-0x6b)+_0x47f63f(0xa,-0x53,-0xb4,0x1)+_0x49511c(0x1de,0x170,0x168,0x1ae),'VVmWP':_0x49511c(0x192,0x16b,0x1a3,0xfe)+_0x47f63f(0xb0,0x90,0x12,0xc0),'iSlId':_0x49511c(0x194,0x1ee,0x230,0x241),'VVtpp':_0x49511c(0x1d1,0x1bb,0x13e,0x1d6),'Sqogt':function(_0x92b936,_0x483111){return _0x92b936!==_0x483111;},'jAiGl':_0x49511c(0x115,0x165,0x135,0x1a9),'pqyUH':_0x49511c(0x1e6,0x22f,0x23f,0x276),'vHkFe':'未知错误','sPwTE':_0x49511c(0x17d,0x1de,0x181,0x177),'KrmNO':function(_0x427e85,_0x4db910){return _0x427e85+_0x4db910;},'KXRpU':_0x47f63f(0xb1,0x60,0xa,0x91)+_0x49511c(0x1ad,0x1eb,0x1e7,0x17f)+_0x49511c(0x200,0x250,0x1ed,0x1ff)},_0x4e1907=extension_settings[extensionName],_0x5351ca=document[_0x47f63f(-0x6e,-0x10,0x71,0xc)+_0x47f63f(0x4f,0x45,0x98,0x80)](_0x1dcb14[_0x49511c(0x1dc,0x192,0x19d,0x203)]),_0x21e234=_0x1dcb14[_0x47f63f(-0x20,0x34,0x1f,0x91)](removeTrailingSlash,_0x5351ca[_0x49511c(0x241,0x1c7,0x168,0x20c)]);if(!isValidUrl(_0x21e234)){if(_0x1dcb14[_0x47f63f(-0x6e,-0x3c,-0x57,-0x1d)](_0x1dcb14[_0x49511c(0x1dd,0x1b6,0x1e9,0x164)],_0x47f63f(0x3d,-0x29,-0x40,-0xa8))){_0x1dcb14['FnfYQ'](alert,_0x49511c(0x150,0x1cb,0x170,0x19f)+_0x47f63f(0x9,0x77,0x87,0x8f)+_0x47f63f(-0x24,0x1,0x1d,0x32)+'。');return;}else{if(!_0x53cc1f['ok'])throw new _0x484cd6(_0x47f63f(0x59,-0x2,-0x27,0x14)+_0x85a246[_0x47f63f(-0xc,-0x16,-0x34,-0x46)]+'\x20'+_0x2c4ee6['statusText']+_0x47f63f(-0xc,0xe,-0xb,-0x53)+_0x5b2f0b['url']);}}!_0x4e1907['sdCache']&&(_0x4e1907['sdCache']={});if(_0x1dcb14[_0x49511c(0x1eb,0x1b1,0x13c,0x17e)](_0x4e1907[_0x47f63f(-0x8d,-0x37,-0x80,-0xb3)],_0x1dcb14[_0x49511c(0x245,0x1f8,0x276,0x177)])){const _0x40f264={};_0x40f264[_0x47f63f(-0xf,-0x26,0x32,-0x78)]=_0x1dcb14[_0x49511c(0x1d8,0x172,0x1c7,0x173)],_0x40f264[_0x49511c(0x24b,0x21d,0x261,0x1bb)]=_0x1dcb14[_0x49511c(0x229,0x1d5,0x22a,0x199)],_0x40f264[_0x49511c(0x1f7,0x1f7,0x1e9,0x17e)]=_0x1dcb14[_0x49511c(0x1b6,0x162,0x1d4,0xfd)],_0x40f264['schedulers']=_0x1dcb14[_0x49511c(0x1eb,0x22b,0x276,0x256)],_0x40f264['upscalers']=_0x1dcb14[_0x49511c(0x1ca,0x234,0x279,0x292)];const _0x3134ca=_0x40f264;try{const _0x31377e={};_0x31377e[_0x49511c(0x279,0x214,0x1df,0x24c)]=_0x21e234,_0x31377e[_0x47f63f(-0x84,-0x25,-0x63,0x5a)]=_0x4e1907['st_chatu8_'+_0x47f63f(0x6d,0x3d,0x64,0x7a)]||'';const _0x46c98b=await Promise['all'](Object[_0x47f63f(-0x75,-0x32,-0xa6,0x11)](_0x3134ca)['map'](_0x2e7d9a=>fetch(_0x2e7d9a,{'method':'POST','body':JSON[_0x49511c(0x221,0x23a,0x24c,0x1b9)](_0x31377e),'headers':getRequestHeaders(window[_0x49511c(0x172,0x176,0x17f,0x1bc)])})));for(const _0x28c386 of _0x46c98b){if(!_0x28c386['ok'])throw new Error(_0x49511c(0x1c1,0x1c0,0x1ef,0x1ba)+_0x28c386[_0x49511c(0x1b2,0x1ac,0x1a7,0x203)]+'\x20'+_0x28c386[_0x49511c(0x258,0x1d7,0x1b2,0x1f4)]+_0x47f63f(0x5c,0xe,0x65,0x42)+_0x28c386['url']);}const [_0x41bbdc,_0x1750a0,_0x5c8f22,_0x3c4a70,_0x4475ec]=await Promise['all'](_0x46c98b['map'](_0x3f22ba=>_0x3f22ba[_0x47f63f(0xc8,0x57,0x75,0xa5)]()));_0x4e1907[_0x49511c(0xed,0x166,0x1da,0x129)][_0x49511c(0x1f3,0x19c,0x1bb,0x1e3)]=_0x41bbdc,_0x4e1907[_0x47f63f(-0x49,-0x5c,-0x65,-0x7e)]['models']=_0x1750a0[_0x49511c(0x158,0x1b4,0x15a,0x21e)](_0xeb2ba8=>_0xeb2ba8[_0x47f63f(0x6f,0x5,0x15,0x44)]),_0x4e1907[_0x47f63f(-0x44,-0x5c,0xb,-0xdd)][_0x47f63f(-0x24,0x35,0x71,0xe)]=_0x5c8f22,_0x4e1907[_0x47f63f(-0x4d,-0x5c,-0x78,0xf)][_0x47f63f(-0x82,-0x3,-0x62,-0x73)]=_0x3c4a70,_0x4e1907[_0x49511c(0x1a4,0x166,0x189,0x18a)][_0x49511c(0x150,0x180,0x1db,0x19b)]=_0x4475ec,_0x4e1907['sdCache'][_0x49511c(0x1eb,0x252,0x2c9,0x281)]=[],_0x1dcb14[_0x47f63f(0x74,0x27,0x1f,0x31)](saveSettingsDebounced),alert(_0x47f63f(-0x2f,0x1c,0xb,0xc)),_0x1dcb14[_0x47f63f(-0x17,-0x13,0x3b,-0x28)](addLog,_0x47f63f(0xd3,0x93,0x3a,0x114)+':'+_0x21e234);}catch(_0xb959aa){if(_0x1dcb14['VmLpv'](_0x1dcb14['vFpfK'],'IcSLY')){const _0x47ccbd=_0x5c9254?function(){function _0x391d87(_0x46e753,_0x180613,_0x14b4e1,_0x422070){return _0x49511c(_0x422070,_0x180613- -0x95,_0x14b4e1-0x16c,_0x422070-0x13f);}if(_0x2de384){const _0x5b05b0=_0x1ba0a2[_0x391d87(0x13b,0x186,0x1a7,0x190)](_0x347f76,arguments);return _0x94127f=null,_0x5b05b0;}}:function(){};return _0x2f6303=![],_0x47ccbd;}else _0x1dcb14[_0x47f63f(0x82,0x17,0x87,0x44)](alert,_0x1dcb14[_0x47f63f(0xf5,0x92,0x10,0x2b)]+_0xb959aa),addLog(_0x47f63f(-0x84,-0x3e,-0x18,0x42)+':'+_0x21e234+_0x47f63f(0x47,-0xd,-0x26,-0x2c)+JSON[_0x47f63f(0xd5,0x78,0xa4,0x85)](_0xb959aa));}}else{const _0x25bfb8={};_0x25bfb8['samplers']=_0x1dcb14[_0x47f63f(-0x96,-0x49,-0x5f,0x6)],_0x25bfb8[_0x47f63f(0x8e,0x5b,0x12,0xbb)]=_0x1dcb14['CKbnD'],_0x25bfb8[_0x49511c(0x1b5,0x1f7,0x196,0x188)]=_0x1dcb14[_0x49511c(0x29c,0x251,0x268,0x1d3)],_0x25bfb8[_0x49511c(0x185,0x1bf,0x1a6,0x1a2)]=_0x1dcb14[_0x49511c(0x147,0x18c,0x17f,0x169)],_0x25bfb8[_0x49511c(0x150,0x180,0x12e,0x1a0)]=_0x1dcb14['SNwyy'],_0x25bfb8[_0x49511c(0x21a,0x1f5,0x1e9,0x258)+'alers']=_0x1dcb14[_0x47f63f(-0x21,-0x4,0x7,-0x34)],_0x25bfb8[_0x47f63f(0x61,0x90,0x2f,0x13)]=_0x1dcb14[_0x49511c(0x1ce,0x1f2,0x182,0x1eb)];const _0x4a1c04=_0x25bfb8;try{if(_0x1dcb14['iSlId']===_0x1dcb14[_0x49511c(0x2b9,0x257,0x2b2,0x1fb)])_0x38c140[_0x49511c(0x156,0x1c7,0x1e6,0x19e)]=_0x1504f7;else{const _0x513b12=await Promise[_0x47f63f(0xa5,0x63,0xda,0x21)](Object['values'](_0x4a1c04)[_0x47f63f(-0x5f,-0xe,-0x4c,-0x84)](_0x2aba63=>fetch(_0x21e234+_0x2aba63,{'headers':{'Authorization':getsdAuth()}}))),_0x1df255=_0x513b12[_0x47f63f(-0x8b,-0xe,0x4,-0x4a)](_0xc1a0ab=>_0xc1a0ab[_0x49511c(0x1cc,0x1ac,0x19b,0x1b1)]===_0x49511c(0x1bb,0x183,0x1e1,0x1dd)&&_0xc1a0ab['value']['ok']?_0xc1a0ab[_0x49511c(0x1a4,0x1c7,0x1e5,0x1b5)]:null);if(_0x1df255[_0x47f63f(0xef,0x70,0xc3,0x4)](_0x397c6c=>_0x397c6c===null)){if(_0x1dcb14[_0x47f63f(0xee,0x75,0x41,0x17)](_0x1dcb14[_0x49511c(0x170,0x1a0,0x1b2,0x1c7)],_0x1dcb14[_0x47f63f(0x91,0x4f,0x43,0x54)])){const _0xd98cd8=_0x513b12[_0x47f63f(-0x10,0x26,0x3a,0x4f)](_0x56e6a7=>_0x56e6a7[_0x47f63f(-0x68,-0x16,-0x7a,0xf)]==='rejected')?.[_0x47f63f(-0x16,0x4d,0x3b,0xd)]?.[_0x47f63f(-0xa4,-0x3b,-0xb7,0x34)]||_0x513b12[_0x47f63f(-0x4c,0x26,-0xb,0x7b)](_0x4e7782=>_0x4e7782[_0x47f63f(0x43,-0x16,-0x7d,-0x41)]==='fulfilled'&&!_0x4e7782[_0x49511c(0x175,0x1c7,0x195,0x14e)]['ok'])?.[_0x49511c(0x216,0x1c7,0x189,0x223)]?.[_0x47f63f(-0x6,0x15,0x42,0x85)]||_0x1dcb14[_0x47f63f(-0x15,-0x1d,-0x2c,0x41)];throw new Error('所有API请求均失败'+'.\x20第一个错误:\x20'+_0xd98cd8);}else{const _0x5137f9=new _0x3f1e47(_0x4ab8f4[_0x49511c(0x284,0x23c,0x1bf,0x261)],_0x5377b9['value']);_0x5137f9[_0x47f63f(0x5e,0x20,-0x33,0x16)]=_0x2ea3e2['text'],_0x1ec65d[_0x49511c(0x20d,0x20e,0x1a5,0x24a)](_0x5137f9);}}const _0x12bcd5=_0x1df255['map'](_0x20dd21=>_0x20dd21?_0x20dd21[_0x47f63f(-0xd,0x57,0x5d,-0x1d)]():Promise['resolve'](null)),[_0x344495,_0x1cb956,_0x4af5aa,_0x3d6319,_0x5be8d3,_0xbdfe4a,_0x165f45]=await Promise[_0x49511c(0x12c,0x185,0x113,0x1fa)](_0x12bcd5);let _0x58ada1=_0x5be8d3?_0x5be8d3[_0x49511c(0x208,0x1b4,0x1ea,0x20c)](_0x1f1dc5=>_0x1f1dc5[_0x49511c(0x21c,0x1f3,0x171,0x1a3)]):[],_0x46221a=_0xbdfe4a?_0xbdfe4a[_0x47f63f(0x60,-0xe,0x1d,0x73)](_0x3705c6=>_0x3705c6[_0x47f63f(-0x43,0x31,-0x4c,0x25)]):[];_0x58ada1['splice'](-0xee7*0x1+-0x4fd+0x13e5,0x544+-0x256a+0x2026,..._0x46221a),_0x4e1907[_0x47f63f(-0x85,-0x5c,-0xd8,-0x99)][_0x47f63f(-0x37,-0x26,-0x58,-0x60)]=_0x344495?_0x344495[_0x47f63f(0x5e,-0xe,-0x14,0x4b)](_0x983b75=>_0x983b75[_0x49511c(0x1b6,0x1f3,0x233,0x185)]):[],_0x4e1907['sdCache'][_0x49511c(0x1c1,0x21d,0x289,0x289)]=_0x1cb956?_0x1cb956[_0x49511c(0x1e8,0x1b4,0x143,0x200)](_0x3ca3d3=>_0x3ca3d3['title']):[],_0x4e1907[_0x49511c(0xe7,0x166,0x148,0x1ae)][_0x47f63f(-0x8,0x35,-0x39,-0x1)]=_0x4af5aa?_0x4af5aa[_0x49511c(0x224,0x1b4,0x203,0x1b2)](_0x5972cf=>_0x5972cf['model_name']):[],_0x4e1907[_0x49511c(0x1b0,0x166,0x195,0x1d7)][_0x49511c(0x220,0x1bf,0x147,0x207)]=_0x3d6319?_0x3d6319[_0x47f63f(-0x2e,-0xe,-0x5b,-0x79)](_0x12fb64=>_0x12fb64[_0x49511c(0x1b3,0x1f3,0x1bb,0x22c)]):[],_0x4e1907[_0x49511c(0x1d2,0x166,0xfc,0x179)][_0x47f63f(-0x78,-0x42,-0x62,-0x62)]=_0x58ada1,_0x4e1907[_0x47f63f(-0xb5,-0x5c,-0x8e,-0xbf)][_0x47f63f(0xbc,0x90,0x14,0x65)]=_0x165f45?_0x165f45['map'](_0x2d975d=>_0x2d975d[_0x47f63f(-0x1c,0x31,-0x21,0x42)]):[],_0x1dcb14['rOfTU'](saveSettingsDebounced),_0x1dcb14[_0x49511c(0x18b,0x1f6,0x1b7,0x187)](alert,_0x1dcb14[_0x49511c(0x1a0,0x1d2,0x23f,0x204)]);}}catch(_0xd1f248){_0x1dcb14[_0x49511c(0x271,0x1f6,0x214,0x24b)](alert,_0x1dcb14[_0x47f63f(0xc,-0x34,0x35,-0x67)](_0x1dcb14['KXRpU'],_0xd1f248[_0x47f63f(-0x4e,-0x3b,-0x4d,0x46)])),_0x1dcb14[_0x47f63f(-0x18,0x34,0x18,-0x31)](addLog,_0x49511c(0x2b9,0x25b,0x273,0x28b)+'址:'+_0x21e234+_0x49511c(0x16c,0x1b5,0x189,0x177)+JSON['stringify'](_0xd1f248));}}function _0x49511c(_0x50fed1,_0x1287fe,_0x44b9db,_0x35aefb){return _0x4eb5(_0x1287fe-0x6c,_0x50fed1);}function _0x47f63f(_0x1b0ce2,_0x481a33,_0x49674b,_0x2f4dae){return _0x4eb5(_0x481a33- -0x156,_0x1b0ce2);}window['loadSilter'+'TavernChat'+'u8Settings']();}export function initApiConnectionTests(_0x4815b7){function _0x44780b(_0x1eca20,_0x5b9538,_0x425c3d,_0x4fba0d){return _0x4eb5(_0x425c3d- -0x94,_0x4fba0d);}const _0x22f739={};_0x22f739[_0x44780b(0x57,0xc3,0x5d,0xda)]=_0x44780b(0x76,0x105,0xed,0xdf)+'ui',_0x22f739[_0x3b9e32(-0x138,-0xec,-0x11a,-0x13e)]=_0x3b9e32(-0x165,-0x180,-0x159,-0x177)+_0x44780b(0x8a,0x31,0x6a,0xc5),_0x22f739['kFxqS']=_0x44780b(0x160,0x132,0xf1,0x149);function _0x3b9e32(_0x153775,_0x2809c3,_0x3f0ea3,_0x516184){return _0x4eb5(_0x2809c3- -0x292,_0x153775);}const _0x10292c=_0x22f739;_0x4815b7[_0x3b9e32(-0x13e,-0x116,-0xfd,-0x15d)](_0x44780b(0xad,0x15a,0x12d,0x14a))['on'](_0x44780b(0xc3,0x10d,0xf1,0x161),testSd),_0x4815b7['find'](_0x10292c['DhBYj'])['on']('click',testComfyui),_0x4815b7[_0x44780b(0xaf,0x113,0xe8,0x12a)](_0x10292c[_0x3b9e32(-0x165,-0xec,-0xe7,-0x92)])['on'](_0x10292c['kFxqS'],refreshAiModels);}
//# sourceMappingURL=http://localhost:8000/api_connections.js.map