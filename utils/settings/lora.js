(function(_0xb7f9e4,_0x5064c0){const _0x217c80=_0xb7f9e4();function _0x2afde8(_0x526a77,_0x2a5742,_0x3690fb,_0x4da1dd){return _0x57a3(_0x3690fb- -0x319,_0x2a5742);}function _0x26581e(_0x420005,_0xc7c4b8,_0x54e10b,_0x2586f3){return _0x57a3(_0x420005-0x37b,_0x54e10b);}while(!![]){try{const _0x11c57e=parseInt(_0x2afde8(-0x14f,-0x149,-0x135,-0x157))/(-0x6f1*-0x3+-0x138+0x1a*-0xc1)+parseInt(_0x26581e(0x54d,0x546,0x56e,0x562))/(-0x237a+-0x1*-0xd0f+0x166d*0x1)*(parseInt(_0x26581e(0x522,0x53b,0x52b,0x530))/(0x24e+0xfbf+-0x120a))+parseInt(_0x2afde8(-0x13e,-0x137,-0x142,-0x131))/(-0xe66+0x216c+-0x1302)+-parseInt(_0x26581e(0x534,0x51c,0x515,0x536))/(-0x227*-0x4+0x81*-0x21+0x2*0x405)+-parseInt(_0x26581e(0x51c,0x52b,0x523,0x53d))/(0x1d*-0xd4+-0x2347+0x1*0x3b51)*(parseInt(_0x26581e(0x51e,0x535,0x51e,0x533))/(-0x2690+-0x1*0x23f8+0x1*0x4a8f))+-parseInt(_0x2afde8(-0x125,-0x146,-0x139,-0x117))/(-0x1*0x148e+-0x5*0x2b5+-0x5*-0x6d3)+parseInt(_0x26581e(0x53c,0x51f,0x556,0x534))/(0x1157*0x2+0xab3+-0x2d58)*(parseInt(_0x26581e(0x547,0x55f,0x556,0x567))/(0x1913+-0x5*-0x3a+-0xb*0x261));if(_0x11c57e===_0x5064c0)break;else _0x217c80['push'](_0x217c80['shift']());}catch(_0x581fba){_0x217c80['push'](_0x217c80['shift']());}}}(_0x1263,-0x52dbc+0x2d2b4+0x52c66*0x1));const _0x1e1055=(function(){let _0x2a0907=!![];return function(_0x1442b1,_0x588820){const _0x3d39f5=_0x2a0907?function(){function _0x3a7aa9(_0x2505bf,_0x2df7d3,_0x2174dd,_0x35be2a){return _0x57a3(_0x2505bf- -0x12d,_0x35be2a);}if(_0x588820){const _0x478472=_0x588820[_0x3a7aa9(0x8e,0x71,0x7d,0xa4)](_0x1442b1,arguments);return _0x588820=null,_0x478472;}}:function(){};return _0x2a0907=![],_0x3d39f5;};}()),_0xf5d02a=_0x1e1055(this,function(){const _0x55fe21={};function _0x4bfcd8(_0x16b799,_0x2d97be,_0x2e7977,_0x3b0691){return _0x57a3(_0x3b0691-0xdb,_0x2e7977);}function _0x4034fb(_0x18d1c6,_0x3d7a2b,_0x2dbb61,_0x3e2502){return _0x57a3(_0x2dbb61-0x37e,_0x3d7a2b);}_0x55fe21['PJDdL']='(((.+)+)+)'+'+$';const _0xe31b0b=_0x55fe21;return _0xf5d02a['toString']()[_0x4bfcd8(0x2a5,0x27c,0x2a9,0x297)](_0x4034fb(0x55d,0x564,0x556,0x53a)+'+$')['toString']()[_0x4034fb(0x545,0x526,0x535,0x54c)+'r'](_0xf5d02a)['search'](_0xe31b0b[_0x4bfcd8(0x286,0x297,0x2ac,0x299)]);});_0xf5d02a();import{extension_settings}from'../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../script.js';import{getSuffix}from'../ui_common.js';function _0x57a3(_0x287f50,_0x241453){_0x287f50=_0x287f50-(0xa49+-0x293+-0x615);const _0x56bbc6=_0x1263();let _0x5b35d3=_0x56bbc6[_0x287f50];if(_0x57a3['XvvXyZ']===undefined){var _0x35680d=function(_0x4a12fd){const _0x2c5f7d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2234e2='',_0x3eae1d='',_0x290afa=_0x2234e2+_0x35680d;for(let _0x3cbc5d=-0x7*0x36e+-0x7*-0x4ad+-0x8b9,_0x373cd2,_0x9d7f5b,_0x28425c=-0x8f0+0x2f5*0x1+-0x5fb*-0x1;_0x9d7f5b=_0x4a12fd['charAt'](_0x28425c++);~_0x9d7f5b&&(_0x373cd2=_0x3cbc5d%(0xfb*-0x1+0x1*0xd36+-0x35*0x3b)?_0x373cd2*(0x356*0x2+-0x24a9+0x1e3d*0x1)+_0x9d7f5b:_0x9d7f5b,_0x3cbc5d++%(-0x2420+-0x1bac+0x3fd0))?_0x2234e2+=_0x290afa['charCodeAt'](_0x28425c+(-0x1*0x1319+0x19*0x153+-0xdf8))-(-0xd95+-0xd14+0x1ab3)!==-0x1564+0x1a97*0x1+-0x533?String['fromCharCode'](-0x11*-0x163+0x1*-0x66a+-0x102a&_0x373cd2>>(-(0x86*-0x3b+0x1e8*-0x5+0x1*0x286c)*_0x3cbc5d&0x235*0x2+0x1461+-0x18c5)):_0x3cbc5d:-0x6*-0x28d+0x1*-0x1fbb+0x1*0x106d){_0x9d7f5b=_0x2c5f7d['indexOf'](_0x9d7f5b);}for(let _0xfc5463=0x1f5e+-0x91c+0xb*-0x206,_0xbd86cc=_0x2234e2['length'];_0xfc5463<_0xbd86cc;_0xfc5463++){_0x3eae1d+='%'+('00'+_0x2234e2['charCodeAt'](_0xfc5463)['toString'](0x15d7*-0x1+-0x1*-0x1e13+-0x82c))['slice'](-(-0x240b+0x1bcf+0x83e));}return decodeURIComponent(_0x3eae1d);};_0x57a3['zaKYQG']=_0x35680d,_0x57a3['MSHdAi']={},_0x57a3['XvvXyZ']=!![];}const _0x473d3f=_0x56bbc6[-0x50+-0x1*-0x23d4+0x11c2*-0x2],_0x4c75b2=_0x287f50+_0x473d3f,_0x5cff95=_0x57a3['MSHdAi'][_0x4c75b2];if(!_0x5cff95){const _0x376509=function(_0x20feaa){this['qSwGsH']=_0x20feaa,this['sRjDvY']=[0xd4*0x2e+0x5c2*-0x1+-0x2055,0x1*-0x217d+-0x39*0x75+0x3b8a,-0xbb0+-0x460+0x4*0x404],this['WZldnS']=function(){return'newState';},this['cfDpnA']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ZuwPaA']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x376509['prototype']['YyJUHh']=function(){const _0x110493=new RegExp(this['cfDpnA']+this['ZuwPaA']),_0x32aea2=_0x110493['test'](this['WZldnS']['toString']())?--this['sRjDvY'][0x897+0x2315+0x2bab*-0x1]:--this['sRjDvY'][0x2*0x303+-0x1849+0x1243];return this['EgyiWb'](_0x32aea2);},_0x376509['prototype']['EgyiWb']=function(_0x1181eb){if(!Boolean(~_0x1181eb))return _0x1181eb;return this['ntgiDU'](this['qSwGsH']);},_0x376509['prototype']['ntgiDU']=function(_0x381700){for(let _0x55110e=0x1*0x88f+0x11de+-0x1a6d,_0x15649e=this['sRjDvY']['length'];_0x55110e<_0x15649e;_0x55110e++){this['sRjDvY']['push'](Math['round'](Math['random']())),_0x15649e=this['sRjDvY']['length'];}return _0x381700(this['sRjDvY'][0xcdd+-0x1*-0x22d5+-0x2fb2]);},new _0x376509(_0x57a3)['YyJUHh'](),_0x5b35d3=_0x57a3['zaKYQG'](_0x5b35d3),_0x57a3['MSHdAi'][_0x4c75b2]=_0x5b35d3;}else _0x5b35d3=_0x5cff95;return _0x5b35d3;}function _0x1263(){const _0x4d4c5c=['y29UC3rYDwn0BW','AxbhB0S','mJK1mtm1u1zzueP2','lNn0lwnOyxr1oa','yxbWBhK','C2vHCMnO','vvzozM0','uePezeW','i0nVBwz5DwLHza','wxntwvq','mtK0ntHIt05vB1q','qvrAyNK','r0TsALi','z2v0rwXLBwvUDa','tvPJq0y','zeXpuKe','EenYAeW','qNLjza','Dxfxu2K','5OYbBg9YyEIoT+wpLIZOR7FLJ4i','C1nAzxq','mJbIA3H3tuq','uxbtzeO','A1jxDg8','Aw5WDxq','yLrtAwe','q1nVu0S','mKfisKnxBG','5OQX5Q2j6yws6AAg5A6I5OI356UV5PEG5Rov5PsV','u2T1EMm','sEIoT+wpLMXVCMe','DMfSDwu','mZmXnJG0txPXEhvZ','kcGOlISPkYKRkq','D2TsDgK','BxfNtxO','5A6I5OI356UV','pgXVCMe6','zgLZywjSzwq','DhjPz2DLCG','zMLUza','odK3ntKYC2f1DMHA','AeDUzMK','lxrHyI1JB250zq','D3rwweq','mty4mdq2DMnXB0DS','mtjIqMDTwxy','y2XPzw50','nJqWmtK5DfHOqNfH','DwXws1O','oJe+','tvbzt3K','oduWntu3AvzvEKzV','z3zjt3G','AwXkBhG','y2XPy2S','wevTtK8','DMfS','6icd5PAh5QgJ5BcD6k+v5l2/55sO5Rwp6kEi5zMO','wuDpD0i','BNqUywn0AxzL','DhjPBq','r1fhq0K','i2zPEgvKuhjVBq','BKvuz3K','ChrFy29TzNL1Aq','z2nTvwC','C2rFy2nOyxr1xW'];_0x1263=function(){return _0x4d4c5c;};return _0x1263();}import{extensionName}from'../config.js';function ComfyuiaddLORA(){const _0x2976a8={'uqWSi':function(_0x1e5e6f,_0x5033ff){return _0x1e5e6f(_0x5033ff);},'LlcGz':'#fixedProm'+_0x1dba8c(0xd2,0xc7,0xb5,0xe9),'sSZet':'ComfyuiLOR'+'A','XEmNO':function(_0x449ed6,_0x380771){return _0x449ed6===_0x380771;},'UyYDu':function(_0x47ee0c,_0x16b4a6){return _0x47ee0c==_0x16b4a6;},'hGnfi':function(_0xc26b39,_0xa27abc){return _0xc26b39(_0xa27abc);},'gvIOx':_0x1dba8c(0xf1,0x110,0xf0,0x104)+_0x1dba8c(0xe8,0xd9,0xf0,0xdd)+_0x2b27b6(0x122,0x137,0x144,0x142)+_0x1dba8c(0xf9,0xde,0xec,0x10e),'NpbHZ':function(_0x15aea6,_0x479f08){return _0x15aea6(_0x479f08);},'Skuzc':'请先连接ComfyU'+_0x2b27b6(0x14a,0x163,0x148,0x12a),'bTSia':function(_0x3bc2a3,_0x594aea){return _0x3bc2a3===_0x594aea;},'YGOwB':function(_0x552e16,_0x3d43ea){return _0x552e16+_0x3d43ea;},'eyAnC':function(_0x3505b7,_0x1676ab){return _0x3505b7+_0x1676ab;},'ppJKy':_0x2b27b6(0x144,0x15b,0x146,0x12f)},_0x1ff12e=_0x2976a8[_0x1dba8c(0xe7,0xeb,0xfb,0xf9)]($,'.st-chatu8'+'-tab-conte'+'nt.active'),_0x327bdb=_0x1ff12e[_0x2b27b6(0x154,0x146,0x16f,0x132)](_0x2976a8['LlcGz']);function _0x1dba8c(_0x57cf09,_0x18bf85,_0x4df4af,_0x164730){return _0x57a3(_0x57cf09- -0xe2,_0x4df4af);}const _0x3128f4=document['getElement'+_0x2b27b6(0x13d,0x138,0x11c,0x146)](_0x2976a8[_0x2b27b6(0x140,0x14f,0x145,0x154)]);if(!_0x3128f4['value']||_0x2976a8[_0x1dba8c(0xc9,0xce,0xc0,0xe5)](_0x3128f4['value']['trim'](),'')||_0x3128f4[_0x1dba8c(0xfb,0xe3,0xe8,0xe2)]){_0x2976a8['UyYDu'](extension_settings[extensionName]['client'],'jiuguan')?_0x2976a8[_0x2b27b6(0x156,0x134,0x174,0x13d)](alert,_0x2976a8[_0x1dba8c(0xc6,0xb9,0xc5,0xb0)]):_0x2976a8['NpbHZ'](alert,_0x2976a8[_0x2b27b6(0x149,0x13c,0x15b,0x12d)]);return;}const _0x74459c=_0x327bdb[_0x2b27b6(0x121,0x12b,0x135,0x10a)](),_0x2fc910=_0x2976a8[_0x2b27b6(0x145,0x14d,0x147,0x159)](_0x74459c[_0x2b27b6(0x125,0x120,0x111,0x10f)](),'')?'':',\x20';function _0x2b27b6(_0x36bc2b,_0x373c67,_0x24cddc,_0x518346){return _0x57a3(_0x36bc2b- -0x8b,_0x518346);}_0x327bdb['val'](_0x2976a8[_0x2b27b6(0x123,0x114,0x11a,0x10e)](_0x2976a8['eyAnC'](_0x74459c,_0x2fc910),_0x1dba8c(0xfa,0xeb,0x110,0x108)+_0x3128f4[_0x2b27b6(0x14b,0x150,0x158,0x144)]+_0x1dba8c(0xc3,0xe1,0xa8,0xbb))),_0x327bdb['trigger'](_0x2976a8['ppJKy']);}function sd_add_lora(){const _0x5f5813={'MZcCF':function(_0x43c5df,_0x18306d){return _0x43c5df(_0x18306d);},'Qicgr':'.st-chatu8'+_0x53bce4(0x33c,0x32e,0x32b,0x326)+_0x2fd66b(0x3d4,0x3d2,0x3d8,0x3e4),'ATZby':_0x53bce4(0x307,0x302,0x2fa,0x300)+'8_lora','kRWto':function(_0x3c5ca3,_0x3c2b49){return _0x3c5ca3===_0x3c2b49;},'oaMMM':function(_0x3cd33f,_0x59d252){return _0x3cd33f==_0x59d252;},'ulVKZ':'jiuguan','ilJlx':'抱歉酒馆客户端无法支'+_0x53bce4(0x300,0x316,0x2f9,0x2f5)+_0x2fd66b(0x3c1,0x3d0,0x3b1,0x3e9)+_0x53bce4(0x30e,0x327,0x349,0x31c),'UVNfm':'请先连接SD获取lo'+'ra','mqgMz':function(_0x34142d,_0xc34603){return _0x34142d+_0xc34603;},'axDVR':function(_0x186eda,_0x4fc6c4){return _0x186eda(_0x4fc6c4);},'gcmUg':_0x2fd66b(0x3c3,0x3d5,0x3de,0x3e8)+'pt','wkRti':function(_0x576c00,_0x5337a0){return _0x576c00===_0x5337a0;},'QpSdJ':function(_0x5c9821,_0x111540){return _0x5c9821!==_0x111540;},'iLgZq':_0x53bce4(0x341,0x32f,0x31e,0x314),'ipGoK':_0x53bce4(0x2db,0x2f2,0x2eb,0x2fc),'YsSYT':function(_0x49b65a,_0x3ffcbf){return _0x49b65a(_0x3ffcbf);},'mHYSD':function(_0x1789dc,_0xc97988){return _0x1789dc(_0xc97988);},'xCrhL':function(_0x18ed07,_0x193f90){return _0x18ed07+_0x193f90;},'CSoSK':_0x53bce4(0x301,0x31b,0x33c,0x322)},_0x301d08=_0x5f5813['axDVR']($,_0x2fd66b(0x3c3,0x3dd,0x3f7,0x3df)+_0x2fd66b(0x415,0x405,0x417,0x40f)+_0x2fd66b(0x3b7,0x3d2,0x3e8,0x3bd)),_0x1b813d=_0x301d08[_0x53bce4(0x31e,0x32b,0x315,0x324)](_0x5f5813[_0x2fd66b(0x3c9,0x3d8,0x3f1,0x3ef)]);function _0x2fd66b(_0x5e16e0,_0x2db37e,_0x5a56c3,_0x1bcc6f){return _0x57a3(_0x2db37e-0x223,_0x5a56c3);}function _0x53bce4(_0x5a300b,_0x27cbb0,_0x1ec63f,_0x318a06){return _0x57a3(_0x27cbb0-0x14c,_0x318a06);}const _0x5e4ac4=document[_0x53bce4(0x2fb,0x310,0x324,0x305)+'ById'](_0x5f5813['ATZby']);if(!_0x5e4ac4[_0x2fd66b(0x3d7,0x3f9,0x3ed,0x41a)]||_0x5f5813[_0x2fd66b(0x3f1,0x3fc,0x3dc,0x41e)](_0x5e4ac4[_0x2fd66b(0x3e6,0x3f9,0x3e4,0x3dd)][_0x2fd66b(0x3e6,0x3d3,0x3db,0x3b3)](),'')||_0x5e4ac4['disabled']){if(_0x5f5813[_0x2fd66b(0x3e6,0x3f0,0x3f3,0x3f5)](_0x5f5813['iLgZq'],_0x5f5813[_0x53bce4(0x2e5,0x304,0x313,0x2e3)])){extension_settings[extensionName][_0x2fd66b(0x3b8,0x3c5,0x3b9,0x3df)]==_0x5f5813['ulVKZ']?_0x5f5813[_0x2fd66b(0x3f1,0x3e3,0x3f0,0x3c3)](alert,_0x5f5813[_0x2fd66b(0x3cf,0x3cc,0x3d7,0x3bf)]):_0x5f5813['mHYSD'](alert,_0x5f5813['UVNfm']);return;}else{const _0x4d4907=_0x5f5813[_0x53bce4(0x30e,0x311,0x328,0x331)](_0x51a171,_0x5f5813['Qicgr']),_0x19450d=_0x4d4907[_0x53bce4(0x32c,0x32b,0x316,0x343)](_0x2fd66b(0x3db,0x3d5,0x3e2,0x3de)+'pt'),_0x62dfa=_0x247e40[_0x53bce4(0x324,0x310,0x30d,0x2fb)+_0x53bce4(0x30f,0x314,0x32c,0x319)](_0x5f5813[_0x53bce4(0x300,0x30e,0x32a,0x32b)]);if(!_0x62dfa['value']||_0x5f5813['kRWto'](_0x62dfa[_0x53bce4(0x341,0x322,0x31d,0x341)][_0x53bce4(0x2fe,0x2fc,0x300,0x2fb)](),'')||_0x62dfa['disabled']){_0x5f5813['oaMMM'](_0x2466f9[_0x300eea][_0x53bce4(0x2f5,0x2ee,0x2cc,0x2f9)],_0x5f5813[_0x2fd66b(0x3dd,0x3c7,0x3e4,0x3b9)])?_0x555c4b(_0x5f5813[_0x53bce4(0x2df,0x2f5,0x2df,0x30c)]):_0x5e2f55(_0x5f5813[_0x53bce4(0x312,0x309,0x30a,0x2ff)]);return;}const _0x544e09=_0x19450d[_0x2fd66b(0x3d0,0x3cf,0x3ed,0x3d9)](),_0x1ca958=_0x5f5813[_0x53bce4(0x321,0x31a,0x337,0x318)](_0x544e09[_0x2fd66b(0x3ca,0x3d3,0x3b4,0x3ef)](),'')?'':',\x20';_0x19450d[_0x2fd66b(0x3ca,0x3cf,0x3c4,0x3cb)](_0x5f5813[_0x53bce4(0x317,0x326,0x33c,0x337)](_0x544e09,_0x1ca958)+(_0x2fd66b(0x400,0x3ff,0x41e,0x417)+_0x62dfa['value']+':1>')),_0x19450d[_0x2fd66b(0x3e5,0x401,0x3ea,0x415)](_0x2fd66b(0x410,0x3f2,0x409,0x3e2));}}const _0x59582b=_0x1b813d[_0x2fd66b(0x3d3,0x3cf,0x3bb,0x3bf)](),_0x4361df=_0x59582b['trim']()===''?'':',\x20';_0x1b813d[_0x53bce4(0x2ec,0x2f8,0x2e1,0x311)](_0x5f5813[_0x53bce4(0x333,0x313,0x335,0x31f)](_0x59582b,_0x4361df)+(_0x53bce4(0x33d,0x328,0x33c,0x32a)+_0x5e4ac4[_0x2fd66b(0x3ef,0x3f9,0x3f3,0x403)]+':1>')),_0x1b813d['trigger'](_0x5f5813[_0x53bce4(0x335,0x31d,0x310,0x2fe)]);}export function initLoraControls(_0x1bae35){const _0x20d276={};_0x20d276[_0x4a7ba3(0x392,0x35c,0x371,0x38c)]=_0x3902f6(0x309,0x30a,0x2fc,0x311)+_0x3902f6(0x314,0x2e9,0x303,0x311);function _0x3902f6(_0x4be929,_0x34c43b,_0x2221a4,_0x13e64a){return _0x57a3(_0x2221a4-0x13d,_0x34c43b);}_0x20d276[_0x4a7ba3(0x37a,0x368,0x36f,0x38f)]=_0x4a7ba3(0x369,0x34f,0x368,0x36c),_0x20d276['GKRjR']='#sd_add_lo'+'ra';const _0x32ca4a=_0x20d276;_0x1bae35['find'](_0x32ca4a['nETgy'])['on'](_0x32ca4a[_0x4a7ba3(0x389,0x378,0x36f,0x385)],ComfyuiaddLORA);function _0x4a7ba3(_0x1d7435,_0x521dd9,_0x24d908,_0x11cf53){return _0x57a3(_0x24d908-0x1be,_0x11cf53);}_0x1bae35[_0x4a7ba3(0x3a1,0x3bf,0x39d,0x3b1)](_0x32ca4a[_0x4a7ba3(0x36a,0x370,0x381,0x38a)])['on'](_0x32ca4a[_0x4a7ba3(0x34f,0x36d,0x36f,0x367)],sd_add_lora);}