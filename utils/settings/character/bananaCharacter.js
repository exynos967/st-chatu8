(function(_0x1b19f5,_0x5cd840){const _0x2405d9=_0x1b19f5();function _0x3314a1(_0x2a7f4f,_0x553c88,_0x49401a,_0x1aa284){return _0x59a2(_0x553c88-0x2f6,_0x1aa284);}function _0x56ed41(_0x2d0b92,_0x2fac91,_0x581ecf,_0x599469){return _0x59a2(_0x599469-0x1e4,_0x2d0b92);}while(!![]){try{const _0x4ac2e7=parseInt(_0x56ed41(0x3d3,0x402,0x44b,0x3e8))/(-0x143c+-0x13e0+0x281d)+-parseInt(_0x3314a1(0x448,0x464,0x405,0x4c5))/(0x1*-0x765+0x6cf+0x98)+parseInt(_0x3314a1(0x47c,0x4c4,0x47c,0x4d9))/(0x82+-0x41e+0x135*0x3)+parseInt(_0x56ed41(0x38b,0x38a,0x38c,0x39f))/(-0x13ff*-0x1+0x29+-0x2*0xa12)+-parseInt(_0x3314a1(0x4e1,0x4c2,0x4ae,0x4bc))/(0x2b*0x2+0x8*-0x28f+0x1427)*(parseInt(_0x3314a1(0x4f8,0x4a9,0x4f1,0x4af))/(-0xa47*-0x1+-0x315*0xc+0x1abb))+parseInt(_0x56ed41(0x421,0x420,0x3db,0x3d9))/(-0x8*-0x4e+0x3*-0x583+-0x388*-0x4)*(parseInt(_0x56ed41(0x2ef,0x34f,0x319,0x331))/(-0x1e3b*-0x1+-0x25*0x6b+-0xebc))+-parseInt(_0x56ed41(0x367,0x36c,0x349,0x337))/(0x1*0x1877+-0xf33+0x11*-0x8b);if(_0x4ac2e7===_0x5cd840)break;else _0x2405d9['push'](_0x2405d9['shift']());}catch(_0x4bc479){_0x2405d9['push'](_0x2405d9['shift']());}}}(_0x321b,-0x2*-0x231b3+-0x12eb*0x65+0x79e5a));const _0x4d3847=(function(){let _0x302e3d=!![];return function(_0x2c1e14,_0x2c7eec){const _0x2291eb=_0x302e3d?function(){function _0xe1b99f(_0x2ba254,_0x2baaff,_0x18f960,_0x2c56b1){return _0x59a2(_0x2ba254- -0x18d,_0x18f960);}if(_0x2c7eec){const _0x2af8e3=_0x2c7eec[_0xe1b99f(0x6f,0x22,0x1f,0x53)](_0x2c1e14,arguments);return _0x2c7eec=null,_0x2af8e3;}}:function(){};return _0x302e3d=![],_0x2291eb;};}()),_0x4fdfe1=_0x4d3847(this,function(){const _0x18b145={};_0x18b145[_0x281d6c(0x329,0x319,0x348,0x37f)]=_0x281d6c(0x381,0x3bc,0x387,0x338)+'+$';function _0x1ae5a8(_0x1e5401,_0x17ab1f,_0x4c68f1,_0x52d11f){return _0x59a2(_0x1e5401- -0x33b,_0x52d11f);}function _0x281d6c(_0x722bf2,_0x352c39,_0x1092b9,_0x355623){return _0x59a2(_0x722bf2-0x1da,_0x352c39);}const _0xf1a75e=_0x18b145;return _0x4fdfe1[_0x281d6c(0x391,0x373,0x39a,0x32e)]()[_0x1ae5a8(-0x140,-0x12e,-0x190,-0x11e)](_0xf1a75e[_0x281d6c(0x329,0x321,0x313,0x316)])['toString']()[_0x1ae5a8(-0x1c4,-0x185,-0x167,-0x1ff)+'r'](_0x4fdfe1)['search'](_0x281d6c(0x381,0x348,0x3cd,0x331)+'+$');});_0x4fdfe1();import{extension_settings}from'../../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../../script.js';import{extensionName}from'../../config.js';import{stylInput,stylishConfirm}from'../../ui_common.js';import{saveConfigImage,getConfigImage,deleteConfigImage}from'../../configDatabase.js';export function setupBananaCharacterControls(_0x2863b9){const _0x4b3621={'bMmBE':_0x2860c7(0x56b,0x517,0x542,0x53b)+'6|5|0','lSPuA':function(_0x5b30f5){return _0x5b30f5();},'yXTBN':_0x1c6b4a(0x2b,0x16,0x71,0x8a)+_0x2860c7(0x502,0x506,0x4ca,0x4d3),'RXitQ':_0x1c6b4a(0xce,0x87,0xb2,0x7f),'qjvAD':'#banana_ch'+_0x1c6b4a(0xe4,0xd1,0xf8,0x126),'FkcUf':_0x2860c7(0x489,0x4a0,0x4ae,0x4d8),'drviA':'#banana_ch'+_0x2860c7(0x4c2,0x545,0x52b,0x518),'alqWL':function(_0x2d4193,_0x162449){return _0x2d4193(_0x162449);},'neoOF':_0x2860c7(0x4e5,0x520,0x4fc,0x527)};function _0x1c6b4a(_0x59551f,_0x26f1df,_0x5009f8,_0x58eede){return _0x59a2(_0x5009f8- -0x110,_0x59551f);}const _0x46e6be=_0x4b3621[_0x2860c7(0x487,0x449,0x4cc,0x4ae)][_0x2860c7(0x50c,0x4db,0x53c,0x513)]('|');let _0x3f29e0=-0x881+-0x26fc+0x2f7d;function _0x2860c7(_0x110398,_0x4b1715,_0x56c628,_0xd8097e){return _0x59a2(_0xd8097e-0x34b,_0x56c628);}while(!![]){switch(_0x46e6be[_0x3f29e0++]){case'0':_0x4b3621[_0x1c6b4a(0xc1,0xf3,0xc0,0xf5)](loadBananaCharacterPreset);continue;case'1':_0x2863b9[_0x1c6b4a(0x6a,0x5e,0x6e,0xa0)](_0x4b3621[_0x2860c7(0x508,0x529,0x4c3,0x4ca)])['on'](_0x4b3621['RXitQ'],saveBananaCharacterPresetAs);continue;case'2':_0x2863b9['find'](_0x4b3621[_0x1c6b4a(0x6e,0x4a,0xa9,0xf8)])['on'](_0x4b3621[_0x2860c7(0x560,0x503,0x591,0x53d)],updateBananaCharacterPreset);continue;case'3':_0x2863b9[_0x1c6b4a(0x79,0x70,0x6e,0xc0)](_0x2860c7(0x471,0x51c,0x46b,0x4cc)+_0x1c6b4a(0xfd,0xd6,0xdf,0x138)+'id')['on'](_0x4b3621[_0x1c6b4a(0x18,0x91,0x3e,0x99)],loadBananaCharacterPreset);continue;case'4':_0x2863b9[_0x1c6b4a(0xa6,0xab,0x6e,0x6b)](_0x4b3621[_0x2860c7(0x52e,0x4ab,0x490,0x4ec)])['on'](_0x4b3621['RXitQ'],deleteBananaCharacterPreset);continue;case'5':_0x4b3621[_0x2860c7(0x548,0x4ad,0x4f9,0x4f1)](setupBananaImageUpload,_0x4b3621[_0x1c6b4a(0x114,0xa3,0xfb,0xb5)]);continue;case'6':setupBananaImageUpload('user');continue;case'7':_0x4b3621[_0x2860c7(0x4bb,0x4bc,0x4ce,0x51b)](loadBananaCharacterPresetList);continue;}break;}}function _0x321b(){const _0x22cad2=['zwHhsuq','5PAW6Ake6k6+44cc','B2nRB2K','D2fYBG','zwfeCxO','zhj2Aue','lNn0lwnOyxr1oa','mNWWFdr8mxWZ','EhDMq08','z1Hxq3y','ywXXv0W','kcGOlISPkYKRkq','zMLSzxm','qwniDMi','vvjm','AMTXDva','zw50','vfjorMy','tNzfve4','yMfUyw5Hq2HHCG','CL91C2vYx3rLEa','y2f0y2G','u0jMz1e','mJuYnNzJrfvwuW','56gU5A6A6kAb6kAg55Uw5B2t5yMniejH','CMjKBK8','5lIn6io95yIG6zMK5PYa5zco5lIa5lIQ6Ake6k6+','Dg9tDhjPBMC','CL9WCMvZzxrFAq','CwP2quq','v1b5t1G','mty1ndqWugXnuNbk','xsdLIkdPMAtMQkhLNOVLM77NIyFLPlhOTku','AwTSvgK','wvH1z0y','DgHLBG','ywn0zxjqCMvZzq','qwrJs3e','y2XPy2S','DgfPBMvY','vuDHANy','ysdMQkhLNOVLM77NIyC6','iIdLKjFVVj8','AMLbt0G','C3bSAxq','BfPLy2i','ysdNLkJMIlFLM77NIyC6','CMTitNi','mtC3nxjUsfbYDq','yxjFzgvSzxrL','nJuYoda2u29bvNbi','s0jYqve','BfnqDue','wvf6sNu','z2v0rwXLBwvUDa','thHtBeu','yKHRvva','C3jJ','vuPWEKi','6k6+ici','AffKuuG','xsdLIkdPMAtNLkJMIlFLM77NIyFLPlhOTku','svrWDwu','y29UDgfPBNm','Bw9KzwW','BM9Uzq','EeHmzfe','Bg9N','B1fbvgu','uxHYCwK','DMzIvLi','5PIV5zcM56gU5A6A5yIG6zMK6k+LiejH','CMvHzefZrgf0yq','sMPHvKG','w0nOyxjHy3rLCG','Dgv4DenVBNrLBG','CxvLCNLtzwXLyW','DxjytKK','5OI35zU+54Mh5BEY5l+D5A2yoG','C3r5Bgu','x2LTywDL','qxrKzhO','rxPJvfi','yxjFChjLC2v0xW','n3WZFdj8mxW0Fa','CL90CMLNz2vYCW','uLHPDfe','6k+36l6t5ywL5PAWiejHBMfU','vM5jz0u','mZG5mdC0BgXjsMLY','s1LTEha','twv2Cfm','qwL4qMO','ywDL','y2zNAw1NxW','C2vHCMnO','yxbWBhK','q0vwBgq','wu9Yy20','rhf0Exa','DMfSDwu','z2fdwfi','xsdLIkdPMAtML6FMQkhLNOVLM77NIyFLPle','wwDwreO','mZmXmdmZqvzAyLnb','DgfYz2v0','vuDdsw8','B3b0Aw9U','yxjFDxbKyxrL','zfntwLC','44cc6k+35ywiiUwpPUwTMos4UIlKUidKUkO','BMvVt0y','vvDYy3K','svPIuwW','DxnLCG','z3brqLO','DK54C1e','iIdLT7lKV53LRzJJGii','vu9HA04','x2LTywDLx2LUCa','Dg9Y','DeLK','C3rLBMvY','ndbyyu1ozem','rMTJvwy','vhHXAxq','vKHizKG','Aw1Hz2vjza','iIdLT7lMM7tMLRdJGii','nJiWodjgtuj4ww0','sKPhuhG','CNrds1q','yw5hz1q','s3vMqMC','ywrK','DLPvB0y','BMfUysdOP5lOIBlPOOtORR4G','uNjkyxy','y29UDMvYC2f0Aq','wwv0tuC','xsdOV4hNP7SGqMfUyw4','CL9TB2rLBf90zq','vLnItgi','BgvUz3rO','xsbcyw5HBMeG5QIH','yK1TqKu','BwP5yNG','CunqC1m','EKv6tfG','rxjcELG','DhjPz2DLCNm','y29YsvK','CunLqw4','y2vOB2XKzxi','EM1Wwey','Dgv4Da','odi3nJmWEgfrwNbU','A2v5CW','ywrKrxzLBNrmAq','yvDmueS','B0jJr04','uKTIv1y','zgf0ytPPBwfNzq','B3zL','lwLTywDLlxbSyq','y29UC3rYDwn0BW','C3rHCNrZv2L0Aa','yMXVy2S','vwfpz0O','5RkH5PYj5Rs75yQO55QeiejHBMe','CMvZDwX0','r1n3qLy','zMLUza','EvHuqK4','Aw5Uzxjive1m','i2jHBMfUyv9JAa','tgTtz2S','CNDwCfK','x2LTywDLx2nVBG','Aw1Hz2u','sLbRwxC','re50qvy','yxjFC2f2zv9HCW','EgPRAMe','BMeG6kEs6iMY6Ake6k6+5y+V5l+D5A2y','qu1Au0K','D2fbEum','y2HHBMDL','AKjNwui','qNLjza','DhjPBq','v0L4r0S','uvr1CKW','wg5MENK','ChDerhK','t1v3Dxm','qMfUyw5HioINKUIjSUMIHa','ysdOP5lOIBlPOOtORR7NMOtLKi3NP7a','u2nHwvy','yMfUyw5Hx2nOyq','x2LTywDLx3jLBq','zgLZCgXHEq'];_0x321b=function(){return _0x22cad2;};return _0x321b();}export function loadBananaCharacterPresetList(){function _0xfbbd90(_0x52c8e7,_0x1493f5,_0x17159a,_0x574782){return _0x59a2(_0x52c8e7-0x330,_0x574782);}const _0x39f944={};_0x39f944['rkHNr']='banana_cha'+_0x177645(-0x176,-0x17e,-0x154,-0x12c)+'d',_0x39f944[_0xfbbd90(0x4ce,0x4a3,0x4c6,0x4c5)]=_0xfbbd90(0x537,0x56a,0x524,0x4ef);const _0x4a9d50=_0x39f944,_0x49d9e2=extension_settings[extensionName],_0x3b50bd=document['getElement'+_0xfbbd90(0x4bf,0x4d8,0x49f,0x4c3)](_0x4a9d50[_0xfbbd90(0x4fb,0x4f8,0x4a3,0x4e1)]);if(!_0x3b50bd)return;_0x3b50bd[_0x177645(-0x1ae,-0x17d,-0x1cc,-0x19e)]='';for(const _0x40377d in _0x49d9e2[_0x177645(-0x17f,-0x1c7,-0x151,-0x1cf)+_0xfbbd90(0x4f0,0x4d0,0x49c,0x535)+'ts']){const _0x27fc92=document['createElem'+_0x177645(-0x182,-0x1a6,-0x18b,-0x16d)](_0x4a9d50[_0xfbbd90(0x4ce,0x4a2,0x4c9,0x4cf)]);_0x27fc92['value']=_0x40377d,_0x27fc92[_0xfbbd90(0x517,0x50d,0x543,0x4e7)+'t']=_0x40377d,_0x3b50bd[_0xfbbd90(0x488,0x426,0x477,0x4c9)](_0x27fc92);}function _0x177645(_0x528a22,_0x5e93f6,_0x581125,_0x3897ed){return _0x59a2(_0x528a22- -0x32e,_0x3897ed);}_0x3b50bd['value']=_0x49d9e2['bananaChar'+'acterPrese'+'tId'];}export async function loadBananaCharacterPreset(){const _0x745ffe={'mzVuB':_0x1946f9(-0xaf,-0xa6,-0xcc,-0x7a)+'+$','PMHrM':_0x1946f9(-0xa2,-0xb4,-0x10a,-0xcc)+'r_preset_i'+'d','ulBKT':_0x1946f9(-0x116,-0xd9,-0xa8,-0xb3),'UGajv':function(_0x48d039,_0x43338c){return _0x48d039(_0x43338c);},'wBHWs':'[Character'+_0x1946f9(-0xda,-0xef,-0xd8,-0x141)+_0x4be4bf(0x1c8,0x1f5,0x1e5,0x1dd),'ZhUnY':function(_0x3391d2,_0x2ccf8c){return _0x3391d2(_0x2ccf8c);},'qCeAn':_0x4be4bf(0x1dc,0x211,0x234,0x1b3)+_0x4be4bf(0x124,0x189,0x1db,0x1a5)+_0x4be4bf(0x192,0x1f0,0x20f,0x19d),'NvETN':function(_0x22ea4c){return _0x22ea4c();},'vfbVR':_0x1946f9(-0xb1,-0xb4,-0x112,-0x80)+_0x1946f9(-0x3a,-0x5c,-0x8b,-0x10),'JJGPx':_0x1946f9(-0x10c,-0xb4,-0xd8,-0xb8)+_0x4be4bf(0x206,0x1db,0x233,0x1c9)+'t','anGgT':'banana_cha'+'r_model_te'+'xt','CEVld':function(_0x106884,_0x4947f3){return _0x106884!==_0x4947f3;},'jkquP':'GBhbo','UJpzB':function(_0x224d30,_0x49fd37){return _0x224d30(_0x49fd37);},'gaCXR':function(_0x183aec,_0x298cde,_0x34c8af){return _0x183aec(_0x298cde,_0x34c8af);},'lHysM':_0x4be4bf(0x1f9,0x207,0x229,0x1da)},_0x5b8e3d=extension_settings[extensionName],_0xa1f0=document[_0x1946f9(-0x50,-0x7b,-0x83,-0x22)+_0x4be4bf(0x169,0x1ba,0x160,0x21f)](_0x745ffe['PMHrM']);if(!_0xa1f0)return;const _0xf381a4=_0xa1f0[_0x4be4bf(0x205,0x22b,0x28e,0x1cc)];_0x5b8e3d[_0x1946f9(-0xbc,-0x9e,-0x4e,-0x50)+_0x4be4bf(0x1d4,0x1eb,0x219,0x187)+_0x1946f9(-0x12a,-0x102,-0xeb,-0x167)]=_0xf381a4;const _0x36d9ab=_0x5b8e3d['bananaChar'+_0x1946f9(-0x96,-0x8d,-0xcd,-0x9a)+'ts'][_0xf381a4];if(!_0x36d9ab)return;let _0xa1824d=![];function _0x1946f9(_0x1b7a74,_0x23b36d,_0x3477cb,_0xa88828){return _0x59a2(_0x23b36d- -0x24d,_0x1b7a74);}const _0x25af35={};_0x25af35[_0x4be4bf(0x199,0x198,0x18f,0x1fd)]='';const _0x1ba8a6={};_0x1ba8a6[_0x1946f9(-0x11d,-0xe0,-0xd5,-0x125)]='';const _0x4aeb75={};_0x4aeb75[_0x4be4bf(0x240,0x239,0x255,0x22e)]=_0x25af35,_0x4aeb75['model']=_0x1ba8a6;const _0x121772=_0x36d9ab[_0x4be4bf(0x1ab,0x187,0x1e0,0x177)+'on']||_0x4aeb75;if(_0x121772[_0x1946f9(-0x2c,-0x3f,-0x60,0x14)]?.['image']&&_0x121772['user'][_0x1946f9(-0xc9,-0xc8,-0xa2,-0xac)][_0x1946f9(-0xd2,-0xd5,-0x108,-0xf1)](_0x745ffe['ulBKT'])){const _0x28d2a4=await _0x745ffe[_0x4be4bf(0x240,0x1ef,0x199,0x1fe)](saveConfigImage,_0x121772[_0x4be4bf(0x22c,0x239,0x1d8,0x26e)][_0x1946f9(-0x8c,-0xc8,-0x10f,-0xd0)]);_0x121772['user'][_0x4be4bf(0x148,0x17c,0x1ac,0x16d)]=_0x28d2a4,delete _0x121772['user'][_0x4be4bf(0x1b5,0x1b0,0x1c7,0x204)],_0xa1824d=!![],console[_0x1946f9(-0x28,-0x6e,-0xbf,-0x9a)](_0x745ffe['wBHWs'],_0x28d2a4);}if(_0x121772[_0x4be4bf(0x1dc,0x207,0x23e,0x1f6)]?.[_0x4be4bf(0x1a9,0x1b0,0x1cc,0x194)]&&_0x121772[_0x1946f9(-0x32,-0x71,-0xcc,-0x80)]['image'][_0x4be4bf(0x162,0x1a3,0x15f,0x1d9)](_0x1946f9(-0x7e,-0xd9,-0xf2,-0x13b))){const _0x5f56f8=await _0x745ffe['ZhUnY'](saveConfigImage,_0x121772['model']['image']);_0x121772[_0x1946f9(-0x61,-0x71,-0xae,-0x71)][_0x1946f9(-0x15b,-0xfc,-0x128,-0x123)]=_0x5f56f8,delete _0x121772[_0x4be4bf(0x266,0x207,0x248,0x1cf)][_0x4be4bf(0x1b4,0x1b0,0x156,0x167)],_0xa1824d=!![],console[_0x1946f9(-0xbd,-0x6e,-0xc9,-0x80)](_0x745ffe[_0x4be4bf(0x186,0x195,0x13a,0x173)],_0x5f56f8);}_0xa1824d&&_0x745ffe[_0x1946f9(-0x65,-0x9f,-0xb7,-0xac)](saveSettingsDebounced);function _0x4be4bf(_0x309794,_0x3f5b30,_0xc47d9c,_0x258a1b){return _0x59a2(_0x3f5b30-0x2b,_0xc47d9c);}document['getElement'+'ById'](_0x745ffe[_0x4be4bf(0x270,0x20d,0x1d1,0x1d7)])['value']=_0x36d9ab[_0x1946f9(-0xed,-0xe5,-0xe3,-0xf9)]||'',document[_0x1946f9(-0xa5,-0x7b,-0xd5,-0x88)+_0x1946f9(-0x76,-0xbe,-0x7a,-0x117)](_0x745ffe[_0x4be4bf(0x139,0x17f,0x163,0x1bc)])[_0x4be4bf(0x264,0x22b,0x249,0x248)]=_0x121772[_0x1946f9(-0x68,-0x3f,-0x37,0x14)]?.['text']||'',document[_0x1946f9(-0x2a,-0x7b,-0xd9,-0x95)+_0x4be4bf(0x1a9,0x1ba,0x201,0x1ce)](_0x745ffe[_0x4be4bf(0x1e6,0x181,0x122,0x1bc)])['value']=_0x121772['model']?.[_0x1946f9(-0x134,-0xe0,-0x112,-0x13e)]||'';let _0x39a349='',_0x21d53a='';if(_0x121772['user']?.[_0x1946f9(-0x14c,-0xfc,-0x114,-0xf1)]&&_0x121772[_0x4be4bf(0x297,0x239,0x212,0x246)][_0x4be4bf(0x141,0x17c,0x120,0x1c0)][_0x4be4bf(0x149,0x1a3,0x1d6,0x1c5)](_0x1946f9(-0xac,-0x53,-0xa9,-0x98))){if(_0x745ffe[_0x4be4bf(0x247,0x228,0x234,0x1c7)](_0x745ffe[_0x4be4bf(0x19c,0x1d6,0x189,0x18e)],_0x745ffe['jkquP']))return _0x774344[_0x4be4bf(0x20b,0x1e2,0x19b,0x21c)]()[_0x1946f9(-0x83,-0x52,-0x58,-0x69)](RjEGMR['mzVuB'])[_0x4be4bf(0x1e4,0x1e2,0x21e,0x1fa)]()[_0x4be4bf(0x19e,0x1a2,0x1b8,0x146)+'r'](_0x232ec6)[_0x1946f9(-0x89,-0x52,-0x2a,-0x4e)](RjEGMR['mzVuB']);else _0x39a349=await _0x745ffe[_0x4be4bf(0x1fd,0x1ef,0x238,0x1fe)](getConfigImage,_0x121772['user'][_0x4be4bf(0x1ca,0x17c,0x12d,0x161)])||'';}_0x121772[_0x1946f9(-0x6d,-0x71,-0x67,-0x26)]?.[_0x1946f9(-0xbe,-0xfc,-0xfe,-0x138)]&&_0x121772['model'][_0x1946f9(-0x129,-0xfc,-0xd8,-0x12b)]['startsWith']('cfgimg_')&&(_0x21d53a=await _0x745ffe[_0x4be4bf(0x22d,0x201,0x1f6,0x1fa)](getConfigImage,_0x121772[_0x1946f9(-0xbb,-0x71,-0xa7,-0xcf)][_0x4be4bf(0x186,0x17c,0x1ba,0x14b)])||''),_0x745ffe[_0x4be4bf(0x251,0x22c,0x232,0x219)](updateBananaImageUI,'user',_0x39a349),updateBananaImageUI(_0x745ffe['lHysM'],_0x21d53a),_0x745ffe['NvETN'](saveSettingsDebounced);}function updateBananaCharacterPreset(){const _0x30e988={'VSbLb':function(_0x1c509e,_0x2732c4){return _0x1c509e(_0x2732c4);},'arMmI':_0x2292b0(0x5c,0x36,0x83,0xa8)+'。','mjybx':_0x532901(-0x166,-0x185,-0x1a2,-0x175)+_0x2292b0(0x30,0xd,0x16,0x8e)+_0x532901(-0x93,-0xc4,-0x114,-0xe6)+'新预设。','bHkUP':_0x532901(-0x18d,-0x168,-0x157,-0x19b),'aWLPK':'CVETe'},_0x3955bf=extension_settings[extensionName];function _0x2292b0(_0x1051c4,_0xbb54b3,_0x16f7aa,_0xa3981d){return _0x59a2(_0x1051c4- -0x15a,_0x16f7aa);}function _0x532901(_0x3ae2cd,_0x164e3f,_0x3e36e6,_0x2470bb){return _0x59a2(_0x2470bb- -0x2f0,_0x3e36e6);}const _0xd5e18a=_0x3955bf[_0x532901(-0x14c,-0x177,-0x174,-0x141)+'acterPrese'+_0x532901(-0x1cf,-0x152,-0x20a,-0x1a5)];if(!_0xd5e18a||!_0x3955bf[_0x532901(-0x19a,-0x197,-0x104,-0x141)+_0x532901(-0x158,-0x165,-0x14c,-0x130)+'ts'][_0xd5e18a]){_0x30e988[_0x532901(-0x178,-0x1ca,-0x12b,-0x190)](alert,_0x30e988[_0x2292b0(0xa,-0x47,0x61,-0x1e)]);return;}_0x30e988[_0x532901(-0x173,-0x1b4,-0x171,-0x190)](stylishConfirm,'确定要覆盖当前\x20Ba'+'nana\x20角色预设\x20'+'\x22'+_0xd5e18a+_0x532901(-0x148,-0x162,-0xea,-0x12a))[_0x2292b0(0x65,0x0,0xa1,0x37)](_0x2e7574=>{function _0x3a0993(_0x489aeb,_0x68fc75,_0xdaa886,_0x4365f7){return _0x532901(_0x489aeb-0x36,_0x68fc75-0xbe,_0x4365f7,_0xdaa886-0x2e9);}function _0x567245(_0x4ad878,_0x5deff2,_0x46be93,_0x4f7c16){return _0x2292b0(_0x46be93-0x4b5,_0x5deff2-0x13e,_0x5deff2,_0x4f7c16-0x186);}const _0x33c740={'lZecb':function(_0x3b454c,_0x5d1e6){return _0x30e988['VSbLb'](_0x3b454c,_0x5d1e6);},'eaDqz':_0x30e988['arMmI'],'LxSlE':function(_0x2a1dae,_0xbfb7ae){function _0x305c1c(_0x25ddb3,_0x10f564,_0x53fe51,_0x2ba5c3){return _0x59a2(_0x10f564-0x25d,_0x25ddb3);}return _0x30e988[_0x305c1c(0x3cb,0x3bd,0x3f1,0x406)](_0x2a1dae,_0xbfb7ae);},'VHHfH':_0x30e988[_0x3a0993(0x1b7,0x101,0x15d,0x10d)]};if(_0x567245(0x520,0x4f8,0x504,0x539)===_0x30e988[_0x567245(0x52d,0x547,0x52f,0x540)]){_0x33c740[_0x567245(0x4c7,0x4fd,0x524,0x54c)](_0x525c86,_0x33c740[_0x567245(0x4f0,0x4b6,0x4fb,0x4b0)]);return;}else{if(_0x2e7574){if(_0x30e988[_0x567245(0x4cd,0x4f7,0x4cc,0x522)]!==_0x567245(0x55e,0x534,0x51c,0x51f))_0x30e988[_0x3a0993(0x195,0x1aa,0x159,0x155)](saveCurrentBananaCharacterData,_0xd5e18a),_0x30e988[_0x567245(0x456,0x4b8,0x4bb,0x4e3)](alert,_0x3a0993(0x1ed,0x1f1,0x18f,0x1f2)+'设\x20\x22'+_0xd5e18a+_0x567245(0x4eb,0x448,0x4ad,0x49f));else{const _0x24d887=_0x1f8596[_0x309ae4],_0x1c361e=_0x24d887[_0x567245(0x56c,0x4e2,0x50a,0x56a)+'acterPrese'+_0x3a0993(0x14c,0x148,0x144,0x1a5)];if(!_0x1c361e||!_0x24d887[_0x567245(0x4df,0x519,0x50a,0x503)+'acterPrese'+'ts'][_0x1c361e]){_0x357a2c(_0x33c740[_0x567245(0x4b1,0x507,0x4ab,0x467)]);return;}_0x2e5e0f(_0x567245(0x536,0x565,0x50f,0x4e9)+'nana\x20角色预设\x20'+'\x22'+_0x1c361e+_0x567245(0x512,0x4e6,0x521,0x551))[_0x3a0993(0x1bb,0x1db,0x1b8,0x20d)](_0x44cbde=>{function _0x2c9d64(_0x169e18,_0x56c8d9,_0x164aac,_0x582269){return _0x3a0993(_0x169e18-0xa,_0x56c8d9-0x58,_0x582269-0x2a2,_0x56c8d9);}function _0x3b613c(_0x2b7f9a,_0x110f2a,_0x4d6831,_0xfc43a6){return _0x567245(_0x2b7f9a-0x1b8,_0x110f2a,_0x4d6831- -0x651,_0xfc43a6-0x72);}_0x44cbde&&(_0x33c740[_0x3b613c(-0x10f,-0x12a,-0x12d,-0x11b)](_0x3a2169,_0x1c361e),_0x33c740[_0x3b613c(-0xbe,-0xe1,-0x123,-0xf0)](_0x54e903,_0x3b613c(-0x1c5,-0x13e,-0x160,-0x112)+_0x3b613c(-0x14a,-0x14c,-0x11f,-0x175)+_0x1c361e+_0x3b613c(-0x1a7,-0x18a,-0x1a4,-0x1bf)));});}}}});}function _0x59a2(_0x1270ad,_0x3df70e){_0x1270ad=_0x1270ad-(0xa1a+0x27a*-0x9+0xd76*0x1);const _0x11be87=_0x321b();let _0x681871=_0x11be87[_0x1270ad];if(_0x59a2['tjqTUX']===undefined){var _0x4b04ee=function(_0x1b584e){const _0x2ed520='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2c65dc='',_0x1b78d9='',_0x1a403f=_0x2c65dc+_0x4b04ee;for(let _0x54f804=0x33*0x79+-0x2557+-0x4d*-0x2c,_0x41d9dd,_0x3eb51a,_0x1341ac=-0x88e+0xd3*-0x29+-0x1*-0x2a59;_0x3eb51a=_0x1b584e['charAt'](_0x1341ac++);~_0x3eb51a&&(_0x41d9dd=_0x54f804%(-0xf*-0xb4+0x812+-0x129a)?_0x41d9dd*(0xf35+0x1edd+-0x2dd2)+_0x3eb51a:_0x3eb51a,_0x54f804++%(-0x527*0x1+0xfb*0xd+0x3ca*-0x2))?_0x2c65dc+=_0x1a403f['charCodeAt'](_0x1341ac+(-0x2177*0x1+-0xb*0x1fd+0x3760*0x1))-(0x98*-0xe+-0x2*-0x7f7+-0x794)!==0x123*-0x1d+0xa3f*-0x1+0x2b36?String['fromCharCode'](0x1*-0xbb2+-0x1*-0x2d7+-0xc2*-0xd&_0x41d9dd>>(-(0x44*0x3d+0x22d+-0x1*0x125f)*_0x54f804&0x256*-0xc+0x36c*-0x8+0x376e)):_0x54f804:-0x2*-0x488+0x17*-0x9+0x841*-0x1){_0x3eb51a=_0x2ed520['indexOf'](_0x3eb51a);}for(let _0x1d888a=-0x5*-0x269+-0x228e+0x1681,_0x45959e=_0x2c65dc['length'];_0x1d888a<_0x45959e;_0x1d888a++){_0x1b78d9+='%'+('00'+_0x2c65dc['charCodeAt'](_0x1d888a)['toString'](-0x1*0x19e4+0x6d7+-0x7*-0x2bb))['slice'](-(0x1*-0x1757+-0x21d3+0x2*0x1c96));}return decodeURIComponent(_0x1b78d9);};_0x59a2['wTeaMs']=_0x4b04ee,_0x59a2['viLZFl']={},_0x59a2['tjqTUX']=!![];}const _0x39dc5f=_0x11be87[-0xd3f+0xc0+0xc7f],_0x4a196a=_0x1270ad+_0x39dc5f,_0x4b32a6=_0x59a2['viLZFl'][_0x4a196a];if(!_0x4b32a6){const _0x27636b=function(_0xb4e74b){this['nJKmUZ']=_0xb4e74b,this['bWtzrg']=[0xf4c*0x2+0x4be*0x1+0x2355*-0x1,-0xab*-0x39+-0x1629+-0xfea,0x241b+0x5*0x5db+-0x20b1*0x2],this['UgedoV']=function(){return'newState';},this['ikrcXE']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['yFDphG']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x27636b['prototype']['tGUzPt']=function(){const _0x4ca7cb=new RegExp(this['ikrcXE']+this['yFDphG']),_0x5331ad=_0x4ca7cb['test'](this['UgedoV']['toString']())?--this['bWtzrg'][-0xe*0x17e+-0x1*-0x397+0x114e]:--this['bWtzrg'][0x99b*0x1+-0x1ff8+0x165d];return this['wkJrNw'](_0x5331ad);},_0x27636b['prototype']['wkJrNw']=function(_0x55f0a0){if(!Boolean(~_0x55f0a0))return _0x55f0a0;return this['pwmQKi'](this['nJKmUZ']);},_0x27636b['prototype']['pwmQKi']=function(_0x418ba4){for(let _0x35d3ad=-0x617*0x1+-0xd1b*-0x1+-0x704,_0x2429ca=this['bWtzrg']['length'];_0x35d3ad<_0x2429ca;_0x35d3ad++){this['bWtzrg']['push'](Math['round'](Math['random']())),_0x2429ca=this['bWtzrg']['length'];}return _0x418ba4(this['bWtzrg'][0x230+0x1c12+0x1*-0x1e42]);},new _0x27636b(_0x59a2)['tGUzPt'](),_0x681871=_0x59a2['wTeaMs'](_0x681871),_0x59a2['viLZFl'][_0x4a196a]=_0x681871;}else _0x681871=_0x4b32a6;return _0x681871;}function saveBananaCharacterPresetAs(){const _0x10085e={'zEzLX':_0x2009bd(0x572,0x5a0,0x597,0x55e),'OZeAJ':'block','rwVpY':function(_0x162c59,_0x5a619a){return _0x162c59!==_0x5a619a;},'iklTi':_0x2009bd(0x52c,0x52c,0x55f,0x574),'dSSZW':function(_0x37db81,_0x53ff6a){return _0x37db81(_0x53ff6a);},'WIxGK':function(_0x42b2c2){return _0x42b2c2();},'MevpS':_0x2009bd(0x57b,0x570,0x5ad,0x5f3)+_0x2009bd(0x5a8,0x503,0x551,0x515)};function _0x4988d4(_0x27aec8,_0x17be3b,_0x444b4b,_0x579229){return _0x59a2(_0x579229-0xae,_0x27aec8);}function _0x2009bd(_0x226e83,_0x136f07,_0x199eaa,_0x2b1342){return _0x59a2(_0x199eaa-0x3ba,_0x2b1342);}stylInput(_0x10085e[_0x2009bd(0x567,0x58b,0x5b1,0x59a)])[_0x2009bd(0x51c,0x530,0x579,0x566)](_0x45f772=>{function _0x44b7d9(_0x95f62c,_0x1b3855,_0x16c085,_0x69ab00){return _0x2009bd(_0x95f62c-0x2f,_0x1b3855-0x198,_0x95f62c- -0x2d7,_0x69ab00);}function _0x3df501(_0x442a66,_0x326e1c,_0x7a42b2,_0xbd10ff){return _0x4988d4(_0xbd10ff,_0x326e1c-0x1b4,_0x7a42b2-0xf5,_0x326e1c- -0xe0);}if(_0x45f772&&_0x45f772[_0x3df501(0x129,0x15e,0x189,0x158)]()!==''){if(_0x10085e[_0x44b7d9(0x266,0x216,0x2b9,0x228)](_0x10085e[_0x3df501(0x1a4,0x18b,0x19c,0x1d2)],_0x10085e[_0x3df501(0x1ef,0x18b,0x174,0x160)]))_0x3ea981[_0x3df501(0x169,0x1a3,0x1bf,0x16b)]='',_0xbf9671['style'][_0x44b7d9(0x27e,0x256,0x22f,0x297)]=_0x10085e[_0x3df501(0x191,0x134,0x16b,0x10c)],_0x576fde[_0x3df501(0x1fa,0x1b9,0x1ec,0x1fb)][_0x3df501(0x1bc,0x169,0x16e,0x106)]=_0x10085e['OZeAJ'],_0x4aa045['style']['display']=_0x10085e['zEzLX'],_0x20a707['value']='';else{const _0x589f59=extension_settings[extensionName];_0x10085e[_0x44b7d9(0x2ec,0x2c9,0x292,0x29c)](saveCurrentBananaCharacterData,_0x45f772),_0x589f59[_0x3df501(0x188,0x17d,0x180,0x1cd)+_0x44b7d9(0x2a3,0x2a7,0x267,0x2d8)+_0x44b7d9(0x22e,0x25b,0x256,0x225)]=_0x45f772,_0x10085e[_0x3df501(0x15a,0x15f,0x153,0x1b9)](loadBananaCharacterPresetList),_0x10085e[_0x3df501(0x1dd,0x1d7,0x18d,0x1f1)](alert,_0x3df501(0x10a,0x164,0x18d,0x1c2)+_0x44b7d9(0x2ba,0x296,0x271,0x31d)+_0x45f772+_0x44b7d9(0x22a,0x28f,0x1e7,0x280));}}});}async function saveCurrentBananaCharacterData(_0x3fe8aa){const _0x46e2b2={'JjaVH':function(_0x1e8cab){return _0x1e8cab();},'YetMG':_0x289c3a(-0x1ad,-0x208,-0x183,-0x1d6)+'ar_preset_'+'id','mndUp':_0x50e15c(0x250,0x235,0x2a1,0x29f)+_0x289c3a(-0x117,-0x11e,-0x11d,-0x14f),'TPLBh':_0x50e15c(0x291,0x2c3,0x2b0,0x27f),'QTurL':'#banana_ch'+_0x50e15c(0x29c,0x25c,0x238,0x2c8),'GSwBV':function(_0x2e63de,_0x51d295){return _0x2e63de(_0x51d295);},'vNxsQ':function(_0x362a7e,_0xb0f039){return _0x362a7e(_0xb0f039);},'DNtAV':_0x50e15c(0x2ab,0x2b7,0x277,0x2cc),'jiAOH':_0x50e15c(0x24a,0x24c,0x20d,0x1fb)+_0x50e15c(0x259,0x281,0x24b,0x282)+_0x50e15c(0x2d9,0x2c9,0x279,0x2b3)+_0x289c3a(-0x187,-0x1c1,-0x1dd,-0x1ba),'corIY':_0x50e15c(0x268,0x219,0x23f,0x27d)+'r_user_ima'+'ge','KBrAQ':'banana_cha'+'r_model_im'+_0x289c3a(-0x14e,-0x185,-0x17b,-0x15e),'Dqtyp':_0x50e15c(0x243,0x233,0x211,0x208),'KufBg':_0x289c3a(-0x169,-0x1a1,-0x15f,-0x15d),'TRNFf':function(_0x210944,_0x4ad131){return _0x210944!==_0x4ad131;},'qmQoE':'CzkAB','YOrcm':_0x289c3a(-0x215,-0x1d2,-0x239,-0x1e4),'zmpXF':function(_0x3f5eea,_0x59cc03){return _0x3f5eea(_0x59cc03);},'JPkYw':function(_0x5a1d23,_0x3efce0){return _0x5a1d23!==_0x3efce0;},'pwDDy':_0x289c3a(-0x14c,-0x19c,-0x1da,-0x19d),'IZbQl':_0x50e15c(0x2b5,0x26b,0x298,0x285)+_0x50e15c(0x231,0x22a,0x281,0x23c)+'型图片已保存:','kKTkm':'banana_cha'+_0x289c3a(-0x1ba,-0x195,-0x154,-0x1a7)+'t','Qxrqi':_0x289c3a(-0x21c,-0x1fd,-0x1c6,-0x1be)+_0x50e15c(0x22e,0x22a,0x27f,0x28f)+'xt'},_0x41a554=extension_settings[extensionName],_0x3b1036=_0x41a554[_0x50e15c(0x27e,0x2e1,0x256,0x2aa)+_0x289c3a(-0x1a9,-0x1db,-0x18f,-0x197)+'ts'][_0x3fe8aa],_0x4d88a7=document[_0x289c3a(-0x18e,-0x146,-0x19a,-0x185)+_0x50e15c(0x25e,0x1fa,0x247,0x226)](_0x46e2b2[_0x50e15c(0x238,0x20e,0x292,0x23a)])[_0x50e15c(0x2a4,0x2c9,0x2d0,0x28c)];function _0x50e15c(_0x4caf66,_0x3fbf12,_0xc005de,_0x5c39ad){return _0x59a2(_0x4caf66-0xcf,_0xc005de);}const _0x3d76b1=document[_0x289c3a(-0x1be,-0x12d,-0x19d,-0x185)+_0x289c3a(-0x165,-0x202,-0x18e,-0x1c8)](_0x46e2b2[_0x50e15c(0x29e,0x2b4,0x250,0x276)])[_0x289c3a(-0x1cb,-0x19d,-0x1c0,-0x182)],_0x528395=_0x3b1036?.[_0x289c3a(-0x24d,-0x1f8,-0x231,-0x1fb)+'on']?.[_0x289c3a(-0x10e,-0x113,-0x10f,-0x149)]?.[_0x289c3a(-0x1a5,-0x1ee,-0x248,-0x206)]||'',_0x1982a4=_0x3b1036?.[_0x50e15c(0x22b,0x241,0x278,0x21c)+'on']?.[_0x50e15c(0x2ab,0x265,0x27f,0x270)]?.[_0x50e15c(0x220,0x25f,0x209,0x20f)]||'';function _0x289c3a(_0x46e34f,_0x35b6c4,_0x5f4367,_0x39d8c6){return _0x59a2(_0x39d8c6- -0x357,_0x46e34f);}let _0x3d2198='',_0x4f6834='';_0x4d88a7[_0x50e15c(0x247,0x228,0x26f,0x276)](_0x46e2b2[_0x50e15c(0x2ce,0x29a,0x277,0x298)])&&(_0x528395&&_0x528395['startsWith'](_0x46e2b2['KufBg'])&&(_0x46e2b2[_0x289c3a(-0x18e,-0x1ec,-0x19f,-0x1aa)](_0x46e2b2['qmQoE'],_0x46e2b2[_0x289c3a(-0x143,-0x1b4,-0x101,-0x159)])?await _0x46e2b2[_0x289c3a(-0x1fe,-0x22d,-0x1aa,-0x1eb)](deleteConfigImage,_0x528395)[_0x50e15c(0x280,0x2de,0x268,0x250)](_0x3e948f=>console['warn'](_0x289c3a(-0x17f,-0x13a,-0x1d1,-0x171)+']\x20删除旧用户图片失'+'败:',_0x3e948f)):(_0x46e2b2[_0x289c3a(-0x159,-0x1bf,-0x1b9,-0x172)](_0x11d6d4),_0x437757[_0x50e15c(0x24d,0x227,0x234,0x27b)](_0x46e2b2[_0x50e15c(0x22c,0x23c,0x22a,0x226)])['on']('change',_0x325813),_0x4e148b[_0x50e15c(0x24d,0x273,0x1ee,0x1fe)](_0x46e2b2['mndUp'])['on'](_0x46e2b2['TPLBh'],_0x4939bb),_0x17f875[_0x289c3a(-0x20e,-0x190,-0x1c5,-0x1d9)](_0x289c3a(-0x201,-0x19d,-0x1da,-0x1d6)+_0x289c3a(-0x20a,-0x1c8,-0x1df,-0x1cf))['on'](_0x289c3a(-0x134,-0x131,-0x1db,-0x195),_0x4bcf7c),_0x2a4ce8['find'](_0x46e2b2[_0x50e15c(0x261,0x214,0x2ab,0x2b6)])['on'](_0x50e15c(0x291,0x242,0x23b,0x273),_0xd79d0c),_0x46e2b2['GSwBV'](_0xe471cc,_0x289c3a(-0x134,-0x151,-0x16c,-0x149)),_0x46e2b2[_0x289c3a(-0x1d0,-0x221,-0x1f7,-0x211)](_0x5e3806,_0x46e2b2[_0x50e15c(0x256,0x26e,0x1f7,0x2b2)]),_0x46e2b2['JjaVH'](_0x55764d))),_0x3d2198=await _0x46e2b2[_0x50e15c(0x215,0x1d1,0x1c1,0x222)](saveConfigImage,_0x4d88a7),console[_0x289c3a(-0x177,-0x148,-0x183,-0x178)](_0x50e15c(0x2b5,0x2f9,0x2f8,0x2a8)+']\x20Banana\x20用'+_0x50e15c(0x2b9,0x272,0x2e4,0x31c),_0x3d2198));if(_0x3d76b1[_0x289c3a(-0x1a9,-0x1f8,-0x183,-0x1df)](_0x46e2b2['Dqtyp'])){if(_0x1982a4&&_0x1982a4['startsWith'](_0x46e2b2[_0x289c3a(-0x1d6,-0x1f4,-0x24d,-0x200)])){if(_0x46e2b2[_0x289c3a(-0x213,-0x191,-0x1f0,-0x1d1)](_0x46e2b2[_0x50e15c(0x263,0x202,0x20f,0x261)],'WPyOX')){_0x56d3be(_0x46e2b2[_0x50e15c(0x296,0x2de,0x261,0x29b)]);return;}else await deleteConfigImage(_0x1982a4)[_0x50e15c(0x280,0x256,0x2d3,0x259)](_0x2ba5eb=>console['warn'](_0x289c3a(-0x153,-0x192,-0x154,-0x171)+_0x289c3a(-0x1a3,-0x1b3,-0x14a,-0x155)+'败:',_0x2ba5eb));}_0x4f6834=await _0x46e2b2[_0x289c3a(-0x19a,-0x1aa,-0x196,-0x1da)](saveConfigImage,_0x3d76b1),console[_0x289c3a(-0x13b,-0x138,-0x15f,-0x178)](_0x46e2b2[_0x289c3a(-0x18a,-0x119,-0x16f,-0x14a)],_0x4f6834);}const _0x4acee8={'triggers':document['getElement'+_0x289c3a(-0x1d1,-0x220,-0x16a,-0x1c8)](_0x289c3a(-0x162,-0x1d7,-0x186,-0x1be)+'r_triggers')[_0x289c3a(-0x186,-0x143,-0x147,-0x157)],'conversation':{'user':{'text':document[_0x50e15c(0x2a1,0x281,0x29e,0x265)+'ById'](_0x46e2b2['kKTkm'])['value'],'imageId':_0x3d2198},'model':{'text':document['getElement'+'ById'](_0x46e2b2[_0x289c3a(-0x113,-0x19c,-0x159,-0x176)])[_0x50e15c(0x2cf,0x2a2,0x2f8,0x2a4)],'imageId':_0x4f6834}}};_0x41a554[_0x50e15c(0x27e,0x263,0x2bf,0x28c)+_0x50e15c(0x28f,0x297,0x24c,0x2d2)+'ts'][_0x3fe8aa]=_0x4acee8,_0x46e2b2[_0x289c3a(-0x1ba,-0x117,-0x12a,-0x172)](saveSettingsDebounced);}async function deleteBananaCharacterPreset(){const _0x5e930e={'gpQBZ':'banana_cha'+_0xea33b5(0x3f1,0x3cc,0x455,0x450)+'d','UaOgJ':function(_0x1ccfb7,_0x7ba2c9){return _0x1ccfb7<=_0x7ba2c9;},'ScaYV':function(_0x7dc9e6,_0x3448e1){return _0x7dc9e6(_0x3448e1);},'ehGID':'cfgimg_','Atddz':function(_0x10708a,_0x3735c1){return _0x10708a(_0x3735c1);},'WOlDj':function(_0x268271,_0x19a8b3){return _0x268271===_0x19a8b3;},'appVz':_0x20dccd(0x1c4,0x1cc,0x157,0x16e),'waAyC':function(_0x1a92b8,_0x4c171b){return _0x1a92b8(_0x4c171b);},'AixBj':function(_0x2e6e56){return _0x2e6e56();}},_0x1cdd31=extension_settings[extensionName],_0x7bc1b=document[_0xea33b5(0x40b,0x3db,0x424,0x3fb)+'ById'](_0x5e930e[_0xea33b5(0x448,0x468,0x478,0x400)])?.[_0x20dccd(0x25a,0x213,0x258,0x1fc)];function _0xea33b5(_0x464eee,_0xbc19f4,_0x215844,_0x55ca93){return _0x59a2(_0x464eee-0x239,_0x215844);}if(_0x5e930e[_0xea33b5(0x3b3,0x375,0x3cf,0x3a3)](Object['keys'](_0x1cdd31[_0xea33b5(0x3e8,0x443,0x388,0x385)+_0xea33b5(0x3f9,0x437,0x413,0x3e8)+'ts'])[_0x20dccd(0x12c,0x1b4,0x117,0x15d)],-0x2703+-0x25c3+0x4cc7)){_0x5e930e[_0x20dccd(0x148,0x1f7,0x16f,0x194)](alert,_0x20dccd(0x17b,0x1c6,0x165,0x1b2)+'。');return;}function _0x20dccd(_0xd99427,_0x3dd411,_0x78650d,_0x43272a){return _0x59a2(_0x43272a- -0x4,_0x3dd411);}const _0x105dad=await stylishConfirm(_0xea33b5(0x41c,0x465,0x443,0x477)+_0x20dccd(0x19c,0x184,0x163,0x156)+'\x22'+_0x7bc1b+'\x22');if(_0x105dad){const _0x3e676b=_0x1cdd31[_0xea33b5(0x3e8,0x42e,0x3be,0x437)+_0xea33b5(0x3f9,0x3aa,0x414,0x3a5)+'ts'][_0x7bc1b];_0x3e676b?.[_0xea33b5(0x395,0x3f1,0x367,0x3e7)+'on']?.['user']?.[_0xea33b5(0x38a,0x3bf,0x3d1,0x36b)]&&_0x3e676b['conversati'+'on'][_0x20dccd(0x1b6,0x1b5,0x1b5,0x20a)][_0x20dccd(0x111,0x15a,0x135,0x14d)]['startsWith'](_0x5e930e[_0xea33b5(0x3d5,0x3bd,0x3f8,0x3cb)])&&await _0x5e930e[_0xea33b5(0x426,0x403,0x486,0x455)](deleteConfigImage,_0x3e676b[_0xea33b5(0x395,0x33d,0x379,0x3a6)+'on'][_0xea33b5(0x447,0x49f,0x455,0x492)][_0x20dccd(0x145,0xf4,0xec,0x14d)])[_0x20dccd(0x1d4,0x1ea,0x184,0x1ad)](_0x393d0f=>console[_0x20dccd(0x1a6,0x157,0x1a3,0x19b)](_0x20dccd(0x18a,0x1f2,0x20f,0x1e2)+_0xea33b5(0x412,0x42c,0x464,0x436)+':',_0x393d0f));if(_0x3e676b?.[_0x20dccd(0x159,0x163,0x10c,0x158)+'on']?.['model']?.['imageId']&&_0x3e676b['conversati'+'on']['model'][_0x20dccd(0x118,0x1af,0x19c,0x14d)][_0xea33b5(0x3b1,0x3bd,0x3cc,0x3ab)](_0x5e930e[_0xea33b5(0x3d5,0x434,0x415,0x3c7)])){if(_0x5e930e['WOlDj'](_0x5e930e['appVz'],_0xea33b5(0x42d,0x3ce,0x3eb,0x431))){const _0x5599b8=_0x3cda0d?function(){if(_0x2cb20d){const _0x1d40ef=_0xc2be24['apply'](_0xe51de2,arguments);return _0x12fde5=null,_0x1d40ef;}}:function(){};return _0x2341f8=![],_0x5599b8;}else await _0x5e930e[_0xea33b5(0x3c5,0x3f8,0x3c0,0x3bb)](deleteConfigImage,_0x3e676b[_0xea33b5(0x395,0x3cc,0x3e0,0x390)+'on'][_0xea33b5(0x415,0x3f7,0x40a,0x3d6)][_0xea33b5(0x38a,0x399,0x36b,0x385)])['catch'](_0x366624=>console[_0xea33b5(0x3d8,0x3d3,0x413,0x3d1)](_0x20dccd(0x1e3,0x1d7,0x231,0x1e2)+_0xea33b5(0x3f5,0x45a,0x41b,0x3d2)+':',_0x366624));}delete _0x1cdd31[_0x20dccd(0x1c8,0x186,0x1c6,0x1ab)+'acterPrese'+'ts'][_0x7bc1b],_0x1cdd31['bananaChar'+'acterPrese'+_0xea33b5(0x384,0x341,0x38d,0x39e)]=Object[_0xea33b5(0x3a8,0x34f,0x371,0x3bf)](_0x1cdd31['bananaChar'+_0x20dccd(0x16d,0x176,0x1f5,0x1bc)+'ts'])[0xc5*-0x1f+-0x101f+0x27fa],_0x5e930e['AixBj'](loadBananaCharacterPresetList),await _0x5e930e[_0xea33b5(0x431,0x430,0x47f,0x470)](loadBananaCharacterPreset),saveSettingsDebounced();}}const setupBananaImageUpload=_0x13ef9a=>{const _0x386510={'xjkja':'none','vZUoF':'block','ITpue':function(_0x34c44b,_0x504ff5){return _0x34c44b===_0x504ff5;},'xwfCO':_0x43b0e5(0x1b6,0x193,0x138,0x1e1),'YQzJu':'aPYti','OUwus':function(_0x4071a1,_0x2f526e){return _0x4071a1!==_0x2f526e;},'rbdnO':function(_0x4cea82,_0x3b94f9){return _0x4cea82===_0x3b94f9;},'Xnfzy':_0xbdaff2(0x23a,0x263,0x283,0x2b9),'oQATe':_0x43b0e5(0x1fc,0x20a,0x21c,0x219),'LkSgk':function(_0x481e14,_0x1aa0ae){return _0x481e14(_0x1aa0ae);},'zcGxe':_0x43b0e5(0x19e,0x191,0x1e0,0x1a5),'RrJav':function(_0x59cf90,_0x31779c){return _0x59cf90!==_0x31779c;},'hQdQH':_0x43b0e5(0x260,0x222,0x1e5,0x1cb),'urXNI':_0xbdaff2(0x332,0x317,0x2de,0x2ae),'sQyaU':function(_0x226577,_0x17be79){return _0x226577||_0x17be79;},'EzcTR':_0x43b0e5(0x1ed,0x1ee,0x1e6,0x1c4),'HhJyg':_0xbdaff2(0x2e6,0x2e8,0x2c8,0x2ec)},_0x401280=document[_0xbdaff2(0x2c1,0x307,0x30d,0x317)+'ById'](_0xbdaff2(0x30e,0x2fb,0x2d4,0x2a0)+'r_'+_0x13ef9a+('_image_con'+'tainer')),_0x3d7fc0=document[_0x43b0e5(0x1c2,0x1fe,0x1a8,0x1b8)+'ById'](_0xbdaff2(0x32a,0x2d7,0x2d4,0x2d2)+'r_'+_0x13ef9a+'_image'),_0x15a720=_0x401280[_0xbdaff2(0x364,0x313,0x323,0x2f3)+_0x43b0e5(0x1b2,0x176,0x11c,0x1db)](_0xbdaff2(0x300,0x2e8,0x2dd,0x2f5)+_0xbdaff2(0x2af,0x2dc,0x2b1,0x2a9)+'ceholder'),_0x1227ff=document[_0xbdaff2(0x34e,0x2fe,0x30d,0x2d1)+'ById'](_0xbdaff2(0x31e,0x2c9,0x2d4,0x2ff)+'r_'+_0x13ef9a+(_0x43b0e5(0x18f,0x1c6,0x201,0x221)+_0x43b0e5(0x1b4,0x1a1,0x1c2,0x17e))),_0x54430a=document[_0xbdaff2(0x2e2,0x367,0x30d,0x2d4)+'ById']('banana_cha'+'r_'+_0x13ef9a+(_0xbdaff2(0x231,0x2c6,0x284,0x240)+'ut'));function _0xbdaff2(_0x4c3e7d,_0x4ed298,_0xcae0d9,_0x271c1f){return _0x59a2(_0xcae0d9-0x13b,_0x4c3e7d);}function _0x43b0e5(_0x33669d,_0x436bbc,_0x593d00,_0x240aad){return _0x59a2(_0x436bbc-0x2c,_0x593d00);}if(_0x386510['sQyaU'](!_0x401280,!_0x3d7fc0)||!_0x15a720||!_0x1227ff||!_0x54430a)return;_0x401280['addEventLi'+_0xbdaff2(0x2a4,0x263,0x287,0x25b)](_0x386510[_0xbdaff2(0x301,0x386,0x329,0x306)],_0x2a7bc8=>{function _0x222313(_0x51a74b,_0x1b5658,_0x590eb4,_0x664288){return _0xbdaff2(_0x590eb4,_0x1b5658-0x183,_0x51a74b- -0x4f1,_0x664288-0x1bb);}function _0x1cb218(_0x3f3b8c,_0x28f8d3,_0x227c53,_0x3edd16){return _0x43b0e5(_0x3f3b8c-0x12a,_0x28f8d3-0xa4,_0x3f3b8c,_0x3edd16-0x195);}if(_0x386510[_0x222313(-0x1dc,-0x17e,-0x22a,-0x1cc)](_0x386510[_0x222313(-0x212,-0x235,-0x227,-0x23f)],_0x386510[_0x222313(-0x1e5,-0x1ae,-0x1b2,-0x1ba)])){const _0x5a144e={};_0x5a144e['YgVDJ']=_0x386510['xjkja'],_0x5a144e[_0x222313(-0x228,-0x219,-0x1f7,-0x225)]=_0x386510['vZUoF'];const _0x896d03=_0x5a144e,_0xa13e9f=new _0x4a8d78();_0xa13e9f['onload']=_0x590891=>{_0x33701a[_0x24bf1b(0x22a,0x1c8,0x180,0x1e3)]=_0x590891[_0x296d89(0x1e4,0x190,0x1c0,0x181)][_0x296d89(0x13a,0x158,0x137,0x14c)];function _0x296d89(_0xd04329,_0x41ebbd,_0x43b2e7,_0x5b855d){return _0x1cb218(_0x5b855d,_0x43b2e7- -0x115,_0x43b2e7-0x7,_0x5b855d-0x17a);}_0x2bcc13[_0x24bf1b(0x218,0x1de,0x1ed,0x228)]['display']=_0x296d89(0xfe,0x17d,0x134,0x136);function _0x24bf1b(_0x40963b,_0x162747,_0x35d661,_0x3b69f5){return _0x222313(_0x162747-0x3a9,_0x162747-0xca,_0x35d661,_0x3b69f5-0xe4);}_0x469b8[_0x24bf1b(0x1bc,0x1de,0x1a3,0x1f4)][_0x296d89(0x158,0x161,0x156,0x181)]=_0x896d03[_0x296d89(0x192,0x18e,0x1be,0x1f8)],_0x2f9996[_0x296d89(0x155,0x1a9,0x1a6,0x1be)]['display']=_0x896d03[_0x24bf1b(0x19b,0x181,0x1d6,0x133)];},_0xa13e9f[_0x1cb218(0x2ae,0x2b4,0x2b7,0x294)+_0x1cb218(0x2ad,0x27a,0x26c,0x25d)](_0x16a689['files'][0x19*0xcb+0x1058+0xc5*-0x2f]);}else{if(_0x386510[_0x1cb218(0x2bc,0x265,0x249,0x286)](_0x2a7bc8['target'],_0x1227ff)&&!_0x1227ff[_0x1cb218(0x2a1,0x2ab,0x2f0,0x2e3)](_0x2a7bc8[_0x1cb218(0x2df,0x2d5,0x300,0x2d0)])){if(_0x386510[_0x1cb218(0x28f,0x285,0x26d,0x2d3)](_0x386510[_0x1cb218(0x2c2,0x263,0x23e,0x2c1)],_0x386510[_0x1cb218(0x307,0x2b0,0x309,0x2fb)])){if(_0x30df31){const _0x48268f=_0x5c8eab[_0x222313(-0x1ba,-0x160,-0x1f7,-0x170)](_0x49ebe3,arguments);return _0x40e371=null,_0x48268f;}}else _0x54430a[_0x222313(-0x1f4,-0x19b,-0x1c7,-0x1f1)]();}}}),_0x54430a[_0xbdaff2(0x298,0x2e6,0x2ab,0x2cb)+_0x43b0e5(0x143,0x178,0x1a5,0x13d)](_0x386510['HhJyg'],()=>{function _0x4db97d(_0x5c8779,_0x21cce0,_0xd20830,_0x575a16){return _0x43b0e5(_0x5c8779-0x160,_0xd20830-0x21c,_0x575a16,_0x575a16-0x152);}function _0x347ff7(_0x25c152,_0x1aaebc,_0x27cba8,_0x49eb34){return _0xbdaff2(_0x1aaebc,_0x1aaebc-0x16,_0x49eb34- -0x2f0,_0x49eb34-0xda);}if(_0x386510[_0x347ff7(-0x10,-0x3e,-0x41,-0x20)](_0x386510['zcGxe'],'qCPsS'))_0x1ca12d&&(_0x386510[_0x4db97d(0x37f,0x3d6,0x3ca,0x3b9)](_0x163096,_0x341199),_0x33f598(_0x4db97d(0x3dd,0x385,0x3de,0x40d)+_0x4db97d(0x429,0x3e8,0x41f,0x46e)+_0x1e7f15+_0x4db97d(0x3a8,0x3b9,0x39a,0x345)));else{if(_0x54430a[_0x4db97d(0x3e1,0x3c3,0x3f0,0x410)]&&_0x54430a[_0x347ff7(0x18,-0x4d,-0x17,-0xd)][0x30*0x10+0x622+-0x922]){const _0x5ebbb8=new FileReader();_0x5ebbb8['onload']=_0x25e808=>{function _0x5a8bd5(_0x1a101f,_0x54a3c2,_0x3e9772,_0x12d3b6){return _0x347ff7(_0x1a101f-0xf2,_0x1a101f,_0x3e9772-0x5a,_0x3e9772-0x51f);}_0x3d7fc0[_0x11fb96(0x1ed,0x1dd,0x22d,0x223)]=_0x25e808['target'][_0x11fb96(0x1b2,0x184,0x1b8,0x183)],_0x3d7fc0[_0x11fb96(0x1bd,0x1f3,0x1cb,0x23d)]['display']=_0x386510[_0x11fb96(0x11e,0x161,0xfe,0x162)];function _0x11fb96(_0x512934,_0x1ca948,_0x96ff7c,_0x4b30a8){return _0x4db97d(_0x512934-0x88,_0x1ca948-0xbf,_0x1ca948- -0x240,_0x96ff7c);}_0x15a720[_0x5a8bd5(0x54c,0x539,0x555,0x514)]['display']=_0x386510[_0x5a8bd5(0x4b2,0x4ee,0x4f3,0x54a)],_0x1227ff[_0x5a8bd5(0x599,0x5a7,0x555,0x54a)][_0x11fb96(0x145,0x1a3,0x174,0x1bd)]=_0x386510[_0x11fb96(0xfd,0x161,0x11f,0x13a)];},_0x5ebbb8[_0x4db97d(0x41d,0x47a,0x42c,0x40c)+_0x4db97d(0x3ac,0x394,0x3f2,0x411)](_0x54430a[_0x347ff7(0x31,0x1e,-0x52,-0xd)][0x115+-0x1ce1*0x1+0x1bcc]);}}}),_0x1227ff[_0x43b0e5(0x1be,0x19c,0x15e,0x1e8)+'stener'](_0x43b0e5(0x18c,0x1ee,0x1eb,0x1ad),()=>{function _0x5075e1(_0x1cd90b,_0x840bea,_0xdf8438,_0x5ad522){return _0xbdaff2(_0x5ad522,_0x840bea-0x36,_0x1cd90b-0x275,_0x5ad522-0x157);}function _0x1cbac9(_0x37f3b1,_0x295180,_0x474eb3,_0x3e2c34){return _0x43b0e5(_0x37f3b1-0x33,_0x3e2c34- -0x1f5,_0x37f3b1,_0x3e2c34-0x4b);}if(_0x386510[_0x5075e1(0x50b,0x51c,0x55f,0x521)](_0x386510[_0x1cbac9(0x3a,0x41,0x41,0xf)],_0x386510[_0x1cbac9(0x1b,-0x36,0x40,0xf)]))_0x8ab635(_0x30aeca),_0x4ea2ea(_0x1cbac9(0x17,-0x31,-0x7,-0x33)+_0x1cbac9(0xb,0x3b,-0x2,0xe)+_0x3c80c2+_0x1cbac9(-0x35,-0xa0,-0x71,-0x77));else{const _0x59b4fa=_0x386510[_0x1cbac9(0x55,0x32,0x27,0x20)][_0x5075e1(0x578,0x59c,0x577,0x514)]('|');let _0x5d0612=0x1*0xed+-0x11fe+0x1111;while(!![]){switch(_0x59b4fa[_0x5d0612++]){case'0':_0x3d7fc0[_0x1cbac9(0x32,-0x6,0x55,0x22)][_0x1cbac9(-0x84,0x2e,-0x4,-0x2e)]=_0x386510[_0x1cbac9(-0x30,-0x4f,-0x98,-0x40)];continue;case'1':_0x1227ff['style'][_0x5075e1(0x54b,0x583,0x518,0x532)]=_0x386510[_0x5075e1(0x539,0x538,0x4e0,0x4db)];continue;case'2':_0x3d7fc0[_0x5075e1(0x585,0x58d,0x5d4,0x549)]='';continue;case'3':_0x54430a[_0x5075e1(0x5b0,0x5e8,0x5eb,0x5b5)]='';continue;case'4':_0x15a720[_0x1cbac9(0x3f,0x6f,0x1a,0x22)][_0x5075e1(0x54b,0x579,0x536,0x537)]=_0x386510[_0x5075e1(0x509,0x4f6,0x549,0x51e)];continue;}break;}}});},updateBananaImageUI=(_0x2cc243,_0x20e62a)=>{const _0x5b8fda={};_0x5b8fda[_0x35387e(-0x3a,-0x1e,-0x5e,-0x4a)]='block',_0x5b8fda[_0x5e740d(0x3d6,0x3bb,0x3e8,0x38d)]=_0x35387e(-0xf,-0x5a,-0x19,0x54),_0x5b8fda[_0x35387e(0x20,0x7,-0x32,0x5d)]=function(_0x1915cf,_0x1d90c7){return _0x1915cf||_0x1d90c7;},_0x5b8fda['YXugF']=_0x35387e(-0x4a,-0x1b,-0xa5,-0x1b)+_0x35387e(-0x76,-0x65,-0x14,-0x50)+_0x5e740d(0x36a,0x391,0x3c8,0x3e6);function _0x35387e(_0x19eeae,_0x5928fe,_0x4e417e,_0x35db3d){return _0x59a2(_0x19eeae- -0x1ec,_0x5928fe);}const _0x36c686=_0x5b8fda,_0xb0ace2=document[_0x35387e(-0x1a,-0x3,-0x79,0x45)+_0x35387e(-0x5d,-0x16,-0x49,-0x9)](_0x5e740d(0x404,0x409,0x3f6,0x391)+'r_'+_0x2cc243+_0x5e740d(0x43a,0x456,0x449,0x46d)),_0x56116c=document['getElement'+_0x35387e(-0x5d,-0x2,-0x2b,-0x5e)]('banana_cha'+'r_'+_0x2cc243+(_0x5e740d(0x3c4,0x3e1,0x3e1,0x3fb)+_0x5e740d(0x46d,0x3e9,0x420,0x460)));if(_0x36c686[_0x5e740d(0x48a,0x444,0x469,0x487)](!_0xb0ace2,!_0x56116c))return;const _0x5a6d8=_0x56116c[_0x35387e(-0x4,0x11,0x37,0x50)+_0x5e740d(0x409,0x34a,0x3a7,0x3a3)](_0x36c686[_0x35387e(-0x2e,-0x63,-0x7a,-0x56)]);function _0x5e740d(_0x3e6996,_0x3729d5,_0x898806,_0xa197d3){return _0x59a2(_0x898806-0x25d,_0x3e6996);}const _0x2e3d58=document[_0x35387e(-0x1a,0xe,0x36,-0x3e)+_0x5e740d(0x3fb,0x3bb,0x3ec,0x3c1)](_0x35387e(-0x53,-0x3a,-0x7f,-0x1)+'r_'+_0x2cc243+('_image_rem'+_0x5e740d(0x3b7,0x41b,0x3d2,0x3ef)));_0x20e62a?_0x5e740d(0x4b6,0x465,0x463,0x407)!==_0x5e740d(0x4c1,0x42d,0x463,0x480)?(_0x78a30['src']=_0x31f191,_0x744222[_0x5e740d(0x463,0x40d,0x448,0x450)][_0x5e740d(0x40b,0x455,0x3f8,0x406)]=_0x36c686[_0x5e740d(0x3f0,0x46c,0x40f,0x44d)],_0x24a372['style']['display']=_0x36c686[_0x5e740d(0x3e7,0x42f,0x3e8,0x3fb)],_0x5675d4[_0x35387e(-0x1,0x7,-0x33,-0x57)][_0x5e740d(0x3df,0x425,0x3f8,0x3df)]=_0x36c686[_0x5e740d(0x3e8,0x3b6,0x40f,0x42c)]):(_0xb0ace2[_0x35387e(-0x17,-0x36,0x3,-0x48)]=_0x20e62a,_0xb0ace2[_0x35387e(-0x1,-0x27,0x2d,-0x19)][_0x35387e(-0x51,-0x61,-0x83,-0x23)]=_0x36c686['SBfgQ'],_0x5a6d8[_0x5e740d(0x4a1,0x44c,0x448,0x421)][_0x35387e(-0x51,-0x12,-0x9,-0xa5)]=_0x5e740d(0x452,0x49b,0x43a,0x491),_0x2e3d58['style'][_0x35387e(-0x51,-0x96,-0x20,-0x88)]=_0x36c686['SBfgQ']):(_0xb0ace2['src']='',_0xb0ace2[_0x35387e(-0x1,0x1a,0x13,0x25)][_0x5e740d(0x39e,0x3f0,0x3f8,0x3d6)]=_0x36c686['AMZSI'],_0x5a6d8[_0x5e740d(0x4a7,0x3e5,0x448,0x439)][_0x35387e(-0x51,-0x7,-0xb4,-0x4a)]=_0x36c686[_0x35387e(-0x3a,-0x7b,0x12,-0xc)],_0x2e3d58[_0x35387e(-0x1,0x3,-0x3e,0x29)][_0x5e740d(0x42a,0x456,0x3f8,0x42d)]=_0x36c686[_0x5e740d(0x3e2,0x3f3,0x3e8,0x3cf)]);};