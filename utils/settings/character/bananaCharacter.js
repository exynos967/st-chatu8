(function(_0x53c100,_0x3896ca){function _0x21a710(_0x1438fd,_0x1a2ce9,_0x4b929f,_0x282dcb){return _0x1310(_0x1a2ce9- -0xb5,_0x4b929f);}function _0x1c71ff(_0x97119c,_0x453da2,_0x322bcd,_0x47ff66){return _0x1310(_0x47ff66-0x367,_0x322bcd);}const _0x20a825=_0x53c100();while(!![]){try{const _0x2a446d=parseInt(_0x1c71ff(0x4b1,0x485,0x4a6,0x454))/(-0x20e5+0xb61+0x1585)+parseInt(_0x1c71ff(0x4a6,0x496,0x428,0x463))/(-0x2*0x1ab+-0x19ed*0x1+0x3b*0x7f)*(parseInt(_0x21a710(0x69,0xc0,0x8d,0xdf))/(-0x3*0x37d+0x1e59*-0x1+0x28d3))+-parseInt(_0x21a710(0xa4,0x75,0xa8,0x77))/(-0x7f3+0xe6f+-0x3*0x228)*(parseInt(_0x1c71ff(0x495,0x44b,0x491,0x440))/(-0x1cd1+0xa5c+-0x6e*-0x2b))+-parseInt(_0x1c71ff(0x47d,0x4d1,0x44b,0x474))/(-0x1468+-0x567+0x19d5*0x1)*(parseInt(_0x21a710(0x4a,0x44,0x5c,0x3e))/(0x107e*-0x2+-0x2f*0x93+-0x140*-0x30))+-parseInt(_0x21a710(0x2d,0x60,0x23,0x85))/(0x12d3+0x9a3+-0x1c6e*0x1)+-parseInt(_0x1c71ff(0x4fe,0x4fe,0x4f8,0x4ba))/(0xfd9+0x1c8e+-0xeca*0x3)*(parseInt(_0x21a710(0x80,0x52,0x92,0x73))/(-0x20c6+-0x1*-0xb98+-0x184*-0xe))+parseInt(_0x21a710(0x1c,0x71,0xb4,0x25))/(0x1320+0xa59*-0x2+0x19d*0x1);if(_0x2a446d===_0x3896ca)break;else _0x20a825['push'](_0x20a825['shift']());}catch(_0x44c868){_0x20a825['push'](_0x20a825['shift']());}}}(_0x5704,0x6b2d*0x18+-0x4b3da+0x80b2e));const _0x2d303f=(function(){function _0x27be57(_0x53073e,_0x2f95da,_0x379b24,_0x1bb37e){return _0x1310(_0x1bb37e-0x176,_0x379b24);}const _0x2af503={'znHVt':function(_0x3ebaf1,_0x5a18ac){return _0x3ebaf1(_0x5a18ac);},'Pyxif':function(_0xe6aad7,_0x45d3d2){return _0xe6aad7===_0x45d3d2;},'aJLXW':_0x31a1aa(0x3cb,0x36e,0x38b,0x36f),'HDPxJ':_0x27be57(0x2f5,0x2d6,0x2e5,0x2e1),'iHksc':'ktnYB','PpxvG':function(_0x32c9d2,_0x4f9041){return _0x32c9d2!==_0x4f9041;},'UfCYc':function(_0x1a14b2,_0x384e69){return _0x1a14b2(_0x384e69);},'GViWg':function(_0x39506c){return _0x39506c();},'MCEuh':function(_0x295b3c,_0x52f5ad){return _0x295b3c!==_0x52f5ad;},'rBQmC':'oEQCj'};function _0x31a1aa(_0x2ded69,_0x5bfef6,_0x2877e7,_0xf22c3c){return _0x1310(_0xf22c3c-0x22b,_0x5bfef6);}let _0x8aee6=!![];return function(_0x403659,_0x48eabf){const _0x35cb63={'vfhIZ':function(_0x257223,_0x5be83a){function _0x4d0cb9(_0x44e23,_0x1258e3,_0x34825c,_0x4962fc){return _0x1310(_0x1258e3- -0x89,_0x4962fc);}return _0x2af503[_0x4d0cb9(0x78,0x43,0x82,0x6e)](_0x257223,_0x5be83a);},'EdUsV':function(_0x3e0734,_0x1ea83a){return _0x2af503['UfCYc'](_0x3e0734,_0x1ea83a);},'RBoeR':function(_0x327bc7){function _0x23d854(_0x2bfefe,_0x5c650c,_0x403e26,_0x21e143){return _0x1310(_0x21e143- -0x312,_0x5c650c);}return _0x2af503[_0x23d854(-0x298,-0x253,-0x271,-0x24a)](_0x327bc7);}};function _0x1d62b0(_0xbb0daa,_0x176097,_0x39ceb0,_0x3358b0){return _0x27be57(_0xbb0daa-0xdd,_0x176097-0xc6,_0x176097,_0x3358b0-0xa3);}function _0x24cc46(_0x326b4e,_0x3b1761,_0x483bdf,_0x3a4506){return _0x31a1aa(_0x326b4e-0x19c,_0x326b4e,_0x483bdf-0x1dc,_0x483bdf- -0x5db);}if(_0x2af503[_0x24cc46(-0x2ea,-0x24b,-0x29c,-0x2b3)](_0x24cc46(-0x27f,-0x249,-0x248,-0x20b),_0x2af503[_0x24cc46(-0x2ff,-0x2a2,-0x2e5,-0x2bd)])){const _0x5df6ff=_0x3a7b84[_0x38d4d7];_0x2af503['znHVt'](_0x299359,_0x46c974),_0x5df6ff[_0x1d62b0(0x305,0x2b5,0x297,0x2e8)+_0x24cc46(-0x2b0,-0x261,-0x28f,-0x255)+_0x1d62b0(0x2ac,0x31c,0x285,0x2e6)]=_0x265142,_0x290621(),_0x2af503[_0x1d62b0(0x2d1,0x304,0x2dd,0x31c)](_0x1df8e8,_0x1d62b0(0x323,0x2fa,0x33f,0x339)+_0x24cc46(-0x2b1,-0x2c2,-0x2c4,-0x273)+_0xfa1689+_0x24cc46(-0x31d,-0x28c,-0x2cd,-0x2f4));}else{const _0x3f2501=_0x8aee6?function(){function _0x2f7cb8(_0x28076a,_0x9aefba,_0x1bac78,_0x9e8c14){return _0x24cc46(_0x1bac78,_0x9aefba-0x1a1,_0x9aefba-0x650,_0x9e8c14-0x121);}function _0x257e10(_0x16e994,_0x10d91d,_0x2b091c,_0x386227){return _0x24cc46(_0x10d91d,_0x10d91d-0x1d9,_0x2b091c-0x653,_0x386227-0x1be);}if(_0x2af503['Pyxif'](_0x2af503[_0x257e10(0x397,0x3e4,0x3d5,0x388)],_0x2af503[_0x2f7cb8(0x3c7,0x401,0x3e9,0x44d)])){if(_0x5c569e&&_0x35cb63[_0x257e10(0x3f4,0x3c8,0x3cb,0x38e)](_0x517538[_0x257e10(0x312,0x391,0x367,0x310)](),'')){const _0x25c932=_0x1d5b12[_0x2f10ea];_0x35cb63[_0x257e10(0x432,0x445,0x411,0x473)](_0x472171,_0x488769),_0x25c932[_0x2f7cb8(0x3a1,0x36f,0x3c0,0x3c7)+_0x2f7cb8(0x38a,0x3c1,0x3a2,0x395)+_0x257e10(0x395,0x338,0x370,0x3ba)]=_0x1b8ca1,_0x35cb63[_0x2f7cb8(0x388,0x3cc,0x422,0x37e)](_0x27592d),_0x4e20f4(_0x257e10(0x3f6,0x363,0x3c3,0x3ee)+_0x2f7cb8(0x366,0x38c,0x389,0x3ab)+_0x3d0afd+_0x2f7cb8(0x330,0x383,0x3c9,0x3d0));}}else{if(_0x48eabf){if(_0x2af503['Pyxif'](_0x2af503[_0x2f7cb8(0x3cb,0x3d6,0x374,0x414)],'IGPTx'))_0x58af04(_0x4e4604),_0x450779('Banana\x20角色预'+_0x257e10(0x381,0x38e,0x38f,0x35c)+_0x30ff97+_0x257e10(0x428,0x431,0x3ea,0x3a7));else{const _0x3cf85b=_0x48eabf[_0x2f7cb8(0x389,0x3e5,0x3e4,0x3a3)](_0x403659,arguments);return _0x48eabf=null,_0x3cf85b;}}}}:function(){};return _0x8aee6=![],_0x3f2501;}};}()),_0x33e53f=_0x2d303f(this,function(){const _0x5c579d={};_0x5c579d[_0x37c003(0x1f4,0x290,0x212,0x23f)]=_0x22865d(0xe,0x66,-0x53,0x48)+'+$';function _0x22865d(_0x143684,_0x252bb0,_0x1d8bae,_0x4672e1){return _0x1310(_0x143684- -0x126,_0x4672e1);}function _0x37c003(_0x450962,_0x1a76f4,_0x12f74c,_0x25ddf8){return _0x1310(_0x25ddf8-0x145,_0x1a76f4);}const _0xa2a01a=_0x5c579d;return _0x33e53f[_0x37c003(0x2a1,0x26a,0x27a,0x263)]()[_0x37c003(0x278,0x1f7,0x278,0x245)](_0xa2a01a['oJxtQ'])['toString']()[_0x22865d(-0x53,-0x51,-0x28,0x0)+'r'](_0x33e53f)[_0x22865d(-0x26,0x25,-0x59,0x3a)](_0xa2a01a[_0x37c003(0x27f,0x1fd,0x290,0x23f)]);});_0x33e53f();function _0x5704(){const _0x62a540=['yxjFDxbKyxrL','serqEeO','y29UDMvYC2f0Aq','ENHvvMW','twnds3y','BNjLCxq','Bxn5zxq','Aw1Hz2u','B0vrq2O','BvvjrK0','wvbVCgK','Cu5oCNm','Bhn6q1u','B3zL','rwrvC1y','zMLSzxm','yxjFC2f2zv9HCW','r0vuAxm','DvrbCvq','BMfUysdOP5lOIBlPOOtORR4G','y29UDgfPBNm','m09Az1bOua','w0nOyxjHy3rLCG','Bw9KzwW','Aw5Uzxjive1m','wwLKrfK','wwfwB0G','CL91C2vYx3rLEa','xsdLIkdPMAtNLkJMIlFLM77NIyFLPlhOTku','56gU5A6A6kAb6kAg55Uw5B2t5yMniejH','C3jJ','swv6B20','vhzkBeS','AvLYAvC','CL90CMLNz2vYCW','DgHLBG','Dfrbt2S','q2LHCuG','DfzMvMq','DhjPBq','5PAW6Ake6k6+44cc','wxbsDwm','zfH4yxq','r1zPv2C','CL9TB2rLBf90zq','yxjFzgvSzxrL','CKjrBum','uhb4DKC','DeLK','uu5Ysgi','yMfUyw5Hq2HHCG','DxnLCG','B3jSEvi','z0X1zhG','y29UC3rYDwn0BW','CMvHzefZrgf0yq','BxLutNm','EMTQtKm','uxvMA3m','DgHXDMK','ntm2nZK0nwjzD1fIBW','vvjm','yMfUyw5Hx2nOyq','DeDRtve','yxjFChjLC2v0xW','ywDL','y2zNAw1NxW','Dgv4DenVBNrLBG','zgXfAw0','5OI35zU+54Mh5BEY5l+D5A2yoG','iIdLT7lKV53LRzJJGii','ChPQr00','wgfZAMS','5RkH5PYj5Rs75yQO55QeiejHBMe','rxrTueS','Aw1Hz2vjza','y2f0y2G','ELPItge','A2v5CW','6k6+ici','nZGWnta3yMPPAMzV','i2jHBMfUyv9JAa','B3b0Aw9U','sKfhtfO','CKTPuem','EwHqCg8','Dg9Y','x2LTywDLx2nVBG','ENDgEwy','6k+36l6t5ywL5PAWiejHBMfU','AuTOqNi','y2HHBMDL','mJe4nJq1ywXqzwXs','B0P4Dfe','C3rHCNrZv2L0Aa','mZi3mdm0yurOs2jO','zw50','CuP0vvK','DMfSDwu','C2vHCMnO','Cgzzs2S','rgrsvw8','EM5ivNq','y0TivgS','CuPkEKq','uuziCKC','mJy0odmWr050DvvY','zgLZCgXHEq','y3jLyxrLrwXLBq','ww1NzeS','CL91C2vYx2LTyq','DLr1qKW','ndHvseLhBuu','z3rstey','D2fYBG','ywrK','mxWWFdj8m3W0','Cgj1tg4','svvkBhK','tunfDwG','mta4nJq4mtz1BfjJAg4','ywrKrxzLBNrmAq','CL9WCMvZzxrFAq','wKziv1i','wfLNsfK','DMXAu0q','y0PHuKK','zgf0ytPPBwfNzq','C3bSAxq','Dg9tDhjPBMC','B25SB2fK','qMfUyw5HioINKUIjSUMIHa','ywn0zxjqCMvZzq','EfferuC','yMXVy2S','C3rLBMvY','x2LTywDLx3jLBq','ndmWmZKZmJzlzLffBgi','q09eEgq','DMzOsvO','sKnyCu0','ngTxrKHgvq','zgvLBLK','uKjVzvi','ExHOEeG','DgfPBMvY','weHJz28','su1ZsgK','tMLWA0O','yuPmwfC','vMflCeG','kcGOlISPkYKRkq','s2LTuey','AuHRC2m','DgfYz2v0','CMvZDwX0','44cc6k+35ywiiUwpPUwTMos4UIlKUidKUkO','AxzMvNe','ysdOP5lOIBlPOOtORR7NMOtLKi3NP7a','AvzPvw0','wvr0qM4','zMLUza','Befkr2y','DhjPz2DLCNm','BM9Uzq','qNLjza','Dgv4Da','rgzqBfi','yxbWBhK','BgvUz3rO','iIdLT7lMM7tMLRdJGii','Bg9N','ALblvgK','CxvLCNLtzwXLyW','z2v0rwXLBwvUDa','yvfrEwm','renxCLa','ysdMQkhLNOVLM77NIyC6','venNr1u','lNn0lwnOyxr1oa','xsdOV4hNP7SGqMfUyw4','xsbcyw5HBMeG55sO','ndqXuvHRwgnc','sNDpDK4','C3r5Bgu','vwfvtgW','z0XbrK0','ALPrEwq','DgPltNa','mxW2Fdi','y2vOB2XKzxi','lwLTywDLlxbSyq','BxresNG','5z6l5zU+54Mh5BEY5l+D5A2yoG','tuvRq0K'];_0x5704=function(){return _0x62a540;};return _0x5704();}import{extension_settings}from'../../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../../script.js';import{extensionName}from'../../config.js';import{stylInput,stylishConfirm}from'../../ui_common.js';function _0x1310(_0x3d3fc1,_0x2eeda1){_0x3d3fc1=_0x3d3fc1-(-0x20eb+-0x1*-0x1297+-0x1e2*-0x8);const _0x497372=_0x5704();let _0x55a6fd=_0x497372[_0x3d3fc1];if(_0x1310['tOqavB']===undefined){var _0x2cb101=function(_0x352686){const _0x475534='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2fd0da='',_0x567543='',_0x3006ac=_0x2fd0da+_0x2cb101;for(let _0x1785ed=0x2*0x317+-0x4b4*-0x4+0x1*-0x18fe,_0x508d9a,_0x55dff2,_0x5603d0=-0x2*0xd3f+-0x15cb*0x1+0x3049*0x1;_0x55dff2=_0x352686['charAt'](_0x5603d0++);~_0x55dff2&&(_0x508d9a=_0x1785ed%(-0xb61+0x3b*-0x74+0x2621)?_0x508d9a*(-0x47f*0x5+-0x1ff0+0x36ab)+_0x55dff2:_0x55dff2,_0x1785ed++%(-0x1*-0x85d+-0x1bab+0x1352))?_0x2fd0da+=_0x3006ac['charCodeAt'](_0x5603d0+(-0xd*-0x287+0x127*-0x17+0x65*-0x10))-(0x2530+-0x8a6+-0x1c80)!==0x876+0x495+0x9*-0x173?String['fromCharCode'](-0x1*0x907+0x1*-0x167f+0x2085&_0x508d9a>>(-(0x13ec+-0xae7+-0x903)*_0x1785ed&0x2578+-0x565+-0x669*0x5)):_0x1785ed:-0x1e70+0x694*0x1+0x17dc){_0x55dff2=_0x475534['indexOf'](_0x55dff2);}for(let _0x48d39e=0xb*0xc2+-0x11d+-0x739,_0x4d3e1e=_0x2fd0da['length'];_0x48d39e<_0x4d3e1e;_0x48d39e++){_0x567543+='%'+('00'+_0x2fd0da['charCodeAt'](_0x48d39e)['toString'](0x2*0x11b9+0x1*0xdb1+-0x3113))['slice'](-(0x1471+0x2109+0x6af*-0x8));}return decodeURIComponent(_0x567543);};_0x1310['RgpWnp']=_0x2cb101,_0x1310['hEVqLj']={},_0x1310['tOqavB']=!![];}const _0x1e1349=_0x497372[0x186c+-0x2535+0xcc9],_0x21083e=_0x3d3fc1+_0x1e1349,_0x4565dc=_0x1310['hEVqLj'][_0x21083e];if(!_0x4565dc){const _0x2d34b4=function(_0x12d0b6){this['Rhkiey']=_0x12d0b6,this['YoGxRx']=[0x26a5+0xa08+-0x30ac,0x1a3*0x16+-0x17ef*-0x1+-0x5d*0xa5,-0x2b*0x39+-0x263c+0x2fcf],this['iCeopS']=function(){return'newState';},this['NNzPba']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['nWsQaj']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2d34b4['prototype']['ljcfpO']=function(){const _0x4a1d23=new RegExp(this['NNzPba']+this['nWsQaj']),_0x286d29=_0x4a1d23['test'](this['iCeopS']['toString']())?--this['YoGxRx'][0x1bf3+0xbf*-0x2+0x1*-0x1a74]:--this['YoGxRx'][-0x281*-0x4+0x37*0x91+-0x3*0xdb9];return this['mBreXf'](_0x286d29);},_0x2d34b4['prototype']['mBreXf']=function(_0x478283){if(!Boolean(~_0x478283))return _0x478283;return this['uYAFQl'](this['Rhkiey']);},_0x2d34b4['prototype']['uYAFQl']=function(_0x10f9ee){for(let _0x3cf241=0x1*-0xd93+0x17f*0x3+0x1*0x916,_0x16110c=this['YoGxRx']['length'];_0x3cf241<_0x16110c;_0x3cf241++){this['YoGxRx']['push'](Math['round'](Math['random']())),_0x16110c=this['YoGxRx']['length'];}return _0x10f9ee(this['YoGxRx'][0x26b+-0xa2d*0x1+0x7c2*0x1]);},new _0x2d34b4(_0x1310)['ljcfpO'](),_0x55a6fd=_0x1310['RgpWnp'](_0x55a6fd),_0x1310['hEVqLj'][_0x21083e]=_0x55a6fd;}else _0x55a6fd=_0x4565dc;return _0x55a6fd;}import{saveConfigImage,getConfigImage,deleteConfigImage}from'../../configDatabase.js';export function setupBananaCharacterControls(_0x17b935){const _0x254be5={'pzjGM':'5|7|0|4|3|'+_0x2dc02f(-0x7b,-0x9e,-0xb3,-0x53),'uDGjK':'click','gLudx':function(_0x31c701,_0x11b01a){return _0x31c701(_0x11b01a);},'htYFr':'user','VaKpH':function(_0x3ace04){return _0x3ace04();},'JCXqM':_0x2dc02f(-0x98,-0xd8,-0x71,-0xbf)+_0x3ff96e(-0x11f,-0x140,-0x122,-0x12d),'tjKNp':'#banana_ch'+_0x2dc02f(0x1f,-0x56,-0x9c,-0x3d),'DCWrP':_0x3ff96e(-0x2e,-0x59,-0xc2,-0x80),'YmgdK':_0x3ff96e(-0xde,-0x12f,-0x167,-0x109)+_0x2dc02f(-0x12a,-0xd7,-0xef,-0xd0)+'id','JAGLZ':_0x2dc02f(-0x77,-0x5a,-0x114,-0xb5)};function _0x2dc02f(_0x1f3cf7,_0x7b34da,_0x1e244d,_0x26d68b){return _0x1310(_0x26d68b- -0x1ad,_0x1f3cf7);}const _0x211bfd=_0x254be5[_0x3ff96e(-0x106,-0x126,-0xeb,-0x113)][_0x3ff96e(-0xfb,-0x128,-0xbf,-0xda)]('|');function _0x3ff96e(_0x3f9749,_0x2f59a8,_0x319938,_0x212dcd){return _0x1310(_0x212dcd- -0x1f7,_0x2f59a8);}let _0x2bc426=0x5b4*-0x2+-0x1152+0x1cba;while(!![]){switch(_0x211bfd[_0x2bc426++]){case'0':_0x17b935['find'](_0x2dc02f(-0xbd,-0x68,-0xc2,-0xbf)+_0x3ff96e(-0x99,-0xf2,-0xdd,-0x97))['on'](_0x254be5['uDGjK'],updateBananaCharacterPreset);continue;case'1':_0x254be5[_0x3ff96e(-0x16f,-0x112,-0x130,-0x125)](setupBananaImageUpload,_0x254be5['htYFr']);continue;case'2':_0x254be5[_0x3ff96e(-0xc9,-0x79,-0x10d,-0xc4)](loadBananaCharacterPreset);continue;case'3':_0x17b935[_0x3ff96e(-0xd5,-0xfa,-0x90,-0xb9)](_0x254be5[_0x3ff96e(-0xae,-0x7b,-0xa3,-0xce)])['on']('click',deleteBananaCharacterPreset);continue;case'4':_0x17b935[_0x3ff96e(-0xed,-0xb5,-0x8e,-0xb9)](_0x254be5[_0x2dc02f(-0x71,-0x77,-0x86,-0x54)])['on'](_0x254be5['uDGjK'],saveBananaCharacterPresetAs);continue;case'5':_0x254be5['VaKpH'](loadBananaCharacterPresetList);continue;case'6':_0x254be5[_0x2dc02f(-0x123,-0x125,-0x8d,-0xdb)](setupBananaImageUpload,_0x254be5[_0x3ff96e(-0x60,-0x96,-0x97,-0xaa)]);continue;case'7':_0x17b935[_0x3ff96e(-0xc7,-0xa7,-0x5d,-0xb9)](_0x254be5[_0x3ff96e(-0xc9,-0x10a,-0x13b,-0xed)])['on'](_0x254be5[_0x3ff96e(-0x12c,-0x106,-0x120,-0x107)],loadBananaCharacterPreset);continue;}break;}}export function loadBananaCharacterPresetList(){const _0x2792d1={};_0x2792d1[_0x1ea2fd(-0x13f,-0x110,-0x188,-0x13f)]=_0x43a68f(0x20a,0x227,0x1e1,0x1ed)+_0x1ea2fd(-0x18d,-0x14e,-0x1b0,-0x12e)+'d';function _0x43a68f(_0x3c01c9,_0x323683,_0x336773,_0x1c639e){return _0x1310(_0x3c01c9-0x12f,_0x336773);}const _0x1c37b3=_0x2792d1,_0x5e2ea9=extension_settings[extensionName],_0x44a3fb=document[_0x43a68f(0x27a,0x2d4,0x248,0x2d0)+_0x43a68f(0x271,0x2c2,0x227,0x29e)](_0x1c37b3['nreqt']);if(!_0x44a3fb)return;_0x44a3fb[_0x1ea2fd(-0x12c,-0x16f,-0xeb,-0xcb)]='';for(const _0x21fa80 in _0x5e2ea9[_0x43a68f(0x1fe,0x231,0x1a3,0x1e4)+_0x43a68f(0x250,0x1fa,0x2aa,0x249)+'ts']){const _0x59d4a0=document[_0x43a68f(0x238,0x217,0x1f7,0x222)+_0x1ea2fd(-0x1a7,-0x17b,-0x1ab,-0x18e)](_0x1ea2fd(-0x1b5,-0x1f7,-0x1a8,-0x195));_0x59d4a0[_0x43a68f(0x22e,0x1d2,0x255,0x1fa)]=_0x21fa80,_0x59d4a0[_0x43a68f(0x20f,0x269,0x1d8,0x20e)+'t']=_0x21fa80,_0x44a3fb['add'](_0x59d4a0);}function _0x1ea2fd(_0x4ae343,_0x3d4a8e,_0x2dba3f,_0x360470){return _0x1310(_0x4ae343- -0x2a4,_0x3d4a8e);}_0x44a3fb['value']=_0x5e2ea9[_0x43a68f(0x1fe,0x1e3,0x212,0x24b)+_0x1ea2fd(-0x183,-0x1d1,-0x1b0,-0x14c)+_0x1ea2fd(-0x1d7,-0x223,-0x1d1,-0x1c3)];}export async function loadBananaCharacterPreset(){const _0x50b0d2={'wpplZ':function(_0x39b285){return _0x39b285();},'KimPF':function(_0x2e8b49,_0x6b5ef1){return _0x2e8b49!==_0x6b5ef1;},'Xasjk':function(_0x299d50,_0x4feae2){return _0x299d50(_0x4feae2);},'IUJly':_0x566de9(0x9,0x64,0x6a,0x4e)+_0x566de9(0xbb,0xc6,0xaf,0xad),'iYriW':_0xc6c513(0x4c,0x33,0x1f,0x80),'vgVKu':_0x566de9(0x49,0x81,0x4f,-0xf)+'r_preset_i'+'d','QFHrG':_0x566de9(0xa8,0xba,0x90,0x85),'YPopi':_0xc6c513(0xc1,0x9e,0xa6,0x6d)+_0xc6c513(0x83,0x99,0x81,0x4a)+'a\x20用户图片:','DdRUo':function(_0x28de58,_0x3fbe20){return _0x28de58!==_0x3fbe20;},'thqvi':_0xc6c513(0x9e,0x7d,0x84,0x9f),'BQOqB':_0xc6c513(0xa8,0xd1,0xa6,0x89)+_0xc6c513(0x4c,0x28,0x81,0x82)+_0x566de9(0xe5,0xab,0xc2,0xf7),'xQDEG':function(_0x39ac7c,_0x406df5){return _0x39ac7c!==_0x406df5;},'IMsHi':'svuNl','TvJlK':function(_0x42fa9e){return _0x42fa9e();},'CWgwY':_0x566de9(0xab,0x8,0x4f,0x80)+_0xc6c513(0x4c,-0xf,-0x11,0x1e),'MEkCI':'cfgimg_','tVfVd':function(_0x5f4e1e,_0x3574fa){return _0x5f4e1e(_0x3574fa);},'EtmPK':function(_0xa580d2,_0x46afbc){return _0xa580d2!==_0x46afbc;},'CODxd':_0xc6c513(-0x31,-0x32,0x22,-0x29),'vlZSD':_0x566de9(0x146,0x14c,0xee,0x13f),'tGkMQ':function(_0x943894,_0x4c52b1,_0x26876d){return _0x943894(_0x4c52b1,_0x26876d);},'McCKv':_0xc6c513(0xde,0x6a,0xa7,0x4f),'rKiPC':function(_0x1954e0){return _0x1954e0();}},_0x17f886=extension_settings[extensionName],_0x3c98a6=document[_0x566de9(0x7a,0x104,0xbf,0x119)+_0xc6c513(0x11,0x38,0x72,0x15)](_0x50b0d2['vgVKu']);if(!_0x3c98a6)return;const _0x5315b3=_0x3c98a6[_0x566de9(0x2e,0xab,0x73,0x30)];_0x17f886[_0xc6c513(-0xe,0x3d,-0x1,0x21)+'acterPrese'+_0x566de9(0x5f,0x26,0x41,0x50)]=_0x5315b3;const _0x5b75b9=_0x17f886[_0xc6c513(0x3e,-0x5,-0x1,0x56)+'acterPrese'+'ts'][_0x5315b3];if(!_0x5b75b9)return;let _0x260102=![];const _0x5d2c8b={};_0x5d2c8b['text']='';const _0x36e336={};_0x36e336[_0x566de9(0xe4,0xf8,0xb7,0xdc)]='';const _0x51cf4d={};_0x51cf4d[_0xc6c513(-0x1,-0x46,0x0,-0x4)]=_0x5d2c8b,_0x51cf4d[_0xc6c513(0x69,0xa0,0xa7,0x109)]=_0x36e336;const _0x94f18e=_0x5b75b9[_0xc6c513(0x5b,0x76,0x92,0x50)+'on']||_0x51cf4d;if(_0x94f18e[_0x566de9(0x75,0x80,0x44,-0x10)]?.[_0x566de9(0x109,0xea,0xdb,0xf2)]&&_0x94f18e['user'][_0x566de9(0xf7,0xa8,0xdb,0x7a)][_0xc6c513(0x1d,0x5b,0x2b,0x81)](_0x50b0d2[_0x566de9(0x36,0xbf,0x7a,0x63)])){const _0x51c8fe=await saveConfigImage(_0x94f18e['user'][_0xc6c513(0xcc,0x4d,0x97,0xf0)]);_0x94f18e[_0x566de9(0x8c,0x8c,0x44,0xd)][_0xc6c513(0x67,0x48,0x18,0x7)]=_0x51c8fe,delete _0x94f18e['user'][_0xc6c513(0x6e,0xa5,0x97,0x95)],_0x260102=!![],console['log'](_0x50b0d2[_0xc6c513(0x6e,0xb2,0x9a,0xbb)],_0x51c8fe);}if(_0x94f18e[_0xc6c513(0x69,0xa0,0xa7,0xdb)]?.[_0xc6c513(0x66,0x43,0x97,0xaf)]&&_0x94f18e[_0xc6c513(0xa9,0x7a,0xa7,0xc0)][_0xc6c513(0x79,0xab,0x97,0xa3)][_0x566de9(0x97,0xcf,0x6f,0x1c)](_0x50b0d2['QFHrG'])){if(_0x50b0d2[_0xc6c513(0x22,0x8f,0x32,0x37)](_0x50b0d2[_0xc6c513(0xc,-0x6,0x8,-0x3)],_0x50b0d2[_0xc6c513(0x38,-0x35,0x8,0x5f)]))_0x50b0d2['wpplZ'](_0x2de5ae);else{const _0x1d0e89=await _0x50b0d2[_0x566de9(0x8f,0x3,0x59,0x50)](saveConfigImage,_0x94f18e[_0x566de9(0xf9,0x10e,0xeb,0xec)][_0xc6c513(0xcf,0x99,0x97,0xca)]);_0x94f18e[_0xc6c513(0x101,0xb7,0xa7,0x6f)][_0xc6c513(0x5d,-0x3d,0x18,0x2b)]=_0x1d0e89,delete _0x94f18e[_0xc6c513(0xdc,0x9e,0xa7,0xa8)][_0x566de9(0x131,0x8d,0xdb,0x129)],_0x260102=!![],console[_0x566de9(0xab,0xda,0xbc,0xef)](_0x50b0d2['BQOqB'],_0x1d0e89);}}_0x260102&&(_0x50b0d2[_0xc6c513(0x5d,0x89,0x52,0x29)](_0x50b0d2[_0xc6c513(0x8a,0xa,0x60,0x64)],_0x50b0d2[_0xc6c513(0x67,0x7c,0x60,0x55)])?_0x50b0d2['Xasjk'](_0x5d204c,_0x50b0d2[_0xc6c513(0x47,0x91,0x43,0x5e)])[_0x566de9(0x3c,0x95,0x34,0x16)](_0x4ffd9c=>{function _0x15ac5d(_0x34ee9a,_0x109c74,_0x28f160,_0x580fdb){return _0x566de9(_0x34ee9a-0x9c,_0x34ee9a,_0x109c74-0x3b5,_0x580fdb-0x163);}function _0xf9c438(_0x4281b6,_0x9f788b,_0x191044,_0x2f0601){return _0x566de9(_0x4281b6-0x1ad,_0x2f0601,_0x191044- -0x51,_0x2f0601-0x130);}if(_0x4ffd9c&&_0x50b0d2[_0xf9c438(0xb7,0x5,0x58,0x18)](_0x4ffd9c[_0x15ac5d(0x3ae,0x3ed,0x3d9,0x3d1)](),'')){const _0x2f6abb=_0x2fd0da[_0x567543];_0x3006ac(_0x4ffd9c),_0x2f6abb[_0xf9c438(0x2c,-0x1a,-0xe,0x1c)+_0x15ac5d(0x48e,0x44a,0x491,0x455)+_0xf9c438(0x1c,0x1d,-0x10,-0x55)]=_0x4ffd9c,_0x1785ed(),_0x508d9a('Banana\x20角色预'+_0xf9c438(0x3b,-0x4f,0xf,0x5f)+_0x4ffd9c+'\x22\x20已保存。');}}):_0x50b0d2[_0xc6c513(-0x1b,-0x2,-0x13,-0x5e)](saveSettingsDebounced));document[_0x566de9(0xdf,0xef,0xbf,0xb4)+_0xc6c513(0x60,0xd2,0x72,0x79)](_0x50b0d2['CWgwY'])[_0xc6c513(0x80,0x1f,0x2f,-0x4)]=_0x5b75b9[_0x566de9(0xff,0xb8,0xb4,0xb2)]||'',document[_0xc6c513(0x60,0xb6,0x7b,0x96)+_0xc6c513(0xaf,0xa3,0x72,0x2f)]('banana_cha'+_0xc6c513(0x73,0xee,0xab,0xa3)+'t')[_0x566de9(0x48,0x1d,0x73,0xa5)]=_0x94f18e['user']?.[_0xc6c513(0xa9,0x35,0x73,0xb7)]||'',document[_0x566de9(0x108,0x10a,0xbf,0x95)+_0xc6c513(0xca,0x43,0x72,0xb4)]('banana_cha'+_0xc6c513(0x2b,-0x64,-0x7,-0x51)+'xt')[_0x566de9(0x8d,0x69,0x73,0x80)]=_0x94f18e[_0x566de9(0xbc,0x8b,0xeb,0x117)]?.['text']||'';let _0x13acfe='',_0x3fa4a3='';_0x94f18e['user']?.[_0xc6c513(-0x2b,-0x34,0x18,-0xa)]&&_0x94f18e[_0xc6c513(0x5,-0x25,0x0,0x5a)][_0xc6c513(0x27,-0x15,0x18,-0x21)][_0x566de9(0x9c,0x93,0x6f,0x97)](_0x50b0d2[_0xc6c513(0xb2,0x69,0x8f,0x50)])&&(_0x13acfe=await _0x50b0d2[_0x566de9(0xd,0x1e,0x37,0x82)](getConfigImage,_0x94f18e[_0xc6c513(0x34,0x34,0x0,0xd)][_0x566de9(0x62,0x73,0x5c,0x5f)])||'');function _0x566de9(_0x594178,_0x3bbf32,_0x592c5d,_0x5eea81){return _0x1310(_0x592c5d- -0x8c,_0x3bbf32);}if(_0x94f18e[_0x566de9(0x118,0x9f,0xeb,0x102)]?.[_0xc6c513(0x47,-0x26,0x18,0x61)]&&_0x94f18e[_0xc6c513(0xd4,0xff,0xa7,0x66)]['imageId'][_0xc6c513(0xe,0x37,0x2b,0xf)](_0x50b0d2['MEkCI'])){if(_0x50b0d2[_0x566de9(0x50,0x40,0x5b,0xa1)](_0x50b0d2[_0x566de9(0xc8,0xde,0x9b,0xfd)],_0x50b0d2[_0x566de9(0xc3,0x79,0x8e,0x49)]))_0x3fa4a3=await getConfigImage(_0x94f18e[_0x566de9(0x97,0x138,0xeb,0x125)]['imageId'])||'';else{const _0x1b7fda=_0x2e5402[_0x5cc488],_0x3bcff0=_0x3be0bd[_0x566de9(0x62,0x70,0xbf,0xcc)+_0xc6c513(0x34,0x9c,0x72,0xc5)](_0xc6c513(0x1b,0x68,0xb,0x4c)+_0x566de9(0xa8,0xce,0x8b,0xd1)+'d');if(!_0x3bcff0)return;_0x3bcff0[_0xc6c513(0x94,0xd9,0xa8,0x63)]='';for(const _0xd4edb3 in _0x1b7fda[_0x566de9(-0x1d,0x65,0x43,0xd)+_0x566de9(0xea,0xad,0x95,0xf5)+'ts']){const _0x1c2385=_0x5af38d[_0xc6c513(0x4e,0x2d,0x39,0x6f)+'ent'](_0x50b0d2[_0x566de9(0x6c,0x88,0x32,0x11)]);_0x1c2385[_0x566de9(0x48,0x2b,0x73,0x7d)]=_0xd4edb3,_0x1c2385['textConten'+'t']=_0xd4edb3,_0x3bcff0[_0x566de9(0x94,0x8c,0x84,0x43)](_0x1c2385);}_0x3bcff0[_0x566de9(0xae,0xbd,0x73,0xb9)]=_0x1b7fda[_0xc6c513(0xc,0x59,-0x1,-0x4f)+_0xc6c513(-0xf,0x79,0x51,0x8e)+'tId'];}}function _0xc6c513(_0x5c2eae,_0x23244a,_0x1361bd,_0x4db305){return _0x1310(_0x1361bd- -0xd0,_0x4db305);}_0x50b0d2[_0x566de9(0x6d,0xa4,0x50,0x9a)](updateBananaImageUI,'user',_0x13acfe),_0x50b0d2[_0xc6c513(-0x53,-0xf,0xc,0x4b)](updateBananaImageUI,_0x50b0d2[_0x566de9(0x8e,0x83,0xd8,0xf5)],_0x3fa4a3),_0x50b0d2[_0x566de9(0x63,0x74,0x65,0x7e)](saveSettingsDebounced);}function updateBananaCharacterPreset(){function _0x360070(_0x328520,_0x139353,_0x5bcbdf,_0x1dc09e){return _0x1310(_0x328520- -0x1f8,_0x1dc09e);}const _0xe13295={'yxhxH':function(_0x45e668,_0x22167a){return _0x45e668(_0x22167a);},'cJaRI':function(_0x369310,_0x2342ac){return _0x369310!==_0x2342ac;},'vTuBL':_0x360070(-0x87,-0xd7,-0xd9,-0xc5),'TCgGU':'mUSyy','gtRLF':function(_0x3f67af,_0x4d74e7){return _0x3f67af(_0x4d74e7);}};function _0xceab47(_0x31becc,_0x53cf08,_0x1f9f30,_0x5619b3){return _0x1310(_0x1f9f30-0x13b,_0x53cf08);}const _0x3b243c=extension_settings[extensionName],_0x193236=_0x3b243c['bananaChar'+_0xceab47(0x25e,0x271,0x25c,0x245)+_0xceab47(0x1cb,0x1d2,0x208,0x1a7)];if(!_0x193236||!_0x3b243c['bananaChar'+'acterPrese'+'ts'][_0x193236]){if(_0xe13295[_0x360070(-0xdd,-0xf3,-0xf3,-0xa6)](_0xe13295[_0xceab47(0x242,0x20f,0x247,0x282)],_0xe13295[_0x360070(-0xa9,-0xe3,-0xaa,-0xb0)])){alert(_0x360070(-0x112,-0x113,-0x15b,-0xf8)+'na\x20角色预设可保存'+_0x360070(-0xbf,-0xbd,-0xeb,-0xb9)+_0xceab47(0x1d2,0x24f,0x200,0x20f));return;}else{const _0x180694=_0x58c17a?function(){if(_0x1cab78){const _0x30bc2d=_0x14407e['apply'](_0x8b4bca,arguments);return _0x57277d=null,_0x30bc2d;}}:function(){};return _0xf0e8e2=![],_0x180694;}}_0xe13295[_0x360070(-0xea,-0x98,-0x115,-0x115)](stylishConfirm,_0x360070(-0x7b,-0xd4,-0x6d,-0x2b)+_0xceab47(0x2be,0x298,0x2ae,0x30b)+'\x22'+_0x193236+'\x22\x20吗？')[_0xceab47(0x229,0x1e2,0x1fb,0x1e5)](_0x2362bb=>{function _0xec7ea9(_0x4cf33c,_0xaf79df,_0x47ec0e,_0x854390){return _0xceab47(_0x4cf33c-0x18e,_0x854390,_0x47ec0e- -0x29a,_0x854390-0x131);}function _0x3b48a6(_0xb5a031,_0x45a43d,_0x30337e,_0x10fa97){return _0x360070(_0x30337e-0x41c,_0x45a43d-0x103,_0x30337e-0x91,_0xb5a031);}_0x2362bb&&(_0xe13295[_0x3b48a6(0x376,0x35e,0x351,0x33d)](saveCurrentBananaCharacterData,_0x193236),_0xe13295[_0xec7ea9(0x25,-0x48,-0x32,0x1f)](alert,'Banana\x20角色预'+_0xec7ea9(-0x43,-0x14,-0x73,-0x16)+_0x193236+_0xec7ea9(0x6,-0x38,-0x18,-0x37)));});}function saveBananaCharacterPresetAs(){function _0x3b549c(_0x5d6721,_0x16ae16,_0x671e17,_0x1d72c7){return _0x1310(_0x16ae16-0x2c0,_0x1d72c7);}function _0x13ea5b(_0x2e012b,_0x1018e6,_0x873071,_0x438247){return _0x1310(_0x2e012b- -0x17c,_0x438247);}const _0x2573ec={'cKHTk':function(_0x14a8f0,_0x23d4ed){return _0x14a8f0(_0x23d4ed);},'jPKTi':function(_0x443d5b){return _0x443d5b();},'HylSf':function(_0x5e4a82,_0x3954d3){return _0x5e4a82(_0x3954d3);}};_0x2573ec['HylSf'](stylInput,'请输入新\x20Banan'+_0x3b549c(0x3e0,0x3fb,0x45b,0x3a9))[_0x3b549c(0x385,0x380,0x36c,0x354)](_0x159ddd=>{function _0x25d3ff(_0x22c0a2,_0x112114,_0x5043e6,_0x4a30d2){return _0x13ea5b(_0x4a30d2-0x8f,_0x112114-0x8c,_0x5043e6-0x141,_0x22c0a2);}function _0x117861(_0x46821f,_0xb86fbc,_0x136975,_0x4aa770){return _0x13ea5b(_0xb86fbc-0xe,_0xb86fbc-0x112,_0x136975-0x1ea,_0x4aa770);}if(_0x159ddd&&_0x159ddd[_0x25d3ff(0x1d,-0x4a,-0x37,-0x29)]()!==''){const _0x34770b=extension_settings[extensionName];_0x2573ec[_0x117861(-0xc8,-0x6a,-0xca,-0xa1)](saveCurrentBananaCharacterData,_0x159ddd),_0x34770b[_0x117861(-0xe1,-0x9f,-0xad,-0x8f)+'acterPrese'+_0x117861(-0xca,-0xa1,-0xe7,-0xd9)]=_0x159ddd,_0x2573ec[_0x25d3ff(0xb4,0xb6,0xb4,0x5c)](loadBananaCharacterPresetList),_0x2573ec[_0x25d3ff(0x63,0x2d,0x2a,0x17)](alert,_0x117861(0x3,-0x4e,-0x93,-0x6)+_0x117861(-0x4d,-0x82,-0xa2,-0x9d)+_0x159ddd+_0x117861(-0x82,-0x8b,-0x73,-0xd8));}});}async function saveCurrentBananaCharacterData(_0x12c280){const _0x5e2832={'mtDJx':_0x597fa8(0x46e,0x457,0x48c,0x453)+_0x597fa8(0x474,0x4ac,0x4bc,0x4e1)+'ge','zwFyf':_0x597fa8(0x4b0,0x4d0,0x490,0x46d),'zZbLa':function(_0x6031c4,_0x497d11){return _0x6031c4===_0x497d11;},'iKhBr':_0x597fa8(0x4e3,0x4be,0x4ca,0x4fd),'CiaqH':function(_0x53f12d,_0x464d56){return _0x53f12d(_0x464d56);},'XHcgo':function(_0x177859,_0x58c26e){return _0x177859(_0x58c26e);},'jZQyd':_0x597fa8(0x4ec,0x566,0x527,0x570)+_0x597fa8(0x4e2,0x527,0x503,0x505)+_0x5520a4(0x43c,0x47b,0x48c,0x475),'UaULl':_0x5520a4(0x4f6,0x458,0x4b5,0x4af),'gLAFM':'[Character'+']\x20Banana\x20模'+_0x597fa8(0x52e,0x509,0x50f,0x53e),'Iezom':_0x597fa8(0x4e3,0x4a3,0x48c,0x43a)+_0x5520a4(0x466,0x47c,0x410,0x452),'mUIFM':_0x5520a4(0x4a6,0x4a8,0x42d,0x46e)+_0x597fa8(0x43b,0x44b,0x47a,0x492)+'xt','YZSvY':function(_0xcc5acb){return _0xcc5acb();}},_0x25984c=extension_settings[extensionName],_0x420505=_0x25984c[_0x597fa8(0x42d,0x47e,0x480,0x488)+'acterPrese'+'ts'][_0x12c280];function _0x5520a4(_0x2ee715,_0x88815f,_0x26103e,_0x3e5020){return _0x1310(_0x3e5020-0x393,_0x2ee715);}function _0x597fa8(_0x23b23a,_0x37438b,_0x52372c,_0x55f015){return _0x1310(_0x52372c-0x3b1,_0x23b23a);}const _0x184743=document['getElement'+_0x597fa8(0x491,0x4ea,0x4f3,0x4d9)](_0x5e2832[_0x597fa8(0x4e1,0x52a,0x50e,0x54d)])[_0x597fa8(0x4da,0x53c,0x52f,0x522)],_0x226a1d=document[_0x5520a4(0x533,0x4a7,0x507,0x4de)+_0x597fa8(0x537,0x4f1,0x4f3,0x4d5)](_0x597fa8(0x491,0x47b,0x48c,0x43d)+'r_model_im'+_0x597fa8(0x462,0x4e0,0x48f,0x4a1))[_0x597fa8(0x539,0x544,0x52f,0x50f)],_0x4201e0=_0x420505?.['conversati'+'on']?.[_0x597fa8(0x49c,0x473,0x481,0x4c8)]?.[_0x5520a4(0x460,0x4a1,0x489,0x47b)]||'',_0x510b1d=_0x420505?.[_0x597fa8(0x523,0x4b2,0x513,0x532)+'on']?.[_0x5520a4(0x558,0x4e4,0x4e6,0x50a)]?.[_0x5520a4(0x4cf,0x4a6,0x4b6,0x47b)]||'';let _0x22b253='',_0x409def='';if(_0x184743[_0x597fa8(0x49a,0x475,0x4ac,0x458)](_0x597fa8(0x474,0x52c,0x4cd,0x51d))){if(_0x4201e0&&_0x4201e0[_0x597fa8(0x50d,0x485,0x4ac,0x4e4)](_0x5e2832[_0x597fa8(0x4b8,0x464,0x4a6,0x4f3)])){if(_0x5e2832[_0x597fa8(0x4f0,0x43e,0x49b,0x43d)](_0x5e2832[_0x5520a4(0x437,0x489,0x4c2,0x48a)],_0x597fa8(0x498,0x494,0x472,0x4b8))){if(_0x29425c){const _0x200cbf=_0xf56a60[_0x5520a4(0x486,0x4e1,0x48c,0x4d8)](_0x55dbae,arguments);return _0x23840c=null,_0x200cbf;}}else await _0x5e2832[_0x5520a4(0x441,0x4b3,0x4af,0x455)](deleteConfigImage,_0x4201e0)[_0x597fa8(0x4ce,0x4e7,0x49a,0x48c)](_0xd83899=>console[_0x5520a4(0x4ce,0x4b8,0x4fa,0x4a2)](_0x597fa8(0x556,0x56f,0x527,0x531)+']\x20删除旧用户图片失'+'败:',_0xd83899));}_0x22b253=await _0x5e2832['XHcgo'](saveConfigImage,_0x184743),console[_0x597fa8(0x533,0x534,0x4f9,0x4d6)](_0x5e2832[_0x5520a4(0x528,0x48f,0x519,0x4eb)],_0x22b253);}_0x226a1d['startsWith'](_0x5e2832[_0x597fa8(0x4aa,0x4ab,0x507,0x53e)])&&(_0x510b1d&&_0x510b1d[_0x597fa8(0x506,0x475,0x4ac,0x4ae)]('cfgimg_')&&await _0x5e2832[_0x5520a4(0x48f,0x41a,0x45c,0x455)](deleteConfigImage,_0x510b1d)[_0x597fa8(0x44c,0x4a0,0x49a,0x4b9)](_0x567952=>console[_0x597fa8(0x4ab,0x46b,0x4c0,0x4ed)]('[Character'+']\x20删除旧模型图片失'+'败:',_0x567952)),_0x409def=await _0x5e2832[_0x597fa8(0x4c5,0x50b,0x4e0,0x533)](saveConfigImage,_0x226a1d),console[_0x5520a4(0x511,0x4d8,0x4b5,0x4db)](_0x5e2832[_0x5520a4(0x499,0x4ae,0x512,0x4ea)],_0x409def));const _0x69bea3={'triggers':document[_0x597fa8(0x4bd,0x4eb,0x4fc,0x4a0)+_0x5520a4(0x48e,0x531,0x4bb,0x4d5)](_0x5e2832[_0x597fa8(0x418,0x466,0x46d,0x48d)])['value'],'conversation':{'user':{'text':document[_0x5520a4(0x4a2,0x51a,0x532,0x4de)+_0x597fa8(0x4e8,0x49e,0x4f3,0x4da)](_0x597fa8(0x4d1,0x4cc,0x48c,0x43d)+_0x597fa8(0x560,0x525,0x52c,0x577)+'t')['value'],'imageId':_0x22b253},'model':{'text':document[_0x597fa8(0x527,0x528,0x4fc,0x4e6)+_0x5520a4(0x499,0x4ad,0x487,0x4d5)](_0x5e2832[_0x5520a4(0x537,0x4fc,0x4e4,0x4fc)])['value'],'imageId':_0x409def}}};_0x25984c['bananaChar'+_0x597fa8(0x498,0x4d5,0x4d2,0x51c)+'ts'][_0x12c280]=_0x69bea3,_0x5e2832['YZSvY'](saveSettingsDebounced);}async function deleteBananaCharacterPreset(){const _0x515c65={'lszCU':_0x5bba5e(0x24b,0x219,0x1f3,0x265),'musJf':_0x5bba5e(0x22c,0x237,0x25c,0x240),'ZFHWR':_0x364975(0x31,-0x4,0x4c,0x36)+_0x5bba5e(0x1f2,0x20d,0x25d,0x22e)+'d','ivfVq':function(_0x400583,_0x2eded0){return _0x400583(_0x2eded0);},'mHzkE':'不能删除最后一个预设'+'。','QNrHb':_0x5bba5e(0x184,0x1d5,0x191,0x18e),'pfYKk':function(_0x44cdf5,_0x52e470){return _0x44cdf5(_0x52e470);},'YpRuc':function(_0x4521fc,_0x267ead){return _0x4521fc!==_0x267ead;},'qJtUY':_0x5bba5e(0x20c,0x1d7,0x1fb,0x1dc),'lHBli':_0x364975(0xe,0x52,0x30,0x6b),'RSFlO':function(_0x1b1821,_0x24c06c){return _0x1b1821(_0x24c06c);},'uTAqT':function(_0x330f92){return _0x330f92();}};function _0x364975(_0x5371aa,_0x2bb0a0,_0x3a044f,_0x59a3ad){return _0x1310(_0x2bb0a0- -0xdf,_0x5371aa);}const _0x25cefd=extension_settings[extensionName],_0x1f72c6=document['getElement'+'ById'](_0x515c65[_0x364975(0x66,0x39,0x1e,0xf)])?.[_0x364975(0x2f,0x20,-0x7,-0x3e)];function _0x5bba5e(_0x2f6dc2,_0xc7b038,_0x5244ff,_0x2cb88b){return _0x1310(_0xc7b038-0xf6,_0x5244ff);}if(Object[_0x5bba5e(0x1b5,0x1e1,0x23c,0x1b0)](_0x25cefd[_0x5bba5e(0x1be,0x1c5,0x1ce,0x1c8)+_0x5bba5e(0x1c4,0x217,0x23f,0x1b6)+'ts'])[_0x5bba5e(0x21f,0x23c,0x27e,0x1eb)]<=-0x20d3+-0x1*-0x2549+-0x475){_0x515c65[_0x364975(0x95,0x5b,0x92,0x48)](alert,_0x515c65['mHzkE']);return;}const _0x5b6ec0=await stylishConfirm('是否确定删除该\x20Ba'+_0x5bba5e(0x23c,0x269,0x2c2,0x24b)+'\x22'+_0x1f72c6+'\x22');if(_0x5b6ec0){const _0x10f410=_0x25cefd[_0x5bba5e(0x1e5,0x1c5,0x1e8,0x216)+_0x364975(0x8a,0x42,0x42,0x69)+'ts'][_0x1f72c6];_0x10f410?.[_0x5bba5e(0x2b5,0x258,0x278,0x2a9)+'on']?.[_0x5bba5e(0x191,0x1c6,0x186,0x172)]?.[_0x364975(0x65,0x9,-0x3f,-0x21)]&&_0x10f410[_0x5bba5e(0x2b2,0x258,0x297,0x2ad)+'on']['user'][_0x364975(0x59,0x9,0x4d,-0x1b)][_0x364975(-0x16,0x1c,0x21,-0xd)](_0x515c65[_0x5bba5e(0x1bb,0x1c4,0x176,0x214)])&&await _0x515c65[_0x364975(0x2e,0x22,0x4c,0x2c)](deleteConfigImage,_0x10f410[_0x5bba5e(0x26a,0x258,0x272,0x246)+'on'][_0x5bba5e(0x223,0x1c6,0x182,0x210)][_0x364975(0x20,0x9,0x14,-0x2f)])[_0x364975(0x33,0xa,-0x1d,0x28)](_0x1ca5e8=>console[_0x364975(0x62,0x30,-0x26,-0xb)](_0x5bba5e(0x219,0x26c,0x216,0x27f)+_0x364975(0xb1,0x9d,0xd8,0x73)+':',_0x1ca5e8));if(_0x10f410?.[_0x5bba5e(0x254,0x258,0x260,0x29b)+'on']?.['model']?.[_0x5bba5e(0x1eb,0x1de,0x1a8,0x17e)]&&_0x10f410[_0x364975(0xbb,0x83,0x27,0xe4)+'on'][_0x364975(0x6c,0x98,0xd5,0xf0)][_0x364975(-0x27,0x9,0x4e,-0x40)][_0x364975(-0x31,0x1c,-0x2d,-0x2e)](_0x364975(-0x24,0x0,-0x22,-0x23))){if(_0x515c65[_0x364975(0x29,-0x19,0xa,-0x3f)](_0x515c65[_0x364975(-0x27,0x1f,0x8,-0x9)],_0x515c65['lHBli']))await _0x515c65['RSFlO'](deleteConfigImage,_0x10f410['conversati'+'on'][_0x5bba5e(0x285,0x26d,0x2c4,0x257)]['imageId'])['catch'](_0x2e68d2=>console[_0x5bba5e(0x215,0x205,0x255,0x215)](_0x364975(0xbb,0x97,0x35,0xc6)+']\x20删除模型图片失败'+':',_0x2e68d2));else{const _0x456e4e=new _0x566d5b();_0x456e4e[_0x5bba5e(0x258,0x215,0x209,0x204)]=_0x5e5579=>{_0x1a204e[_0xe55000(0x10a,0x122,0xdf,0x102)]=_0x5e5579[_0x44dac2(-0xb0,-0xe2,-0xc2,-0xf4)][_0x44dac2(-0x74,-0xc8,-0xc1,-0xa4)];function _0x44dac2(_0x270103,_0x1e2a4d,_0x2febf1,_0xf757c0){return _0x5bba5e(_0x270103-0x168,_0x2febf1- -0x2ef,_0x270103,_0xf757c0-0x7f);}_0x1be9c3[_0x44dac2(-0xa2,-0xef,-0xa4,-0xb4)]['display']=_0x515c65[_0x44dac2(-0x7a,-0x81,-0x8d,-0x9e)];function _0xe55000(_0x3a195e,_0x25982f,_0x245eed,_0x4f3e1e){return _0x364975(_0x4f3e1e,_0x25982f-0x83,_0x245eed-0x1cb,_0x4f3e1e-0x91);}_0xdabda[_0xe55000(0x136,0xf9,0x10e,0xd1)][_0x44dac2(-0xf5,-0xe6,-0xf1,-0x128)]=_0x515c65['musJf'],_0xd4820[_0x44dac2(-0x7d,-0xe3,-0xa4,-0x89)][_0xe55000(0x7f,0xac,0xa3,0x62)]='block';},_0x456e4e[_0x364975(0x25,-0xb,-0x17,-0x59)+_0x5bba5e(0x21e,0x1d0,0x16e,0x17a)](_0x577e1f['files'][-0x54*0x6b+0x511*0x5+-0x9c7*-0x1]);}}delete _0x25cefd[_0x364975(-0x35,-0x10,-0x55,0x13)+_0x364975(0x8a,0x42,0x92,0x2b)+'ts'][_0x1f72c6],_0x25cefd['bananaChar'+_0x5bba5e(0x20f,0x217,0x1de,0x214)+'tId']=Object[_0x5bba5e(0x1f8,0x1e1,0x1a5,0x19d)](_0x25cefd['bananaChar'+'acterPrese'+'ts'])[-0xf38+-0x2209+0x1*0x3141],loadBananaCharacterPresetList(),await loadBananaCharacterPreset(),_0x515c65[_0x364975(0xb1,0x93,0xa2,0x58)](saveSettingsDebounced);}}const setupBananaImageUpload=_0x4820e5=>{const _0x431942={};_0x431942[_0x70dd3b(0x1a0,0x1ab,0x158,0x1c8)]=function(_0x19ed1c,_0x3607eb){return _0x19ed1c!==_0x3607eb;},_0x431942[_0x210ea8(0x36f,0x385,0x31b,0x33f)]=_0x70dd3b(0x1a2,0x1c6,0x1d2,0x1de),_0x431942[_0x70dd3b(0x166,0x15f,0x170,0x1b3)]=_0x210ea8(0x368,0x2cc,0x32b,0x326),_0x431942[_0x70dd3b(0x19e,0x16f,0x1b7,0x1fc)]=function(_0x20a131,_0x24593f){return _0x20a131===_0x24593f;},_0x431942[_0x70dd3b(0x128,0xe0,0xe8,0x169)]='4|0|2|1|3',_0x431942[_0x210ea8(0x394,0x356,0x38e,0x366)]=_0x210ea8(0x30e,0x33d,0x3b1,0x353)+_0x210ea8(0x38a,0x3a5,0x338,0x35f)+_0x70dd3b(0x1bc,0x18c,0x1ad,0x1c0),_0x431942[_0x210ea8(0x38b,0x340,0x37e,0x32e)]='click';function _0x70dd3b(_0x15c2c0,_0x3ace02,_0x4bcffb,_0x3db971){return _0x1310(_0x15c2c0-0x61,_0x3db971);}_0x431942['myTNs']=_0x70dd3b(0x159,0x1a4,0x11f,0x192);const _0x1791e1=_0x431942;function _0x210ea8(_0x246c39,_0x420d2d,_0x589f81,_0x5b80f0){return _0x1310(_0x5b80f0-0x203,_0x246c39);}const _0x2a143d=document[_0x210ea8(0x2f0,0x31a,0x386,0x34e)+_0x70dd3b(0x1a3,0x18f,0x1bf,0x18e)]('banana_cha'+'r_'+_0x4820e5+(_0x210ea8(0x32b,0x296,0x2e5,0x2f7)+_0x210ea8(0x37b,0x384,0x322,0x331))),_0x5c7881=document[_0x210ea8(0x376,0x3a9,0x3aa,0x34e)+_0x70dd3b(0x1a3,0x1d0,0x1a3,0x161)](_0x210ea8(0x2c6,0x31f,0x30e,0x2de)+'r_'+_0x4820e5+'_image'),_0x4f3cf2=_0x2a143d[_0x210ea8(0x393,0x33d,0x345,0x34d)+_0x210ea8(0x2b3,0x350,0x325,0x2f6)](_0x1791e1['zxUVl']),_0x143d2a=document[_0x210ea8(0x34d,0x370,0x348,0x34e)+'ById'](_0x70dd3b(0x13c,0x184,0x190,0x132)+'r_'+_0x4820e5+('_image_rem'+'ove')),_0x17c0bd=document['getElement'+_0x210ea8(0x383,0x301,0x344,0x345)](_0x70dd3b(0x13c,0x19c,0x127,0x100)+'r_'+_0x4820e5+('_image_inp'+'ut'));if(!_0x2a143d||!_0x5c7881||!_0x4f3cf2||!_0x143d2a||!_0x17c0bd)return;_0x2a143d[_0x70dd3b(0x177,0x1c1,0x1b7,0x11c)+'stener'](_0x1791e1['deenY'],_0x36f7c5=>{function _0x5154b1(_0x3b7883,_0x361dfc,_0x50b5b3,_0x340ebc){return _0x210ea8(_0x361dfc,_0x361dfc-0xcd,_0x50b5b3-0x70,_0x50b5b3- -0x17a);}function _0x30e4ac(_0x14e373,_0x4da3a2,_0x3b69c0,_0x3074fa){return _0x210ea8(_0x3074fa,_0x4da3a2-0xd2,_0x3b69c0-0x20,_0x3b69c0-0x19a);}_0x1791e1[_0x5154b1(0x213,0x1ac,0x1c8,0x1b4)](_0x36f7c5['target'],_0x143d2a)&&!_0x143d2a[_0x30e4ac(0x4fb,0x4b6,0x511,0x520)](_0x36f7c5[_0x5154b1(0x1bb,0x1dc,0x1c0,0x181)])&&_0x17c0bd['click']();}),_0x17c0bd['addEventLi'+_0x70dd3b(0x185,0x162,0x18f,0x1b3)](_0x1791e1[_0x210ea8(0x2fb,0x2a1,0x2b6,0x2d8)],()=>{const _0x16d6ea={};function _0x2efe1e(_0x41fafe,_0x26b81d,_0x53efc9,_0x395310){return _0x70dd3b(_0x53efc9-0x2ba,_0x26b81d-0x1b9,_0x53efc9-0x170,_0x26b81d);}_0x16d6ea[_0x2efe1e(0x43c,0x39a,0x3f2,0x450)]=_0x1791e1[_0x2efe1e(0x3e4,0x461,0x420,0x46d)];const _0x36f681=_0x16d6ea;function _0x27a536(_0x53a1f4,_0x494b9a,_0x5877ff,_0x2642fe){return _0x210ea8(_0x2642fe,_0x494b9a-0x3b,_0x5877ff-0x15b,_0x53a1f4-0x13a);}if(_0x17c0bd['files']&&_0x17c0bd[_0x2efe1e(0x4a3,0x49c,0x48a,0x4da)][0x1*0xe19+-0x1*0x1c45+0xe2c]){if(_0x1791e1[_0x27a536(0x47a,0x461,0x453,0x471)]('aQQyc',_0x27a536(0x489,0x4d2,0x485,0x45c))){const _0x4080b9=new FileReader();_0x4080b9[_0x27a536(0x45c,0x484,0x412,0x46e)]=_0x3ae292=>{function _0x6b613(_0x278bc7,_0x3574ea,_0x515c31,_0x3a72ce){return _0x2efe1e(_0x278bc7-0x1a7,_0x278bc7,_0x3574ea- -0x639,_0x3a72ce-0x2);}_0x5c7881[_0x5ab184(0x453,0x465,0x401,0x429)]=_0x3ae292['target']['result'];function _0x5ab184(_0x58f51b,_0x34ba94,_0x40a4c7,_0x8a21f1){return _0x27a536(_0x8a21f1- -0x92,_0x34ba94-0x103,_0x40a4c7-0xa7,_0x40a4c7);}_0x5c7881[_0x6b613(-0x177,-0x1c9,-0x223,-0x19b)][_0x6b613(-0x216,-0x216,-0x23e,-0x25e)]=_0x36f681[_0x5ab184(0x3c7,0x3ae,0x364,0x382)],_0x4f3cf2[_0x6b613(-0x192,-0x1c9,-0x1e2,-0x1e5)][_0x5ab184(0x3ac,0x3d0,0x406,0x3b3)]='none',_0x143d2a[_0x5ab184(0x44b,0x455,0x3f9,0x400)]['display']=_0x5ab184(0x3cf,0x3d2,0x41b,0x3ce);},_0x4080b9[_0x27a536(0x411,0x3c6,0x45d,0x3da)+_0x27a536(0x417,0x41b,0x454,0x444)](_0x17c0bd[_0x27a536(0x4ac,0x4ee,0x4a5,0x44f)][-0x1da7+-0x2005+0x1*0x3dac]);}else _0x201721[_0x2efe1e(0x473,0x444,0x499,0x4ea)]=_0x5001f0,_0x508e47['style']['display']=_0x27a536(0x460,0x475,0x414,0x494),_0x53e405['style']['display']=_0x1791e1[_0x2efe1e(0x46d,0x45d,0x457,0x44d)],_0x10af02['style'][_0x2efe1e(0x3de,0x480,0x423,0x456)]=_0x1791e1[_0x2efe1e(0x470,0x3f5,0x420,0x457)];}}),_0x143d2a[_0x210ea8(0x305,0x33a,0x337,0x319)+_0x210ea8(0x35a,0x30f,0x2ca,0x327)](_0x1791e1[_0x70dd3b(0x18c,0x1af,0x1e8,0x14d)],()=>{const _0x1d5bff=_0x1791e1[_0xa1d4a2(-0x193,-0x18d,-0x18e,-0x19e)]['split']('|');function _0xa1d4a2(_0x52eb2d,_0x498483,_0x14a81e,_0x5a965a){return _0x70dd3b(_0x14a81e- -0x2b6,_0x498483-0x106,_0x14a81e-0x19b,_0x498483);}function _0x54cfe1(_0x10d037,_0x622e56,_0x4de745,_0x778f97){return _0x70dd3b(_0x10d037- -0x31,_0x622e56-0x92,_0x4de745-0x22,_0x4de745);}let _0x597912=-0x9f1+0x1694+-0xca3;while(!![]){switch(_0x1d5bff[_0x597912++]){case'0':_0x5c7881[_0x54cfe1(0x185,0x195,0x1bc,0x189)]['display']=_0x1791e1[_0x54cfe1(0x16c,0x156,0x1bc,0x150)];continue;case'1':_0x143d2a[_0x54cfe1(0x185,0x150,0x16b,0x1d7)]['display']=_0xa1d4a2(-0x100,-0x13c,-0x114,-0xc3);continue;case'2':_0x4f3cf2[_0x54cfe1(0x185,0x1ce,0x191,0x18a)]['display']=_0x1791e1[_0xa1d4a2(-0x159,-0x174,-0x150,-0x122)];continue;case'3':_0x17c0bd[_0x54cfe1(0x12f,0x13b,0x13a,0x15a)]='';continue;case'4':_0x5c7881[_0x54cfe1(0x1ae,0x1ae,0x1c0,0x20a)]='';continue;}break;}});},updateBananaImageUI=(_0x21abb7,_0x2c984a)=>{const _0x557730={};_0x557730['pbuLn']=_0x2b2c03(0x3ee,0x434,0x3e5,0x397),_0x557730[_0x18208b(0x1c7,0x232,0x201,0x240)]=_0x18208b(0x287,0x1fa,0x24e,0x200),_0x557730[_0x18208b(0x2b6,0x2ce,0x2a4,0x280)]=function(_0x3f7d3d,_0xfd283c){return _0x3f7d3d||_0xfd283c;},_0x557730[_0x2b2c03(0x37e,0x3b4,0x34e,0x33f)]=_0x18208b(0x2ae,0x2af,0x27b,0x23b)+_0x18208b(0x262,0x25b,0x287,0x243)+'ceholder';function _0x2b2c03(_0x30e755,_0x42a2cc,_0x4424cf,_0x48c33e){return _0x1310(_0x30e755-0x2ad,_0x48c33e);}function _0x18208b(_0x542488,_0xbd4b96,_0xb14396,_0x4442b4){return _0x1310(_0xb14396-0x12b,_0x542488);}_0x557730['msyet']=function(_0x969fb3,_0x539a2d){return _0x969fb3!==_0x539a2d;},_0x557730['noxSE']='QpUQN';const _0x9aabe0=_0x557730,_0x2b4143=document[_0x18208b(0x2a9,0x264,0x276,0x271)+_0x18208b(0x231,0x299,0x26d,0x230)](_0x2b2c03(0x388,0x3a9,0x3aa,0x3e0)+'r_'+_0x21abb7+'_image'),_0x1c86b5=document['getElement'+_0x18208b(0x248,0x2a3,0x26d,0x2c0)](_0x2b2c03(0x388,0x350,0x374,0x39e)+'r_'+_0x21abb7+(_0x18208b(0x25f,0x23b,0x21f,0x25b)+_0x2b2c03(0x3db,0x3e2,0x3c7,0x3d4)));if(_0x9aabe0['YidDY'](!_0x2b4143,!_0x1c86b5))return;const _0x2caede=_0x1c86b5[_0x2b2c03(0x3f7,0x3bf,0x3dc,0x44f)+_0x18208b(0x205,0x1c8,0x21e,0x1d7)](_0x9aabe0[_0x18208b(0x1cd,0x228,0x1fc,0x1f7)]),_0x35e590=document[_0x18208b(0x21b,0x2bc,0x276,0x25e)+'ById'](_0x18208b(0x1fe,0x1f7,0x206,0x255)+'r_'+_0x21abb7+(_0x18208b(0x224,0x228,0x250,0x1fc)+_0x2b2c03(0x41a,0x3d7,0x41e,0x3c0)));if(_0x2c984a)_0x2b4143[_0x18208b(0x259,0x2fb,0x2a9,0x292)]=_0x2c984a,_0x2b4143[_0x18208b(0x22d,0x2a5,0x280,0x2e2)][_0x2b2c03(0x3b5,0x40a,0x3bb,0x40b)]=_0x18208b(0x2a5,0x24b,0x24e,0x215),_0x2caede['style'][_0x18208b(0x263,0x1fe,0x233,0x25f)]=_0x9aabe0[_0x2b2c03(0x3bf,0x3b9,0x40a,0x3c7)],_0x35e590[_0x2b2c03(0x402,0x42e,0x3ec,0x45b)]['display']=_0x9aabe0['zkjNC'];else{if(_0x9aabe0[_0x18208b(0x27f,0x2d6,0x291,0x284)]('GeIaF',_0x9aabe0['noxSE']))_0x2b4143[_0x2b2c03(0x42b,0x450,0x48a,0x45b)]='',_0x2b4143[_0x2b2c03(0x402,0x43e,0x40a,0x41a)][_0x18208b(0x230,0x1d7,0x233,0x26e)]=_0x9aabe0[_0x2b2c03(0x3bf,0x3d7,0x367,0x3ca)],_0x2caede[_0x18208b(0x220,0x298,0x280,0x238)][_0x18208b(0x1f2,0x1e3,0x233,0x1ef)]=_0x9aabe0[_0x2b2c03(0x383,0x3e3,0x336,0x325)],_0x35e590[_0x18208b(0x2cb,0x2d6,0x280,0x288)][_0x18208b(0x226,0x1ef,0x233,0x207)]=_0x9aabe0[_0x2b2c03(0x3bf,0x3a3,0x391,0x392)];else{const _0x4ba99e=_0x18208b(0x28c,0x294,0x23c,0x230)[_0x2b2c03(0x3ca,0x421,0x3b4,0x371)]('|');let _0x499385=-0x11dc+-0x2*-0x79f+-0x5*-0x86;while(!![]){switch(_0x4ba99e[_0x499385++]){case'0':_0x510499[_0x2b2c03(0x402,0x43b,0x40a,0x44a)]['display']=_0x9aabe0[_0x2b2c03(0x3bf,0x3ab,0x40a,0x3ed)];continue;case'1':_0x249067[_0x18208b(0x258,0x29e,0x2a9,0x289)]='';continue;case'2':_0x4ba6cd[_0x18208b(0x294,0x25b,0x280,0x240)][_0x18208b(0x228,0x228,0x233,0x1d5)]=_0x9aabe0[_0x18208b(0x1c8,0x22f,0x201,0x228)];continue;case'3':_0x1626e7['style'][_0x18208b(0x205,0x26f,0x233,0x23e)]=_0x9aabe0[_0x2b2c03(0x3bf,0x37b,0x412,0x417)];continue;case'4':_0x211c00[_0x2b2c03(0x3ac,0x365,0x3f9,0x3fd)]='';continue;}break;}}}};