(function(_0xe3783a,_0x40eca3){function _0x18b51a(_0x2afe9a,_0x1fcfeb,_0x2a5f38,_0x11f83d){return _0x38ae(_0x2a5f38- -0x183,_0x2afe9a);}const _0x258f56=_0xe3783a();function _0x52f1bf(_0x24cc66,_0x415d05,_0x12baf8,_0x5c336a){return _0x38ae(_0x415d05- -0x247,_0x24cc66);}while(!![]){try{const _0x14963d=parseInt(_0x52f1bf(-0x9a,-0x6b,-0x40,-0x27))/(0x139*-0x1f+-0x8*0x23b+0x37c0)+-parseInt(_0x52f1bf(-0x28,-0x57,-0x5f,-0x44))/(-0x1f1e+-0x1*0x107+0x2027*0x1)*(parseInt(_0x18b51a(0x53,0x66,0x7,0x2))/(-0x240c*-0x1+0x18b+-0x4a*0x82))+-parseInt(_0x18b51a(0x70,-0x1f,0x1a,0x25))/(-0x222b+0x3*0x299+0x1a64)+parseInt(_0x52f1bf(-0x68,-0x2d,-0x44,-0x42))/(-0x1025+-0x18b1+0x28db)+-parseInt(_0x52f1bf(-0x74,-0x17,-0x15,0x18))/(-0x1*0x1c49+0xc62*0x2+-0x1*-0x38b)*(parseInt(_0x52f1bf(-0x43,-0x9c,-0x6e,-0x99))/(-0x1588+0x19c*-0x7+-0xaf1*-0x3))+-parseInt(_0x52f1bf(-0x21,-0x78,-0xa0,-0xbd))/(0x19dc+0xbd6+-0x25aa)+parseInt(_0x18b51a(0x3,0x7a,0x61,0x2b))/(-0x1e*-0x119+-0x19f6+-0x6ef)*(parseInt(_0x18b51a(0x80,0x18,0x3d,0x7b))/(-0x2658+0x17d*-0x1+-0x3b*-0xad));if(_0x14963d===_0x40eca3)break;else _0x258f56['push'](_0x258f56['shift']());}catch(_0x2d5d3f){_0x258f56['push'](_0x258f56['shift']());}}}(_0xe035,-0x2726f+-0x4e831+0x156054));function _0xe035(){const _0x2b9eb3=['w0nOyxjHy3rLCG','zMLSzxm','Aw1Hz2vjza','Bw9KzwW','zgf0ytPPBwfNzq','EhnzB3C','B3b0Aw9U','Dgrmy24','mJe4mta3mejcu3HXCW','vNbltKO','sxv0shi','y3jLyxrLrwXLBq','xsdLIkdPMAtNLkJMIlFLM77NIyFLPlhOTku','B0v5AwG','yxbWBhK','C2XZs3y','zLnbrgq','yMXVy2S','Bff1DgC','tNvJt2i','D0XKDLa','CxvLCNLtzwXLyW','iIdLKjFVVj8','CeTtqwG','whbmCM4','se5dyMm','CMvZDwX0','DMfSDwu','xsbcyw5HBMeG55sO','56gU5A6A6kAb6kAg55Uw5B2t5yMniejH','mta1nZG3odzTsfvhAxy','BgvUz3rO','C3bSAxq','C2vHCMnO','44cc6k+35ywiiUwpPUwTMos4UIlKUidKUkO','tKTUrMe','y29UC3rYDwn0BW','z2v0rwXLBwvUDa','CgLJuhq','vfHjEva','rMrqt2e','ywDL','DgfPBMvY','Ahzcsfu','DvDVEue','zezwqLi','ufjmtg4','CL9WCMvZzxrFAq','Dgv4Da','lwLTywDLlxbSyq','vuPutMO','Dg9tDhjPBMC','uLzPBK8','ote3nJa3wuz5u0nk','svfxv1e','ysdMQkhLNOVLM77NIyC6','iIdLT7lKV53LRzJJGii','D2fYBG','BuvjrNy','DhjPz2DLCNm','u1zMrKS','y29UDgfPBNm','5z6l5zU+54Mh5BEY5l+D5A2yoG','y3fywKK','CL9TB2rLBf90zq','C3rLBMvY','s3P2Dge','r0fmEKq','C3rHCNrZv2L0Aa','x2LTywDLx2LUCa','re9Yuvq','DxnLCG','ntK1ntiYneDVwKvbvW','qNLjza','DhjPBq','CM5MD28','yNHqCgS','ywrK','zgLZCgXHEq','BMeG6kEs6iMY6Ake6k6+5y+V5l+D5A2y','tgvStxG','svPlD2e','ysdOP5lOIBlPOOtORR7NMOtLKi3NP7a','AgLxq3e','ysdNLkJMIlFLM77NIyC6','EgHrz2W','n2DbvMfACa','r0H0wgW','B3zL','Dhblz1i','whD0q0G','C0Dwtg8','iIdLT7lMM7tMLRdJGii','tKLMu0K','zxfkA0m','Aw1Hz2u','ugLUtvu','DgfYz2v0','C2rMAgi','y2zNAw1NxW','zgjZC0m','C2njwfa','r2X2A0G','B25SB2fK','ywn0zxjqCMvZzq','BeLnAM4','yxjFDxbKyxrL','mJeXnZqXmefOyxjwqG','vKjXt24','A2v5CW','C3r5Bgu','yMfUyw5Hx2nOyq','Dgv4DenVBNrLBG','y2f0y2G','C0PvBKW','yMfUyw5Hq2HHCG','rvPAC3q','vM9nwKq','v3bTCKC','qMfUyw5HioINKUIjSUMIHa','rwfoqLq','i2jHBMfUyv9JAa','ndG4nZm2CgvhqLPQ','DeLK','x2LTywDL','5RkH5PYj5Rs75yQO55QeiejHBMe','Evn2Buq','wvjhy24','ywrKrxzLBNrmAq','BLzbELe','Bg9N','zNDSuu0','C3jJ','A2fHCem','EvDTD1u','mtmWmJa0nxfItLjizq','qLnKvuy','zw50','BuXVyui','y2HvAM8','EKjAtg4','tevUEem','Aw5Uzxjive1m','mtCXALjSEg5M','ELzAvvm','C0vUqwq','yxjFzgvSzxrL','tejMCLK','Dg9Y','D1nrEgq','yNzbAu8','CL90CMLNz2vYCW','CvvqALm','lNn0lwnOyxr1oa','zLHRBhy','mtbKAfjnveq','rNjYuLu','v3byv3a','CL91C2vYx3rLEa','yxjFC2f2zv9HCW','DgHLBG','y2XPy2S','rvDHquS','BLDttMm','s3vVwMC','y2HHBMDL','uhn0A1y','xsdOV4hNP7SGqMfUyw4','AKT2wfe','zMLUza','y29UDMvYC2f0Aq','x2LTywDLx2nVBG','5lIn6io95yIG6zMK5PYa5zco5lIa5lIQ6Ake6k6+','wersCu8','kcGOlISPkYKRkq','BM9Uzq','5PAW6Ake6k6+44cc','A214EuS','6k6+ici','ruvrrfG','t0vuDM4','ruHMEgG','ChbVDva','t09vEfe','x2LTywDLx3jLBq','Cu5Vwfy','xsdLIkdPMAtML6FNLkJMIlFLM77NIyFLPle','zNniAuu','BM1qBu8'];_0xe035=function(){return _0x2b9eb3;};return _0xe035();}const _0x44cb98=(function(){const _0x353a55={};_0x353a55[_0x2ee879(0x17c,0x1cd,0x1a1,0x1a4)]=function(_0x4bcd68,_0x4ce719){return _0x4bcd68!==_0x4ce719;},_0x353a55[_0x4323eb(0x6d,0x12,0x8a,0xb5)]=function(_0x121304,_0x187622){return _0x121304===_0x187622;},_0x353a55[_0x4323eb(0x73,0x72,0x98,0xa8)]=_0x2ee879(0x21c,0x1ff,0x237,0x1ff),_0x353a55[_0x4323eb(0xd9,0x11f,0x80,0xa3)]=function(_0x8d66a8,_0x4b07e7){return _0x8d66a8===_0x4b07e7;},_0x353a55[_0x4323eb(0xdc,0x132,0xe8,0xda)]=_0x2ee879(0x1d9,0x22f,0x260,0x217);function _0x4323eb(_0x158252,_0x1a892c,_0x2969a4,_0x74e09c){return _0x38ae(_0x158252- -0x148,_0x2969a4);}_0x353a55[_0x2ee879(0x257,0x20d,0x1e9,0x1de)]=_0x4323eb(0xd3,0xd4,0x9f,0xa6);const _0x2720a1=_0x353a55;let _0x51e3a4=!![];function _0x2ee879(_0x95e1be,_0x270a90,_0x5073e4,_0x472e37){return _0x38ae(_0x270a90-0x27,_0x95e1be);}return function(_0x5ad548,_0x654e1b){function _0x37c8d7(_0x1f924d,_0x15713e,_0x57d56e,_0xecfdaa){return _0x2ee879(_0x15713e,_0x1f924d- -0x2f8,_0x57d56e-0x11b,_0xecfdaa-0x0);}function _0x383442(_0xab344f,_0x5f46a8,_0x386de5,_0x43b975){return _0x2ee879(_0x386de5,_0xab344f- -0x371,_0x386de5-0x27,_0x43b975-0x188);}const _0x52aad7={'lIMjn':function(_0x47080e,_0x52d96b){return _0x2720a1['IZKwa'](_0x47080e,_0x52d96b);},'NKnFa':function(_0x4644c0,_0x446184){function _0xf7a5c6(_0x4e0575,_0x398760,_0x2e6719,_0x3fafc7){return _0x38ae(_0x398760-0x1d9,_0x2e6719);}return _0x2720a1[_0xf7a5c6(0x33c,0x38e,0x3cc,0x383)](_0x4644c0,_0x446184);},'tpKgR':_0x2720a1[_0x383442(-0x18f,-0x1dc,-0x185,-0x16d)]};if(_0x2720a1['slsKv'](_0x2720a1[_0x37c8d7(-0xad,-0xa5,-0x6f,-0xb8)],_0x2720a1[_0x37c8d7(-0xeb,-0x134,-0xd4,-0x139)])){const _0x5dc66d=_0x9d1948[_0x37c8d7(-0xb1,-0x7a,-0x7e,-0x63)](_0x2c849e,arguments);return _0x5288ff=null,_0x5dc66d;}else{const _0x1f6591=_0x51e3a4?function(){function _0x3379ee(_0xfe5909,_0x5a5f95,_0x4ba29e,_0xdadb03){return _0x383442(_0x4ba29e-0x192,_0x5a5f95-0x153,_0x5a5f95,_0xdadb03-0x1f1);}function _0x623c14(_0x17bee7,_0x1ea501,_0x2af294,_0x4a39ed){return _0x383442(_0x4a39ed-0x1e4,_0x1ea501-0x45,_0x17bee7,_0x4a39ed-0x9b);}if(_0x654e1b){if(_0x52aad7[_0x623c14(0x119,0x98,0xf7,0xcf)](_0x52aad7[_0x623c14(-0x17,0x36,0x1d,0x48)],_0x52aad7[_0x623c14(0x75,-0xf,0x50,0x48)])){const _0x144023=_0x654e1b['apply'](_0x5ad548,arguments);return _0x654e1b=null,_0x144023;}else _0x52aad7[_0x3379ee(0x5a,-0x1b,0x6,0x8)](_0x2bc97b[_0x623c14(0x49,0x63,0xa1,0x50)],_0x33455a)&&!_0x2246bd[_0x3379ee(-0x5e,-0x71,-0x26,-0x79)](_0x59d84f[_0x623c14(0x70,0x80,0xa1,0x50)])&&_0x3caed5[_0x3379ee(0x36,0x80,0x3e,0x7f)]();}}:function(){};return _0x51e3a4=![],_0x1f6591;}};}()),_0x1b9efd=_0x44cb98(this,function(){const _0x6926bb={};function _0x1f1c4d(_0x5dc92e,_0x1b7100,_0x386966,_0x57eb55){return _0x38ae(_0x1b7100-0x3f,_0x386966);}_0x6926bb[_0x10234c(0x23b,0x277,0x236,0x24e)]=_0x1f1c4d(0x28b,0x242,0x20a,0x214)+'+$';function _0x10234c(_0x146df0,_0x427162,_0x32b619,_0x293333){return _0x38ae(_0x146df0-0xac,_0x293333);}const _0x4e72a9=_0x6926bb;return _0x1b9efd[_0x1f1c4d(0x2b2,0x284,0x2b9,0x2a2)]()[_0x10234c(0x2df,0x302,0x2b2,0x324)]('(((.+)+)+)'+'+$')[_0x1f1c4d(0x2e3,0x284,0x29e,0x2ce)]()[_0x10234c(0x2e2,0x2fb,0x310,0x2d2)+'r'](_0x1b9efd)[_0x1f1c4d(0x23c,0x272,0x240,0x22e)](_0x4e72a9['mEIFv']);});_0x1b9efd();import{extension_settings}from'../../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../../script.js';import{extensionName}from'../../config.js';import{stylInput,stylishConfirm}from'../../ui_common.js';import{saveConfigImage,getConfigImage,deleteConfigImage}from'../../configDatabase.js';export function setupBananaCharacterControls(_0xa08aa7){const _0xd2b5e={'sGVLo':function(_0x124505){return _0x124505();},'EHfxh':_0x498894(0x306,0x319,0x299,0x2dd)+'ar_preset_'+'id','AuBey':_0x498894(0x308,0x2b5,0x300,0x309),'LEnxC':_0x498894(0x2e7,0x2ae,0x2c7,0x2dd)+_0x498894(0x291,0x32c,0x307,0x2ce),'VNQGH':'click','FfDUp':_0x50a4bf(-0x106,-0x124,-0x104,-0x156)+_0x498894(0x2cb,0x2f6,0x311,0x303),'CZyLP':'#banana_ch'+_0x498894(0x2fb,0x302,0x2a7,0x2f6),'bvAiO':function(_0x4468c2,_0xf256e4){return _0x4468c2(_0xf256e4);},'FwUCv':_0x50a4bf(-0x1b1,-0x156,-0x1b3,-0x12c),'GALzD':_0x498894(0x332,0x367,0x337,0x324)};_0xd2b5e[_0x498894(0x302,0x2ec,0x2ca,0x2bf)](loadBananaCharacterPresetList),_0xa08aa7[_0x498894(0x322,0x2f3,0x32c,0x30d)](_0xd2b5e[_0x50a4bf(-0xf7,-0xe8,-0x141,-0x13d)])['on'](_0xd2b5e['AuBey'],loadBananaCharacterPreset),_0xa08aa7[_0x50a4bf(-0x140,-0xf4,-0xc3,-0x11c)](_0xd2b5e[_0x498894(0x302,0x31e,0x325,0x2f1)])['on'](_0xd2b5e['VNQGH'],updateBananaCharacterPreset);function _0x498894(_0x5491f6,_0x16bb20,_0x1f1834,_0x3ddbce){return _0x38ae(_0x3ddbce-0x10f,_0x5491f6);}_0xa08aa7[_0x498894(0x367,0x334,0x2d0,0x30d)](_0xd2b5e['FfDUp'])['on'](_0x50a4bf(-0x10a,-0xfc,-0x144,-0xa9),saveBananaCharacterPresetAs),_0xa08aa7[_0x50a4bf(-0xe1,-0xf4,-0xe2,-0xa6)](_0xd2b5e['CZyLP'])['on'](_0xd2b5e['VNQGH'],deleteBananaCharacterPreset);function _0x50a4bf(_0x3e2a64,_0x342926,_0x2464d8,_0x12a9e1){return _0x38ae(_0x342926- -0x2f2,_0x2464d8);}_0xd2b5e[_0x498894(0x339,0x332,0x2ac,0x2fa)](setupBananaImageUpload,_0xd2b5e['FwUCv']),_0xd2b5e[_0x50a4bf(-0x156,-0x107,-0xca,-0xee)](setupBananaImageUpload,_0xd2b5e[_0x50a4bf(-0x1a4,-0x15a,-0x16d,-0x105)]),_0xd2b5e[_0x50a4bf(-0xfe,-0x142,-0x153,-0xfe)](loadBananaCharacterPreset);}export function loadBananaCharacterPresetList(){const _0x52a817={};_0x52a817[_0x454788(-0x161,-0x157,-0x19d,-0x119)]=function(_0x36c01f,_0x28a509){return _0x36c01f===_0x28a509;},_0x52a817[_0x454788(-0x181,-0x17d,-0x1b3,-0x193)]='dTdPk',_0x52a817[_0x454788(-0x148,-0x172,-0x193,-0x170)]=_0x5e55c1(-0xc5,-0xad,-0x66,-0x84);const _0x443876=_0x52a817,_0x1c6e1c=extension_settings[extensionName];function _0x454788(_0x144dd1,_0x4f45bc,_0x49e10a,_0x210013){return _0x38ae(_0x144dd1- -0x38c,_0x4f45bc);}const _0x147df8=document['getElement'+'ById']('banana_cha'+_0x5e55c1(-0xde,-0x84,-0xbd,-0xa0)+'d');if(!_0x147df8)return;_0x147df8[_0x454788(-0x1a9,-0x156,-0x1e7,-0x1e3)]='';for(const _0x47c001 in _0x1c6e1c[_0x454788(-0x1c4,-0x1d5,-0x209,-0x1ac)+_0x454788(-0x1cf,-0x1dc,-0x1cd,-0x190)+'ts']){if(_0x443876['HNCbc'](_0x443876[_0x454788(-0x181,-0x137,-0x1ac,-0x195)],_0x5e55c1(-0x97,-0xb9,-0xa9,-0xcc)))_0x980c69(_0x53ffea),_0x2ceb8e(_0x5e55c1(-0xfb,-0xf9,-0xb1,-0xba)+_0x5e55c1(-0xa9,-0xbe,-0x11c,-0xe5)+_0xb92a2f+'\x22\x20已更新。');else{const _0x4fcec0=document[_0x5e55c1(-0x102,-0xa8,-0x75,-0xc2)+_0x454788(-0x1ae,-0x181,-0x1e3,-0x17f)](_0x443876[_0x5e55c1(-0xa2,-0x81,-0xcf,-0xbe)]);_0x4fcec0['value']=_0x47c001,_0x4fcec0[_0x454788(-0x1c7,-0x208,-0x1ea,-0x20d)+'t']=_0x47c001,_0x147df8[_0x5e55c1(-0xe6,-0x123,-0x13a,-0x16c)](_0x4fcec0);}}function _0x5e55c1(_0x4edaa7,_0x5e8181,_0x386a6,_0x5710e1){return _0x38ae(_0x5e8181- -0x2c5,_0x5710e1);}_0x147df8[_0x454788(-0x15f,-0x139,-0x11c,-0x155)]=_0x1c6e1c[_0x454788(-0x1c4,-0x209,-0x19d,-0x1dc)+'acterPrese'+_0x454788(-0x1bc,-0x180,-0x1dc,-0x1b1)];}export async function loadBananaCharacterPreset(){const _0x1ebfb3={'oEyih':_0x12bd0f(0x1da,0x215,0x228,0x17e),'xsYow':function(_0x49c97b,_0x409593){return _0x49c97b(_0x409593);},'rIunq':'[Character'+_0x12bd0f(0x1c0,0x185,0x1a7,0x202)+_0x12bd0f(0x16d,0x173,0x14e,0x186),'mLoaB':function(_0x29e69a,_0x2ffce6){return _0x29e69a(_0x2ffce6);},'WpXWp':function(_0x226b64){return _0x226b64();},'jKvXQ':_0x12bd0f(0x188,0x14e,0x12a,0x13c)+_0x12bd0f(0x1b0,0x1ab,0x1a8,0x188),'zBZLn':_0x2d10af(0xb2,0xfd,0xd1,0x93)+_0x12bd0f(0x159,0x165,0x153,0x131)+'xt','pKSAh':_0x12bd0f(0x17c,0x1c5,0x1af,0x145),'GHtXl':function(_0x4e7842,_0xe19a3a){return _0x4e7842(_0xe19a3a);},'zKEta':'user','cInYG':function(_0x1cbf6d,_0x5362d1,_0x35f4a0){return _0x1cbf6d(_0x5362d1,_0x35f4a0);},'DOrQT':_0x12bd0f(0x1d9,0x226,0x210,0x197),'uWoyA':function(_0x42179a){return _0x42179a();}},_0x5b6e57=extension_settings[extensionName],_0x5b440e=document[_0x12bd0f(0x1fb,0x234,0x1fd,0x220)+'ById'](_0x12bd0f(0x188,0x17a,0x1be,0x1a5)+'r_preset_i'+'d');if(!_0x5b440e)return;const _0x531d0a=_0x5b440e[_0x2d10af(0x15b,0x123,0x13a,0x10e)];_0x5b6e57['bananaChar'+_0x12bd0f(0x181,0x1de,0x1c3,0x191)+_0x2d10af(0xf6,0x13a,0xdd,0x122)]=_0x531d0a;const _0x6b7003=_0x5b6e57[_0x12bd0f(0x18c,0x149,0x149,0x168)+'acterPrese'+'ts'][_0x531d0a];if(!_0x6b7003)return;let _0x103d73=![];const _0xb3895={};_0xb3895['text']='';const _0x4630a9={};function _0x2d10af(_0x186a5d,_0x2cfa9b,_0x16330c,_0x541dcb){return _0x38ae(_0x16330c- -0xf3,_0x186a5d);}_0x4630a9[_0x12bd0f(0x206,0x21a,0x1f4,0x20c)]='';const _0x5d02c4={};_0x5d02c4[_0x12bd0f(0x160,0x196,0x10c,0x14e)]=_0xb3895,_0x5d02c4[_0x2d10af(0x137,0xc8,0x122,0x155)]=_0x4630a9;const _0x46e661=_0x6b7003['conversati'+'on']||_0x5d02c4;if(_0x46e661['user']?.[_0x12bd0f(0x178,0x1b4,0x154,0x180)]&&_0x46e661[_0x12bd0f(0x160,0x111,0x11c,0x188)][_0x12bd0f(0x178,0x174,0x195,0x13b)][_0x12bd0f(0x15d,0x10d,0x172,0x118)](_0x1ebfb3[_0x2d10af(0x16c,0xed,0x12c,0x16d)])){const _0x42ce77=await _0x1ebfb3[_0x2d10af(0xe9,0x17f,0x124,0x15b)](saveConfigImage,_0x46e661[_0x12bd0f(0x160,0x16a,0x188,0x126)][_0x12bd0f(0x178,0x147,0x13c,0x1ac)]);_0x46e661['user']['imageId']=_0x42ce77,delete _0x46e661[_0x2d10af(0xe2,0x65,0xa9,0x75)][_0x2d10af(0x11f,0xe8,0xc1,0x101)],_0x103d73=!![],console[_0x12bd0f(0x19b,0x178,0x1c5,0x153)](_0x1ebfb3['rIunq'],_0x42ce77);}if(_0x46e661[_0x2d10af(0xca,0x148,0x122,0x158)]?.['image']&&_0x46e661[_0x2d10af(0x10c,0xde,0x122,0x13b)][_0x2d10af(0xc6,0x9c,0xc1,0x79)][_0x12bd0f(0x15d,0x15e,0x168,0x142)](_0x1ebfb3[_0x12bd0f(0x1e3,0x1e9,0x237,0x188)])){const _0x564bbf=await _0x1ebfb3[_0x2d10af(0xad,0xdd,0xec,0x9d)](saveConfigImage,_0x46e661[_0x2d10af(0xda,0x15a,0x122,0x131)][_0x12bd0f(0x178,0x16c,0x17d,0x199)]);_0x46e661['model'][_0x12bd0f(0x1d8,0x224,0x221,0x200)]=_0x564bbf,delete _0x46e661[_0x2d10af(0xce,0x144,0x122,0x168)]['image'],_0x103d73=!![],console[_0x2d10af(0x9a,0x10e,0xe4,0xe0)](_0x12bd0f(0x1d6,0x1c4,0x22d,0x1ee)+_0x12bd0f(0x1c0,0x175,0x17c,0x1a5)+_0x12bd0f(0x150,0x17e,0x166,0x12c),_0x564bbf);}_0x103d73&&_0x1ebfb3[_0x12bd0f(0x1b6,0x1b1,0x1d2,0x18b)](saveSettingsDebounced);document['getElement'+_0x2d10af(0xd6,0xc3,0xab,0xeb)](_0x1ebfb3[_0x12bd0f(0x1c1,0x1a3,0x17e,0x189)])[_0x12bd0f(0x1f1,0x240,0x1d3,0x1a6)]=_0x6b7003[_0x2d10af(0x45,0xc0,0x9d,0xa9)]||'',document['getElement'+_0x2d10af(0xdb,0x5b,0xab,0x107)]('banana_cha'+'r_user_tex'+'t')[_0x12bd0f(0x1f1,0x1c7,0x217,0x24d)]=_0x46e661['user']?.[_0x2d10af(0x169,0x111,0x14f,0x136)]||'',document[_0x2d10af(0x16f,0x120,0x144,0x19a)+_0x12bd0f(0x162,0x1bf,0x168,0x154)](_0x1ebfb3[_0x2d10af(0x13b,0x127,0xee,0x110)])[_0x12bd0f(0x1f1,0x201,0x207,0x233)]=_0x46e661[_0x2d10af(0x176,0xd8,0x122,0x124)]?.[_0x2d10af(0x16b,0x162,0x14f,0x116)]||'';let _0x3db92e='',_0x3ff4a2='';function _0x12bd0f(_0x257691,_0x58e91c,_0x2ac2b1,_0x3e494f){return _0x38ae(_0x257691- -0x3c,_0x58e91c);}_0x46e661[_0x12bd0f(0x160,0x184,0x166,0x1b8)]?.[_0x2d10af(0x13e,0x148,0x121,0xf4)]&&_0x46e661['user'][_0x2d10af(0x179,0x109,0x121,0x149)][_0x2d10af(0xe6,0x57,0xa6,0xda)](_0x1ebfb3[_0x2d10af(0x100,0xf4,0x136,0x194)])&&(_0x3db92e=await getConfigImage(_0x46e661[_0x2d10af(0xd2,0xab,0xa9,0x4d)][_0x12bd0f(0x1d8,0x1ec,0x1b0,0x1ea)])||''),_0x46e661['model']?.[_0x12bd0f(0x1d8,0x187,0x21e,0x180)]&&_0x46e661[_0x2d10af(0x16d,0x10d,0x122,0x105)]['imageId'][_0x2d10af(0x8c,0x8a,0xa6,0xd3)](_0x12bd0f(0x17c,0x13e,0x1a5,0x121))&&(_0x3ff4a2=await _0x1ebfb3[_0x2d10af(0x10a,0xb5,0xb9,0x116)](getConfigImage,_0x46e661['model']['imageId'])||''),updateBananaImageUI(_0x1ebfb3['zKEta'],_0x3db92e),_0x1ebfb3['cInYG'](updateBananaImageUI,_0x1ebfb3[_0x12bd0f(0x15f,0x145,0x187,0x129)],_0x3ff4a2),_0x1ebfb3[_0x12bd0f(0x202,0x21b,0x25a,0x1dd)](saveSettingsDebounced);}function updateBananaCharacterPreset(){function _0x4209f1(_0x374ebf,_0x4d73ca,_0x12c55f,_0x5770e0){return _0x38ae(_0x374ebf- -0x2df,_0x12c55f);}const _0x1e3d23={'WpmrG':'0|4|2|3|1','XpLrn':'block','IutHr':_0x4f6fd8(0x51b,0x51a,0x543,0x52e),'VoMZD':function(_0x5434ec,_0x1acad5){return _0x5434ec===_0x1acad5;},'KuoZg':_0x4f6fd8(0x521,0x57d,0x561,0x566),'EZZst':'HJXkJ','FrrRU':function(_0x3bda40,_0x51888f){return _0x3bda40(_0x51888f);},'FdPOa':_0x4209f1(-0xd1,-0xbd,-0x74,-0x117),'NucOb':_0x4209f1(-0x10d,-0x108,-0xb9,-0xec)+_0x4f6fd8(0x4dc,0x4f7,0x4e3,0x506)+_0x4f6fd8(0x5cb,0x574,0x573,0x574)+_0x4209f1(-0xda,-0xa4,-0x127,-0xbf)};function _0x4f6fd8(_0x4fb70b,_0x121d7e,_0x35bd87,_0x2d5209){return _0x38ae(_0x35bd87-0x33f,_0x4fb70b);}const _0x40512a=extension_settings[extensionName],_0x5e3be1=_0x40512a['bananaChar'+'acterPrese'+_0x4209f1(-0x10f,-0xb7,-0xc0,-0x128)];if(!_0x5e3be1||!_0x40512a['bananaChar'+_0x4209f1(-0x122,-0x121,-0x138,-0xfa)+'ts'][_0x5e3be1]){if(_0x1e3d23[_0x4209f1(-0xa5,-0xa7,-0xe3,-0x104)]!==_0x4209f1(-0xd1,-0x100,-0xbe,-0xf5))_0x3e62c6[_0x4209f1(-0xe9,-0x114,-0xf9,-0x9f)]();else{_0x1e3d23[_0x4f6fd8(0x4d9,0x4d7,0x530,0x4e4)](alert,_0x1e3d23[_0x4f6fd8(0x581,0x518,0x564,0x58f)]);return;}}stylishConfirm(_0x4f6fd8(0x5b3,0x557,0x56e,0x513)+'nana\x20角色预设\x20'+'\x22'+_0x5e3be1+_0x4f6fd8(0x53a,0x514,0x567,0x5c1))[_0x4f6fd8(0x503,0x579,0x534,0x532)](_0xe2c464=>{function _0x225e59(_0x3eebda,_0x17bd16,_0x15550b,_0x3708bb){return _0x4209f1(_0x17bd16- -0x84,_0x17bd16-0x1a7,_0x3eebda,_0x3708bb-0x1ad);}const _0x1d92ea={};_0x1d92ea[_0x225e59(-0xf7,-0x153,-0x18c,-0xf7)]=_0x1e3d23[_0x225e59(-0x15a,-0x198,-0x1ed,-0x1b2)],_0x1d92ea[_0x225e59(-0x1f8,-0x1aa,-0x16a,-0x1b9)]=_0x1e3d23[_0x225e59(-0x168,-0x139,-0x108,-0x13e)];function _0x3eaad2(_0x170611,_0x454cda,_0x5a55e9,_0x192fd9){return _0x4f6fd8(_0x5a55e9,_0x454cda-0x39,_0x192fd9-0x7c,_0x192fd9-0xc7);}_0x1d92ea[_0x3eaad2(0x4fa,0x552,0x578,0x546)]=_0x1e3d23[_0x225e59(-0x14c,-0x147,-0x123,-0x19f)];const _0x3e12c7=_0x1d92ea;if(_0xe2c464){if(_0x1e3d23[_0x225e59(-0x19f,-0x199,-0x1f7,-0x187)](_0x1e3d23[_0x225e59(-0x16a,-0x16a,-0x12f,-0x18b)],_0x1e3d23[_0x3eaad2(0x556,0x52e,0x55d,0x584)])){const _0x2c6d88=_0x3e12c7[_0x225e59(-0x161,-0x153,-0x194,-0x163)][_0x225e59(-0x16b,-0x131,-0x186,-0x166)]('|');let _0x567640=0x1d27+0x2e6*-0x3+-0x1475*0x1;while(!![]){switch(_0x2c6d88[_0x567640++]){case'0':_0x2ec397[_0x3eaad2(0x5d5,0x559,0x5cb,0x594)]='';continue;case'1':_0x3c6a65['value']='';continue;case'2':_0x55dcb6[_0x3eaad2(0x542,0x541,0x5d8,0x57e)]['display']=_0x3e12c7[_0x225e59(-0x1aa,-0x1aa,-0x1de,-0x161)];continue;case'3':_0x5bedf9[_0x3eaad2(0x5c8,0x587,0x53a,0x57e)][_0x225e59(-0x1c0,-0x1c0,-0x167,-0x16e)]=_0x3e12c7['IQWWQ'];continue;case'4':_0xd0bcc5[_0x225e59(-0x1aa,-0x1a0,-0x17a,-0x1e2)][_0x225e59(-0x1b5,-0x1c0,-0x1fb,-0x194)]=_0x3e12c7[_0x3eaad2(0x503,0x50c,0x552,0x546)];continue;}break;}}else saveCurrentBananaCharacterData(_0x5e3be1),_0x1e3d23[_0x225e59(-0x17b,-0x172,-0x1b1,-0x11f)](alert,_0x3eaad2(0x57a,0x56b,0x599,0x587)+_0x225e59(-0x104,-0x15c,-0x13e,-0x134)+_0x5e3be1+_0x225e59(-0x173,-0x1b2,-0x1be,-0x1b3));}});}function saveBananaCharacterPresetAs(){function _0x49fa9c(_0x569072,_0x55c321,_0x4581e6,_0xeddab5){return _0x38ae(_0x55c321- -0x105,_0x569072);}function _0x45c54a(_0x3469f2,_0x137f2f,_0x1154da,_0x55b2c1){return _0x38ae(_0x1154da-0x26,_0x55b2c1);}const _0x34d992={'YRGcn':function(_0x14d8a5,_0x43ab72){return _0x14d8a5!==_0x43ab72;},'yWmwU':function(_0x28d886,_0x4522d5){return _0x28d886(_0x4522d5);},'nWSNc':'请输入新\x20Banan'+_0x45c54a(0x17c,0x204,0x1cd,0x16f)};_0x34d992[_0x49fa9c(0x122,0xd6,0x131,0x97)](stylInput,_0x34d992[_0x49fa9c(0xaa,0xf3,0x122,0xb8)])[_0x45c54a(0x21e,0x238,0x21b,0x25f)](_0x1f936f=>{function _0x21e7eb(_0x2b93e2,_0x18b5fb,_0x2f1313,_0x17c407){return _0x45c54a(_0x2b93e2-0x37,_0x18b5fb-0x158,_0x2b93e2- -0x53,_0x18b5fb);}function _0x53710e(_0x5878b9,_0x3b7cbd,_0x103848,_0x1765ba){return _0x49fa9c(_0x103848,_0x1765ba-0x3d2,_0x103848-0x36,_0x1765ba-0x197);}if(_0x1f936f&&_0x34d992[_0x53710e(0x4b3,0x45c,0x456,0x4a1)](_0x1f936f[_0x53710e(0x475,0x453,0x417,0x46c)](),'')){const _0x148365=extension_settings[extensionName];_0x34d992[_0x53710e(0x44b,0x47c,0x474,0x4a8)](saveCurrentBananaCharacterData,_0x1f936f),_0x148365[_0x53710e(0x4a3,0x45b,0x455,0x495)+_0x21e7eb(0x190,0x13e,0x173,0x1ad)+'tId']=_0x1f936f,loadBananaCharacterPresetList(),_0x34d992['yWmwU'](alert,_0x53710e(0x49f,0x455,0x47f,0x499)+'设\x20\x22'+_0x1f936f+_0x53710e(0x429,0x441,0x435,0x45a));}});}function _0x38ae(_0x287701,_0x86a036){_0x287701=_0x287701-(-0x3*-0x199+-0x7f2*0x1+-0x4b1*-0x1);const _0x39e8c8=_0xe035();let _0x17fd8b=_0x39e8c8[_0x287701];if(_0x38ae['IgDrjx']===undefined){var _0x25cd59=function(_0x2c1689){const _0x5e8af1='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x372c27='',_0x410fdc='',_0x106dcf=_0x372c27+_0x25cd59;for(let _0x1bad16=-0x385+-0x5*-0x58+-0x1*-0x1cd,_0x135f28,_0x21868f,_0x58cf38=-0x10*0x20+0x40*-0x1f+0x9c0;_0x21868f=_0x2c1689['charAt'](_0x58cf38++);~_0x21868f&&(_0x135f28=_0x1bad16%(0x95c*-0x4+-0xa*-0x208+0x1124)?_0x135f28*(0x1*-0x2352+0x11*-0x23a+0xfe*0x4a)+_0x21868f:_0x21868f,_0x1bad16++%(0x2a7+0xf6a+-0x120d))?_0x372c27+=_0x106dcf['charCodeAt'](_0x58cf38+(0x128c+0x12d9+-0x255b))-(-0x14f4+0xbdd+-0x39*-0x29)!==-0x6ac+0x5ec*-0x5+0x1b*0x158?String['fromCharCode'](-0x13*0x27+0x9a9*0x3+-0x1917&_0x135f28>>(-(-0x2430+0x14e3+0xf4f)*_0x1bad16&-0x2*0x129a+0x1e01+0x739)):_0x1bad16:-0x2446+-0x298+-0x18e*-0x19){_0x21868f=_0x5e8af1['indexOf'](_0x21868f);}for(let _0x1d2ecb=0x1089+-0x19a4+0x6f*0x15,_0x58ac4f=_0x372c27['length'];_0x1d2ecb<_0x58ac4f;_0x1d2ecb++){_0x410fdc+='%'+('00'+_0x372c27['charCodeAt'](_0x1d2ecb)['toString'](-0xb4e+0x2*-0x6cf+-0x2*-0xc7e))['slice'](-(0x1050+-0x23fd+0x13af));}return decodeURIComponent(_0x410fdc);};_0x38ae['jErmgt']=_0x25cd59,_0x38ae['QJbxgn']={},_0x38ae['IgDrjx']=!![];}const _0x55a337=_0x39e8c8[-0x1fef+0x3*-0x75b+0x900*0x6],_0xc7e638=_0x287701+_0x55a337,_0x344b9e=_0x38ae['QJbxgn'][_0xc7e638];if(!_0x344b9e){const _0x28b3c3=function(_0x1fe66a){this['DvZLne']=_0x1fe66a,this['FOBmtR']=[0x1*0xb83+0x19a1+-0x2523,-0x1a*0x3+-0x1b2b+0x1*0x1b79,-0x2324+-0x1641+0x833*0x7],this['KnEQTw']=function(){return'newState';},this['chrtEc']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['gQgiev']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x28b3c3['prototype']['ADRubB']=function(){const _0x6236f=new RegExp(this['chrtEc']+this['gQgiev']),_0x3e344b=_0x6236f['test'](this['KnEQTw']['toString']())?--this['FOBmtR'][-0x1235*-0x1+0x85*-0x5+-0xf9b]:--this['FOBmtR'][0x108a+-0x1f2f+0xea5];return this['WGUIyY'](_0x3e344b);},_0x28b3c3['prototype']['WGUIyY']=function(_0x1fc12e){if(!Boolean(~_0x1fc12e))return _0x1fc12e;return this['YnnTUt'](this['DvZLne']);},_0x28b3c3['prototype']['YnnTUt']=function(_0x3d119e){for(let _0x2a7416=0x3ef*-0x7+-0x13*0x20b+0x425a,_0x2d2c92=this['FOBmtR']['length'];_0x2a7416<_0x2d2c92;_0x2a7416++){this['FOBmtR']['push'](Math['round'](Math['random']())),_0x2d2c92=this['FOBmtR']['length'];}return _0x3d119e(this['FOBmtR'][0x1dc0+-0x245+0x1d5*-0xf]);},new _0x28b3c3(_0x38ae)['ADRubB'](),_0x17fd8b=_0x38ae['jErmgt'](_0x17fd8b),_0x38ae['QJbxgn'][_0xc7e638]=_0x17fd8b;}else _0x17fd8b=_0x344b9e;return _0x17fd8b;}async function saveCurrentBananaCharacterData(_0x496968){const _0x46f018={'bxPpk':_0x359f2a(0x43d,0x43d,0x48b,0x43b)+'r_user_ima'+'ge','SVfFK':_0x361cc8(0x1df,0x154,0x1ae,0x1e4),'LBfrY':function(_0x4c646a,_0x4b6916){return _0x4c646a===_0x4b6916;},'PRLLn':_0x359f2a(0x3c4,0x421,0x46a,0x40b),'scIXP':_0x361cc8(0x1c4,0x189,0x17d,0x16e),'VBqOn':function(_0x6b961b,_0x27d77c){return _0x6b961b(_0x27d77c);},'cqXZI':function(_0x185ddb,_0x278828){return _0x185ddb(_0x278828);},'EHBLL':_0x359f2a(0x496,0x48b,0x4a1,0x467)+_0x359f2a(0x472,0x4a7,0x46c,0x4b9)+'户图片已保存:','PstkV':_0x361cc8(0x197,0x102,0x150,0x14a),'EaNBT':_0x361cc8(0xd1,0xfb,0x12f,0x11c),'ySvmD':'[Character'+']\x20Banana\x20模'+_0x359f2a(0x3b9,0x40c,0x405,0x3db),'XDRqO':_0x361cc8(0x17d,0x10b,0x15c,0x141)+_0x361cc8(0x194,0x1dd,0x184,0x1a3)},_0x799b16=extension_settings[extensionName],_0x1ade03=_0x799b16['bananaChar'+'acterPrese'+'ts'][_0x496968],_0x30ee97=document[_0x359f2a(0x4e9,0x4b0,0x457,0x49b)+_0x359f2a(0x46b,0x417,0x3c5,0x3f6)](_0x46f018[_0x361cc8(0x170,0xda,0x139,0x197)])[_0x361cc8(0x134,0x15d,0x171,0x1b6)],_0x556b66=document[_0x359f2a(0x46d,0x4b0,0x45e,0x4d7)+_0x361cc8(0x192,0x127,0x136,0x10d)](_0x359f2a(0x3f1,0x43d,0x3f8,0x440)+'r_model_im'+_0x359f2a(0x4e7,0x4b4,0x505,0x4cc))[_0x361cc8(0x135,0x129,0x171,0x118)],_0x193d43=_0x1ade03?.[_0x361cc8(0x1c1,0x1c5,0x197,0x196)+'on']?.['user']?.[_0x361cc8(0x1b8,0x1b1,0x1ac,0x1d2)]||'',_0x1d415c=_0x1ade03?.[_0x359f2a(0x45e,0x478,0x453,0x4a5)+'on']?.[_0x361cc8(0x1ee,0x169,0x1ad,0x1e8)]?.[_0x359f2a(0x436,0x48d,0x439,0x493)]||'';let _0x1d1b5c='',_0x92754f='';if(_0x30ee97[_0x361cc8(0x144,0x137,0x131,0x15c)](_0x46f018['SVfFK'])){if(_0x193d43&&_0x193d43['startsWith']('cfgimg_')){if(_0x46f018[_0x361cc8(0x138,0x148,0x180,0x155)](_0x46f018[_0x359f2a(0x45d,0x4b9,0x4b3,0x4fa)],_0x46f018[_0x361cc8(0x16f,0x180,0x152,0x120)])){_0x48ed9f(_0x359f2a(0x40b,0x44b,0x455,0x42e)+'na\x20角色预设可保存'+'。请先\x22另存为\x22一个'+_0x361cc8(0x199,0x1ee,0x19d,0x1ad));return;}else await _0x46f018[_0x361cc8(0x120,0x1b7,0x159,0x181)](deleteConfigImage,_0x193d43)['catch'](_0x411d8b=>console[_0x361cc8(0x149,0x117,0x126,0xcc)](_0x359f2a(0x4df,0x48b,0x4af,0x49e)+_0x359f2a(0x4d8,0x488,0x4e4,0x490)+'败:',_0x411d8b));}_0x1d1b5c=await _0x46f018[_0x359f2a(0x417,0x40d,0x460,0x3f4)](saveConfigImage,_0x30ee97),console['log'](_0x46f018['EHBLL'],_0x1d1b5c);}if(_0x556b66['startsWith'](_0x46f018[_0x361cc8(0x140,0x15f,0x129,0x188)])){if(_0x1d415c&&_0x1d415c['startsWith'](_0x46f018[_0x361cc8(0x1e8,0x1d2,0x193,0x17c)])){if(_0x46f018[_0x361cc8(0x1dd,0x136,0x180,0x14c)](_0x46f018['EaNBT'],_0x46f018[_0x361cc8(0x18e,0x1c1,0x165,0x162)]))await deleteConfigImage(_0x1d415c)[_0x361cc8(0x192,0x118,0x15e,0x1b8)](_0x1a056b=>console[_0x361cc8(0xd0,0x170,0x126,0x145)](_0x361cc8(0x1b0,0x1df,0x1aa,0x1a8)+']\x20删除旧模型图片失'+'败:',_0x1a056b));else{if(_0x428012){const _0x42e2f9=_0x4652fd[_0x359f2a(0x4a5,0x499,0x4cb,0x45c)](_0x46b0c1,arguments);return _0x2dc4ea=null,_0x42e2f9;}}}_0x92754f=await _0x46f018[_0x361cc8(0x16d,0x101,0x159,0x156)](saveConfigImage,_0x556b66),console[_0x359f2a(0x43a,0x450,0x4ae,0x499)](_0x46f018[_0x359f2a(0x440,0x44c,0x41c,0x3fc)],_0x92754f);}function _0x359f2a(_0x5ba23d,_0x4c6331,_0x30b130,_0x6949e1){return _0x38ae(_0x4c6331-0x279,_0x6949e1);}function _0x361cc8(_0x2ae49e,_0x48d4b3,_0x32d951,_0x54b3c1){return _0x38ae(_0x32d951- -0x68,_0x2ae49e);}const _0x2260a3={'triggers':document[_0x361cc8(0x227,0x22d,0x1cf,0x1c5)+'ById'](_0x46f018[_0x361cc8(0x1bf,0x1ea,0x19a,0x17e)])[_0x361cc8(0x1c7,0x1ff,0x1c5,0x186)],'conversation':{'user':{'text':document[_0x361cc8(0x1da,0x1f0,0x1cf,0x216)+_0x359f2a(0x474,0x417,0x45b,0x3ee)](_0x361cc8(0x152,0x1a0,0x15c,0x164)+_0x361cc8(0x155,0x14b,0x18b,0x157)+'t')[_0x361cc8(0x179,0x195,0x1c5,0x223)],'imageId':_0x1d1b5c},'model':{'text':document[_0x359f2a(0x490,0x4b0,0x481,0x4af)+_0x359f2a(0x426,0x417,0x3e9,0x3b8)](_0x361cc8(0xfd,0x106,0x15c,0x163)+_0x361cc8(0x13a,0x188,0x12d,0x133)+'xt')[_0x361cc8(0x19a,0x211,0x1c5,0x1ce)],'imageId':_0x92754f}}};_0x799b16[_0x361cc8(0x17a,0x178,0x160,0x149)+_0x361cc8(0x178,0xfe,0x155,0x198)+'ts'][_0x496968]=_0x2260a3,saveSettingsDebounced();}async function deleteBananaCharacterPreset(){const _0x3afc81={'LelMx':'option','QuGsU':function(_0x146308,_0x57a7b3){return _0x146308<=_0x57a7b3;},'chUjo':function(_0x7f94be,_0x13fda7){return _0x7f94be!==_0x13fda7;},'wSQxd':function(_0x3c8d8f,_0x587901){return _0x3c8d8f(_0x587901);},'JlJLt':_0x2ed9e5(0x2d7,0x2cd,0x287,0x2a6)+'。','wLdvP':function(_0xe9fddb,_0x2a29d1){return _0xe9fddb(_0x2a29d1);},'eqJkC':_0x2ed9e5(0x22c,0x21c,0x23e,0x1ee),'RVinO':function(_0x3b1621){return _0x3b1621();}},_0x64182a=extension_settings[extensionName];function _0x222a65(_0xc87d6a,_0xe477a7,_0x4fa552,_0x521055){return _0x38ae(_0xc87d6a- -0x34,_0x521055);}function _0x2ed9e5(_0x564e0c,_0x4f6b3d,_0x4ca578,_0x2dd37d){return _0x38ae(_0x4ca578-0x86,_0x2dd37d);}const _0x238b6c=document[_0x222a65(0x203,0x1da,0x200,0x215)+'ById'](_0x2ed9e5(0x1ee,0x25e,0x24a,0x22f)+_0x2ed9e5(0x30b,0x315,0x2c7,0x26a)+'d')?.[_0x2ed9e5(0x2c4,0x2c3,0x2b3,0x2a9)];if(_0x3afc81['QuGsU'](Object[_0x222a65(0x18e,0x1b9,0x1eb,0x15d)](_0x64182a[_0x2ed9e5(0x29f,0x214,0x24e,0x1f3)+_0x2ed9e5(0x227,0x1e9,0x243,0x271)+'ts'])[_0x222a65(0x1fd,0x1a8,0x214,0x21d)],-0x768+0x913*0x4+-0x1ce3)){if(_0x3afc81[_0x222a65(0x1ac,0x17b,0x180,0x1a9)](_0x2ed9e5(0x2d3,0x2a0,0x2be,0x303),_0x2ed9e5(0x2a1,0x293,0x2c3,0x2b8))){_0x3afc81[_0x222a65(0x1b6,0x1f6,0x18d,0x1a3)](alert,_0x3afc81['JlJLt']);return;}else{const _0x5644c1=_0x106524[_0x256dc6],_0x2d55c2=_0x5c31f[_0x222a65(0x203,0x1e4,0x1ec,0x1fb)+'ById']('banana_cha'+_0x2ed9e5(0x2c6,0x293,0x2c7,0x2c0)+'d');if(!_0x2d55c2)return;_0x2d55c2['innerHTML']='';for(const _0x23efd0 in _0x5644c1['bananaChar'+_0x222a65(0x189,0x134,0x17c,0x1d1)+'ts']){const _0x4eb830=_0x21e3ab['createElem'+_0x2ed9e5(0x25e,0x2ab,0x264,0x2a9)](_0x3afc81[_0x222a65(0x171,0x1bb,0x18c,0x1c3)]);_0x4eb830[_0x222a65(0x1f9,0x231,0x23f,0x252)]=_0x23efd0,_0x4eb830[_0x2ed9e5(0x250,0x299,0x24b,0x272)+'t']=_0x23efd0,_0x2d55c2[_0x2ed9e5(0x21c,0x259,0x228,0x1e3)](_0x4eb830);}_0x2d55c2['value']=_0x5644c1[_0x2ed9e5(0x232,0x1f7,0x24e,0x258)+'acterPrese'+_0x222a65(0x19c,0x1cf,0x1ce,0x191)];}}const _0x1a565b=await _0x3afc81[_0x222a65(0x1f2,0x1d8,0x241,0x24d)](stylishConfirm,'是否确定删除该\x20Ba'+'nana\x20角色预设\x20'+'\x22'+_0x238b6c+'\x22');if(_0x1a565b){const _0x1d3666=_0x64182a[_0x222a65(0x194,0x1a7,0x182,0x14b)+_0x222a65(0x189,0x1e7,0x1b5,0x164)+'ts'][_0x238b6c];_0x1d3666?.[_0x2ed9e5(0x240,0x2c5,0x285,0x23b)+'on']?.[_0x2ed9e5(0x20c,0x1eb,0x222,0x213)]?.['imageId']&&_0x1d3666['conversati'+'on'][_0x222a65(0x168,0x163,0x1a5,0x180)]['imageId'][_0x222a65(0x165,0x170,0x176,0x183)](_0x3afc81[_0x222a65(0x17f,0x149,0x173,0x1bb)])&&await _0x3afc81[_0x2ed9e5(0x2d5,0x250,0x2ac,0x2bb)](deleteConfigImage,_0x1d3666[_0x2ed9e5(0x273,0x24f,0x285,0x26b)+'on'][_0x222a65(0x168,0x156,0x124,0x19f)][_0x222a65(0x1e0,0x20c,0x181,0x207)])['catch'](_0x131386=>console[_0x2ed9e5(0x254,0x22b,0x214,0x269)](_0x222a65(0x1de,0x18a,0x234,0x1f3)+_0x222a65(0x1ea,0x20f,0x1e7,0x1c1)+':',_0x131386)),_0x1d3666?.[_0x222a65(0x1cb,0x17a,0x1f5,0x1c1)+'on']?.[_0x2ed9e5(0x2d3,0x2db,0x29b,0x2fa)]?.[_0x222a65(0x1e0,0x1a5,0x227,0x21d)]&&_0x1d3666[_0x2ed9e5(0x24a,0x251,0x285,0x245)+'on'][_0x222a65(0x1e1,0x23a,0x1d6,0x1e0)]['imageId'][_0x222a65(0x165,0x172,0x108,0x155)](_0x2ed9e5(0x240,0x1e5,0x23e,0x279))&&await _0x3afc81['wLdvP'](deleteConfigImage,_0x1d3666[_0x222a65(0x1cb,0x1bc,0x190,0x1e8)+'on']['model'][_0x222a65(0x1e0,0x22c,0x1e8,0x1a0)])[_0x2ed9e5(0x297,0x247,0x24c,0x28d)](_0x2c469d=>console[_0x222a65(0x15a,0x14a,0x1b3,0x191)]('[Character'+']\x20删除模型图片失败'+':',_0x2c469d)),delete _0x64182a['bananaChar'+'acterPrese'+'ts'][_0x238b6c],_0x64182a['bananaChar'+_0x2ed9e5(0x213,0x25e,0x243,0x1fc)+_0x222a65(0x19c,0x14f,0x1a5,0x1e8)]=Object[_0x222a65(0x18e,0x17b,0x170,0x1ac)](_0x64182a[_0x2ed9e5(0x1f2,0x1f8,0x24e,0x203)+_0x222a65(0x189,0x1b1,0x136,0x193)+'ts'])[-0x55*0x6b+-0x1dc9+-0x130*-0x37],_0x3afc81[_0x222a65(0x212,0x1ec,0x238,0x242)](loadBananaCharacterPresetList),await _0x3afc81[_0x222a65(0x212,0x214,0x234,0x1cc)](loadBananaCharacterPreset),_0x3afc81['RVinO'](saveSettingsDebounced);}}const setupBananaImageUpload=_0x3a72a4=>{function _0x57a4a5(_0x504ab0,_0x16fef0,_0x59a794,_0x2f6fa0){return _0x38ae(_0x59a794-0x37e,_0x2f6fa0);}const _0x2907f0={'spmDf':function(_0x1ea39c,_0x450c1c){return _0x1ea39c||_0x450c1c;},'sdfhb':'.st-chatu8'+_0x16f578(0x395,0x347,0x39f,0x373)+'ceholder','OETvn':_0x16f578(0x375,0x3bd,0x35d,0x38c),'XwtCH':_0x16f578(0x356,0x35b,0x310,0x394),'kwZyu':function(_0xf24792,_0xb00c1e){return _0xf24792===_0xb00c1e;},'rnfwo':'rONdQ','BSdUF':function(_0x17b4a4,_0x7de206){return _0x17b4a4!==_0x7de206;},'jliYN':_0x16f578(0x328,0x384,0x379,0x350),'kaapC':'aBQtN','nmPmO':'mlJni','DNjae':function(_0x244210){return _0x244210();},'fXklv':_0x57a4a5(0x5bb,0x567,0x575,0x5ba),'kmxyK':function(_0x2368ee,_0x1db9f8){return _0x2368ee||_0x1db9f8;},'sJUnL':_0x57a4a5(0x5c5,0x5d0,0x578,0x525),'xhQgl':_0x57a4a5(0x5b3,0x5ae,0x574,0x58f)},_0xa2e224=document[_0x57a4a5(0x5fb,0x567,0x5b5,0x55d)+'ById'](_0x16f578(0x316,0x36b,0x2c5,0x354)+'r_'+_0x3a72a4+('_image_con'+_0x16f578(0x38e,0x38e,0x32f,0x37f))),_0x1fce90=document[_0x57a4a5(0x60d,0x5d4,0x5b5,0x576)+_0x57a4a5(0x542,0x4f9,0x51c,0x4c3)](_0x16f578(0x316,0x352,0x2f5,0x36a)+'r_'+_0x3a72a4+_0x57a4a5(0x5a6,0x521,0x54f,0x515)),_0x4daa5c=_0xa2e224['querySelec'+_0x16f578(0x33b,0x30e,0x34b,0x380)](_0x57a4a5(0x516,0x54b,0x56c,0x570)+'-image-pla'+'ceholder'),_0x56f046=document['getElement'+'ById'](_0x57a4a5(0x4e3,0x59d,0x542,0x57f)+'r_'+_0x3a72a4+(_0x16f578(0x35f,0x3ba,0x38b,0x35e)+'ove')),_0x5d7a86=document[_0x16f578(0x389,0x3a8,0x368,0x3d0)+_0x57a4a5(0x50d,0x534,0x51c,0x529)](_0x57a4a5(0x56c,0x506,0x542,0x521)+'r_'+_0x3a72a4+(_0x16f578(0x2ec,0x2d9,0x299,0x2ff)+'ut'));if(_0x2907f0[_0x16f578(0x358,0x37f,0x39e,0x363)](!_0xa2e224,!_0x1fce90)||!_0x4daa5c||!_0x56f046||!_0x5d7a86)return;function _0x16f578(_0x286ac5,_0x40d08b,_0x19d63e,_0x560431){return _0x38ae(_0x286ac5-0x152,_0x19d63e);}_0xa2e224[_0x16f578(0x327,0x347,0x2ea,0x373)+'stener'](_0x57a4a5(0x58b,0x53b,0x574,0x5cb),_0x57b720=>{function _0x5cbd79(_0x4ea3f4,_0x2c8dbc,_0x11bbdf,_0x17cb69){return _0x57a4a5(_0x4ea3f4-0x158,_0x2c8dbc-0x28,_0x2c8dbc- -0x400,_0x4ea3f4);}function _0x17b951(_0x24af7e,_0x5b823e,_0x23f51c,_0x1a69de){return _0x57a4a5(_0x24af7e-0x12c,_0x5b823e-0x82,_0x5b823e- -0x556,_0x24af7e);}if(_0x2907f0['kwZyu'](_0x2907f0['rnfwo'],_0x2907f0[_0x17b951(-0x11,-0x38,-0x9,0x4)])){if(_0x2907f0[_0x17b951(-0x23,0x5,-0x50,-0x29)](_0x57b720['target'],_0x56f046)&&!_0x56f046['contains'](_0x57b720[_0x17b951(-0x6d,-0x22,0x2a,0x27)])){if(_0x2907f0[_0x5cbd79(0x1b3,0x15b,0x12f,0x107)](_0x2907f0['jliYN'],_0x2907f0[_0x17b951(-0x59,0x2,0x1c,0x22)]))_0x5d7a86[_0x5cbd79(0x150,0x174,0x128,0x142)]();else{const _0xe888f7=_0x40cb57[_0x5cbd79(0x183,0x1b5,0x18c,0x198)+_0x17b951(-0x4b,-0x3a,-0x22,0x16)](_0x17b951(-0x46,-0x14,0x22,-0x4c)+'r_'+_0x44a23e+'_image'),_0x14a25a=_0x5713c5[_0x5cbd79(0x166,0x1b5,0x1b7,0x1b0)+_0x5cbd79(0xd4,0x11c,0x157,0x178)]('banana_cha'+'r_'+_0x53e1a1+(_0x17b951(0x29,0x28,-0x13,-0x28)+_0x5cbd79(0x1ec,0x1ba,0x1ca,0x1a2)));if(_0x2907f0['spmDf'](!_0xe888f7,!_0x14a25a))return;const _0x28d3d3=_0x14a25a[_0x17b951(0xa4,0x4f,0xf,0x74)+_0x5cbd79(0x1c2,0x167,0x130,0x14e)](_0x2907f0[_0x5cbd79(0x181,0x135,0xf7,0x171)]),_0x145d85=_0x1b3f5c[_0x5cbd79(0x205,0x1b5,0x19d,0x1b3)+_0x5cbd79(0x15c,0x11c,0x12c,0xff)](_0x5cbd79(0x164,0x142,0x16b,0x162)+'r_'+_0x4fbcf8+(_0x5cbd79(0x180,0x18b,0x1d4,0x159)+_0x17b951(-0x7b,-0x2b,-0x11,-0x3a)));_0x1ef18e?(_0xe888f7[_0x17b951(-0x59,0x1,0x3f,-0x40)]=_0x1895de,_0xe888f7[_0x5cbd79(0x196,0x141,0xed,0x16b)][_0x5cbd79(0x129,0x121,0x169,0x122)]=_0x2907f0[_0x17b951(0x52,0x31,0x65,0x48)],_0x28d3d3[_0x5cbd79(0x19e,0x141,0xf0,0xea)]['display']=_0x2907f0[_0x5cbd79(0x122,0x12d,0x15c,0x15d)],_0x145d85[_0x17b951(-0x24,-0x15,0x3,0x36)][_0x17b951(-0x45,-0x35,-0x48,0x4)]=_0x2907f0[_0x17b951(-0x27,0x31,0x78,-0x22)]):(_0xe888f7[_0x17b951(-0x30,0x1,0x5,-0x1)]='',_0xe888f7[_0x5cbd79(0xfd,0x141,0xf2,0x14e)]['display']=_0x2907f0[_0x5cbd79(0x17c,0x12d,0xea,0x105)],_0x28d3d3['style']['display']=_0x2907f0['OETvn'],_0x145d85[_0x17b951(-0x1b,-0x15,-0x6e,-0x72)]['display']=_0x2907f0[_0x5cbd79(0x144,0x12d,0xe6,0xf1)]);}}}else _0x59508f&&(_0xd39d7e(_0x2d6cd2),_0xe14aed(_0x17b951(-0x14,-0xc,0x39,-0x5e)+_0x17b951(0x65,0x2f,0x19,0x28)+_0x5071f+_0x17b951(-0x24,-0x27,-0x18,0x2e)));}),_0x5d7a86[_0x16f578(0x327,0x311,0x2e3,0x2ea)+_0x16f578(0x2e8,0x323,0x2a2,0x2e1)](_0x2907f0[_0x16f578(0x319,0x337,0x345,0x33b)],()=>{function _0x338ace(_0x4233c8,_0x1d5eca,_0x2cc652,_0x3e8670){return _0x57a4a5(_0x4233c8-0x15d,_0x1d5eca-0xe7,_0x4233c8- -0x2b6,_0x3e8670);}function _0x1d2e26(_0x33fe75,_0x256c11,_0x42652c,_0x7b4804){return _0x16f578(_0x33fe75- -0x38c,_0x256c11-0x4,_0x256c11,_0x7b4804-0xc9);}if(_0x2907f0[_0x1d2e26(-0x29,-0x70,0x18,-0x20)]!==_0x2907f0[_0x1d2e26(-0x29,-0x5,-0x58,0xe)])_0x782fc2[_0x338ace(0x2a1,0x2c9,0x290,0x2cd)]=_0x3e9de2[_0x338ace(0x27e,0x2ad,0x298,0x28b)][_0x1d2e26(-0xe,0x27,0x1e,0x2d)],_0x27de5c[_0x1d2e26(-0x77,-0xa4,-0x68,-0x92)]['display']=_0x2907f0[_0x1d2e26(-0x31,-0x58,-0x7a,-0x51)],_0x5da6cb['style'][_0x338ace(0x26b,0x21a,0x241,0x264)]=_0x2907f0[_0x1d2e26(-0x8b,-0xd8,-0xce,-0x42)],_0x1fee64[_0x338ace(0x28b,0x22d,0x296,0x269)][_0x338ace(0x26b,0x2bf,0x273,0x279)]=_0x2907f0[_0x338ace(0x2d1,0x2ce,0x2b2,0x29a)];else{if(_0x5d7a86[_0x338ace(0x2db,0x2bc,0x2ff,0x2b1)]&&_0x5d7a86[_0x1d2e26(-0x27,-0x2a,-0x1b,0x17)][-0x2402+0xb92+0x1870]){const _0x5194a0=new FileReader();_0x5194a0[_0x1d2e26(-0x7e,-0x4f,-0x5c,-0xb2)]=_0x1c5821=>{_0x1fce90[_0x44cc9e(0x1fc,0x180,0x1d2,0x192)]=_0x1c5821[_0x44cc9e(0x1db,0x1ae,0x1af,0x15d)][_0x12a9de(-0x184,-0x135,-0x16b,-0x14c)];function _0x12a9de(_0x66c641,_0x17c99d,_0x54a7da,_0x2b5050){return _0x1d2e26(_0x54a7da- -0x15d,_0x17c99d,_0x54a7da-0x192,_0x2b5050-0x105);}_0x1fce90['style'][_0x44cc9e(0x191,0x1c7,0x19c,0x1f9)]=_0x2907f0['OETvn'],_0x4daa5c['style']['display']=_0x2907f0[_0x12a9de(-0x18e,-0x1ab,-0x1e8,-0x1db)];function _0x44cc9e(_0x4e6ba0,_0x564479,_0x37c088,_0x1dc69d){return _0x1d2e26(_0x37c088-0x233,_0x4e6ba0,_0x37c088-0xeb,_0x1dc69d-0x158);}_0x56f046['style'][_0x12a9de(-0x22d,-0x201,-0x1f4,-0x19c)]=_0x2907f0[_0x12a9de(-0x1c0,-0x1d9,-0x18e,-0x1a9)];},_0x5194a0['readAsData'+'URL'](_0x5d7a86['files'][0x13*-0x8f+0x2237+-0x13e*0x13]);}}}),_0x56f046[_0x57a4a5(0x4f8,0x54c,0x553,0x5a0)+_0x57a4a5(0x4eb,0x4e6,0x514,0x4bc)](_0x2907f0[_0x16f578(0x2fc,0x2d4,0x316,0x307)],()=>{const _0x2f4acf={'dFVBR':function(_0x22aaaf){return _0x2907f0['DNjae'](_0x22aaaf);}};function _0x4ccd2d(_0x39175f,_0x4a38ec,_0x3f6c37,_0x5f4f24){return _0x16f578(_0x3f6c37- -0x279,_0x4a38ec-0x125,_0x39175f,_0x5f4f24-0x2d);}function _0x592743(_0x1b9d8c,_0x15d6f3,_0x235ed8,_0x23e0ee){return _0x57a4a5(_0x1b9d8c-0x15f,_0x15d6f3-0x1d5,_0x15d6f3- -0x5be,_0x23e0ee);}_0x4ccd2d(0xf9,0x14b,0xf2,0x137)!==_0x2907f0[_0x4ccd2d(0x84,0xbf,0xc8,0x116)]?(_0x1fce90[_0x592743(-0x43,-0x67,-0x34,-0xb1)]='',_0x1fce90[_0x592743(-0xd6,-0x7d,-0x22,-0x90)][_0x592743(-0xb8,-0x9d,-0xef,-0xe3)]=_0x2907f0['XwtCH'],_0x4daa5c[_0x4ccd2d(0xd0,0xd1,0x9c,0x6d)][_0x592743(-0xf4,-0x9d,-0xed,-0xc7)]=_0x2907f0['OETvn'],_0x56f046[_0x4ccd2d(0xbd,0xd9,0x9c,0xf0)][_0x592743(-0x8d,-0x9d,-0xed,-0x75)]=_0x2907f0['XwtCH'],_0x5d7a86[_0x4ccd2d(0xfc,0x161,0x106,0x163)]=''):_0x2f4acf[_0x592743(-0x46,-0x1,-0x29,-0x38)](_0x3b29dd);});},updateBananaImageUI=(_0x45dca8,_0x212217)=>{const _0x21d429={};function _0x2ff98d(_0x131b8b,_0x90ea5e,_0x10b50f,_0x3c33a3){return _0x38ae(_0x3c33a3- -0x1e2,_0x90ea5e);}_0x21d429[_0x2ff98d(0x4b,-0x49,0x2f,0xb)]='.st-chatu8'+'-image-pla'+'ceholder',_0x21d429[_0x585a0a(-0x60,-0x6d,-0x45,-0x66)]=_0x2ff98d(0x98,0x72,0x48,0x41),_0x21d429[_0x2ff98d(0x32,0x37,0x78,0x57)]=_0x2ff98d(-0x15,0x65,0x3a,0x22);const _0x1d3824=_0x21d429,_0x26518e=document[_0x585a0a(0x25,0x1b,0x10,0x4c)+_0x585a0a(-0x74,-0xae,-0x7b,-0xd1)](_0x585a0a(-0x4e,-0xa9,-0x15,-0x44)+'r_'+_0x45dca8+_0x585a0a(-0x41,-0x4f,-0x92,-0x69)),_0x4e1e1c=document[_0x2ff98d(0x5d,0xad,0x79,0x55)+'ById'](_0x2ff98d(0x10,0x4,-0x68,-0x1e)+'r_'+_0x45dca8+(_0x585a0a(-0x12,0x4a,-0x66,0x35)+'tainer'));if(!_0x26518e||!_0x4e1e1c)return;const _0x47bf2f=_0x4e1e1c[_0x585a0a(0x15,-0x27,0x1d,-0x3e)+_0x2ff98d(-0x2,0x51,-0x20,0x7)](_0x1d3824['qUPjS']);function _0x585a0a(_0x68d4db,_0xbcf81f,_0x11b92d,_0x5a3605){return _0x38ae(_0x68d4db- -0x212,_0xbcf81f);}const _0x2c86aa=document[_0x585a0a(0x25,-0x37,0x58,-0x39)+_0x2ff98d(-0x95,-0x75,-0x43,-0x44)](_0x585a0a(-0x4e,-0x2c,-0x3e,-0x2a)+'r_'+_0x45dca8+(_0x2ff98d(0x24,0x2e,0x10,0x2b)+_0x585a0a(-0x65,-0x65,-0x3f,-0x9d)));_0x212217?(_0x26518e['src']=_0x212217,_0x26518e[_0x2ff98d(0x27,-0x16,0x2d,-0x1f)][_0x585a0a(-0x6f,-0x67,-0xb2,-0x6e)]=_0x1d3824[_0x2ff98d(-0x64,-0x69,0x22,-0x30)],_0x47bf2f[_0x585a0a(-0x4f,0xc,0x1,0xb)][_0x585a0a(-0x6f,-0xce,-0x3f,-0x67)]=_0x1d3824[_0x2ff98d(0xc,0x70,0xa0,0x57)],_0x2c86aa[_0x585a0a(-0x4f,-0x71,-0x15,-0x71)][_0x2ff98d(-0x81,-0x6d,-0x79,-0x3f)]=_0x1d3824[_0x585a0a(-0x60,-0x89,-0x63,-0xb0)]):(_0x26518e['src']='',_0x26518e[_0x585a0a(-0x4f,-0x97,0xe,-0xa8)]['display']=_0x1d3824[_0x2ff98d(0x2e,0xb2,0x25,0x57)],_0x47bf2f[_0x585a0a(-0x4f,-0x94,-0x58,-0x79)][_0x585a0a(-0x6f,-0xa8,-0x5c,-0x62)]=_0x1d3824[_0x2ff98d(0xf,-0x8a,0x2b,-0x30)],_0x2c86aa[_0x585a0a(-0x4f,-0x44,-0x13,-0x9a)][_0x2ff98d(-0x9d,-0x7b,-0x2b,-0x3f)]=_0x1d3824[_0x585a0a(0x27,-0x2e,0x5a,0x66)]);};