(function(_0x5e8f72,_0x508c4f){function _0x44c4e6(_0x3e4c99,_0x52a42c,_0x48982c,_0x1a3182){return _0x3451(_0x3e4c99- -0x19d,_0x1a3182);}const _0xa99a8=_0x5e8f72();function _0x5c2046(_0x875146,_0x1ecd8a,_0x5b4c2d,_0x580d08){return _0x3451(_0x5b4c2d- -0x59,_0x1ecd8a);}while(!![]){try{const _0x247753=-parseInt(_0x5c2046(0x161,0x131,0x17d,0x12a))/(-0x1*-0x3d9+0x1*-0x2192+0x1dba)*(-parseInt(_0x5c2046(0x171,0xf7,0x133,0x193))/(0x151*0x1+-0x44d*-0x4+0x2a5*-0x7))+-parseInt(_0x44c4e6(0xd,0x5e,-0x8,0x1d))/(-0x209*0x11+-0x234a*0x1+0x45e6)+-parseInt(_0x5c2046(0x19d,0x160,0x1ad,0x1b2))/(-0x88+0x1e01*0x1+-0x1d75)*(parseInt(_0x5c2046(0x174,0x139,0x170,0x174))/(-0x5af+0x2702+0x4c2*-0x7))+parseInt(_0x5c2046(0x106,0x12f,0x14f,0x1ac))/(0x4*0x553+-0x1*0x12d7+-0x26f)+parseInt(_0x5c2046(0x14d,0x1b1,0x190,0x183))/(-0x8*0x1e7+0x1ed5+-0xf96)*(parseInt(_0x44c4e6(0x80,0xda,0x2a,0x20))/(-0xce*-0x28+0x3*0x4e+-0x2112))+parseInt(_0x44c4e6(0x38,0xa,-0x17,0x15))/(-0x247e+0x2011+0x476)+parseInt(_0x44c4e6(0x17,-0x21,0x0,0x53))/(0x2*-0xc41+-0x7b*0x11+0x1*0x20b7);if(_0x247753===_0x508c4f)break;else _0xa99a8['push'](_0xa99a8['shift']());}catch(_0x3c14dc){_0xa99a8['push'](_0xa99a8['shift']());}}}(_0x1c6e,0x2*-0x38035+-0x6487*-0x2b+0x36f2d));const _0x1ebef5=(function(){const _0x5044eb={'svkkw':function(_0x3bc080,_0x39cb68){return _0x3bc080!==_0x39cb68;},'JRvbV':function(_0x138967,_0x228096){return _0x138967(_0x228096);},'myYEr':function(_0x1ad247,_0x29798f){return _0x1ad247===_0x29798f;},'cMftO':'gIGCN'};let _0x2057c8=!![];return function(_0x2fd63a,_0xc6b134){function _0x2571b7(_0x2acade,_0x46ae1e,_0xc7bb78,_0x1f5742){return _0x3451(_0x1f5742- -0x370,_0xc7bb78);}const _0x3bc768={'MkwUP':function(_0x1f0b13,_0x47e465){function _0x579a7a(_0x114228,_0xe9469a,_0x29213d,_0x2cb652){return _0x3451(_0x114228-0x35b,_0x29213d);}return _0x5044eb[_0x579a7a(0x551,0x509,0x58e,0x575)](_0x1f0b13,_0x47e465);},'bHwuK':function(_0x52b412,_0x2ae8ef){return _0x52b412(_0x2ae8ef);},'KaBul':function(_0x5c78ce,_0x5c4cf7){function _0x194889(_0x3d7fe0,_0x42cdc0,_0xa58af9,_0x374619){return _0x3451(_0x374619-0x320,_0xa58af9);}return _0x5044eb[_0x194889(0x432,0x483,0x4db,0x484)](_0x5c78ce,_0x5c4cf7);}};function _0x306ef0(_0x4dc35f,_0x50605e,_0x118700,_0x1eca23){return _0x3451(_0x1eca23- -0x11c,_0x50605e);}if(_0x5044eb['myYEr'](_0x5044eb[_0x306ef0(0x58,0x74,0x3f,0x77)],_0x5044eb[_0x306ef0(0x96,0xba,0x50,0x77)])){const _0x70c55a=_0x2057c8?function(){function _0x383e54(_0x43c1bf,_0x58834b,_0x3ab3ee,_0xccbaa3){return _0x306ef0(_0x43c1bf-0x93,_0xccbaa3,_0x3ab3ee-0x1d1,_0x3ab3ee-0xa1);}if(_0xc6b134){const _0x21b3a7=_0xc6b134[_0x383e54(0xad,0xb5,0x10a,0x133)](_0x2fd63a,arguments);return _0xc6b134=null,_0x21b3a7;}}:function(){};return _0x2057c8=![],_0x70c55a;}else{const _0x63a8ba={'XkFdd':function(_0x1714ff,_0x2cec64){return _0x3bc768['MkwUP'](_0x1714ff,_0x2cec64);},'jakIJ':function(_0x2bc8bc,_0xf15263){function _0x44dd1a(_0x41bbc3,_0x338919,_0x25ff13,_0x4fa87b){return _0x306ef0(_0x41bbc3-0xe4,_0x4fa87b,_0x25ff13-0x2,_0x338919-0x80);}return _0x3bc768[_0x44dd1a(0xb1,0xd5,0x81,0x132)](_0x2bc8bc,_0xf15263);}};_0x3bc768[_0x2571b7(-0x171,-0x19b,-0x1ae,-0x17f)](_0x5ef905,'请输入新\x20Banan'+_0x2571b7(-0x1cb,-0x252,-0x1ed,-0x20a))['then'](_0xb5b175=>{function _0x568bb5(_0x577447,_0x309bb2,_0x4895de,_0x215709){return _0x306ef0(_0x577447-0x144,_0x215709,_0x4895de-0x5b,_0x309bb2- -0x119);}function _0x4bd3cb(_0x4076e8,_0x589072,_0x4863ae,_0x2baab9){return _0x306ef0(_0x4076e8-0x19b,_0x2baab9,_0x4863ae-0x29,_0x4863ae-0x3f2);}if(_0xb5b175&&_0x63a8ba['XkFdd'](_0xb5b175[_0x568bb5(-0x1c,-0x75,-0x74,-0xc9)](),'')){const _0x2b602=_0xa736ac[_0xab17cd];_0x63a8ba[_0x568bb5(-0x4,-0x51,-0x42,-0x1)](_0x2231e5,_0xb5b175),_0x2b602['bananaChar'+_0x568bb5(-0xcf,-0xb5,-0xaf,-0x69)+_0x568bb5(-0x93,-0x52,-0x7f,-0x72)]=_0xb5b175,_0x410fc2(),_0x63a8ba[_0x4bd3cb(0x4f5,0x505,0x4ba,0x508)](_0x47a506,'Banana\x20角色预'+_0x4bd3cb(0x45c,0x41e,0x478,0x4cd)+_0xb5b175+_0x568bb5(0x14,-0x1e,-0x61,-0x42));}});}};}()),_0x2b3b17=_0x1ebef5(this,function(){const _0x254471={};function _0x2223bd(_0x1290da,_0x29ded8,_0x155b87,_0x4d1834){return _0x3451(_0x1290da- -0xea,_0x29ded8);}_0x254471[_0x5d6391(0x393,0x3b2,0x3f3,0x353)]='(((.+)+)+)'+'+$';function _0x5d6391(_0xfb0c85,_0x4822df,_0x4d4809,_0x409064){return _0x3451(_0x4822df-0x1e3,_0xfb0c85);}const _0x14e7fc=_0x254471;return _0x2b3b17[_0x2223bd(0xb3,0x5f,0x87,0x6f)]()[_0x5d6391(0x392,0x3a2,0x351,0x401)](_0x14e7fc[_0x5d6391(0x35b,0x3b2,0x407,0x365)])[_0x2223bd(0xb3,0xc4,0x7d,0xde)]()[_0x5d6391(0x3e1,0x3a6,0x3d7,0x3f8)+'r'](_0x2b3b17)[_0x2223bd(0xd5,0x125,0x11d,0x107)](_0x14e7fc[_0x2223bd(0xe5,0xd2,0xa4,0x145)]);});_0x2b3b17();import{extension_settings}from'../../../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../../../script.js';import{extensionName}from'../../config.js';import{stylInput,stylishConfirm}from'../../ui_common.js';import{saveConfigImage,getConfigImage,deleteConfigImage}from'../../configDatabase.js';export function setupBananaCharacterControls(_0x2b8094){function _0x159d2d(_0x4b61d2,_0x4c69e4,_0x4f8652,_0x1f7f82){return _0x3451(_0x4c69e4- -0x195,_0x4b61d2);}const _0x211ed3={'DtzYT':'6|5|3|4|7|'+_0x1ea60e(0x1ad,0x18c,0x126,0x164),'nKKPn':function(_0x20f2f4){return _0x20f2f4();},'eBZUK':_0x159d2d(-0x2f,-0x1,0x17,-0x34),'GmChb':function(_0x56cbd8,_0x545386){return _0x56cbd8(_0x545386);},'LBfKy':_0x1ea60e(0x18d,0x143,0x195,0x172),'hTVbm':_0x159d2d(0x3c,0x5,0x3b,0x28)+_0x159d2d(0x41,0x6,0x3a,0x5a),'YtNlt':_0x159d2d(0x4a,0x14,0x1d,-0x15),'iVdkW':_0x159d2d(0x44,0x5,0x42,0x9)+_0x1ea60e(0xdf,0x117,0xfc,0x13c)+'id','UGdOZ':_0x159d2d(-0x7,0x5,0x3a,0x45)+_0x159d2d(-0x1a,-0xa,0x10,0x17)},_0x175876=_0x211ed3['DtzYT'][_0x1ea60e(0x1b1,0x19b,0x149,0x17f)]('|');let _0x32587e=0x22*0xce+0x2202*0x1+-0x5*0xc46;function _0x1ea60e(_0x43928c,_0x54e623,_0x351100,_0x31c390){return _0x3451(_0x31c390- -0x68,_0x54e623);}while(!![]){switch(_0x175876[_0x32587e++]){case'0':_0x211ed3[_0x159d2d(-0x23,-0x35,-0xe,0x28)](loadBananaCharacterPreset);continue;case'1':setupBananaImageUpload(_0x211ed3[_0x1ea60e(0x119,0xd2,0x12f,0xfb)]);continue;case'2':_0x211ed3[_0x1ea60e(0xe8,0x11f,0x10a,0x105)](setupBananaImageUpload,_0x211ed3[_0x159d2d(0x22,0x4c,0x22,0xd)]);continue;case'3':_0x2b8094[_0x159d2d(-0x30,-0x27,-0x7c,-0x5c)](_0x211ed3[_0x1ea60e(0x13c,0xed,0xf3,0x11e)])['on'](_0x211ed3[_0x1ea60e(0xaa,0x102,0xb1,0xf6)],updateBananaCharacterPreset);continue;case'4':_0x2b8094[_0x159d2d(-0x62,-0x27,-0x33,-0x2f)](_0x1ea60e(0x131,0x122,0xe3,0x132)+'ar_save_as')['on']('click',saveBananaCharacterPresetAs);continue;case'5':_0x2b8094['find'](_0x211ed3[_0x159d2d(0x88,0x32,0x45,0x47)])['on']('change',loadBananaCharacterPreset);continue;case'6':loadBananaCharacterPresetList();continue;case'7':_0x2b8094[_0x1ea60e(0x166,0xd8,0x145,0x106)](_0x211ed3['UGdOZ'])['on']('click',deleteBananaCharacterPreset);continue;}break;}}export function loadBananaCharacterPresetList(){const _0x578857={};_0x578857[_0x2f4e88(0x2ac,0x253,0x22c,0x27d)]=_0x3c5583(0x1d3,0x1b2,0x157,0x15d)+'r_preset_i'+'d',_0x578857['nSwTg']=_0x3c5583(0x104,0x136,0x166,0xd7);const _0x4d0d9b=_0x578857;function _0x2f4e88(_0x573ce2,_0x2b0f95,_0x204a37,_0x3862b6){return _0x3451(_0x3862b6-0xd8,_0x204a37);}const _0x552765=extension_settings[extensionName],_0x28accd=document[_0x3c5583(0x1bd,0x161,0x17b,0x1b1)+_0x2f4e88(0x268,0x2a2,0x283,0x2c8)](_0x4d0d9b[_0x3c5583(0xec,0x13c,0x183,0x139)]);if(!_0x28accd)return;function _0x3c5583(_0x14a0b9,_0x3f2d8f,_0x52f15d,_0x191b9d){return _0x3451(_0x3f2d8f- -0x69,_0x52f15d);}_0x28accd[_0x2f4e88(0x2ec,0x328,0x2fb,0x2ca)]='';for(const _0x2186e8 in _0x552765[_0x3c5583(0xce,0x126,0x116,0xff)+_0x3c5583(0x127,0x117,0x135,0xed)+'ts']){const _0x3e36a2=document[_0x3c5583(0x141,0x151,0x121,0x150)+_0x2f4e88(0x33b,0x2d6,0x33c,0x2dc)](_0x4d0d9b[_0x2f4e88(0x274,0x2cc,0x279,0x271)]);_0x3e36a2[_0x3c5583(0x184,0x19c,0x1e5,0x1a0)]=_0x2186e8,_0x3e36a2[_0x3c5583(0x1b1,0x185,0x187,0x16f)+'t']=_0x2186e8,_0x28accd['add'](_0x3e36a2);}_0x28accd[_0x3c5583(0x192,0x19c,0x167,0x17d)]=_0x552765[_0x2f4e88(0x263,0x27a,0x20a,0x267)+_0x3c5583(0xfd,0x117,0x110,0x175)+_0x2f4e88(0x30e,0x28d,0x2e2,0x2bb)];}export async function loadBananaCharacterPreset(){const _0x17927e={'UyfYC':_0x4d876a(0x12a,0x160,0x119,0x101)+_0x4d876a(0x9f,0x55,0x94,0x61)+'d','iQTBH':_0x4d876a(0xeb,0xa6,0x9d,0xeb),'UdfSu':_0x4d876a(0xac,0x91,0xe4,0x11a),'RZBlr':function(_0x100523,_0x314389){return _0x100523(_0x314389);},'PqkJh':_0x4d876a(0x151,0xcc,0xfc,0xb1)+_0x288535(0x210,0x217,0x1e1,0x1f9)+_0x288535(0x223,0x1ec,0x1ea,0x247),'GFLXH':_0x4d876a(0x157,0x155,0xfc,0xe0)+']\x20迁移\x20Banan'+_0x4d876a(0x25,0x35,0x74,0x92),'xHmeu':function(_0x583f64,_0x4b3788){return _0x583f64===_0x4b3788;},'uPzOs':_0x288535(0x22f,0x1ee,0x1bd,0x1ee),'Kyhqq':function(_0xce7196){return _0xce7196();},'YbXIt':_0x288535(0x2bf,0x279,0x219,0x236)+_0x4d876a(0xde,0x73,0xae,0x86)+'t','cKHKR':_0x4d876a(0xbc,0x13e,0x119,0x12c)+_0x4d876a(0x38,0x19,0x63,0xb)+'xt','rznWI':'cfgimg_','XYipl':function(_0x205eb4,_0x56175f){return _0x205eb4(_0x56175f);},'mZFcC':_0x4d876a(0x73,0xb0,0x92,0xa1),'zWOXY':_0x4d876a(0x12b,0x80,0xd8,0xef)},_0x3b1fdc=extension_settings[extensionName],_0x381c09=document[_0x4d876a(0x121,0xe7,0xc8,0xdb)+'ById'](_0x4d876a(0x113,0x168,0x119,0x160)+_0x288535(0x23b,0x1f4,0x21a,0x1b1)+'d');if(!_0x381c09)return;const _0x37720a=_0x381c09[_0x288535(0x249,0x263,0x228,0x275)];_0x3b1fdc['bananaChar'+_0x288535(0x1e6,0x1de,0x1ee,0x1c9)+_0x4d876a(0x13e,0x125,0xe1,0xa1)]=_0x37720a;const _0x53e114=_0x3b1fdc[_0x4d876a(0x94,0xd8,0x8d,0xc2)+'acterPrese'+'ts'][_0x37720a];if(!_0x53e114)return;function _0x4d876a(_0x54aa8b,_0x310fdd,_0x5dc7cc,_0x32db44){return _0x3451(_0x5dc7cc- -0x102,_0x54aa8b);}let _0xe9e08d=![];const _0x33f4e3={};_0x33f4e3[_0x4d876a(0x9f,0x105,0xf8,0x156)]='';const _0x45dbb9={};_0x45dbb9[_0x4d876a(0x98,0xdf,0xf8,0xfc)]='';const _0x5155e6={};_0x5155e6['user']=_0x33f4e3,_0x5155e6[_0x4d876a(0x8d,0xa4,0xd8,0xc2)]=_0x45dbb9;const _0x475098=_0x53e114['conversati'+'on']||_0x5155e6;if(_0x475098['user']?.['image']&&_0x475098[_0x288535(0x24b,0x1f2,0x252,0x1b0)][_0x4d876a(0x15f,0xf4,0x116,0x10d)][_0x288535(0x1ca,0x210,0x1d3,0x1fc)](_0x17927e[_0x288535(0x1a1,0x1bd,0x1d7,0x186)])){const _0xd0dce5=await _0x17927e[_0x288535(0x19c,0x1c8,0x20f,0x1e0)](saveConfigImage,_0x475098[_0x4d876a(0x91,0x34,0x92,0x8a)][_0x288535(0x2b5,0x276,0x2b3,0x2a9)]);_0x475098[_0x288535(0x221,0x1f2,0x1a6,0x1d6)][_0x288535(0x2b3,0x256,0x2a5,0x2a0)]=_0xd0dce5,delete _0x475098[_0x288535(0x1b2,0x1f2,0x227,0x204)][_0x288535(0x21e,0x276,0x27b,0x253)],_0xe9e08d=!![],console[_0x4d876a(0x7c,0xe3,0x85,0x95)](_0x17927e['PqkJh'],_0xd0dce5);}if(_0x475098[_0x288535(0x293,0x238,0x1e2,0x1db)]?.[_0x288535(0x2c8,0x276,0x24e,0x262)]&&_0x475098[_0x4d876a(0xf7,0xe6,0xd8,0x131)][_0x4d876a(0x11a,0xde,0x116,0xcc)][_0x4d876a(0x66,0x7d,0xb0,0x74)](_0x17927e[_0x4d876a(0x1d,0x2f,0x5d,0x8e)])){const _0x3b1b3f=await _0x17927e[_0x4d876a(0xa4,0xb5,0x68,0x66)](saveConfigImage,_0x475098[_0x4d876a(0x11d,0x134,0xd8,0xb0)]['image']);_0x475098[_0x288535(0x1f0,0x238,0x1e7,0x229)][_0x288535(0x27d,0x256,0x29b,0x208)]=_0x3b1b3f,delete _0x475098[_0x4d876a(0xcf,0xf4,0xd8,0xe3)][_0x288535(0x2ba,0x276,0x278,0x2c6)],_0xe9e08d=!![],console[_0x4d876a(0x5d,0x28,0x85,0xc6)](_0x17927e['GFLXH'],_0x3b1b3f);}if(_0xe9e08d){if(_0x17927e[_0x288535(0x242,0x260,0x230,0x2b4)]('iodvu',_0x17927e[_0x4d876a(0x127,0x135,0xf2,0xa2)])){const _0x7d3900=_0x406ac8[_0x54a680],_0x19c9de=_0x40c1f6[_0x288535(0x1f1,0x228,0x209,0x26d)+'ById'](_0x17927e['UyfYC']);if(!_0x19c9de)return;_0x19c9de[_0x288535(0x298,0x250,0x23d,0x222)]='';for(const _0x2a60cd in _0x7d3900[_0x288535(0x1e5,0x1ed,0x1bb,0x226)+_0x4d876a(0x62,0x4d,0x7e,0x63)+'ts']){const _0x17d50c=_0x1d034a['createElem'+_0x288535(0x297,0x262,0x223,0x228)](_0x17927e[_0x4d876a(0x156,0x11f,0x109,0xe0)]);_0x17d50c[_0x288535(0x205,0x263,0x289,0x2a0)]=_0x2a60cd,_0x17d50c[_0x4d876a(0x13e,0x105,0xec,0xf5)+'t']=_0x2a60cd,_0x19c9de[_0x4d876a(0xd1,0xd1,0xdb,0xfa)](_0x17d50c);}_0x19c9de[_0x4d876a(0xa7,0x13b,0x103,0xa3)]=_0x7d3900[_0x4d876a(0x9e,0x74,0x8d,0x7f)+'acterPrese'+'tId'];}else _0x17927e[_0x288535(0x195,0x1db,0x18e,0x1e0)](saveSettingsDebounced);}document[_0x4d876a(0x110,0xcf,0xc8,0xd0)+_0x288535(0x22a,0x24e,0x236,0x2a6)](_0x288535(0x2cb,0x279,0x23e,0x2ce)+_0x4d876a(0xc6,0xd9,0x108,0x130))[_0x4d876a(0x14a,0x131,0x103,0x15f)]=_0x53e114[_0x4d876a(0xb6,0x5b,0x88,0x58)]||'',document['getElement'+'ById'](_0x17927e[_0x4d876a(0x55,0xd0,0x79,0x75)])[_0x4d876a(0x145,0x15b,0x103,0xa4)]=_0x475098[_0x4d876a(0xa9,0xeb,0x92,0x6d)]?.[_0x4d876a(0x11b,0x138,0xf8,0xc5)]||'',document[_0x4d876a(0xa5,0xaa,0xc8,0x8c)+_0x288535(0x225,0x24e,0x288,0x257)](_0x17927e[_0x288535(0x2a5,0x251,0x239,0x22e)])[_0x4d876a(0x109,0x108,0x103,0x135)]=_0x475098[_0x4d876a(0x108,0x79,0xd8,0x136)]?.['text']||'';let _0x11e7d1='',_0x109374='';function _0x288535(_0xde1765,_0x3f35ff,_0x2f5a77,_0x201a5b){return _0x3451(_0x3f35ff-0x5e,_0xde1765);}_0x475098[_0x4d876a(0x35,0xe4,0x92,0xab)]?.[_0x288535(0x240,0x256,0x26f,0x1fc)]&&_0x475098[_0x288535(0x1a4,0x1f2,0x193,0x1b9)][_0x288535(0x2ad,0x256,0x273,0x283)][_0x288535(0x26d,0x210,0x1dc,0x1c3)](_0x17927e[_0x4d876a(0x9c,0x62,0xaa,0xd3)])&&(_0x11e7d1=await _0x17927e[_0x288535(0x1d2,0x209,0x1a9,0x1b2)](getConfigImage,_0x475098[_0x288535(0x233,0x1f2,0x198,0x199)]['imageId'])||''),_0x475098[_0x288535(0x227,0x238,0x1ea,0x27e)]?.[_0x4d876a(0x11a,0x155,0xf6,0xba)]&&_0x475098['model']['imageId'][_0x288535(0x23c,0x210,0x200,0x1f6)](_0x4d876a(0x29,0xb7,0x6d,0x82))&&(_0x109374=await getConfigImage(_0x475098[_0x4d876a(0xa0,0xbd,0xd8,0x98)][_0x4d876a(0xea,0xa6,0xf6,0x14d)])||''),updateBananaImageUI(_0x17927e['mZFcC'],_0x11e7d1),updateBananaImageUI(_0x17927e['zWOXY'],_0x109374),_0x17927e[_0x4d876a(0xcd,0x36,0x7b,0xca)](saveSettingsDebounced);}function updateBananaCharacterPreset(){const _0x730fe7={'bbhDv':function(_0x267951,_0x12f533){return _0x267951(_0x12f533);},'FtXzJ':function(_0x6c5e2,_0x243915){return _0x6c5e2(_0x243915);},'DoZvH':function(_0x54630c,_0x27f3d9){return _0x54630c===_0x27f3d9;},'dSEqP':_0x394f1a(0x221,0x24a,0x292,0x26d),'ffLlI':_0x394f1a(0x235,0x25d,0x289,0x237)+'na\x20角色预设可保存'+_0x24693d(0x39b,0x3a6,0x354,0x370)+_0x24693d(0x39e,0x3b9,0x399,0x393),'jEsOw':function(_0x2f8217,_0x5b6358){return _0x2f8217(_0x5b6358);}};function _0x24693d(_0x390531,_0xf47a77,_0x219174,_0x50c852){return _0x3451(_0x219174-0x1e1,_0x390531);}const _0x36ac63=extension_settings[extensionName],_0x4d7ccf=_0x36ac63['bananaChar'+'acterPrese'+_0x24693d(0x3f6,0x3af,0x3c4,0x3de)];function _0x394f1a(_0x5aa2d4,_0x18e15d,_0x53b037,_0x2618ae){return _0x3451(_0x18e15d-0x47,_0x2618ae);}if(!_0x4d7ccf||!_0x36ac63[_0x24693d(0x3a9,0x34e,0x370,0x331)+_0x24693d(0x38d,0x35c,0x361,0x325)+'ts'][_0x4d7ccf]){_0x730fe7[_0x24693d(0x3f6,0x3e2,0x3ae,0x36b)](alert,_0x730fe7[_0x394f1a(0x20c,0x20c,0x1b3,0x1c7)]);return;}_0x730fe7[_0x394f1a(0x205,0x243,0x239,0x208)](stylishConfirm,_0x394f1a(0x26e,0x240,0x234,0x217)+'nana\x20角色预设\x20'+'\x22'+_0x4d7ccf+'\x22\x20吗？')['then'](_0x2c0d13=>{function _0x43c1c9(_0x3642b5,_0x31809f,_0xe3da61,_0xfd6479){return _0x394f1a(_0x3642b5-0x69,_0xe3da61-0x292,_0xe3da61-0x11a,_0xfd6479);}const _0x1ef635={'XmPkk':function(_0x1ad507,_0x5af03b){function _0x495d04(_0x4b89d2,_0xa59b51,_0x50a948,_0x5a2036){return _0x3451(_0xa59b51- -0x29b,_0x50a948);}return _0x730fe7[_0x495d04(-0xa3,-0xce,-0x12c,-0xa2)](_0x1ad507,_0x5af03b);}};function _0x595f6d(_0x586aaa,_0x40e175,_0x332e7b,_0x47b256){return _0x24693d(_0x332e7b,_0x40e175-0x11,_0x586aaa-0x75,_0x47b256-0x172);}if(_0x2c0d13){if(_0x730fe7[_0x43c1c9(0x50c,0x50c,0x4ec,0x4bb)](_0x43c1c9(0x4a4,0x51e,0x4dc,0x4f3),_0x730fe7[_0x595f6d(0x45f,0x494,0x437,0x42d)]))_0x730fe7['FtXzJ'](saveCurrentBananaCharacterData,_0x4d7ccf),_0x730fe7[_0x43c1c9(0x45f,0x4a6,0x450,0x44c)](alert,_0x43c1c9(0x423,0x433,0x44e,0x446)+_0x595f6d(0x3f8,0x3d3,0x3f9,0x3dc)+_0x4d7ccf+_0x43c1c9(0x4de,0x504,0x4d6,0x499));else{const _0x18b143=_0x2a87b4[_0x49cc85],_0xeff9c5=_0x18b143[_0x43c1c9(0x4a2,0x437,0x468,0x4bc)+_0x43c1c9(0x43a,0x486,0x459,0x411)+'tId'];if(!_0xeff9c5||!_0x18b143['bananaChar'+_0x595f6d(0x3d6,0x427,0x433,0x392)+'ts'][_0xeff9c5]){_0x2b258('没有活动的\x20Bana'+_0x595f6d(0x3d8,0x3b7,0x414,0x434)+_0x595f6d(0x3c9,0x3d9,0x405,0x3c1)+_0x595f6d(0x40e,0x420,0x3c4,0x425));return;}_0x730fe7[_0x43c1c9(0x475,0x42a,0x450,0x49d)](_0x11e34e,'确定要覆盖当前\x20Ba'+_0x43c1c9(0x429,0x402,0x445,0x47a)+'\x22'+_0xeff9c5+'\x22\x20吗？')[_0x43c1c9(0x491,0x4e9,0x4b7,0x4f4)](_0x40bc6a=>{function _0x3555d7(_0x3042f9,_0x1d0cce,_0x27931e,_0xe1cff){return _0x43c1c9(_0x3042f9-0xa,_0x1d0cce-0x139,_0xe1cff- -0x671,_0x3042f9);}function _0x5ebc6f(_0x358962,_0x2454e4,_0x341973,_0x4b2c48){return _0x595f6d(_0x4b2c48- -0x3d0,_0x2454e4-0x1c5,_0x358962,_0x4b2c48-0x1d1);}_0x40bc6a&&(_0x1ef635[_0x3555d7(-0x1b1,-0x1ca,-0x24e,-0x1f2)](_0x265f8a,_0xeff9c5),_0x1e5292(_0x5ebc6f(0x36,-0xb,-0xa,-0x5)+_0x5ebc6f(0x2,0x40,0x71,0x28)+_0xeff9c5+_0x3555d7(-0x1f6,-0x1f4,-0x190,-0x19b)));});}}});}function _0x1c6e(){const _0x5619fd=['q3f4Exu','nZKYnhfmqwnhCq','x2LTywDL','x2LTywDLx3jLBq','zMDTr1u','y2f0y2G','Dgv4DenVBNrLBG','ELPRtLC','qNLjza','s2fcDwW','Aw5Uzxjive1m','y0Tis1i','Dvb6t3m','z0Piv20','C3zRA3C','BhPIt1m','Aw1Hz2vjza','56gU5A6A6kAb6kAg55Uw5B2t5yMniejH','Dgv4Da','yKHeEue','AKvZt3C','iIdLT7lMM7tMLRdJGii','w0nOyxjHy3rLCG','y29UDgfPBNm','y0H6s20','shr2uLi','EeHTzxu','wKDequ8','zw50','DMfSDwu','ndC5mJa3nMHHsujNsG','y29UDMvYC2f0Aq','Dg9Y','zfnfCva','CL90CMLNz2vYCW','AvfuqKG','y1jWuxK','CxbgB0S','ExDxtKW','5PIV5zcM56gU5A6A5yIG6zMK6k+LiejH','z3r2A2e','C2zkBNi','D3ngwKu','rg9ADKG','xsdLIkdPMAtNLkJMIlFLM77NIyFLPlhOTku','yKXOq2W','5RkH5PYj5Rs75yQO55QeiejHBMe','iIdLT7lKV53LRzJJGii','Aw1Hz2u','C3jJ','zKnkCLe','yMfUyw5Hx2nOyq','DNzNveO','mZaWohrcrKDgtq','wxroBhq','vwrMu3u','BKTlug4','nhWYFdb8m3WX','x2LTywDLx2nVBG','zujAvuS','sLj2yLy','CL9TB2rLBf90zq','ysdOP5lOIBlPOOtORR7NMOtLKi3NP7a','z21yseS','uLfAExy','A2jxu1K','uLPcBhi','ywrKrxzLBNrmAq','BMfUysdOP5lOIBlPOOtORR4G','r21dAgi','zMLUza','y2zNAw1NxW','xsbcyw5HBMeG5QIH','yKH3DuS','BgvUz3rO','44cc6k+35ywiiUwpPUwTMos4UIlKUidKUkO','xsdLIkdPMAtMQkhLNOVLM77NIyFLPlhOTku','qMfUyw5HioINKUIjSUMIHa','ysdMQkhLNOVLM77NIyC6','yMjOrhy','CMvHzefZrgf0yq','vvjm','C0Lbr3O','wwjysxq','q2Hly1G','s3LOCxe','BM9Uzq','C3r5Bgu','ywn0zxjqCMvZzq','C3rLBMvY','BMeG6kEs6iMY6Ake6k6+5y+V5l+D5A2y','yNHLyMW','yMXVy2S','yxbWBhK','AfrwyM0','Bg9N','t3PHAhC','CxvLCNLtzwXLyW','DhjPz2DLCNm','yxjFzgvSzxrL','mJu2neDkuMzWvW','AfzsA3y','ysdNLkJMIlFLM77NIyC6','yMfUyw5Hq2HHCG','wvbdwuq','wMjYyNq','B2PhsNC','y01MDe8','DxnLCG','zfPkDvG','CL9WCMvZzxrFAq','xsdLIkdPMAtML6FMQkhLNOVLM77NIyFLPle','CMLVrLm','BLn3vgC','i2jHBMfUyv9JAa','yxjFDxbKyxrL','EuHbs1a','Dg9tDhjPBMC','CMTmyuK','B3b0Aw9U','AxjntvC','xsbcyw5HBMeG55sO','6k6+ici','ywDL','yxjFChjLC2v0xW','ruPMyNK','wg1qA2S','DgfPBMvY','otm0mtr2qMXqsxu','y2XPy2S','mtK3mdi5mKTdDg9RvW','wfLPCgW','CNPUv0K','A2v5CW','rwDxvNu','uLryte8','CL91C2vYx3rLEa','B3zL','C3rHCNrZv2L0Aa','B0nNug4','nZa2mZyWDhfct1D2','uKDMBNm','EgHuC2O','y3PQBNa','5PAW6Ake6k6+44cc','xsdOV4hNP7SGqMfUyw4','y3jLyxrLrwXLBq','qK1IENO','EKTNAhG','xsdLIkdPMAtML6FNLkJMIlFLM77NIyFLPle','vgXKzwm','C2vHCMnO','DhjPBq','v01NCxq','B25SB2fK','y29UC3rYDwn0BW','lwLTywDLlxbSyq','zMzmBeK','CL9TB2rLBf9PBq','AvzKA1C','quLjCfK','nwP3weDTyW','z2v0rwXLBwvUDa','BezgqNe','mxWYFda','rNryEKO','r29WAem','tefwCwy','rNLgBuG','zgLZCgXHEq','y2vOB2XKzxi','DKTgu0K','D2fYBG','mti0mtKWodjiDujIEhe','nJuYrLjJAxvj','swrVB1e','CK1Sqwe','wuzTq2K','Bw9KzwW','DgfYz2v0','tMHvBLi','ywrK','DgHLBG','6k+36l6t5ywL5PAWiejHBMfU','zMLSzxm','tejMs3K','5lIn6io95yIG6zMK5PYa5zco5lIa5lIQ6Ake6k6+','DeLK','AMfRsuO','DhjuzwS','zgf0ytPPBwfNzq','C3bSAxq'];_0x1c6e=function(){return _0x5619fd;};return _0x1c6e();}function saveBananaCharacterPresetAs(){function _0x15a8ed(_0x112e95,_0xa7100b,_0x4efd6a,_0x515dfd){return _0x3451(_0x515dfd- -0x27d,_0x4efd6a);}const _0x469c02={'NhUnR':'(((.+)+)+)'+'+$','Zldao':function(_0x4d20d4,_0x1c2288){return _0x4d20d4===_0x1c2288;},'IdooQ':_0x49be50(-0x1b1,-0x1bd,-0x1e4,-0x1bc),'ojGJw':function(_0x20100d,_0x58101f){return _0x20100d!==_0x58101f;},'Zbrbt':function(_0x2c3e1a,_0x409875){return _0x2c3e1a(_0x409875);},'sfJnr':function(_0x9685f1){return _0x9685f1();},'cRpQy':function(_0x2374e3,_0x3a1a55){return _0x2374e3(_0x3a1a55);},'YhccR':_0x15a8ed(-0x90,-0xda,-0xf0,-0x9e)+_0x15a8ed(-0x130,-0xc3,-0xcb,-0x117)};function _0x49be50(_0x4d34de,_0x5207de,_0x488a8c,_0x5cf971){return _0x3451(_0x4d34de- -0x3a0,_0x5cf971);}_0x469c02[_0x15a8ed(-0x12b,-0xcd,-0xf6,-0xec)](stylInput,_0x469c02['YhccR'])[_0x15a8ed(-0xfc,-0xb3,-0xb3,-0x9f)](_0x39122b=>{const _0x3ed9c8={};function _0x38b27e(_0x2d8b20,_0x3ab0ee,_0x5c06d8,_0x4bd002){return _0x49be50(_0x4bd002-0x782,_0x3ab0ee-0x3f,_0x5c06d8-0x15,_0x2d8b20);}_0x3ed9c8[_0x1e9a2b(-0x145,-0x16c,-0x1bb,-0x182)]=_0x469c02[_0x1e9a2b(-0x149,-0x12d,-0x19a,-0x13b)];const _0x2098db=_0x3ed9c8;function _0x1e9a2b(_0x3cd070,_0x759779,_0x4a1dd7,_0x5e4177){return _0x15a8ed(_0x3cd070-0x1a8,_0x759779-0x14d,_0x759779,_0x5e4177- -0x9a);}if(_0x469c02['Zldao'](_0x469c02[_0x38b27e(0x5d6,0x5c6,0x581,0x5b9)],_0x469c02[_0x38b27e(0x59c,0x60e,0x581,0x5b9)])){if(_0x39122b&&_0x469c02[_0x38b27e(0x53b,0x555,0x5b3,0x574)](_0x39122b[_0x1e9a2b(-0x180,-0x166,-0x131,-0x157)](),'')){const _0x2876c3=extension_settings[extensionName];_0x469c02['Zbrbt'](saveCurrentBananaCharacterData,_0x39122b),_0x2876c3[_0x1e9a2b(-0x1cd,-0x136,-0x129,-0x188)+_0x38b27e(0x57b,0x56e,0x560,0x562)+_0x1e9a2b(-0x193,-0x18b,-0x13c,-0x134)]=_0x39122b,_0x469c02[_0x1e9a2b(-0xf7,-0x163,-0xb2,-0x106)](loadBananaCharacterPresetList),_0x469c02[_0x1e9a2b(-0xfe,-0x137,-0x106,-0x10b)](alert,'Banana\x20角色预'+'设\x20\x22'+_0x39122b+'\x22\x20已保存。');}}else return _0x2785d8['toString']()[_0x38b27e(0x59c,0x54b,0x5a6,0x5a1)](dzMYwW[_0x1e9a2b(-0x1b9,-0x190,-0x1b3,-0x182)])['toString']()[_0x38b27e(0x5cf,0x5e0,0x5a8,0x5a5)+'r'](_0x5b3342)[_0x38b27e(0x5ad,0x599,0x568,0x5a1)](dzMYwW['dZJuX']);});}function _0x3451(_0x5198c4,_0x40e1a0){_0x5198c4=_0x5198c4-(-0x1*0x19da+-0x22fe+0x3e36);const _0x188cec=_0x1c6e();let _0x10e07b=_0x188cec[_0x5198c4];if(_0x3451['SUbeSt']===undefined){var _0x27ace9=function(_0x4b1247){const _0xa736ac='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xab17cd='',_0x2231e5='',_0x410fc2=_0xab17cd+_0x27ace9;for(let _0x47a506=0x3cb+0x2*-0x4fd+0x62f*0x1,_0x4ad2db,_0x39f70d,_0xadf7d3=-0x828+-0xc2*-0x29+0x7*-0x346;_0x39f70d=_0x4b1247['charAt'](_0xadf7d3++);~_0x39f70d&&(_0x4ad2db=_0x47a506%(0x1563+0x7*0x58f+-0x3c48)?_0x4ad2db*(-0x59*0x1d+-0x2405*-0x1+-0x19b0)+_0x39f70d:_0x39f70d,_0x47a506++%(-0x29a*0x2+0x25*0x6b+-0xa3f))?_0xab17cd+=_0x410fc2['charCodeAt'](_0xadf7d3+(0xb84+-0x1ad*0x14+-0x1f*-0xb6))-(-0x86*0x38+0x23b3*-0x1+-0x3d*-0x111)!==-0x3*0x23b+0x23a6+-0x1cf5?String['fromCharCode'](-0x94*-0x9+-0xe*-0x125+-0x143b&_0x4ad2db>>(-(0xaf8+-0x611+0x4e5*-0x1)*_0x47a506&-0x15f4+-0x2449+0x3a43)):_0x47a506:0x262b+0x97f+-0x17d5*0x2){_0x39f70d=_0xa736ac['indexOf'](_0x39f70d);}for(let _0x2ffc55=0x79*0x1d+-0x1*-0x1e49+-0x1*0x2bfe,_0x2e25c4=_0xab17cd['length'];_0x2ffc55<_0x2e25c4;_0x2ffc55++){_0x2231e5+='%'+('00'+_0xab17cd['charCodeAt'](_0x2ffc55)['toString'](0x7d0*-0x3+0x2ba*0x4+0xc98*0x1))['slice'](-(-0x78d+0x949*-0x2+0x1a21));}return decodeURIComponent(_0x2231e5);};_0x3451['vcoqzM']=_0x27ace9,_0x3451['pUpkJL']={},_0x3451['SUbeSt']=!![];}const _0x5b2b6d=_0x188cec[0x25f6+0x5ab+-0x2ba1],_0x5b8948=_0x5198c4+_0x5b2b6d,_0x13c875=_0x3451['pUpkJL'][_0x5b8948];if(!_0x13c875){const _0x574979=function(_0x44e135){this['lbpTXv']=_0x44e135,this['BKVcwr']=[-0x43a+0x1565+-0x112a,0x1*0x556+-0x26ef+0x2199,-0x1*-0x1195+0x32b*-0xb+0x1144],this['uNoSeg']=function(){return'newState';},this['wFBZrF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['VwFuTZ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x574979['prototype']['CNDlVp']=function(){const _0x57c6e6=new RegExp(this['wFBZrF']+this['VwFuTZ']),_0x3a25ab=_0x57c6e6['test'](this['uNoSeg']['toString']())?--this['BKVcwr'][0x3*0xa5e+-0x2596*0x1+-0x1*-0x67d]:--this['BKVcwr'][-0x3*0x67f+0x1902*0x1+-0x585];return this['bVpCXd'](_0x3a25ab);},_0x574979['prototype']['bVpCXd']=function(_0x554f19){if(!Boolean(~_0x554f19))return _0x554f19;return this['TUgwUa'](this['lbpTXv']);},_0x574979['prototype']['TUgwUa']=function(_0x1b6a26){for(let _0x54ae15=-0x1825+0x263+-0x15c2*-0x1,_0x39cd70=this['BKVcwr']['length'];_0x54ae15<_0x39cd70;_0x54ae15++){this['BKVcwr']['push'](Math['round'](Math['random']())),_0x39cd70=this['BKVcwr']['length'];}return _0x1b6a26(this['BKVcwr'][-0x6*-0x572+0xb67*0x1+-0x2c13]);},new _0x574979(_0x3451)['CNDlVp'](),_0x10e07b=_0x3451['vcoqzM'](_0x10e07b),_0x3451['pUpkJL'][_0x5b8948]=_0x10e07b;}else _0x10e07b=_0x13c875;return _0x10e07b;}async function saveCurrentBananaCharacterData(_0x4abe4a){const _0x3a9d98={'EgWVu':_0x4739f4(0x1de,0x1b3,0x228,0x1dc)+_0x25bfe3(-0xd8,-0x12f,-0x12c,-0xcf)+_0x25bfe3(-0x165,-0x152,-0x19c,-0x1a4),'bxebl':function(_0x436fc0,_0x5b00ef){return _0x436fc0!==_0x5b00ef;},'QHOpD':_0x25bfe3(-0x138,-0x18c,-0x1b3,-0x191),'rioFS':_0x25bfe3(-0xcd,-0xe3,-0x113,-0x131),'sIAGz':function(_0x3b1060,_0xfed7bf){return _0x3b1060(_0xfed7bf);},'gtvka':_0x25bfe3(-0xce,-0x10f,-0xf7,-0x155),'bHDyA':_0x25bfe3(-0x81,-0xdb,-0xaa,-0x94),'xhTsj':_0x4739f4(0x10c,0x18c,0x174,0x130),'YFmCi':function(_0x5d2edc,_0x41f6e3){return _0x5d2edc(_0x41f6e3);},'yRczm':function(_0xb8692a,_0x4e6d5b){return _0xb8692a(_0x4e6d5b);},'lFFBq':_0x4739f4(0x181,0x17d,0x1ec,0x1bf)+_0x4739f4(0x149,0x113,0xea,0x131)+'型图片已保存:','OktDy':_0x25bfe3(-0xc6,-0xda,-0x9c,-0xd5)+_0x25bfe3(-0xe1,-0xeb,-0x93,-0xf7),'rMlAa':_0x25bfe3(-0xe8,-0xda,-0x105,-0xcb)+_0x4739f4(0x14e,0x11e,0x172,0x126)+'xt','zKghx':function(_0xeace62){return _0xeace62();}},_0x286b9d=extension_settings[extensionName],_0x4d6131=_0x286b9d['bananaChar'+_0x4739f4(0x16c,0x18d,0x165,0x141)+'ts'][_0x4abe4a],_0x14b54a=document[_0x4739f4(0x1a3,0x1ab,0x194,0x18b)+_0x4739f4(0x1e8,0x1ce,0x210,0x1b1)](_0x25bfe3(-0x9d,-0xda,-0xb3,-0xfe)+'r_user_ima'+'ge')[_0x4739f4(0x1c5,0x1bb,0x1dd,0x1da)],_0x315f00=document['getElement'+_0x25bfe3(-0x146,-0x105,-0xf9,-0x117)](_0x3a9d98[_0x25bfe3(-0x10c,-0x147,-0x19f,-0x193)])[_0x25bfe3(-0xc1,-0xdc,-0x125,-0x136)];function _0x25bfe3(_0x52bcb6,_0xece7bc,_0x1f6db2,_0xda60d1){return _0x3451(_0xece7bc- -0x2f5,_0xda60d1);}function _0x4739f4(_0x124763,_0x21e773,_0x2060e9,_0x1ed40f){return _0x3451(_0x1ed40f- -0x3f,_0x124763);}const _0x42515b=_0x4d6131?.['conversati'+'on']?.[_0x4739f4(0x150,0x185,0x141,0x155)]?.[_0x4739f4(0x1ef,0x19c,0x17a,0x1b9)]||'',_0x57a30a=_0x4d6131?.[_0x4739f4(0x16c,0x1a6,0x16c,0x1c8)+'on']?.['model']?.[_0x25bfe3(-0xaa,-0xfd,-0xd8,-0x10e)]||'';let _0x166688='',_0x25c149='';_0x14b54a['startsWith'](_0x4739f4(0x1ce,0x1e3,0x1fc,0x1a7))&&(_0x42515b&&_0x42515b[_0x25bfe3(-0x135,-0x143,-0x10d,-0x19f)](_0x25bfe3(-0x1e1,-0x186,-0x179,-0x189))&&(_0x3a9d98[_0x4739f4(0x172,0x159,0x11e,0x144)](_0x3a9d98['QHOpD'],_0x3a9d98[_0x4739f4(0x1a3,0x15e,0x13c,0x159)])?await _0x3a9d98[_0x4739f4(0x152,0x10c,0x11f,0x13b)](deleteConfigImage,_0x42515b)[_0x25bfe3(-0xa8,-0x108,-0xe6,-0x133)](_0x19ed8c=>console['warn'](_0x25bfe3(-0xd6,-0xf7,-0xa6,-0x14c)+_0x4739f4(0x1a1,0x156,0x173,0x17e)+'败:',_0x19ed8c)):_0x7dce15[_0x4739f4(0x15b,0x12e,0x157,0x16a)]()),_0x166688=await _0x3a9d98['sIAGz'](saveConfigImage,_0x14b54a),console[_0x25bfe3(-0x173,-0x16e,-0x174,-0x1b5)](_0x4739f4(0x1c7,0x1ec,0x218,0x1bf)+_0x4739f4(0x1b2,0x15e,0x19e,0x162)+'户图片已保存:',_0x166688));if(_0x315f00[_0x25bfe3(-0x11b,-0x143,-0x113,-0x10d)](_0x3a9d98[_0x25bfe3(-0x143,-0xe5,-0xb0,-0xce)])){if(_0x3a9d98['bxebl']('NcZJK',_0x3a9d98[_0x25bfe3(-0xcd,-0xfa,-0x146,-0xa8)]))_0x57a30a&&_0x57a30a['startsWith'](_0x3a9d98[_0x25bfe3(-0x111,-0x13f,-0x141,-0xf2)])&&await _0x3a9d98[_0x25bfe3(-0x122,-0x11c,-0x165,-0xfb)](deleteConfigImage,_0x57a30a)[_0x25bfe3(-0x121,-0x108,-0x158,-0x14d)](_0x2c0aab=>console[_0x25bfe3(-0x12d,-0x121,-0x165,-0x131)](_0x4739f4(0x197,0x163,0x1ec,0x1bf)+_0x25bfe3(-0x131,-0x15e,-0x190,-0x190)+'败:',_0x2c0aab)),_0x25c149=await _0x3a9d98['yRczm'](saveConfigImage,_0x315f00),console['log'](_0x3a9d98[_0x25bfe3(-0x101,-0x12a,-0x127,-0xd1)],_0x25c149);else{_0x5bf1ff(_0x4739f4(0x19f,0x1c3,0x21e,0x1d7)+'na\x20角色预设可保存'+_0x25bfe3(-0x178,-0x182,-0x1c4,-0x1a4)+_0x25bfe3(-0x11a,-0x13d,-0x129,-0x17e));return;}}const _0x50d3af={'triggers':document[_0x4739f4(0x1b6,0x1db,0x14d,0x18b)+_0x25bfe3(-0x10b,-0x105,-0xf1,-0xf0)](_0x3a9d98['OktDy'])[_0x4739f4(0x19e,0x183,0x16e,0x1c6)],'conversation':{'user':{'text':document[_0x4739f4(0x19f,0x1de,0x1e2,0x18b)+_0x25bfe3(-0xe5,-0x105,-0xf2,-0x138)]('banana_cha'+_0x25bfe3(-0xeb,-0x145,-0x172,-0x16a)+'t')[_0x25bfe3(-0x140,-0xf0,-0xa6,-0xf5)],'imageId':_0x166688},'model':{'text':document['getElement'+_0x25bfe3(-0xc5,-0x105,-0xff,-0x117)](_0x3a9d98[_0x25bfe3(-0x13d,-0x11d,-0xf6,-0x124)])['value'],'imageId':_0x25c149}}};_0x286b9d[_0x25bfe3(-0x193,-0x166,-0x176,-0x10b)+_0x4739f4(0x10c,0x13f,0x15e,0x141)+'ts'][_0x4abe4a]=_0x50d3af,_0x3a9d98[_0x4739f4(0x18e,0x17e,0x193,0x17d)](saveSettingsDebounced);}async function deleteBananaCharacterPreset(){function _0x40a6f3(_0x1c73a7,_0x5943ba,_0x5f5d03,_0x5cb323){return _0x3451(_0x5cb323- -0x1f8,_0x1c73a7);}const _0x141cff={'gmXHK':_0x40a6f3(-0xb5,-0xcd,-0x22,-0x74),'bLhCl':_0x467be0(0x3ba,0x38e,0x3ae,0x3ab),'Ozahw':_0x467be0(0x474,0x481,0x4a2,0x448)+'r_preset_i'+'d','SnUKx':function(_0x196f50,_0x50186b){return _0x196f50<=_0x50186b;},'RQZyv':'yRTxk','RTXLO':function(_0x5ce2c2,_0x328a35){return _0x5ce2c2(_0x328a35);},'oKaMu':function(_0x279e55,_0x2895c4){return _0x279e55===_0x2895c4;},'BMbzz':'rRkmN','FyFmH':_0x467be0(0x3e7,0x3c0,0x3c5,0x39c),'RGfns':function(_0x33a52d,_0x4d218c){return _0x33a52d!==_0x4d218c;},'trTek':'xJPCY','HtvRR':function(_0x118e4d,_0x186b9c){return _0x118e4d(_0x186b9c);},'RdQJK':function(_0x3efa48){return _0x3efa48();},'WMgqt':function(_0x37f40a){return _0x37f40a();}},_0x485db0=extension_settings[extensionName],_0x1d0db9=document[_0x40a6f3(-0x58,-0x13,-0x85,-0x2e)+_0x467be0(0x40f,0x46f,0x3c9,0x41d)](_0x141cff[_0x467be0(0x380,0x38e,0x3bd,0x3b5)])?.[_0x40a6f3(0x0,-0x38,-0x3,0xd)];function _0x467be0(_0x1928d9,_0x31aaee,_0x56a0b5,_0x6dfa10){return _0x3451(_0x6dfa10-0x22d,_0x56a0b5);}if(_0x141cff['SnUKx'](Object[_0x467be0(0x3ea,0x433,0x426,0x3da)](_0x485db0[_0x467be0(0x3a0,0x3cd,0x3a8,0x3bc)+'acterPrese'+'ts'])[_0x467be0(0x3bd,0x39a,0x373,0x39f)],0x12f4+-0xe61*0x1+-0x1a*0x2d)){if(_0x141cff[_0x467be0(0x362,0x36c,0x39c,0x395)]===_0x141cff['RQZyv']){_0x141cff[_0x40a6f3(-0x32,-0x34,-0x3b,-0x49)](alert,_0x40a6f3(-0x28,0x1d,0xa,-0x16)+'。');return;}else{const _0x5c95cf=new _0xe77848();_0x5c95cf[_0x40a6f3(-0x4d,-0x2,0xa,-0x36)]=_0x5ac0ec=>{function _0x101133(_0x1f3565,_0x21e1be,_0x1a9a2e,_0x18cafa){return _0x467be0(_0x1f3565-0x1ea,_0x21e1be-0x8c,_0x1f3565,_0x21e1be- -0x7f);}_0x248f72[_0x15142b(0x101,0x130,0xd7,0xa4)]=_0x5ac0ec['target']['result'],_0x3409fb[_0x101133(0x382,0x32d,0x32f,0x34a)]['display']=_0x141cff[_0x15142b(-0x2a,0x70,0x25,-0x38)];function _0x15142b(_0x53d078,_0xd28c0,_0x5144cf,_0x15ed89){return _0x467be0(_0x53d078-0x1b8,_0xd28c0-0x19a,_0xd28c0,_0x5144cf- -0x36f);}_0x357f83['style'][_0x101133(0x3db,0x37f,0x3d1,0x3b6)]=_0x101133(0x385,0x32c,0x2db,0x367),_0x491ad9[_0x101133(0x317,0x32d,0x347,0x34e)][_0x15142b(0x67,0xba,0x8f,0x7a)]=_0x101133(0x2f0,0x332,0x311,0x31d);},_0x5c95cf['readAsData'+'URL'](_0x4cae5f[_0x40a6f3(0x9,-0x5e,-0x47,-0x18)][0x1a6*0x2+0x156c+-0x18b8]);}}const _0x296b9f=await _0x141cff[_0x467be0(0x3d9,0x42f,0x3e2,0x3dc)](stylishConfirm,_0x40a6f3(-0x1a,0x4e,0x49,0x17)+_0x467be0(0x36f,0x33c,0x3eb,0x399)+'\x22'+_0x1d0db9+'\x22');if(_0x296b9f){if(_0x141cff['oKaMu'](_0x141cff[_0x467be0(0x3db,0x402,0x407,0x3e8)],_0x467be0(0x365,0x3a2,0x3f7,0x3ba))){const _0x542b6f=_0x4526aa['apply'](_0x1480b0,arguments);return _0x4386ba=null,_0x542b6f;}else{const _0x160f77=_0x485db0[_0x467be0(0x3ac,0x3c1,0x3e9,0x3bc)+_0x40a6f3(-0x52,-0xc5,-0xb8,-0x78)+'ts'][_0x1d0db9];_0x160f77?.[_0x467be0(0x3df,0x3de,0x47d,0x434)+'on']?.[_0x40a6f3(-0x9a,-0x2f,-0xc0,-0x64)]?.[_0x467be0(0x44b,0x426,0x3f8,0x425)]&&_0x160f77[_0x40a6f3(-0x29,-0x17,0x3b,0xf)+'on']['user'][_0x40a6f3(-0x23,0x31,-0x6,0x0)]['startsWith'](_0x141cff[_0x40a6f3(0x2b,-0x56,-0x34,-0x28)])&&await _0x141cff[_0x40a6f3(-0x4e,-0x79,-0xa6,-0x49)](deleteConfigImage,_0x160f77[_0x467be0(0x42c,0x419,0x47f,0x434)+'on']['user'][_0x40a6f3(-0x2f,0x32,0x27,0x0)])[_0x467be0(0x424,0x40e,0x423,0x41a)](_0x1f81a6=>console[_0x467be0(0x3c2,0x3cb,0x3e8,0x401)]('[Character'+_0x40a6f3(-0x9,0x3b,-0x42,0x1c)+':',_0x1f81a6)),_0x160f77?.[_0x40a6f3(-0x22,0x2c,-0x4b,0xf)+'on']?.[_0x467be0(0x460,0x456,0x448,0x407)]?.[_0x467be0(0x40a,0x467,0x453,0x425)]&&_0x160f77['conversati'+'on'][_0x467be0(0x408,0x3c8,0x465,0x407)][_0x40a6f3(0x5b,0x23,-0x1a,0x0)][_0x467be0(0x435,0x3b0,0x3e3,0x3df)](_0x467be0(0x375,0x364,0x341,0x39c))&&(_0x141cff[_0x40a6f3(-0x90,-0x93,-0x58,-0x43)](_0x141cff[_0x40a6f3(-0x51,-0x33,-0x61,-0x13)],_0x141cff['trTek'])?(_0x157aa1[_0x40a6f3(0x70,0x54,-0x1b,0x21)]='',_0x996a81[_0x40a6f3(-0x70,-0x51,-0xbe,-0x79)]['display']=_0x141cff[_0x467be0(0x41a,0x430,0x435,0x442)],_0x478adf[_0x467be0(0x36c,0x372,0x3d9,0x3ac)][_0x467be0(0x443,0x3b1,0x3ca,0x3fe)]='block',_0x3b3936['style'][_0x467be0(0x40f,0x3c6,0x3fa,0x3fe)]=_0x141cff[_0x467be0(0x46f,0x407,0x466,0x442)]):await _0x141cff[_0x467be0(0x471,0x3f2,0x42b,0x42e)](deleteConfigImage,_0x160f77[_0x467be0(0x404,0x3e8,0x488,0x434)+'on'][_0x40a6f3(-0x17,-0x4c,-0x79,-0x1e)]['imageId'])[_0x40a6f3(-0x7,0x1,-0x15,-0xb)](_0x1a34a1=>console[_0x467be0(0x460,0x3f2,0x444,0x401)]('[Character'+_0x467be0(0x3de,0x3fd,0x3ff,0x3a1)+':',_0x1a34a1))),delete _0x485db0[_0x40a6f3(-0x43,-0xa5,-0x7f,-0x69)+_0x40a6f3(-0x81,-0x5a,-0xb5,-0x78)+'ts'][_0x1d0db9],_0x485db0['bananaChar'+'acterPrese'+_0x40a6f3(0xc,0x45,-0x5c,-0x15)]=Object[_0x40a6f3(-0xa3,-0x98,-0x11,-0x4b)](_0x485db0[_0x40a6f3(-0x55,-0x8a,-0x52,-0x69)+'acterPrese'+'ts'])[-0x7d4+-0xc75+0x1449],_0x141cff['RdQJK'](loadBananaCharacterPresetList),await _0x141cff['RdQJK'](loadBananaCharacterPreset),_0x141cff[_0x467be0(0x44c,0x38f,0x3d0,0x3ee)](saveSettingsDebounced);}}}const setupBananaImageUpload=_0x524d48=>{const _0x428563={'yHAKP':_0x17da55(0x2da,0x25e,0x294,0x2e7),'irMMW':'rkLaI','qpFoK':_0xc4ca42(0x56,0x23,-0x7,-0x46),'cHzKm':_0xc4ca42(-0x2c,-0x68,-0xd,-0x49),'Tldec':function(_0x330fe1,_0x233fb1){return _0x330fe1(_0x233fb1);},'fgmGU':function(_0xd9c4d6){return _0xd9c4d6();},'AIIpY':_0x17da55(0x2f9,0x2b0,0x2c8,0x2af),'vvgTJ':_0x17da55(0x281,0x213,0x256,0x234),'lzbOS':'.st-chatu8'+_0x17da55(0x2f4,0x295,0x2b9,0x2b1)+_0xc4ca42(0x2e,0x70,0x47,-0xd),'ywWNL':function(_0x26ba86,_0x26d25b){return _0x26ba86||_0x26d25b;},'czjnp':'click','gJHWm':'change'},_0x57a953=document[_0x17da55(0x2f6,0x2b8,0x2bf,0x2e0)+_0xc4ca42(0xb5,0x38,0x65,0x6d)](_0x17da55(0x2eb,0x363,0x310,0x2c0)+'r_'+_0x524d48+(_0xc4ca42(-0x5a,-0x48,-0x29,-0x82)+_0xc4ca42(0x6e,-0x3f,0x1c,0x29))),_0x473e08=document[_0xc4ca42(-0x5,0x35,0x3f,0x7)+_0x17da55(0x30c,0x2d0,0x2e5,0x32e)]('banana_cha'+'r_'+_0x524d48+'_image'),_0x13d423=_0x57a953['querySelec'+_0x17da55(0x355,0x2ee,0x2fd,0x29d)](_0x428563[_0xc4ca42(0x6d,0x17,0x6c,0xc)]);function _0x17da55(_0x44ef0e,_0x16fa5a,_0x5bec86,_0x5de3dd){return _0x3451(_0x5bec86-0xf5,_0x16fa5a);}function _0xc4ca42(_0x1d74c6,_0x374dee,_0x4758e8,_0x208068){return _0x3451(_0x4758e8- -0x18b,_0x208068);}const _0x21e957=document[_0xc4ca42(0x7b,0x49,0x3f,0x19)+_0xc4ca42(0x60,0xac,0x65,0x74)](_0xc4ca42(0xd2,0xd9,0x90,0x45)+'r_'+_0x524d48+(_0x17da55(0x2ff,0x31c,0x2e0,0x333)+_0x17da55(0x291,0x2ce,0x2a6,0x298))),_0x2a5b6e=document[_0x17da55(0x307,0x2dc,0x2bf,0x2bf)+_0xc4ca42(0x80,0x96,0x65,0x22)](_0xc4ca42(0xdb,0xc4,0x90,0x77)+'r_'+_0x524d48+('_image_inp'+'ut'));if(_0x428563[_0xc4ca42(0x58,0x6a,0x83,0x8d)](!_0x57a953,!_0x473e08)||!_0x13d423||!_0x21e957||!_0x2a5b6e)return;_0x57a953[_0x17da55(0x2b8,0x279,0x260,0x25f)+_0xc4ca42(0x18,-0x4,-0xa,0x36)](_0x428563[_0xc4ca42(0x32,0x8a,0x2c,0x25)],_0x1dbab5=>{function _0x12bacd(_0x3a2602,_0x3efc4c,_0x157736,_0x1770cb){return _0x17da55(_0x3a2602-0x73,_0x3a2602,_0x157736-0x89,_0x1770cb-0xb9);}function _0x21b137(_0xaf9871,_0x25e0d4,_0x2acca7,_0x47d911){return _0x17da55(_0xaf9871-0x1eb,_0x2acca7,_0xaf9871-0x2b3,_0x47d911-0xb4);}if(_0x12bacd(0x362,0x351,0x31c,0x2d1)===_0x428563[_0x12bacd(0x2ee,0x326,0x31e,0x344)])_0x1dbab5['target']!==_0x21e957&&!_0x21e957[_0x21b137(0x5a7,0x597,0x586,0x56e)](_0x1dbab5[_0x12bacd(0x330,0x396,0x359,0x349)])&&_0x2a5b6e[_0x21b137(0x551,0x4f8,0x564,0x553)]();else{const _0x3f2c4e=_0x582171[_0x12bacd(0x396,0x354,0x338,0x375)+'ent'](_0x428563[_0x21b137(0x544,0x537,0x4f7,0x528)]);_0x3f2c4e['value']=_0x5efdc1,_0x3f2c4e[_0x21b137(0x596,0x57b,0x5a0,0x5f6)+'t']=_0x2678a8,_0x1905d5[_0x21b137(0x585,0x56a,0x5a5,0x57a)](_0x3f2c4e);}}),_0x2a5b6e[_0xc4ca42(0xc,0x10,-0x20,0xa)+'stener'](_0x428563[_0xc4ca42(0x6b,0x1f,0x6a,0x4d)],()=>{function _0x41a1d5(_0x411a07,_0x36b7d7,_0x55c102,_0x50a301){return _0x17da55(_0x411a07-0x54,_0x50a301,_0x36b7d7-0x2cf,_0x50a301-0x33);}function _0x12d9dd(_0x513974,_0x4786ac,_0xa79b66,_0x158cb7){return _0xc4ca42(_0x513974-0x107,_0x4786ac-0xc9,_0xa79b66-0x573,_0x158cb7);}if(_0x2a5b6e[_0x12d9dd(0x57f,0x5e6,0x5c8,0x5c7)]&&_0x2a5b6e[_0x12d9dd(0x576,0x5ed,0x5c8,0x5f3)][0x1a82+-0x6a*0x56+0x1d2*0x5]){const _0x43809a=new FileReader();_0x43809a['onload']=_0x22ff28=>{_0x473e08[_0x50e8c7(0x184,0x1af,0x169,0x11b)]=_0x22ff28[_0x5e7dad(0x14e,0xff,0xf7,0x115)]['result'],_0x473e08['style'][_0x5e7dad(0x144,0xf2,0x141,0x12a)]=_0x428563[_0x5e7dad(0x180,0x165,0x183,0x178)];function _0x50e8c7(_0x1fa54c,_0x3cd03a,_0x5c024d,_0x35cfe2){return _0x41a1d5(_0x1fa54c-0x136,_0x5c024d- -0x474,_0x5c024d-0x149,_0x35cfe2);}_0x13d423[_0x50e8c7(0xee,0x9a,0xcf,0xcd)]['display']=_0x428563[_0x5e7dad(0x173,0x1cb,0x17f,0x11e)];function _0x5e7dad(_0x598fa3,_0x1b78b7,_0x4b9baf,_0x1e5dad){return _0x41a1d5(_0x598fa3-0xa2,_0x598fa3- -0x451,_0x4b9baf-0x114,_0x1e5dad);}_0x21e957[_0x5e7dad(0xf2,0xed,0x99,0xb3)][_0x50e8c7(0x143,0x16f,0x121,0x11b)]='block';},_0x43809a[_0x41a1d5(0x51c,0x53c,0x53d,0x537)+_0x12d9dd(0x50a,0x50a,0x561,0x5a4)](_0x2a5b6e[_0x41a1d5(0x5d4,0x5a4,0x592,0x5c9)][0x794*-0x3+0x1b6d*-0x1+0x3229*0x1]);}}),_0x21e957[_0xc4ca42(0x35,-0x44,-0x20,-0x46)+_0xc4ca42(-0x62,0x51,-0xa,-0x4)](_0x428563[_0x17da55(0x2c0,0x2a1,0x2ac,0x2c9)],()=>{function _0x33d8e6(_0x12543c,_0x2474ea,_0x5b53c5,_0x229bc8){return _0xc4ca42(_0x12543c-0xa4,_0x2474ea-0x199,_0x5b53c5- -0xb3,_0x229bc8);}function _0xe46654(_0x43e61b,_0x17e87e,_0x4163d8,_0x3ec5de){return _0x17da55(_0x43e61b-0x1bb,_0x43e61b,_0x3ec5de-0x171,_0x3ec5de-0x85);}if(_0x428563[_0xe46654(0x3e4,0x400,0x48e,0x42e)]!==_0x428563[_0xe46654(0x431,0x3f3,0x3d8,0x42e)]){const _0x2cdf6b=_0x493436[_0x39fcce];_0x428563[_0xe46654(0x3e9,0x417,0x3e1,0x424)](_0x5640e4,_0x4bfb51),_0x2cdf6b[_0x33d8e6(-0xf7,-0xcd,-0xaf,-0xa8)+_0x33d8e6(-0x62,-0xe0,-0xbe,-0x81)+_0xe46654(0x480,0x466,0x471,0x449)]=_0x4d3c81,_0x428563[_0x33d8e6(-0xaf,-0x64,-0x52,-0x71)](_0x279679),_0x246a5a(_0xe46654(0x382,0x3d4,0x3cf,0x3db)+_0xe46654(0x3a9,0x435,0x463,0x408)+_0x5793fc+_0x33d8e6(-0x6d,-0x3f,-0x27,-0x71));}else{const _0x5b1570=_0x428563[_0xe46654(0x4c9,0x426,0x4aa,0x482)][_0x33d8e6(-0x68,-0x6e,-0x57,-0x3d)]('|');let _0x4341fd=0x2c1+-0x8e4+0x1*0x623;while(!![]){switch(_0x5b1570[_0x4341fd++]){case'0':_0x13d423[_0xe46654(0x3c3,0x3dd,0x3d1,0x3e5)][_0xe46654(0x480,0x3da,0x451,0x437)]=_0x33d8e6(-0xd7,-0xf1,-0xba,-0x113);continue;case'1':_0x2a5b6e[_0x33d8e6(-0x4d,-0x16,-0x39,-0x6c)]='';continue;case'2':_0x473e08[_0x33d8e6(-0x6c,-0x77,-0xbf,-0xd1)]['display']=_0x428563[_0xe46654(0x42c,0x427,0x406,0x466)];continue;case'3':_0x21e957['style'][_0x33d8e6(-0x36,-0xa4,-0x6d,-0x71)]='none';continue;case'4':_0x473e08[_0x33d8e6(-0x83,0x1a,-0x25,0x2d)]='';continue;}break;}}});},updateBananaImageUI=(_0x59fc2a,_0x249d1d)=>{const _0x4d5c77={};_0x4d5c77[_0x29104d(-0xd8,-0xe9,-0xfa,-0xb8)]=function(_0x3ac336,_0x3cb698){return _0x3ac336||_0x3cb698;},_0x4d5c77['oCgPn']='.st-chatu8'+'-image-pla'+_0x26b0c9(0x315,0x325,0x314,0x2c6),_0x4d5c77[_0x26b0c9(0x36e,0x32c,0x310,0x323)]=_0x26b0c9(0x2aa,0x294,0x2c6,0x2af),_0x4d5c77[_0x26b0c9(0x31e,0x30d,0x32a,0x35f)]=_0x29104d(-0xea,-0x56,-0x8e,-0xb6);const _0x5d3391=_0x4d5c77;function _0x26b0c9(_0x18c684,_0x32633c,_0x3884f1,_0x2c2a00){return _0x3451(_0x3884f1-0x142,_0x18c684);}const _0x1be854=document[_0x29104d(-0x5c,-0x40,-0xaf,-0x6a)+_0x29104d(-0x1,-0x25,-0x2f,-0x44)]('banana_cha'+'r_'+_0x59fc2a+_0x29104d(-0x32,-0x3c,-0x7b,-0x4a)),_0x17a19f=document[_0x26b0c9(0x33e,0x332,0x30c,0x352)+'ById'](_0x26b0c9(0x317,0x38a,0x35d,0x319)+'r_'+_0x59fc2a+(_0x26b0c9(0x2b3,0x2f3,0x2a4,0x2d8)+'tainer'));if(_0x5d3391[_0x26b0c9(0x260,0x316,0x2be,0x2bb)](!_0x1be854,!_0x17a19f))return;function _0x29104d(_0x4add71,_0x56fb49,_0x257245,_0x2737c7){return _0x3451(_0x2737c7- -0x234,_0x257245);}const _0x16461c=_0x17a19f[_0x29104d(-0x5b,-0x97,-0xbb,-0xab)+_0x26b0c9(0x2fd,0x370,0x34a,0x307)](_0x5d3391[_0x26b0c9(0x29d,0x321,0x2f5,0x319)]),_0x2a3c02=document[_0x29104d(-0x97,-0x39,-0x6a,-0x6a)+'ById']('banana_cha'+'r_'+_0x59fc2a+(_0x26b0c9(0x334,0x2f1,0x32d,0x2eb)+_0x26b0c9(0x2e1,0x2b5,0x2f3,0x305)));_0x249d1d?(_0x1be854['src']=_0x249d1d,_0x1be854['style']['display']=_0x5d3391[_0x29104d(-0x8a,-0x93,-0x43,-0x66)],_0x16461c[_0x26b0c9(0x2d6,0x2e4,0x2c1,0x305)][_0x29104d(-0x47,-0x7b,-0x55,-0x63)]=_0x5d3391[_0x29104d(-0x60,-0x98,-0x4a,-0x4c)],_0x2a3c02[_0x26b0c9(0x2a8,0x26a,0x2c1,0x2d8)][_0x26b0c9(0x2e9,0x311,0x313,0x353)]=_0x5d3391[_0x29104d(-0xad,-0xb1,-0x58,-0x66)]):(_0x1be854[_0x26b0c9(0x3a0,0x305,0x35b,0x3b4)]='',_0x1be854[_0x26b0c9(0x287,0x2c5,0x2c1,0x28e)][_0x26b0c9(0x373,0x347,0x313,0x2fe)]='none',_0x16461c[_0x26b0c9(0x28a,0x289,0x2c1,0x31b)][_0x26b0c9(0x309,0x340,0x313,0x36e)]=_0x5d3391['GophC'],_0x2a3c02['style'][_0x29104d(-0x32,-0x2b,-0x19,-0x63)]=_0x5d3391['Cqxyu']);};