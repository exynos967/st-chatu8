(function(_0x2ad15c,_0x31f009){const _0x2ad050=_0x2ad15c();function _0x18792b(_0x17e721,_0x13a7c6,_0x338e5c,_0x3e0412){return _0xe3a1(_0x17e721-0x31a,_0x338e5c);}function _0x381bfd(_0x40704c,_0x3ec2e2,_0x245230,_0x5eedc9){return _0xe3a1(_0x5eedc9-0x42,_0x3ec2e2);}while(!![]){try{const _0x1daaf3=parseInt(_0x18792b(0x3ef,0x3c5,0x44e,0x41d))/(-0x91d*-0x3+-0x2391+0x12d*0x7)+-parseInt(_0x381bfd(0xec,0xd3,0x133,0x110))/(0x4*0x36d+-0x26e8+0x1936)+parseInt(_0x18792b(0x3ea,0x3ec,0x3aa,0x3ab))/(0x4cd*0x3+0xf94+-0x1df8)+parseInt(_0x381bfd(0x16d,0x1b4,0x122,0x160))/(0x5*-0x41b+0x1423+-0x4*-0x1a)+parseInt(_0x381bfd(0x1a5,0x1b7,0x1eb,0x1a5))/(0x1e5f+-0xd3*0x25+-0x25*-0x1)+parseInt(_0x18792b(0x45e,0x436,0x467,0x4ab))/(0x13d*0xb+0xc50+-0x2e1*0x9)*(-parseInt(_0x381bfd(0xe5,0xff,0xda,0x125))/(-0x67b*-0x3+0x23cf+-0x3739*0x1))+-parseInt(_0x18792b(0x475,0x43d,0x4bb,0x48f))/(0x2568+-0x24a1*0x1+-0x1*0xbf);if(_0x1daaf3===_0x31f009)break;else _0x2ad050['push'](_0x2ad050['shift']());}catch(_0x512aa6){_0x2ad050['push'](_0x2ad050['shift']());}}}(_0x1ede,-0xbb135+0x70393+0xace4b));const _0x1c3724=(function(){const _0x2d0eef={};_0x2d0eef['bBOFw']=function(_0x13a6f7,_0x2c7af9){return _0x13a6f7!==_0x2c7af9;},_0x2d0eef[_0x4e9b67(-0xc2,-0x92,-0xe1,-0x86)]=_0x4e9b67(-0xc5,-0x118,-0xed,-0x72);function _0x1426c5(_0x4b2e06,_0x6a0996,_0x4f225f,_0x1f864e){return _0xe3a1(_0x4b2e06- -0x104,_0x6a0996);}_0x2d0eef[_0x4e9b67(-0x12a,-0xd8,-0xcd,-0xd3)]=_0x1426c5(0x4c,0x96,0xa4,0xa3);const _0x485b08=_0x2d0eef;let _0x40427e=!![];function _0x4e9b67(_0x4d0c97,_0x1a83d4,_0x4589c1,_0x199383){return _0xe3a1(_0x4d0c97- -0x22a,_0x4589c1);}return function(_0x37802d,_0x4af2e6){const _0x5272b5=_0x40427e?function(){function _0x3ec341(_0x5824ef,_0x1aa3c0,_0x21bfc2,_0x2defa4){return _0xe3a1(_0x5824ef-0x179,_0x21bfc2);}function _0xd27100(_0x4eb659,_0x10a010,_0x2ce5a0,_0x16b7aa){return _0xe3a1(_0x10a010-0x1ea,_0x4eb659);}if(_0x485b08[_0x3ec341(0x294,0x27c,0x23c,0x23a)](_0x485b08[_0xd27100(0x344,0x352,0x321,0x301)],_0x485b08[_0xd27100(0x2d7,0x2ea,0x2f6,0x33f)])){if(_0x4af2e6){const _0x432204=_0x4af2e6[_0xd27100(0x2a3,0x2d0,0x2ff,0x2dc)](_0x37802d,arguments);return _0x4af2e6=null,_0x432204;}}else _0x1a7261['src']=_0x2b0dcd['target']['result'],_0x1884a4[_0x3ec341(0x27a,0x2ce,0x2a9,0x2c6)]['display']=_0x3ec341(0x270,0x22d,0x22d,0x23d),_0x230fa0[_0xd27100(0x32e,0x2eb,0x2e1,0x320)][_0x3ec341(0x237,0x1f8,0x255,0x229)]=_0xd27100(0x2ff,0x32a,0x2de,0x2fd),_0x5ecbaf[_0xd27100(0x2ca,0x2eb,0x33e,0x347)][_0xd27100(0x295,0x2a8,0x26c,0x255)]=_0xd27100(0x2e2,0x2e1,0x2e2,0x293);}:function(){};return _0x40427e=![],_0x5272b5;};}()),_0x24747c=_0x1c3724(this,function(){function _0x6cb5fd(_0x39a90c,_0x1054a1,_0x1bfdf0,_0x4b9bb2){return _0xe3a1(_0x39a90c- -0x145,_0x1bfdf0);}function _0x1954e0(_0x15c42a,_0x59a28b,_0x1c778f,_0x349575){return _0xe3a1(_0x15c42a- -0x2db,_0x59a28b);}const _0x1bc198={};_0x1bc198['awQHz']='(((.+)+)+)'+'+$';const _0x18b24a=_0x1bc198;return _0x24747c[_0x1954e0(-0x207,-0x220,-0x1c3,-0x23d)]()[_0x1954e0(-0x1a9,-0x173,-0x19a,-0x175)](_0x18b24a[_0x1954e0(-0x229,-0x21b,-0x23e,-0x216)])[_0x1954e0(-0x207,-0x1c5,-0x22f,-0x1e7)]()[_0x6cb5fd(-0x86,-0x63,-0x63,-0x28)+'r'](_0x24747c)['search'](_0x18b24a['awQHz']);});_0x24747c();function _0xe3a1(_0x56c020,_0x18e5b1){_0x56c020=_0x56c020-(-0x1*-0x2d1+0x20d7+-0x22f7);const _0x416d60=_0x1ede();let _0x289584=_0x416d60[_0x56c020];if(_0xe3a1['LRBEih']===undefined){var _0x5f0406=function(_0x15f2c4){const _0x142ba1='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4c561c='',_0x515948='',_0x5e9723=_0x4c561c+_0x5f0406;for(let _0x4fea6a=-0x1b6a+-0x26f9+0x4263,_0x19470f,_0xa56de7,_0x2a3c8c=0xb3f*-0x1+-0x1066+0x3*0x937;_0xa56de7=_0x15f2c4['charAt'](_0x2a3c8c++);~_0xa56de7&&(_0x19470f=_0x4fea6a%(0x2bb*-0x4+-0x125b+0x1d4b)?_0x19470f*(0x1e87+-0x1705+-0x742)+_0xa56de7:_0xa56de7,_0x4fea6a++%(0x7*-0x3ee+0x1*0x1609+-0x5*-0x119))?_0x4c561c+=_0x5e9723['charCodeAt'](_0x2a3c8c+(0x177d+-0x22e+0x1ef*-0xb))-(0x1*-0x2312+0x909+0x1a13)!==0x26cd+-0x2594+-0x139*0x1?String['fromCharCode'](-0x95f+0x1*0x16e5+0x42d*-0x3&_0x19470f>>(-(0x2213+0x8d7+-0x8*0x55d)*_0x4fea6a&-0x2*0xb8a+-0x6e1*0x5+0x397f)):_0x4fea6a:0x57c+0x4a8*0x1+0x4*-0x289){_0xa56de7=_0x142ba1['indexOf'](_0xa56de7);}for(let _0x34abcf=-0x49f*-0x4+0x21f1+0x1*-0x346d,_0x329596=_0x4c561c['length'];_0x34abcf<_0x329596;_0x34abcf++){_0x515948+='%'+('00'+_0x4c561c['charCodeAt'](_0x34abcf)['toString'](0x6*-0x425+-0x14d8+0x2dc6))['slice'](-(0x34*-0xa6+0x2352+-0x198));}return decodeURIComponent(_0x515948);};_0xe3a1['muySGX']=_0x5f0406,_0xe3a1['CdQvxK']={},_0xe3a1['LRBEih']=!![];}const _0x308c36=_0x416d60[-0xb*0xf7+-0x633*0x4+0x2369],_0x3e3304=_0x56c020+_0x308c36,_0xbcd88=_0xe3a1['CdQvxK'][_0x3e3304];if(!_0xbcd88){const _0x1f6ed8=function(_0x4678ec){this['MqxkDo']=_0x4678ec,this['ltjyPo']=[0x2255+0x1077+-0x32cb,0x11*-0xe3+-0x1ff3+0x2f06,-0x2*0xed5+-0x1f*-0x12+-0x2*-0xdbe],this['Rnnbap']=function(){return'newState';},this['idleYf']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['GlgrkJ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1f6ed8['prototype']['LgunsF']=function(){const _0x21cfdb=new RegExp(this['idleYf']+this['GlgrkJ']),_0x422471=_0x21cfdb['test'](this['Rnnbap']['toString']())?--this['ltjyPo'][0x1e*0x141+-0x33d*0x3+-0x1be6]:--this['ltjyPo'][0x121*-0x2+0xf8*0x7+-0x486];return this['MFoYwx'](_0x422471);},_0x1f6ed8['prototype']['MFoYwx']=function(_0x544d83){if(!Boolean(~_0x544d83))return _0x544d83;return this['vktIxy'](this['MqxkDo']);},_0x1f6ed8['prototype']['vktIxy']=function(_0x1a373c){for(let _0x1b0501=0xe9*-0xe+-0x1cb8*-0x1+0x7fd*-0x2,_0x2c2cd0=this['ltjyPo']['length'];_0x1b0501<_0x2c2cd0;_0x1b0501++){this['ltjyPo']['push'](Math['round'](Math['random']())),_0x2c2cd0=this['ltjyPo']['length'];}return _0x1a373c(this['ltjyPo'][-0x13ba+-0xfa*0x23+-0x2*-0x1af4]);},new _0x1f6ed8(_0xe3a1)['LgunsF'](),_0x289584=_0xe3a1['muySGX'](_0x289584),_0xe3a1['CdQvxK'][_0x3e3304]=_0x289584;}else _0x289584=_0xbcd88;return _0x289584;}import{extension_settings}from'../../../../../../extensions.js';function _0x1ede(){const _0x436757=['C3PPwwG','C3r5Bgu','x2LTywDLx2nVBG','AKvlyMO','ru5QD3i','CuDnEMi','ysdOP5lOIBlPOOtORR7NMOtLKi3NP7a','s0PQy1G','qvDeAei','zxHKuwW','CL9WCMvZzxrFAq','s0vgDKK','CMvHzefZrgf0yq','Bw9KzwW','yMfUyw5Hq2HHCG','yuvZAfq','qNLjza','BMHJsuu','iIdLKjFVVj8','C3rHCNrZv2L0Aa','w0nOyxjHy3rLCG','Aw1Hz2vjza','s2Pgs0y','ExbYELq','C095r1m','wLj3t1K','z3PWwLK','yKjprNC','B25SB2fK','C3rLBMvY','mJaXmtm1nKnHzevQwG','CL91C2vYx2LTyq','AwLeDLy','CL90CMLNz2vYCW','q3jiB3y','D1bprK4','yxjFDxbKyxrL','Dg9Y','yMfUyw5Hx2nOyq','DhjPBq','5z6l5zU+54Mh5BEY5l+D5A2yoG','EM11ruq','DeLK','lNn0lwnOyxr1oa','Ee5wwhK','y2f0y2G','6k+36l6t5ywL5PAWiejHBMfU','ENDqBxO','x2LTywDLx3jLBq','C3jJ','C2vHCMnO','r1PmtK8','BKznEgm','t2nvsxm','xsdLIkdPMAtMQkhLNOVLM77NIyFLPlhOTku','r3n6vKy','y2zNAw1NxW','rw1Qzhe','s21iBKm','Aw5Uzxjive1m','Bez4q0m','rKTMCeS','y2vOB2XKzxi','DMfSDwu','BM9Uzq','qujxsfO','Ewr5D0W','y2HHBMDL','ntrfDKTYwLi','uwH6AeK','CL91C2vYx3rLEa','q3Hpwui','tuL5Eeu','uuvQALG','qMfUyw5HioINKUIjSUMIHa','txDtrNe','nhWZFdj8mhWX','Bg9N','uLPjC2y','vuneEMW','Eurvvwi','Dgv4DenVBNrLBG','DhjPz2DLCNm','iIdLT7lKV53LRzJJGii','Dgv4Da','z1Dpyvq','z0jZyKy','r3HnwhK','ywrK','BMrnwMy','AvLYANa','otaWotqZmLjKtMDTCG','CL9TB2rLBf9PBq','EfLHuvi','B3zL','qufpvwe','ywrKrxzLBNrmAq','Efj5DNu','ww1ftxy','mZGWnZG5mfH0BurLwG','uxjOrLy','yuP2zKO','xsdOV4hNP7SGqMfUyw4','ywTivvu','C0nlvwu','DgfYz2v0','5lIn6io95yIG6zMK5PYa5zco5lIa5lIQ6Ake6k6+','xsdLIkdPMAtML6FMQkhLNOVLM77NIyFLPle','BMeG6kEs6iMY6Ake6k6+5y+V5l+D5A2y','z2XmALy','yxjFC2f2zv9HCW','vMLgzKq','yxDrshO','C3bSAxq','xsbcyw5HBMeG55sO','CMvZDwX0','lwLTywDLlxbSyq','uuzpDuy','Ahreww8','DhHmu1q','zMLUza','vMruEuK','zfLhvhe','yLnnuwy','zgLZCgXHEq','y29UC3rYDwn0BW','sK9UDKK','wvz0t3m','uuXcBxq','DKrgyxy','CxrfCwe','n3W2Fdn8mNW1Fa','A2v5CW','tgvAwNq','DuzbzeW','u01dv1i','yxjFzgvSzxrL','rKXozei','y2XPy2S','ywDL','nJiXndy2thfKrKzq','x2LTywDLx2LUCa','mte5nJmYnwrnyuvZvG','uKP0DLy','thvczvO','56gU5A6A6kAb6kAg55Uw5B2t5yMniejH','Dg9tDhjPBMC','nJaZnJe2BKDlvMrz','DgHLBG','BMfUysdOP5lOIBlPOOtORR4G','xsbcyw5HBMeG5QIH','C2vYuLK','y29UDMvYC2f0Aq','BgvUz3rO','rfrtC2m','DxnLCG','Aw1Hz2u','r2rtyva','i2jHBMfUyv9JAa','6k6+ici','mxWYFdr8mhWZ','mZmZmtm3q0n3Cwrc','CxvLCNLtzwXLyW','ysdNLkJMIlFLM77NIyC6','yxbWBhK','CxrZuMW','q2HbvhC','CL9TB2rLBf90zq','zuzlz2G','zgf0ytPPBwfNzq','y29UDgfPBNm','C3zfD3C','qxPAr1e','zMLSzxm','BeTyrxq','vvjm','rLPKwLa','wwjRq0y','z2v0rwXLBwvUDa','tLHhswK','D2fYBG','yMXVy2S','qKH5vvK','x2LTywDL','xsdLIkdPMAtNLkJMIlFLM77NIyFLPlhOTku','44cc6k+35ywiiUwpPUwTMos4UIlKUidKUkO','DgfPBMvY','ywn0zxjqCMvZzq','zfvMEwi','rLLUCwm'];_0x1ede=function(){return _0x436757;};return _0x1ede();}import{saveSettingsDebounced}from'../../../../../../../script.js';import{extensionName}from'../../config.js';import{stylInput,stylishConfirm}from'../../ui_common.js';import{saveConfigImage,getConfigImage,deleteConfigImage}from'../../configDatabase.js';export function setupBananaCharacterControls(_0x3084c9){const _0x9771f0={'lFxCC':_0x4825ad(-0x2da,-0x26d,-0x2b6,-0x28c)+'0|1|4','LuBeZ':function(_0x427e19,_0x3d47b7){return _0x427e19(_0x3d47b7);},'uYhIH':_0xf0fd6b(0x227,0x239,0x1db,0x1ea),'CrHov':function(_0x55d323,_0x4bb401){return _0x55d323(_0x4bb401);},'ABWHZ':'model','lKXEt':_0x4825ad(-0x2bb,-0x290,-0x22a,-0x285),'iYrjp':_0xf0fd6b(0x22a,0x257,0x243,0x282)+_0x4825ad(-0x25d,-0x201,-0x22c,-0x22d),'KJjcX':function(_0x16d965){return _0x16d965();},'FZdZP':'#banana_ch'+_0x4825ad(-0x2bf,-0x252,-0x2c8,-0x287),'glLjV':_0xf0fd6b(0x22a,0x1ce,0x27d,0x273)+'ar_preset_'+'id','PhBfm':function(_0x869385){return _0x869385();}};function _0x4825ad(_0x4109d6,_0x1597e5,_0x377ef9,_0xb9d88d){return _0xe3a1(_0xb9d88d- -0x351,_0x377ef9);}const _0x415cef=_0x9771f0[_0x4825ad(-0x1b9,-0x1d6,-0x202,-0x215)][_0xf0fd6b(0x1fd,0x21a,0x1af,0x1ca)]('|');let _0x3de7eb=0x5*-0x737+0x16e5*0x1+0xd2e*0x1;function _0xf0fd6b(_0x3caf37,_0x346a9c,_0x5d44b,_0x1e9943){return _0xe3a1(_0x3caf37-0x14a,_0x1e9943);}while(!![]){switch(_0x415cef[_0x3de7eb++]){case'0':_0x9771f0[_0xf0fd6b(0x21c,0x1f6,0x237,0x1bd)](setupBananaImageUpload,_0x9771f0['uYhIH']);continue;case'1':_0x9771f0[_0xf0fd6b(0x26c,0x229,0x26b,0x216)](setupBananaImageUpload,_0x9771f0[_0xf0fd6b(0x28b,0x27c,0x255,0x2e2)]);continue;case'2':_0x3084c9[_0xf0fd6b(0x204,0x1f7,0x256,0x1e9)](_0x4825ad(-0x28b,-0x25f,-0x256,-0x271)+_0x4825ad(-0x1ce,-0x1d5,-0x1da,-0x1e3))['on'](_0x9771f0[_0xf0fd6b(0x23a,0x25b,0x283,0x1fc)],saveBananaCharacterPresetAs);continue;case'3':_0x3084c9['find'](_0x9771f0[_0xf0fd6b(0x2a4,0x271,0x271,0x300)])['on'](_0x4825ad(-0x249,-0x24d,-0x24d,-0x285),updateBananaCharacterPreset);continue;case'4':_0x9771f0[_0x4825ad(-0x2a4,-0x21f,-0x238,-0x24a)](loadBananaCharacterPreset);continue;case'5':_0x3084c9[_0x4825ad(-0x2d2,-0x261,-0x23c,-0x297)](_0x9771f0[_0xf0fd6b(0x23c,0x285,0x265,0x275)])['on'](_0x9771f0['lKXEt'],deleteBananaCharacterPreset);continue;case'6':_0x3084c9[_0xf0fd6b(0x204,0x218,0x207,0x218)](_0x9771f0[_0x4825ad(-0x1db,-0x18b,-0x1a5,-0x1e4)])['on']('change',loadBananaCharacterPreset);continue;case'7':_0x9771f0['PhBfm'](loadBananaCharacterPresetList);continue;}break;}}export function loadBananaCharacterPresetList(){const _0x5bfde9={};function _0x16e653(_0x2d4673,_0x478867,_0xe1b676,_0x336c4e){return _0xe3a1(_0x2d4673- -0x30d,_0x336c4e);}_0x5bfde9[_0x16e653(-0x1c4,-0x19f,-0x1ab,-0x1ff)]=_0x16e653(-0x1e7,-0x1a8,-0x1ea,-0x204)+_0x339e0f(-0xbc,-0x82,-0x7a,-0x4d)+'d',_0x5bfde9[_0x339e0f(-0x63,-0x87,-0x95,-0x77)]='option';function _0x339e0f(_0x20c61b,_0x353586,_0x3f76f0,_0x4afa43){return _0xe3a1(_0x353586- -0x18c,_0x3f76f0);}const _0xbab928=_0x5bfde9,_0x472a38=extension_settings[extensionName],_0x29240a=document[_0x339e0f(-0x59,-0x98,-0xb7,-0x73)+'ById'](_0xbab928[_0x339e0f(0xc,-0x43,0x0,-0x78)]);if(!_0x29240a)return;_0x29240a[_0x16e653(-0x1d2,-0x1b0,-0x20a,-0x1a9)]='';for(const _0xe1f62f in _0x472a38[_0x339e0f(-0x50,-0x7e,-0x42,-0xa2)+_0x339e0f(-0x46,-0x8f,-0x41,-0xe0)+'ts']){const _0x471a77=document['createElem'+'ent'](_0xbab928[_0x16e653(-0x208,-0x1ab,-0x1b0,-0x1e4)]);_0x471a77[_0x339e0f(-0x47,-0x4d,-0x55,-0x82)]=_0xe1f62f,_0x471a77[_0x339e0f(-0x7a,-0x3b,-0x70,0x17)+'t']=_0xe1f62f,_0x29240a[_0x339e0f(-0x18,-0x34,-0x8f,-0x4a)](_0x471a77);}_0x29240a['value']=_0x472a38[_0x16e653(-0x1ff,-0x1c4,-0x1e2,-0x22d)+_0x16e653(-0x210,-0x24d,-0x218,-0x1c4)+'tId'];}export async function loadBananaCharacterPreset(){const _0x8171e5={'RJtvV':_0x59d840(0x4b,0x33,0x7b,0x8c),'BHyUY':'DVRhx','gWOaT':_0x2e08fe(0x12a,0x17e,0x180,0x15a)+_0x2e08fe(0x17b,0x1f6,0x1d7,0x1ac)+_0x2e08fe(0xf8,0x15a,0x161,0x12b),'gzpZY':function(_0xfb3c16,_0x11725c){return _0xfb3c16(_0x11725c);},'LeZZt':function(_0x167578){return _0x167578();},'UCDzl':'banana_cha'+'r_triggers','FtgSF':'banana_cha'+_0x2e08fe(0x1e3,0x1ad,0x147,0x18c)+'t','DTSsc':'banana_cha'+_0x59d840(0xb7,0xc1,0xd1,0x8a)+'xt','QhzhI':_0x59d840(0x7b,0x109,0x11e,0xd9),'ViFfD':function(_0x3cdfe2,_0x312334){return _0x3cdfe2(_0x312334);},'zmuED':function(_0x14508f,_0x4a8568){return _0x14508f(_0x4a8568);},'KEFvI':function(_0x2adb40,_0x1a1397,_0x2ee160){return _0x2adb40(_0x1a1397,_0x2ee160);},'rddSU':function(_0x4e2716){return _0x4e2716();}},_0x56952f=extension_settings[extensionName],_0x3d8c0a=document[_0x59d840(0xf1,0x8b,0xee,0x95)+_0x59d840(0xd1,0xca,0xa0,0xb1)](_0x59d840(0x92,0xfc,0xd2,0xc7)+_0x59d840(0x93,0x5d,0x9a,0xab)+'d');if(!_0x3d8c0a)return;const _0x897d43=_0x3d8c0a[_0x59d840(0xe6,0x95,0xfc,0xe0)];_0x56952f[_0x2e08fe(0x198,0x17f,0x158,0x154)+_0x2e08fe(0xf7,0x1a2,0x173,0x143)+_0x2e08fe(0x17a,0x14b,0x198,0x170)]=_0x897d43;const _0x1afcb2=_0x56952f[_0x2e08fe(0x134,0x13a,0x118,0x154)+_0x2e08fe(0x19f,0x135,0x172,0x143)+'ts'][_0x897d43];function _0x59d840(_0x42cf1c,_0x51f716,_0xbd2645,_0x5bd564){return _0xe3a1(_0x5bd564- -0x5f,_0x42cf1c);}if(!_0x1afcb2)return;let _0x1de1a5=![];const _0x45ab31={};_0x45ab31[_0x59d840(0x104,0x133,0x114,0xf5)]='';function _0x2e08fe(_0x363e68,_0x1c91a8,_0x5d2862,_0x4fa410){return _0xe3a1(_0x4fa410-0x46,_0x363e68);}const _0x2a77a4={};_0x2a77a4[_0x2e08fe(0x199,0x1e1,0x18e,0x19a)]='';const _0x597856={};_0x597856[_0x2e08fe(0x144,0xd7,0x140,0x123)]=_0x45ab31,_0x597856[_0x2e08fe(0x1a2,0x165,0x109,0x153)]=_0x2a77a4;const _0x295103=_0x1afcb2[_0x2e08fe(0xe3,0xd1,0x124,0x120)+'on']||_0x597856;if(_0x295103[_0x2e08fe(0x126,0xf2,0xcb,0x123)]?.[_0x2e08fe(0xd0,0x129,0x16a,0x124)]&&_0x295103[_0x2e08fe(0xed,0xcd,0x164,0x123)][_0x59d840(0x34,0x5c,0x9c,0x7f)][_0x2e08fe(0x145,0x159,0x11c,0x159)](_0x8171e5['RJtvV'])){if(_0x8171e5[_0x2e08fe(0x134,0xf1,0x189,0x13e)]!==_0x8171e5['BHyUY']){const _0x2bc4ef=_0x5f0b1f[_0x2e08fe(0x188,0xd8,0xd5,0x12c)](_0x1d309b,arguments);return _0xa0f524=null,_0x2bc4ef;}else{const _0x4697a1=await saveConfigImage(_0x295103[_0x59d840(0xca,0x45,0xdc,0x7e)][_0x59d840(0xbf,0x7e,0xa0,0x7f)]);_0x295103['user'][_0x59d840(0x85,0x67,0xb3,0xb6)]=_0x4697a1,delete _0x295103['user'][_0x59d840(0x81,0x80,0xae,0x7f)],_0x1de1a5=!![],console[_0x59d840(0xee,0xf7,0x13f,0xee)](_0x8171e5[_0x59d840(0x107,0x138,0x141,0xf6)],_0x4697a1);}}if(_0x295103[_0x2e08fe(0x16d,0x18a,0xfd,0x153)]?.[_0x59d840(0xb6,0x47,0x63,0x7f)]&&_0x295103[_0x2e08fe(0x198,0x172,0x16f,0x153)]['image']['startsWith'](_0x8171e5[_0x2e08fe(0xdf,0xbb,0xec,0x117)])){const _0x3de8e7=await _0x8171e5[_0x59d840(0x5e,0xe4,0x7b,0xbb)](saveConfigImage,_0x295103[_0x2e08fe(0x177,0x103,0x192,0x153)][_0x59d840(0x56,0x47,0xcd,0x7f)]);_0x295103[_0x2e08fe(0x11c,0x19c,0x12f,0x153)][_0x59d840(0xe3,0xf5,0xb9,0xb6)]=_0x3de8e7,delete _0x295103[_0x59d840(0x68,0x52,0x6e,0xae)][_0x59d840(0xa8,0x69,0x39,0x7f)],_0x1de1a5=!![],console[_0x59d840(0x95,0x102,0xe7,0xee)](_0x2e08fe(0x10f,0x151,0x189,0x15a)+_0x2e08fe(0x170,0x1c5,0x1b9,0x1ac)+'a\x20模型图片:',_0x3de8e7);}_0x1de1a5&&_0x8171e5[_0x2e08fe(0xfe,0xe8,0xd2,0x10d)](saveSettingsDebounced);document['getElement'+'ById'](_0x8171e5[_0x2e08fe(0x17b,0x180,0x1cf,0x195)])[_0x2e08fe(0x14e,0x155,0x139,0x185)]=_0x1afcb2[_0x59d840(0x146,0x144,0x13c,0xf3)]||'',document[_0x59d840(0x83,0xc2,0xd3,0x95)+_0x59d840(0x64,0xea,0x82,0xb1)](_0x8171e5['FtgSF'])['value']=_0x295103[_0x2e08fe(0x14f,0x156,0xca,0x123)]?.[_0x59d840(0x114,0xce,0x9b,0xf5)]||'',document[_0x2e08fe(0xe7,0x133,0x16d,0x13a)+_0x59d840(0xfc,0xea,0x80,0xb1)](_0x8171e5[_0x59d840(0x90,0xb7,0x88,0x7d)])[_0x2e08fe(0x182,0x18a,0x195,0x185)]=_0x295103[_0x2e08fe(0x137,0x16b,0x13d,0x153)]?.['text']||'';let _0x40d3c0='',_0x395bb9='';_0x295103['user']?.['imageId']&&_0x295103['user'][_0x59d840(0xfa,0xbf,0x114,0xb6)][_0x2e08fe(0x141,0x1a3,0x18d,0x159)](_0x8171e5[_0x2e08fe(0x14c,0x14a,0x1ce,0x18b)])&&(_0x40d3c0=await _0x8171e5[_0x59d840(0x41,-0x2,0x42,0x52)](getConfigImage,_0x295103['user'][_0x2e08fe(0x142,0x18e,0x178,0x15b)])||''),_0x295103[_0x59d840(0xe4,0xc6,0x82,0xae)]?.[_0x2e08fe(0x14d,0x17b,0x18e,0x15b)]&&_0x295103['model']['imageId'][_0x2e08fe(0x1b5,0x12a,0x138,0x159)](_0x8171e5['QhzhI'])&&(_0x395bb9=await _0x8171e5[_0x2e08fe(0x11a,0x186,0x122,0x16f)](getConfigImage,_0x295103[_0x2e08fe(0x118,0x159,0x15d,0x153)][_0x59d840(0xdf,0x79,0x10a,0xb6)])||''),_0x8171e5['KEFvI'](updateBananaImageUI,_0x59d840(0x42,0x2a,0x5c,0x7e),_0x40d3c0),_0x8171e5[_0x2e08fe(0x124,0x182,0x13f,0x151)](updateBananaImageUI,_0x2e08fe(0x118,0x15e,0x13f,0x153),_0x395bb9),_0x8171e5['rddSU'](saveSettingsDebounced);}function updateBananaCharacterPreset(){const _0x36545d={'FLNdB':_0x1757f1(0x2c2,0x292,0x2ba,0x268),'ENjwr':_0x1757f1(0x2a2,0x249,0x207,0x1f7),'ZRwOY':function(_0x26c71f,_0x32d6b8){return _0x26c71f(_0x32d6b8);},'QrhFV':function(_0x1379b9,_0x2a828a){return _0x1379b9!==_0x2a828a;},'RZIsf':_0x1757f1(0x292,0x272,0x219,0x252),'YbkCF':_0x16a494(0x3d3,0x3a0,0x432,0x3e2),'vDFav':function(_0x5714dd,_0x5212c5){return _0x5714dd(_0x5212c5);},'txLST':_0x16a494(0x32c,0x2d9,0x35e,0x366),'GszVF':'AZqKI','GZLNO':'没有活动的\x20Bana'+_0x1757f1(0x310,0x2be,0x274,0x281)+_0x1757f1(0x28d,0x24d,0x218,0x22d)+'新预设。'},_0x195e0f=extension_settings[extensionName];function _0x1757f1(_0x1d1221,_0x5d8ef3,_0x5ede1d,_0x1598c2){return _0xe3a1(_0x5d8ef3-0x152,_0x1d1221);}function _0x16a494(_0x4f40b6,_0x366748,_0x2727e2,_0x2ef44c){return _0xe3a1(_0x4f40b6-0x271,_0x2ef44c);}const _0x500dd5=_0x195e0f[_0x16a494(0x37f,0x3a4,0x33c,0x3ac)+_0x1757f1(0x29e,0x24f,0x22a,0x23b)+_0x1757f1(0x23f,0x27c,0x230,0x2a9)];if(!_0x500dd5||!_0x195e0f[_0x1757f1(0x266,0x260,0x267,0x21d)+'acterPrese'+'ts'][_0x500dd5]){if(_0x36545d[_0x1757f1(0x200,0x20b,0x241,0x1e7)]===_0x36545d[_0x16a494(0x3a8,0x377,0x391,0x396)]){const _0x54844f={};_0x54844f[_0x16a494(0x379,0x383,0x379,0x331)]=_0x36545d[_0x1757f1(0x1ce,0x21d,0x226,0x275)],_0x54844f[_0x1757f1(0x28b,0x2b3,0x309,0x2ba)]=_0x36545d[_0x1757f1(0x1fd,0x256,0x265,0x281)];const _0x3bc3de=_0x54844f;if(_0x1e0122['files']&&_0x582025[_0x16a494(0x360,0x3a7,0x32f,0x38d)][-0x1971+-0x232f+0xa*0x610]){const _0x2eedc3=new _0x4d634c();_0x2eedc3[_0x16a494(0x38d,0x38e,0x35a,0x3e2)]=_0x1b108b=>{_0x3d0033[_0x4c05b4(0x393,0x36a,0x34b,0x3c9)]=_0x1b108b[_0x4c05b4(0x38b,0x3a2,0x38e,0x35c)][_0x491795(0x26c,0x28f,0x25c,0x253)],_0x8c42d5[_0x4c05b4(0x36c,0x33a,0x2e9,0x30a)][_0x491795(0x275,0x2c1,0x24b,0x2a5)]=_0x4c05b4(0x322,0x330,0x2fe,0x36f),_0x10ed54[_0x491795(0x2b8,0x313,0x262,0x309)]['display']=_0x3bc3de[_0x4c05b4(0x38f,0x341,0x2f4,0x323)];function _0x4c05b4(_0x5e7960,_0x2721ba,_0x4f458d,_0x303643){return _0x16a494(_0x2721ba- -0x38,_0x2721ba-0x17b,_0x4f458d-0x19b,_0x4f458d);}function _0x491795(_0x2a275c,_0x506f71,_0x167cad,_0x45679b){return _0x1757f1(_0x506f71,_0x2a275c-0x65,_0x167cad-0x1f,_0x45679b-0x1c1);}_0x45920e[_0x491795(0x2b8,0x2ee,0x2c5,0x2a4)][_0x4c05b4(0x32f,0x2f7,0x32d,0x2f0)]=_0x3bc3de[_0x4c05b4(0x36d,0x39a,0x39b,0x36a)];},_0x2eedc3[_0x16a494(0x37d,0x352,0x34b,0x33c)+'URL'](_0xf62ca[_0x1757f1(0x1ea,0x241,0x269,0x27f)][0x182+-0x1037+0xeb5]);}}else{alert(_0x36545d[_0x16a494(0x3a4,0x3c7,0x3db,0x37b)]);return;}}stylishConfirm(_0x1757f1(0x256,0x225,0x1fe,0x231)+_0x1757f1(0x214,0x229,0x224,0x26c)+'\x22'+_0x500dd5+_0x16a494(0x383,0x345,0x3c0,0x351))[_0x1757f1(0x242,0x228,0x252,0x24f)](_0x1bf74a=>{function _0x347417(_0x4f2df7,_0x238cfa,_0x44059c,_0x24d66c){return _0x16a494(_0x4f2df7-0xbc,_0x238cfa-0x1df,_0x44059c-0x1ca,_0x44059c);}const _0x2f8e9e={'asjpm':function(_0x22a58c,_0x274a04){return _0x22a58c!==_0x274a04;},'ChATw':function(_0x5c1f80,_0x24a386){return _0x5c1f80(_0x24a386);},'MwSFq':function(_0x5d3937){return _0x5d3937();},'QLBmt':function(_0x49b145,_0x2704b9){function _0x5bb18e(_0x3dcef1,_0x5e5fcc,_0x370a4f,_0x4b7dfe){return _0xe3a1(_0x370a4f-0x166,_0x4b7dfe);}return _0x36545d[_0x5bb18e(0x22b,0x227,0x27f,0x2de)](_0x49b145,_0x2704b9);},'nFMxc':_0x8963b3(-0x25b,-0x242,-0x236,-0x27e)+_0x8963b3(-0x22a,-0x26a,-0x280,-0x22e)};function _0x8963b3(_0x1636ed,_0x4278c1,_0x17f053,_0x175493){return _0x16a494(_0x4278c1- -0x5e1,_0x4278c1-0x4d,_0x17f053-0x25,_0x17f053);}_0x36545d[_0x8963b3(-0x245,-0x20c,-0x1c2,-0x1e5)](_0x36545d[_0x347417(0x47b,0x455,0x4c8,0x449)],_0x36545d[_0x8963b3(-0x226,-0x27d,-0x2ca,-0x27b)])?_0x1bf74a&&(_0x36545d[_0x8963b3(-0x309,-0x2ad,-0x303,-0x260)](saveCurrentBananaCharacterData,_0x500dd5),_0x36545d[_0x8963b3(-0x277,-0x257,-0x2aa,-0x281)](alert,_0x8963b3(-0x234,-0x226,-0x27d,-0x1f7)+_0x8963b3(-0x254,-0x28f,-0x268,-0x24a)+_0x500dd5+'\x22\x20已更新。')):_0x2f8e9e[_0x347417(0x415,0x3d6,0x3c1,0x3da)](_0x56c020,_0x2f8e9e[_0x8963b3(-0x255,-0x23c,-0x262,-0x21b)])[_0x347417(0x403,0x3b2,0x42b,0x45b)](_0x4aea07=>{function _0x51b22a(_0xa9efbf,_0x48e81b,_0x377b87,_0xfc7f99){return _0x347417(_0xa9efbf- -0x5ac,_0x48e81b-0x19e,_0xfc7f99,_0xfc7f99-0x1f);}function _0x4f00b4(_0x1903df,_0x4ed631,_0x4e378a,_0x3fb85c){return _0x8963b3(_0x1903df-0x10c,_0x4ed631-0x11b,_0x3fb85c,_0x3fb85c-0xd0);}if(_0x4aea07&&_0x2f8e9e['asjpm'](_0x4aea07[_0x4f00b4(-0x185,-0x12e,-0x15c,-0xd4)](),'')){const _0xa918f1=_0x515948[_0x5e9723];_0x2f8e9e[_0x51b22a(-0x197,-0x149,-0x148,-0x1d0)](_0x4fea6a,_0x4aea07),_0xa918f1['bananaChar'+'acterPrese'+_0x4f00b4(-0x102,-0x12b,-0xdf,-0xe7)]=_0x4aea07,_0x2f8e9e[_0x51b22a(-0x134,-0xfd,-0x186,-0x121)](_0x19470f),_0x2f8e9e[_0x4f00b4(-0x1cd,-0x193,-0x1c2,-0x140)](_0xa56de7,'Banana\x20角色预'+_0x51b22a(-0x19e,-0x1af,-0x1bb,-0x1bf)+_0x4aea07+_0x51b22a(-0x12c,-0x142,-0x168,-0x106));}});});}function saveBananaCharacterPresetAs(){function _0x412a3d(_0x3d7261,_0x8e0978,_0x8b9a38,_0x4890bc){return _0xe3a1(_0x8e0978-0x178,_0x4890bc);}function _0x18a123(_0x4ac55a,_0x23b38f,_0x2eba4f,_0x8cd61a){return _0xe3a1(_0x4ac55a- -0x2ed,_0x23b38f);}const _0x4270bb={'DtNiX':_0x412a3d(0x28f,0x25a,0x263,0x2b5),'NXGIi':'none','Emjdq':function(_0x32fbe2,_0x398835){return _0x32fbe2!==_0x398835;},'nhcIE':'CxOYB','YVtOs':function(_0x49f163,_0x42576c){return _0x49f163(_0x42576c);},'xNVXy':function(_0x14bc5f){return _0x14bc5f();}};_0x4270bb['YVtOs'](stylInput,_0x18a123(-0x1bf,-0x1c9,-0x1d3,-0x19c)+_0x18a123(-0x1e7,-0x231,-0x190,-0x1e9))[_0x18a123(-0x217,-0x23a,-0x1f9,-0x213)](_0x91cce1=>{const _0x1daf1d={};_0x1daf1d[_0x4f980f(0x4ca,0x4b9,0x4ca,0x51e)]=_0x4270bb['DtNiX'],_0x1daf1d[_0x4f980f(0x4c1,0x4af,0x4fb,0x491)]=_0x4270bb[_0x4f980f(0x460,0x44b,0x4a5,0x48a)],_0x1daf1d[_0x4f980f(0x455,0x479,0x48f,0x47a)]=_0x4f980f(0x462,0x45c,0x421,0x498);function _0x363e9c(_0x1ad86c,_0x56e697,_0x4c676c,_0x4c423e){return _0x412a3d(_0x1ad86c-0xc5,_0x1ad86c- -0x13b,_0x4c676c-0xb9,_0x4c423e);}const _0x457099=_0x1daf1d;function _0x4f980f(_0x16384d,_0x431afd,_0xe0626b,_0x2942e1){return _0x18a123(_0x16384d-0x658,_0xe0626b,_0xe0626b-0x2f,_0x2942e1-0x92);}if(_0x91cce1&&_0x4270bb['Emjdq'](_0x91cce1['trim'](),'')){if(_0x4270bb[_0x4f980f(0x4a4,0x48b,0x44f,0x4f3)](_0x4270bb[_0x363e9c(0x14e,0x1a2,0x181,0xf2)],_0x4f980f(0x4b2,0x4ef,0x4bd,0x4cb))){const _0x414d07=_0x457099[_0x363e9c(0x19c,0x1e7,0x195,0x14f)]['split']('|');let _0x3d477e=-0x1*-0x1efd+0x210e+-0x400b;while(!![]){switch(_0x414d07[_0x3d477e++]){case'0':_0x31931c['style'][_0x4f980f(0x429,0x47b,0x3cd,0x3eb)]='none';continue;case'1':_0x2fba1b['src']='';continue;case'2':_0x35ef52[_0x4f980f(0x46c,0x486,0x4b2,0x443)]['display']=_0x457099[_0x4f980f(0x4c1,0x4ef,0x510,0x4bd)];continue;case'3':_0x4c729a[_0x363e9c(0x17c,0x17b,0x123,0x162)]='';continue;case'4':_0x7ebc4c[_0x363e9c(0x13e,0x17f,0x193,0xfd)][_0x4f980f(0x429,0x3d3,0x3ca,0x427)]=_0x457099['eFKgh'];continue;}break;}}else{const _0x4899ab=extension_settings[extensionName];_0x4270bb[_0x4f980f(0x42c,0x40a,0x3f4,0x455)](saveCurrentBananaCharacterData,_0x91cce1),_0x4899ab['bananaChar'+_0x4f980f(0x468,0x439,0x4b0,0x453)+_0x4f980f(0x495,0x45d,0x4d7,0x4db)]=_0x91cce1,_0x4270bb[_0x363e9c(0x169,0x1ac,0x1c3,0x14f)](loadBananaCharacterPresetList),_0x4270bb[_0x4f980f(0x42c,0x3f2,0x3e0,0x441)](alert,_0x4f980f(0x4b5,0x4b5,0x45f,0x47c)+_0x4f980f(0x44c,0x48c,0x41d,0x4a6)+_0x91cce1+_0x363e9c(0x190,0x175,0x1e1,0x15d));}}});}async function saveCurrentBananaCharacterData(_0x3a0b87){const _0x25e320={'oYwAf':_0x4e7855(-0x27e,-0x2b5,-0x234,-0x24b)+_0x4e7855(-0x285,-0x2af,-0x231,-0x2dc)+'ge','FKfpK':function(_0x1061c1,_0x44907a){return _0x1061c1(_0x44907a);},'akHUU':_0xc90f84(0x7d,0xb7,0x85,0xc9)+_0xc90f84(0x27,0x5a,0x29,0x69)+'户图片已保存:','bSMQf':_0x4e7855(-0x2b9,-0x25f,-0x30d,-0x272),'htDYo':'KXEiV','exdQl':_0xc90f84(0xef,0xd9,0xf9,0xc4),'KjFKF':function(_0x3092c2,_0x3b989c){return _0x3092c2(_0x3b989c);},'JOnvI':_0xc90f84(0xd5,0x93,0xc0,0xdb)+_0xc90f84(0xd5,0x109,0x152,0xfb)+'t','AzZGQ':_0x4e7855(-0x27e,-0x2bf,-0x271,-0x254)+_0x4e7855(-0x2bb,-0x2fd,-0x288,-0x2b8)+'xt','tARsL':function(_0x1e8865){return _0x1e8865();}},_0x3d21a6=extension_settings[extensionName],_0x16d505=_0x3d21a6[_0x4e7855(-0x296,-0x2cd,-0x255,-0x2b6)+'acterPrese'+'ts'][_0x3a0b87],_0x13765f=document['getElement'+_0xc90f84(0x11f,0xe9,0xf0,0xc5)](_0x25e320['oYwAf'])[_0xc90f84(0x118,0x88,0x9b,0xe6)],_0x12954d=document[_0x4e7855(-0x2b0,-0x28a,-0x271,-0x28b)+_0xc90f84(0x8d,0xf9,0xf6,0xc5)](_0xc90f84(0x11b,0x130,0x99,0xdb)+_0xc90f84(0x158,0x14a,0x112,0x111)+_0xc90f84(0x8f,0x81,0xaa,0x82))['src'],_0x2174be=_0x16d505?.[_0x4e7855(-0x2ca,-0x2ed,-0x2ea,-0x2e5)+'on']?.['user']?.[_0x4e7855(-0x28f,-0x240,-0x288,-0x24c)]||'',_0x442293=_0x16d505?.[_0x4e7855(-0x2ca,-0x2b9,-0x302,-0x2cd)+'on']?.[_0x4e7855(-0x297,-0x2ac,-0x2df,-0x23a)]?.[_0xc90f84(0xe6,0xca,0xd4,0xca)]||'';let _0x2fe6f1='',_0x5ae8a8='';function _0x4e7855(_0x1a0f8d,_0x930bd6,_0x3a6b03,_0x40c17e){return _0xe3a1(_0x1a0f8d- -0x3a4,_0x40c17e);}_0x13765f['startsWith'](_0xc90f84(0x6b,0x46,0xcd,0xa0))&&(_0x2174be&&_0x2174be[_0x4e7855(-0x291,-0x298,-0x2a7,-0x24d)]('cfgimg_')&&await _0x25e320[_0x4e7855(-0x267,-0x296,-0x242,-0x26d)](deleteConfigImage,_0x2174be)[_0x4e7855(-0x277,-0x21f,-0x2c5,-0x2a7)](_0x10558b=>console[_0x4e7855(-0x2ae,-0x254,-0x307,-0x298)](_0xc90f84(0xe6,0x7b,0x7a,0xc9)+']\x20删除旧用户图片失'+'败:',_0x10558b)),_0x2fe6f1=await _0x25e320[_0x4e7855(-0x267,-0x26a,-0x235,-0x228)](saveConfigImage,_0x13765f),console[_0xc90f84(0xfe,0xfb,0xe2,0x102)](_0x25e320[_0xc90f84(0xe5,0xfa,0x174,0x11c)],_0x2fe6f1));function _0xc90f84(_0x2b0cc6,_0xf321d0,_0xb79d74,_0x443e54){return _0xe3a1(_0x443e54- -0x4b,_0x2b0cc6);}_0x12954d['startsWith'](_0x25e320[_0xc90f84(0x34,0xa2,0xcd,0x72)])&&(_0x25e320[_0xc90f84(0x88,0x3a,0x6f,0x6d)]===_0x25e320[_0xc90f84(0xf5,0x66,0xdb,0xbe)]?_0x2d1e3c[_0x4e7855(-0x2d8,-0x2e7,-0x2ea,-0x2a6)]():(_0x442293&&_0x442293[_0x4e7855(-0x291,-0x256,-0x2c5,-0x2c6)]('cfgimg_')&&await _0x25e320['KjFKF'](deleteConfigImage,_0x442293)['catch'](_0x1ab791=>console['warn'](_0x4e7855(-0x290,-0x234,-0x282,-0x269)+_0x4e7855(-0x239,-0x28d,-0x1e1,-0x24a)+'败:',_0x1ab791)),_0x5ae8a8=await _0x25e320[_0xc90f84(0x129,0xe2,0x122,0xcb)](saveConfigImage,_0x12954d),console['log'](_0x4e7855(-0x290,-0x27c,-0x29a,-0x2d6)+_0xc90f84(0xda,0xc5,0xa4,0x8d)+_0x4e7855(-0x27c,-0x257,-0x2ad,-0x27d),_0x5ae8a8)));const _0x21795b={'triggers':document[_0x4e7855(-0x2b0,-0x2c2,-0x2c8,-0x2aa)+_0xc90f84(0x6a,0x6d,0xcf,0xc5)](_0xc90f84(0x136,0x81,0x126,0xdb)+_0xc90f84(0xf9,0xdc,0x133,0xd6))[_0x4e7855(-0x265,-0x20a,-0x23a,-0x26c)],'conversation':{'user':{'text':document['getElement'+_0x4e7855(-0x294,-0x237,-0x275,-0x280)](_0x25e320[_0xc90f84(0xd4,0x48,0x61,0x75)])[_0xc90f84(0xc8,0x120,0x112,0xf4)],'imageId':_0x2fe6f1},'model':{'text':document['getElement'+'ById'](_0x25e320[_0x4e7855(-0x2b6,-0x2a9,-0x283,-0x2ea)])[_0xc90f84(0x11a,0xbe,0x116,0xf4)],'imageId':_0x5ae8a8}}};_0x3d21a6[_0x4e7855(-0x296,-0x249,-0x24d,-0x2ec)+_0x4e7855(-0x2a7,-0x24e,-0x27b,-0x29c)+'ts'][_0x3a0b87]=_0x21795b,_0x25e320['tARsL'](saveSettingsDebounced);}async function deleteBananaCharacterPreset(){function _0x3eb422(_0x38158e,_0x2f5d71,_0x43c2e5,_0x3c7936){return _0xe3a1(_0x3c7936-0x1aa,_0x2f5d71);}const _0x4a2395={'MIyxE':function(_0x5470ad,_0x19d7a5){return _0x5470ad<=_0x19d7a5;},'QFOuF':function(_0x5856fe,_0x4861ca){return _0x5856fe(_0x4861ca);},'svEww':_0x3eb422(0x2c8,0x316,0x307,0x314)+'。','wPOFN':_0x2dc911(0x47c,0x45f,0x48b,0x45d),'uFAdL':function(_0x4cff34){return _0x4cff34();}},_0x280ac5=extension_settings[extensionName],_0x1df40d=document[_0x2dc911(0x477,0x451,0x3f4,0x419)+_0x2dc911(0x43a,0x44a,0x403,0x435)](_0x2dc911(0x450,0x41b,0x4a3,0x44b)+_0x2dc911(0x44d,0x3ec,0x476,0x42f)+'d')?.[_0x3eb422(0x348,0x292,0x2ef,0x2e9)];if(_0x4a2395[_0x3eb422(0x330,0x2f7,0x2df,0x2f2)](Object[_0x3eb422(0x252,0x21f,0x29a,0x270)](_0x280ac5[_0x2dc911(0x47d,0x448,0x487,0x433)+_0x3eb422(0x25e,0x2bc,0x295,0x2a7)+'ts'])[_0x2dc911(0x458,0x3b9,0x451,0x400)],-0xa20+0x1abc*-0x1+0x24dd*0x1)){_0x4a2395['QFOuF'](alert,_0x4a2395[_0x3eb422(0x2e7,0x2b8,0x2d1,0x297)]);return;}const _0x6ab6ac=await stylishConfirm('是否确定删除该\x20Ba'+_0x3eb422(0x2af,0x27a,0x2b6,0x281)+'\x22'+_0x1df40d+'\x22');function _0x2dc911(_0x1960fb,_0x25217b,_0x304661,_0x42dbdd){return _0xe3a1(_0x42dbdd-0x325,_0x304661);}if(_0x6ab6ac){const _0x4ba482=_0x280ac5[_0x3eb422(0x26d,0x2a6,0x2ed,0x2b8)+'acterPrese'+'ts'][_0x1df40d];_0x4ba482?.[_0x3eb422(0x289,0x25a,0x2a8,0x284)+'on']?.[_0x3eb422(0x26d,0x261,0x282,0x287)]?.[_0x2dc911(0x453,0x3f3,0x461,0x43a)]&&_0x4ba482['conversati'+'on'][_0x2dc911(0x420,0x416,0x435,0x402)]['imageId'][_0x2dc911(0x410,0x465,0x461,0x438)](_0x4a2395[_0x2dc911(0x49a,0x47e,0x403,0x448)])&&await _0x4a2395[_0x2dc911(0x3ba,0x3e7,0x3dc,0x3dc)](deleteConfigImage,_0x4ba482[_0x3eb422(0x255,0x24c,0x2e0,0x284)+'on']['user']['imageId'])[_0x3eb422(0x2de,0x286,0x285,0x2d7)](_0x20623e=>console[_0x2dc911(0x42d,0x3e0,0x427,0x41b)](_0x3eb422(0x266,0x29a,0x2bd,0x2be)+_0x2dc911(0x468,0x3f5,0x3f2,0x41f)+':',_0x20623e)),_0x4ba482?.[_0x3eb422(0x2c8,0x298,0x2d5,0x284)+'on']?.[_0x3eb422(0x25b,0x2a2,0x2df,0x2b7)]?.[_0x3eb422(0x281,0x2ee,0x272,0x2bf)]&&_0x4ba482['conversati'+'on'][_0x3eb422(0x29f,0x26f,0x2c7,0x2b7)][_0x3eb422(0x2aa,0x31d,0x2ba,0x2bf)]['startsWith'](_0x4a2395['wPOFN'])&&await deleteConfigImage(_0x4ba482[_0x3eb422(0x265,0x250,0x28f,0x284)+'on'][_0x2dc911(0x46f,0x42a,0x3ea,0x432)][_0x3eb422(0x293,0x2ec,0x26b,0x2bf)])['catch'](_0x41f9fc=>console['warn']('[Character'+_0x2dc911(0x459,0x466,0x480,0x45b)+':',_0x41f9fc)),delete _0x280ac5[_0x3eb422(0x26e,0x2a3,0x307,0x2b8)+_0x3eb422(0x249,0x2f6,0x265,0x2a7)+'ts'][_0x1df40d],_0x280ac5[_0x3eb422(0x2ac,0x307,0x274,0x2b8)+_0x3eb422(0x26b,0x25b,0x2b0,0x2a7)+_0x2dc911(0x4a9,0x3fe,0x436,0x44f)]=Object[_0x3eb422(0x250,0x278,0x24e,0x270)](_0x280ac5['bananaChar'+_0x3eb422(0x2e8,0x2c1,0x2b6,0x2a7)+'ts'])[-0x13*0x41+-0x71f+-0x8b*-0x16],_0x4a2395[_0x2dc911(0x3f9,0x3ac,0x424,0x3ed)](loadBananaCharacterPresetList),await _0x4a2395[_0x2dc911(0x444,0x433,0x43d,0x3ed)](loadBananaCharacterPreset),_0x4a2395[_0x3eb422(0x22d,0x26c,0x235,0x272)](saveSettingsDebounced);}}const setupBananaImageUpload=_0x2b3b40=>{const _0x873d37={};_0x873d37[_0x1ad653(-0x199,-0x178,-0x141,-0x1a8)]=_0x1dc05d(0x1bd,0x1bd,0x118,0x164),_0x873d37[_0x1ad653(-0x1b8,-0x1d4,-0x199,-0x230)]=function(_0x37a95f,_0x6d6e9d){return _0x37a95f===_0x6d6e9d;},_0x873d37[_0x1ad653(-0x15b,-0x1af,-0x16a,-0x1de)]=_0x1dc05d(0x1a4,0x19f,0x158,0x1a7),_0x873d37['jEKbj']=_0x1dc05d(0x17b,0x173,0x1c3,0x1b9),_0x873d37['FYnqc']=_0x1ad653(-0x139,-0x16d,-0x11c,-0x144),_0x873d37[_0x1dc05d(0x1f2,0x20e,0x174,0x1ca)]=function(_0x3d829c,_0x8b1e3f){return _0x3d829c||_0x8b1e3f;},_0x873d37[_0x1ad653(-0x186,-0x196,-0x154,-0x156)]=_0x1dc05d(0xec,0x191,0x178,0x139),_0x873d37[_0x1dc05d(0x14f,0x185,0x16d,0x131)]=_0x1ad653(-0x1c6,-0x16a,-0x1c6,-0x121);const _0x469016=_0x873d37,_0x12c7c3=document[_0x1dc05d(0x191,0x186,0x122,0x161)+_0x1dc05d(0x159,0x17f,0x1a4,0x17d)](_0x1dc05d(0x1e0,0x1c7,0x15e,0x193)+'r_'+_0x2b3b40+(_0x1dc05d(0x1c3,0x175,0x112,0x16f)+_0x1dc05d(0x1af,0x127,0x158,0x169))),_0x14bcb2=document['getElement'+_0x1dc05d(0x1a7,0x176,0x1d6,0x17d)](_0x1ad653(-0x164,-0x187,-0x1c0,-0x1e4)+'r_'+_0x2b3b40+_0x1ad653(-0x174,-0x1b4,-0x15d,-0x16e)),_0x59c3c7=_0x12c7c3[_0x1ad653(-0x1ab,-0x1c9,-0x1f0,-0x1c5)+'tor'](_0x1ad653(-0x170,-0x182,-0x15f,-0x12b)+'-image-pla'+_0x1ad653(-0x1ab,-0x16f,-0x1b0,-0x143));function _0x1dc05d(_0x4c9c2a,_0x5190e7,_0x24fcdb,_0x29f2eb){return _0xe3a1(_0x29f2eb-0x6d,_0x4c9c2a);}const _0x27ccb8=document[_0x1ad653(-0x1f6,-0x1b9,-0x1c2,-0x1df)+_0x1dc05d(0x137,0x1ad,0x17d,0x17d)](_0x1dc05d(0x1db,0x1e5,0x196,0x193)+'r_'+_0x2b3b40+('_image_rem'+_0x1dc05d(0x1c4,0x1a2,0x1aa,0x1cb))),_0xf11f9=document[_0x1ad653(-0x1c0,-0x1b9,-0x1a0,-0x1e1)+_0x1dc05d(0x14e,0x16c,0x15c,0x17d)](_0x1ad653(-0x1a7,-0x187,-0x159,-0x1df)+'r_'+_0x2b3b40+(_0x1dc05d(0xec,0x192,0x196,0x13c)+'ut'));if(_0x469016['xYaQR'](!_0x12c7c3,!_0x14bcb2)||!_0x59c3c7||!_0x27ccb8||!_0xf11f9)return;function _0x1ad653(_0x2ac0d9,_0x100e48,_0x2a660a,_0x29a3ca){return _0xe3a1(_0x100e48- -0x2ad,_0x2a660a);}_0x12c7c3[_0x1dc05d(0x18f,0x1af,0x1e6,0x1cd)+_0x1ad653(-0x1c3,-0x190,-0x1d6,-0x1ec)](_0x469016[_0x1ad653(-0x1ac,-0x196,-0x1d8,-0x14a)],_0x11fd41=>{function _0x1abbd3(_0xbb778b,_0x346624,_0x31456a,_0x22405a){return _0x1ad653(_0xbb778b-0x148,_0xbb778b-0x5fc,_0x346624,_0x22405a-0xbe);}function _0x4a7425(_0x1ca794,_0xe1f569,_0x36b458,_0x5e7508){return _0x1dc05d(_0xe1f569,_0xe1f569-0xfe,_0x36b458-0x44,_0x1ca794- -0xf5);}_0x11fd41['target']!==_0x27ccb8&&!_0x27ccb8[_0x4a7425(0x64,0x76,0x33,0x22)](_0x11fd41['target'])&&_0xf11f9[_0x1abbd3(0x41b,0x404,0x3d2,0x446)]();}),_0xf11f9['addEventLi'+_0x1dc05d(0x1e8,0x1cb,0x1df,0x18a)](_0x469016['qtEqa'],()=>{function _0x1a9e1e(_0x52c06f,_0x5ce66b,_0x2af07d,_0x2d325d){return _0x1ad653(_0x52c06f-0x122,_0x52c06f- -0x114,_0x2af07d,_0x2d325d-0x150);}function _0xde416c(_0x4e7523,_0x4243fe,_0x2c7c3f,_0x143f2f){return _0x1dc05d(_0x143f2f,_0x4243fe-0x176,_0x2c7c3f-0x166,_0x4e7523- -0xbe);}if(_0xf11f9[_0x1a9e1e(-0x2d2,-0x2d7,-0x2c8,-0x304)]&&_0xf11f9[_0xde416c(0x9e,0xc4,0xa6,0xe2)][-0x5f*-0x5a+0x1*0x1e2+0x8*-0x469]){const _0x2e7343=new FileReader();_0x2e7343[_0xde416c(0xcb,0x8a,0xf0,0x111)]=_0x2fd39e=>{_0x14bcb2[_0x3e1354(0x77,0xdb,0x92,0xab)]=_0x2fd39e[_0x3dac2a(-0x110,-0xef,-0xe3,-0x154)][_0x3e1354(0x64,0x4a,0x7c,0x2f)];function _0x3dac2a(_0x559b26,_0x4b5e08,_0x1c19cd,_0x17cd6b){return _0x1a9e1e(_0x559b26-0x148,_0x4b5e08-0x145,_0x17cd6b,_0x17cd6b-0x1c0);}function _0x3e1354(_0x5c9fb9,_0x1ed26b,_0x155398,_0x5ee72b){return _0xde416c(_0x5ee72b- -0x35,_0x1ed26b-0x1e7,_0x155398-0xf6,_0x155398);}_0x14bcb2[_0x3e1354(0x86,0x48,0xce,0x7b)][_0x3dac2a(-0x1bb,-0x1ee,-0x216,-0x21a)]=_0x469016[_0x3dac2a(-0x144,-0x163,-0x180,-0x123)],_0x59c3c7[_0x3dac2a(-0x178,-0x12d,-0x124,-0x160)]['display']='none',_0x27ccb8[_0x3e1354(0xbd,0x5e,0x3c,0x7b)][_0x3e1354(0x6e,0x7b,-0x16,0x38)]=_0x469016[_0x3e1354(0x98,0xa5,0xe5,0xaf)];},_0x2e7343[_0x1a9e1e(-0x2b5,-0x2ec,-0x2a5,-0x312)+_0x1a9e1e(-0x2d0,-0x2ea,-0x315,-0x320)](_0xf11f9[_0xde416c(0x9e,0xd7,0x5b,0x61)][-0x7a*-0x2f+-0x7*-0x574+-0x3c92*0x1]);}}),_0x27ccb8[_0x1dc05d(0x1ec,0x1e5,0x1cf,0x1cd)+'stener'](_0x469016[_0x1dc05d(0x137,0x126,0x1be,0x184)],()=>{function _0x2601cc(_0x4b69d6,_0x27220b,_0x48dd2a,_0x3e07dd){return _0x1ad653(_0x4b69d6-0x3b,_0x48dd2a- -0xf,_0x4b69d6,_0x3e07dd-0x103);}function _0x5329d1(_0x28c9a9,_0x4c91a1,_0x11e38b,_0x588557){return _0x1dc05d(_0x11e38b,_0x4c91a1-0x68,_0x11e38b-0x16d,_0x4c91a1- -0x27f);}if(_0x469016['serRY'](_0x469016['dUfyb'],_0x469016[_0x5329d1(-0x101,-0x114,-0x16e,-0x159)])){const _0xfa4841=_0x469016[_0x2601cc(-0x1b3,-0x15c,-0x1b9,-0x217)][_0x5329d1(-0x197,-0x15f,-0x12f,-0x17d)]('|');let _0x9e9ef2=-0x2*-0xe9+0xebc+-0x108e;while(!![]){switch(_0xfa4841[_0x9e9ef2++]){case'0':_0x27ccb8[_0x2601cc(-0x1b3,-0x1e3,-0x1bb,-0x1bc)][_0x2601cc(-0x200,-0x1fa,-0x1fe,-0x206)]=_0x469016['FYnqc'];continue;case'1':_0xf11f9[_0x2601cc(-0x178,-0x199,-0x17d,-0x13e)]='';continue;case'2':_0x59c3c7['style']['display']=_0x469016[_0x2601cc(-0x143,-0x1cc,-0x187,-0x12c)];continue;case'3':_0x14bcb2[_0x5329d1(-0xcb,-0x111,-0x16e,-0x127)][_0x2601cc(-0x214,-0x1ec,-0x1fe,-0x1ec)]=_0x469016[_0x2601cc(-0x215,-0x168,-0x1bd,-0x1dc)];continue;case'4':_0x14bcb2[_0x5329d1(-0xa3,-0xe1,-0xde,-0xe8)]='';continue;}break;}}else _0x260a99['src']=_0x29419e,_0xc4bf98[_0x5329d1(-0x101,-0x111,-0xd9,-0xbc)]['display']=_0x469016[_0x2601cc(-0x1c2,-0x1e5,-0x187,-0x1b7)],_0x3a3a3a[_0x5329d1(-0x123,-0x111,-0xe4,-0x125)]['display']=_0x5329d1(-0x80,-0xd2,-0xe4,-0x105),_0x5bb5e1['style']['display']=_0x5329d1(-0x11e,-0x11b,-0x107,-0xfa);});},updateBananaImageUI=(_0x1cc16e,_0x228d56)=>{const _0x5e52ef={'qtsRl':function(_0x20d08f){return _0x20d08f();},'dYGTq':function(_0x5a46f9,_0x4224ed){return _0x5a46f9(_0x4224ed);},'zwPmz':function(_0x24713c,_0x2fe177){return _0x24713c||_0x2fe177;},'sOyGS':_0x54add5(0x1ff,0x210,0x17c,0x1b3)+_0x1a5230(-0x195,-0x10c,-0x167,-0x1c1)+_0x1a5230(-0xbc,-0x10c,-0xdf,-0xde),'GxMXy':function(_0x362301,_0xa754f1){return _0x362301===_0xa754f1;},'GdSaP':_0x1a5230(-0xf7,-0xdb,-0xc4,-0x108),'ydywL':_0x54add5(0x1c7,0x1b5,0x131,0x17f),'SMCWR':_0x54add5(0x1d6,0x21a,0x19b,0x1c8)},_0x41a608=document[_0x54add5(0x140,0x12d,0x1a4,0x17c)+_0x54add5(0x166,0x143,0x16c,0x198)](_0x54add5(0x1db,0x1e3,0x1fe,0x1ae)+'r_'+_0x1cc16e+'_image'),_0x168d9d=document[_0x54add5(0x1ba,0x18d,0x18b,0x17c)+_0x54add5(0x19e,0x174,0x143,0x198)](_0x54add5(0x200,0x197,0x1f1,0x1ae)+'r_'+_0x1cc16e+('_image_con'+_0x1a5230(-0xce,-0x10a,-0x121,-0xdc)));function _0x1a5230(_0x16f2e8,_0xab6e96,_0x33e107,_0x389d3a){return _0xe3a1(_0x33e107- -0x21d,_0xab6e96);}function _0x54add5(_0x2567db,_0x2d791c,_0x3ffff1,_0x532c03){return _0xe3a1(_0x532c03-0x88,_0x3ffff1);}if(_0x5e52ef[_0x54add5(0x1ae,0x1a4,0x1c3,0x1b7)](!_0x41a608,!_0x168d9d))return;const _0x5e43ad=_0x168d9d['querySelec'+_0x1a5230(-0x153,-0x11f,-0xf8,-0x146)](_0x5e52ef[_0x54add5(0x146,0x198,0x1e4,0x1a0)]),_0x152bc4=document[_0x54add5(0x182,0x193,0x127,0x17c)+_0x54add5(0x18e,0x1df,0x1b6,0x198)](_0x1a5230(-0x11d,-0x110,-0xf7,-0xe4)+'r_'+_0x1cc16e+(_0x1a5230(-0xb5,-0xf4,-0xed,-0xea)+_0x1a5230(-0x11d,-0x81,-0xbf,-0xf8)));if(_0x228d56){if(_0x5e52ef[_0x1a5230(-0xc4,-0x92,-0xc6,-0x96)](_0x5e52ef[_0x54add5(0x12f,0x176,0x144,0x167)],_0x5e52ef[_0x54add5(0x13a,0x12f,0x153,0x167)]))_0x41a608[_0x54add5(0x189,0x1a8,0x1d8,0x1b9)]=_0x228d56,_0x41a608['style'][_0x1a5230(-0x104,-0x17b,-0x15f,-0x191)]=_0x5e52ef[_0x1a5230(-0x9e,-0xb8,-0xdb,-0xad)],_0x5e43ad[_0x54add5(0x17d,0x1b0,0x1b2,0x189)]['display']=_0x5e52ef[_0x1a5230(-0x1ab,-0x120,-0x154,-0x1b2)],_0x152bc4[_0x54add5(0x179,0x1d2,0x133,0x189)]['display']=_0x5e52ef[_0x1a5230(-0xc1,-0x11d,-0xdb,-0xb8)];else{if(_0x3b85e9&&_0x321e60[_0x54add5(0x1e9,0x1fc,0x1e5,0x1af)]()!==''){const _0xa98306=_0xcecd11[_0x56e3bd];_0x2ca966(_0x33c2d8),_0xa98306[_0x1a5230(-0x10d,-0xee,-0x10f,-0x110)+'acterPrese'+_0x54add5(0x178,0x1f1,0x1f3,0x1b2)]=_0x32725f,_0x5e52ef[_0x1a5230(-0xdb,-0xee,-0x136,-0x13e)](_0x246f06),_0x5e52ef[_0x1a5230(-0x145,-0x146,-0x161,-0x153)](_0xf0516d,'Banana\x20角色预'+'设\x20\x22'+_0x6619e2+_0x54add5(0x1f3,0x1c1,0x1ab,0x1db));}}}else _0x41a608[_0x54add5(0x1d8,0x1de,0x193,0x1b9)]='',_0x41a608[_0x54add5(0x188,0x19a,0x1bd,0x189)][_0x1a5230(-0x145,-0x116,-0x15f,-0x1b0)]=_0x5e52ef[_0x54add5(0x1a2,0x10f,0x19e,0x151)],_0x5e43ad[_0x1a5230(-0xcb,-0x147,-0x11c,-0x142)][_0x54add5(0x13e,0x1a0,0x187,0x146)]=_0x5e52ef[_0x54add5(0x1c4,0x1cf,0x1d2,0x1ca)],_0x152bc4['style'][_0x54add5(0x137,0x1a2,0x13a,0x146)]=_0x5e52ef['SMCWR'];};