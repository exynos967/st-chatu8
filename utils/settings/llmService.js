(function(_0x2a54fb,_0x264ca8){function _0x5d33d0(_0x5b151e,_0x447847,_0x347c76,_0x1040c0){return _0x4794(_0x1040c0- -0x199,_0x5b151e);}function _0x100817(_0x2ca05a,_0x47b6f4,_0x477829,_0x5d2684){return _0x4794(_0x2ca05a- -0x28d,_0x477829);}const _0x5cd6d2=_0x2a54fb();while(!![]){try{const _0x328ec3=parseInt(_0x100817(-0xa5,-0x112,-0xdb,-0x10b))/(0x155b+0x4*0x76f+-0x1a*0x1f7)+parseInt(_0x100817(-0x153,-0x16b,-0x11c,-0x16b))/(0x6d8*0x2+0x1ca0+0x39*-0xbe)+-parseInt(_0x100817(-0x18a,-0x16a,-0x10b,-0x13c))/(0x2*0xe0+0x7*-0x316+0x9*0x235)+parseInt(_0x5d33d0(0x36,0x4c,-0x3b,0x28))/(-0x26d9+0x1*0x1183+0xaad*0x2)+parseInt(_0x5d33d0(-0x27,0x67,0x7e,-0x1d))/(0x22c+0x9b7*-0x1+0x790)*(-parseInt(_0x100817(-0xd8,-0xf6,-0xa5,-0x45))/(-0x9f5*-0x1+-0x119a+0x97*0xd))+-parseInt(_0x5d33d0(-0xc5,-0x77,-0x12,-0x1f))/(0x94f*0x1+0x1fd1+-0x2919)*(-parseInt(_0x100817(-0xa7,-0x8b,-0x4f,-0x46))/(-0x4*0xf1+0x70*-0x2e+-0x1*-0x17ec))+parseInt(_0x5d33d0(-0x35,-0x6d,-0xc9,-0x31))/(-0xd*0x2d3+0x1e51+0x66f)*(-parseInt(_0x100817(-0xb7,-0xa2,-0x141,-0xbb))/(-0x15fd+-0x1*-0xcb9+0x94e));if(_0x328ec3===_0x264ca8)break;else _0x5cd6d2['push'](_0x5cd6d2['shift']());}catch(_0x163000){_0x5cd6d2['push'](_0x5cd6d2['shift']());}}}(_0x1900,-0x7dabf*0x1+0x1047a9+-0x1*0xd21));const _0x46d0eb=(function(){const _0x23f484={};_0x23f484[_0x506b92(-0xed,-0x16d,-0x174,-0x73)]=function(_0xaa533d,_0x10d1c1){return _0xaa533d!==_0x10d1c1;},_0x23f484[_0x506b92(-0x12d,-0x1b4,-0x8f,-0xaf)]=_0x506b92(-0x1dd,-0x228,-0x196,-0x230);function _0x506b92(_0x39aba0,_0x485b26,_0xcc9656,_0x1af9a5){return _0x4794(_0x39aba0- -0x2f5,_0x1af9a5);}function _0x50c340(_0x328172,_0x44f6f3,_0x5abccc,_0x3e5f50){return _0x4794(_0x328172-0x267,_0x44f6f3);}const _0x3bf29d=_0x23f484;let _0x1edad1=!![];return function(_0x2949cc,_0x3c980b){function _0x22070c(_0x2cf4fb,_0x7d8829,_0x44223b,_0x277243){return _0x50c340(_0x2cf4fb- -0x17c,_0x7d8829,_0x44223b-0x47,_0x277243-0x1f1);}function _0x2b85b2(_0x3d7376,_0x3afe74,_0x2253c7,_0xb7dde1){return _0x50c340(_0x3afe74- -0x627,_0x2253c7,_0x2253c7-0xb6,_0xb7dde1-0x6c);}if(_0x3bf29d['SjhnR'](_0x22070c(0x203,0x276,0x1e4,0x260),_0x3bf29d[_0x22070c(0x2b3,0x256,0x306,0x2bf)]))_0x56054d=''+_0x4d104e[_0x2b85b2(-0x117,-0x1b4,-0x14d,-0x1d1)](_0x224143[_0x2b85b2(-0x228,-0x1bc,-0x1c9,-0x21b)]);else{const _0x3a4707=_0x1edad1?function(){if(_0x3c980b){const _0x246fef=_0x3c980b['apply'](_0x2949cc,arguments);return _0x3c980b=null,_0x246fef;}}:function(){};return _0x1edad1=![],_0x3a4707;}};}()),_0x5aa54d=_0x46d0eb(this,function(){const _0x772a4b={};function _0x350e99(_0x2fce97,_0x5e53df,_0x2ffd95,_0x5538d7){return _0x4794(_0x5e53df- -0xcb,_0x2ffd95);}_0x772a4b[_0x347fb0(0x9f,0x1b,0x8a,0xb)]='(((.+)+)+)'+'+$';const _0x29c66b=_0x772a4b;function _0x347fb0(_0x1010ff,_0x56467b,_0x2a55ac,_0x36b758){return _0x4794(_0x1010ff- -0x164,_0x56467b);}return _0x5aa54d[_0x347fb0(0xc8,0x92,0x8f,0x51)]()['search'](_0x29c66b[_0x350e99(0x165,0x138,0xa3,0x106)])['toString']()['constructo'+'r'](_0x5aa54d)[_0x347fb0(0xac,0x14c,0x88,0x4e)](_0x29c66b['AGZzs']);});_0x5aa54d();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';function _0x1900(){const _0x361a97=['zxjYB3i','BNfNA0q','v2XnAhi','BgXTx3jLCxvLCW','u2POBLi','yxbPx3vYBa','D0jprLO','zw1TAgC','C3rYAw5NAwz5','BwvZC2fNzxm','y3zjCLK','C2XPy2u','C2vHCMnO','zw1PDa','B2jQzwn0','B0jPENa','6k+35RgcieLeoIa','wuPnrg0','zM9YrwfJAa','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','y3vYCMvUDf9SBa','qxfcree','AeHTs3q','6kEs6iMYl+ACJEIJHEs/RUAuUq','Dgv4Da','iefqssblzxKSia','AM9PBG','5lUJ56cboIa','AMvoy2q','C3LREvK','C3bSAxq','Aw1Hz2vFDxjS','DhrMr3a','ioIVT+AXGUw3SUwUJoAiKo+8JowqJUE7REAtJq','vuvHCfq','CuDmy2m','Dg9Rzw4','tMnuCuS','ChDLCui','zxiG','Dg9tDhjPBMC','Dw5RBM93BG','Bhr3s2G','tujcvfC','vhjTtNa','Bwf4x3rVA2vUCW','pt09pt0GteXnia','zgvSDge','sKf1y20','ywjVCNq','teXnigv4zwn1Da','DxjS','tfPtyLG','quNLIQNMIyS','whPjz3u','qKjrruG','teXnioIVT+AXGUw3SUs4REATOUoaGG','ihjLCxvLC3qGyq','6k+35Rgc6zsz6k+VoIa','8j+tTYbB5zU+54Mh6zo+5O6LoIa','EeTTuum','yM9YDgvKlG','Aw1Hz2vFz2vU','EhrFChjVzMLSzq','DhjPz2DLCG','5Q2J5zYO5Ase55cgia','D2fYBMLUzW','5AEl5PAW6k+35Rgc44cc','wMHNr0i','tw9KzwWG5PYQ6ywn572U44cc','6k+35Rgc5AsX6lsLoIa','y2HHCL9KzxnPzW','zw50CMLLCW','zvbQEMC','qM9ft0u','CwXfzLe','A3HXDfq','DxnLCG','whbeBNK','svLxD3i','B1z6rey','56In5yczlI4U','yxbPx3bYB2zPBa','ue9gvg0','ue9tva','5y+r6ycb55QeifbYB21WDa','su9jC3i','BMrZl2nOyxqTyW','mJy2mJe0yKXlreXp','s1PeCKm','A2vtA0u','C3LZDgvT','5Q2J5PAh5zU+54Mh55sF5OIq','rKLWqMu','6kEs6iMYl+ACJEIJHEIUVUIUOq','rwXurK4','ksa9pt09pq','Dg9Wx3a','ioIVT+AXGIaOsuq6ia','B1vxy2G','qur2BMe','yNj2tvK','Cg9W','yNnsAwm','C3rFy29UDgv4Da','v1rRs24','ioAuTUwiSa','AKT0uva','5OIwie1VzgvSioACQUMfJq','AvPHwxu','C2PtAu0','vfnIyNG','C3rHDhvZvgv4Da','y0vZDKW','quDXzK4','y29UDgvUDa','6k+35Rgc5BYa5AElicG','s0jD','Bg9N','AxrUCgW','thnLwNK','seHowgu','Aw9UoIaIqMvHCG','y2HHDf9JB21WBa','zMLNCW','q1Pszvu','DfLJzem','5Rwl6k+v5QIH5BYp5O+q56s6','5yE95PwW6lcd55sO','AxnbCNjHEq','z25JB3m','vhPTree','Df90ExbLx2nVBG','C1jYveS','wvLuAwC','uu9zAeG','rMDUvfe','B0Htyw0','twT2ELq','rdOG','y3vYCMvUDf90zq','C3rYzwfT','CgfYC2u','mtmYmJG4nffruLHKCq','qw5fD0W','yvrxAu8','AgLZDg9YEq','vuXwCNC','DwTYB2C','Bw9KzwW','wM9ft3u','6kEs6iMYl+ACJEIJHEwXLEEKUG','oIbmte0G5PYQ5Ps25yIW5PYj','uMLiz28','uMvXDwvZDcbHyG','tNPdENm','v1DQq3m','rvvYrum','sw9Qvvm','D2fYBG','cI0Tls0TieXmtq','EuTxqNa','y2HHCL9TB2rPzG','s1HLCxu','ChvZAa','sefyyLu','qxj0qvu','yxbWBhK','rw1Wu3q','ueKGs2v5lcdMIjyG','rhr1Bhu','CMvWzwf0','C3vJy2vZCW','A2v5CW','DNfjAfy','twnTzhK','vgfN5l+U5Ps5','y3vZDg9Tx2LUyW','CM91BMq','5O+q56s66k+n6i635y+w6k+35RgcicHj','ywjVCNrLzc4','yM9KEq','DMTLq3G','C2HmuNy','teXniev4zwn1Da','y29Kzq','vwrmvu8','CNDUu2O','D09LAwi','oxvgAeTsDa','tLDNAey','teXnx0vyrunvva','rKTOENK','teXnioACQUAuTUwiSoACIEAvIowBNG','uKn4zhO','z1r4DgO','qwjVCNrfCNjVCG','qvbjifvstcWGqq','Bwf0y2G','BMfTzq','DxHKyvK','BwvZC2fNzq','vNvRsNC','yMzVrMC','y2neCM8','C2LNBMfS','zsbYzxf1zxn0ia','mZvwCKfvsxy','EK1rrhG','mJi4mtGWtwPUvK1s','yxbPx2TLEq','z2v0uMvHzgvY','C3rHDhvZ','AKXcCxi','ChjVBxb0','rwvRDwq','v0vPBgm','yxjcvw8','tg9zDuO','l2DLBMvYyxrL','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','t1DzswW','Dg5ytKS','rMn4vuC','6BUy6k6K6k+35Rgc5BYa5AElid09pq','y3vZDg9T','C3rYAw5N','y29UDgv4Da','B21WBgv0Aw9UCW','ioAuTUwiScbmte0G5OMN6kgm','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','iowBNUwKJsaTls0Tlq','zgf0ytO','C3qTy2HHDhu4oG','ueL6wMe','oIbbueKGvvjmla','y1f5zw8','yNLbww4','zuPdD3e','DwLVB3i','DhLWzq','rfL3rNm','CMvWBgfJzq','Aw5JBhvKzxm','y2HVAwnLCW','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','rLPZtgW','EercEhK','Eg92Axa','57g75z6loIa','vgLXv2W','t0vHyum','CejLuwW','A1Hpqw0','DgLTzu91Da','svjjB1m','BgXTvgvZDe1Vza','v2H1Cfi','r2nTq2G','B2zPBgu','BhvKzv9OzwfKzq','CMflBvC','ievYCM9YoG','B3j0zwq','ioAuTUwiSca','DxrMltG','mte0u0Tkuxjg','zsbfCNjVCJO','zxrPB25FC291CG','q0XPyvm','uLD2qNy','y0Dezgm','tvbhBeK','yxvIzKG','CM9Szq','zgf0ytOG','EMTfz0O','Egn3z2y','ndi5ndm4nhLSt2Hnzq','5Pwi5zUE5Asn44cc','uu9Ozwq','q1LnDxi','vLD2vuy','qxv0Ag9YAxPHDa','BMH6q1O','B0Tvq0K','z0rxs1K','y3vZDg9Tx3vYBa','DhjPz2DLCLDVCG','y29UDgv4Df9WCG','6k+35Rgc5A6m5OIqid09pt09','DhjPBq','lcdNUQyG','Aw5MBW','t2jVwfy','ue56s0K','vu9iq3q','yNvMzMvYktO','DgvTCgvYyxr1CG','mtu1odiYotbNDgv3B2i','swTmC3u','C3rHCNrZv2L0Aa','C3HzsxK','tgTZBNe','qwP3EK0','BxHXA3C','CMvHza','EgHHquq','C3rir0S','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','57o757UF5O+q56s66k+n','BgvUz3rO','EfPhy2q','EMHZBMC','ANnVBG','mta2ody2nfj5zeLyrG','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','nJu5ota3rMD6ugro','BKLIAfy','C3nswwi','yxnZAxn0yw50','sLvntgC','EvbIy0W','zNvUy3rPB24','57g75z6loG','C0fMvue','s21bqwW','qvHAzuK','BKzutxK','sMfIuhK','uMXcuLu','44cq5Rwl6k+v5QIH5BYp44cr','5lUJ56cboG','Bv9WCM9MAwXL','CeDQDee','rv9srvnqt05trq','Dg9VBa','zfbOB1i','DgvZDf9JB250zq','l2fWAs9IywnRzq','BgXTx3bYB2zPBa','vhrPwwC','BMnwr3G','CMvZDwX0','quDAENm'];_0x1900=function(){return _0x361a97;};return _0x1900();}import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';function _0x4794(_0x1b0211,_0x5a7a3f){_0x1b0211=_0x1b0211-(0xdf9+0xc*-0x241+0xdfe);const _0x295e2c=_0x1900();let _0xd42bf0=_0x295e2c[_0x1b0211];if(_0x4794['IOvmlr']===undefined){var _0x5d32fc=function(_0x3d54d4){const _0x1cc1e3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x464d62='',_0xea05f3='',_0x3e2cc0=_0x464d62+_0x5d32fc;for(let _0x1cfc2c=0x1393*0x1+0x3fe+0x1*-0x1791,_0x2d9ce8,_0x494462,_0x4477b7=-0x1*0x12ef+0x2378+-0x1089;_0x494462=_0x3d54d4['charAt'](_0x4477b7++);~_0x494462&&(_0x2d9ce8=_0x1cfc2c%(-0x1fec+0xe*-0x1c9+0x38ee)?_0x2d9ce8*(-0x870+0x89*0x2b+-0x13*0xc1)+_0x494462:_0x494462,_0x1cfc2c++%(-0x2*0x112f+-0x2286+-0x46*-0xfc))?_0x464d62+=_0x3e2cc0['charCodeAt'](_0x4477b7+(-0x56f+-0x18c+-0x705*-0x1))-(-0x2b1+-0x24bf*0x1+-0x146*-0x1f)!==0x2099+0x26aa+-0x9*0x7eb?String['fromCharCode'](0xe0f+0x229d*-0x1+0x1*0x158d&_0x2d9ce8>>(-(-0x1*0x1c78+0x1a60+0x2*0x10d)*_0x1cfc2c&-0x1*0xd13+0x1e9*0xb+-0x7ea)):_0x1cfc2c:-0x1*-0x107b+0xf*-0x56+-0xb71){_0x494462=_0x1cc1e3['indexOf'](_0x494462);}for(let _0x40df1d=-0x1e3d+-0x22bb+0x40f8,_0x1d05cf=_0x464d62['length'];_0x40df1d<_0x1d05cf;_0x40df1d++){_0xea05f3+='%'+('00'+_0x464d62['charCodeAt'](_0x40df1d)['toString'](-0x1920+0x2440+-0xb10))['slice'](-(-0x18e8+-0x4a1+-0x1d8b*-0x1));}return decodeURIComponent(_0xea05f3);};_0x4794['CWnLbJ']=_0x5d32fc,_0x4794['SziIuM']={},_0x4794['IOvmlr']=!![];}const _0x1f7aee=_0x295e2c[0x9d+-0xeb5+-0x148*-0xb],_0x2e5db8=_0x1b0211+_0x1f7aee,_0x10b3da=_0x4794['SziIuM'][_0x2e5db8];if(!_0x10b3da){const _0x1cf410=function(_0x1742ae){this['EFDBnH']=_0x1742ae,this['kfDNyq']=[-0xfd8+-0x1d2*-0xd+0x57*-0x17,-0x393+0x23e4+0x2051*-0x1,-0xe3*-0x4+-0x1*-0x568+-0x8f4],this['aWbjKg']=function(){return'newState';},this['ivweZu']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['pDlXrj']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1cf410['prototype']['gnlINN']=function(){const _0x388a4b=new RegExp(this['ivweZu']+this['pDlXrj']),_0x43c991=_0x388a4b['test'](this['aWbjKg']['toString']())?--this['kfDNyq'][-0xe77+0x1925+0x1*-0xaad]:--this['kfDNyq'][-0x11f*0x4+-0x1cc4+0xe0*0x26];return this['uUIFSr'](_0x43c991);},_0x1cf410['prototype']['uUIFSr']=function(_0x403e07){if(!Boolean(~_0x403e07))return _0x403e07;return this['KSlnNA'](this['EFDBnH']);},_0x1cf410['prototype']['KSlnNA']=function(_0x4eac14){for(let _0xdbae47=0xe9*-0x10+-0x2385*0x1+0x3215,_0x3cbfaf=this['kfDNyq']['length'];_0xdbae47<_0x3cbfaf;_0xdbae47++){this['kfDNyq']['push'](Math['round'](Math['random']())),_0x3cbfaf=this['kfDNyq']['length'];}return _0x4eac14(this['kfDNyq'][-0x12f8+0x7eb+0xb0d]);},new _0x1cf410(_0x4794)['gnlINN'](),_0xd42bf0=_0x4794['CWnLbJ'](_0xd42bf0),_0x4794['SziIuM'][_0x2e5db8]=_0xd42bf0;}else _0xd42bf0=_0x10b3da;return _0xd42bf0;}let currentLLMRequestController=null;export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x271381){currentLLMRequestController=_0x271381;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){function _0x459139(_0x4694d4,_0x481085,_0x267e6f,_0x16cee5){return _0x4794(_0x4694d4-0x3ab,_0x267e6f);}const _0x30e776={};_0x30e776['RlBRU']=_0x3253ea(0x29,0x41,0x11,0x4b);function _0x3253ea(_0x14c948,_0x52c850,_0x412f3,_0x326d7d){return _0x4794(_0x14c948- -0x213,_0x326d7d);}const _0x14293f=_0x30e776;currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr[_0x3253ea(-0x43,-0xcc,-0x71,-0xb9)](_0x14293f[_0x459139(0x5a0,0x5c0,0x505,0x4ff)]));}export function isLLMTestMode(){function _0x141ec9(_0x3211bc,_0x55f4d6,_0x22b499,_0x378c5a){return _0x4794(_0x22b499-0x2f7,_0x3211bc);}return!!extension_settings[extensionName][_0x141ec9(0x4fa,0x422,0x4a2,0x4c6)+'e'];}export function formatPromptForDisplay(_0xdbb3a8){const _0x2c53f6={'bMbxJ':function(_0x236374,_0x3e53b4,_0xe3f80c){return _0x236374(_0x3e53b4,_0xe3f80c);},'yPbcL':function(_0x44308a,_0x3713f7){return _0x44308a(_0x3713f7);},'cGDdc':_0x195497(0x58,0x59,0xa5,0xe6),'nIbhV':function(_0x2e82ce,_0x5bb5be){return _0x2e82ce===_0x5bb5be;},'FgnTQ':_0x195497(0x131,0x19a,0x1c6,0x1ad)+_0x195497(0xb5,0x89,0x50,0xf0)+'aborted.','aEMfZ':_0x30364b(0x99,-0x5,-0x2,0x31),'sjSiM':_0x195497(0x1ae,0x221,0x21f,0x193),'AqBDA':_0x195497(0x228,0x147,0x17a,0x19a),'ADvna':_0x195497(0x12f,0x13b,0xdd,0x10a),'wBOFZ':function(_0x564bb,_0x3d8f8a){return _0x564bb!==_0x3d8f8a;},'xMDQJ':_0x30364b(-0x1c,0x32,0x1c,0x50),'JabPy':'unknown','wOeib':_0x195497(0x58,0x5b,0x4d,0x62),'UEapT':function(_0x467cdb,_0x56c0a7){return _0x467cdb!==_0x56c0a7;},'OatYH':_0x30364b(-0x44,-0xf6,-0x6f,-0x4d),'aubfH':'bSdUV','RwIee':_0x195497(0x118,0x16c,0x85,0x104),'jEDGA':_0x30364b(-0x3,0x40,-0x7,0x38),'yZxSv':_0x30364b(-0x63,-0x18a,-0x102,-0x129),'bPxDi':function(_0x47bfa9,_0x353c7d){return _0x47bfa9===_0x353c7d;},'Pkvzy':function(_0x51c9ff,_0x3c7d11){return _0x51c9ff===_0x3c7d11;},'JAucm':_0x30364b(-0x19e,-0x99,-0x100,-0xa7),'NzCzs':_0x30364b(0x1,0x22,-0x82,0x1c),'emmhg':_0x195497(0x17f,0x208,0x13d,0x189),'YIrFx':'RiHgo'};function _0x195497(_0x22de37,_0x4cfe73,_0x3ec1c6,_0x184fc6){return _0x4794(_0x184fc6- -0x89,_0x4cfe73);}if(_0x2c53f6['bPxDi'](typeof _0xdbb3a8,_0x195497(0x172,0x176,0x9d,0x104)))return _0xdbb3a8;if(Array[_0x30364b(-0x120,-0xbf,-0xf0,-0xf3)](_0xdbb3a8)){if(_0x2c53f6['Pkvzy'](_0x2c53f6[_0x30364b(-0x63,0xa1,0x18,-0x31)],_0x2c53f6[_0x30364b(-0x61,-0x163,-0xd6,-0x67)])){if(!_0x4d8b56||!_0x2c53f6['bMbxJ'](_0x167d93,_0x3f3ddc[_0x30364b(-0xd4,-0x3,-0x51,-0x7e)+'ds'],_0x3cd314))return;}else{const _0xc4af20=[];return _0xdbb3a8[_0x195497(0x179,0x189,0x140,0x18d)]((_0x47ecec,_0x34da63)=>{function _0x435572(_0x36807c,_0x3e0491,_0xd3ce4f,_0x1b60ec){return _0x195497(_0x36807c-0x11a,_0x3e0491,_0xd3ce4f-0x9,_0x1b60ec-0x1db);}function _0x593c9f(_0x58e009,_0x4a329b,_0x280db1,_0x13fc7c){return _0x30364b(_0x58e009-0x1ef,_0x13fc7c,_0x280db1-0x27f,_0x13fc7c-0x27);}const _0x13dcc2={'ncVGx':function(_0x31e67d,_0x276e60){function _0x23b731(_0x52d49f,_0xbcf2c0,_0x1ed4ff,_0x163e40){return _0x4794(_0x52d49f- -0xd7,_0x163e40);}return _0x2c53f6[_0x23b731(0x116,0xd9,0x14e,0x92)](_0x31e67d,_0x276e60);},'xcwgf':_0x2c53f6[_0x593c9f(0x279,0x299,0x21d,0x26b)],'oUWch':function(_0x3e9987,_0x1a7b63){function _0x3ca8e7(_0x263c54,_0x4d4f1a,_0x2bdc0a,_0x2a851e){return _0x593c9f(_0x263c54-0x14a,_0x4d4f1a-0xc6,_0x2bdc0a- -0x13b,_0x2a851e);}return _0x2c53f6[_0x3ca8e7(0xe7,0x9e,0x111,0x143)](_0x3e9987,_0x1a7b63);},'BSAHJ':_0x2c53f6[_0x435572(0x1dc,0x24d,0x2e4,0x285)],'MkvzT':function(_0x2fcbee,_0x48dc25){return _0x2fcbee===_0x48dc25;},'QTPGE':_0x2c53f6['aEMfZ'],'FcxUG':_0x435572(0x374,0x241,0x238,0x2c8),'CVkSV':_0x2c53f6[_0x435572(0x2b5,0x2b0,0x235,0x26b)],'bXsxM':function(_0x5e03f4,_0x35af1c){function _0x2afb6f(_0xa2c171,_0x2b3b8f,_0xb94eb8,_0x370cf4){return _0x593c9f(_0xa2c171-0x169,_0x2b3b8f-0x82,_0x370cf4- -0x311,_0xb94eb8);}return _0x2c53f6[_0x2afb6f(-0xf9,-0x119,-0x15a,-0xc5)](_0x5e03f4,_0x35af1c);},'raKmW':_0x2c53f6[_0x435572(0x3e6,0x3b0,0x3a8,0x36b)],'dNxEo':_0x593c9f(0x114,0x15b,0x161,0x15c),'rwnSj':_0x2c53f6[_0x593c9f(0x140,0x1c1,0x172,0x10b)],'SJWUk':function(_0x330c2f,_0x53e337){function _0x202e9a(_0x121a30,_0x3d2465,_0x3d4816,_0x343540){return _0x435572(_0x121a30-0x122,_0x3d2465,_0x3d4816-0xef,_0x343540- -0x4f6);}return _0x2c53f6[_0x202e9a(-0x1ee,-0x243,-0x210,-0x19a)](_0x330c2f,_0x53e337);},'zaXKT':_0x2c53f6['xMDQJ'],'ODYuC':_0x2c53f6['JabPy'],'IRIoS':function(_0x4131d7,_0x3408a0){return _0x4131d7/_0x3408a0;},'TtiYg':_0x2c53f6[_0x435572(0x2a4,0x33e,0x296,0x2b9)],'WEilc':_0x593c9f(0xe3,0xec,0x15b,0x157)};if(_0x2c53f6[_0x593c9f(0x2c7,0x23d,0x289,0x28e)](_0x2c53f6['OatYH'],_0x2c53f6[_0x593c9f(0x1ca,0x195,0x21f,0x216)])){const _0xc08302=_0x47ecec['role']||_0x2c53f6[_0x593c9f(0x20f,0x232,0x257,0x278)],_0x3f0f73=_0x2c53f6[_0x593c9f(0x2ef,0x1b0,0x250,0x290)](getRoleLabel,_0xc08302);_0xc4af20[_0x435572(0x253,0x2d4,0x2e2,0x2a1)](''+'═'[_0x593c9f(0x19f,0x12f,0x1b9,0x1b1)](0x17a0+0x1d53*-0x1+0x1*0x5e5)),_0xc4af20[_0x593c9f(0x169,0x116,0x1b2,0x160)]('【'+_0x3f0f73+'】'),_0xc4af20[_0x435572(0x30a,0x281,0x24a,0x2a1)](''+'─'[_0x593c9f(0x230,0x25a,0x1b9,0x14e)](-0xa3c+0x1f8+0x876));const _0x57f5de=_0x47ecec[_0x593c9f(0x147,0x126,0x181,0x1b0)];if(typeof _0x57f5de===_0x2c53f6['RwIee'])_0xc4af20[_0x593c9f(0x209,0x148,0x1b2,0x20e)](_0x57f5de);else Array['isArray'](_0x57f5de)&&(_0x2c53f6['jEDGA']===_0x2c53f6['yZxSv']?_0x13dcc2[_0x593c9f(0x1c9,0x26b,0x264,0x204)](_0x197416,_0x2e3908):_0x57f5de[_0x593c9f(0x26b,0x2c9,0x279,0x244)](_0x513792=>{function _0x295005(_0x308b42,_0x16444e,_0x23e97b,_0x29b347){return _0x435572(_0x308b42-0x68,_0x308b42,_0x23e97b-0x16b,_0x29b347-0x1a5);}function _0x179c4d(_0x3e6279,_0x3900e1,_0x52e982,_0x3853ee){return _0x593c9f(_0x3e6279-0xec,_0x3900e1-0xff,_0x52e982-0x28,_0x3900e1);}if(_0x13dcc2[_0x179c4d(0x17b,0x17f,0x1c0,0x1b0)](_0x13dcc2['QTPGE'],_0x13dcc2[_0x179c4d(0x26e,0x26c,0x215,0x169)])){_0x48408e[_0x179c4d(0x196,0x1eb,0x1ac,0x150)](_0x19a0bf+(_0x179c4d(0x23b,0x321,0x2c8,0x22a)+_0x295005(0x5d0,0x493,0x565,0x538)));const _0x27c2ad={};_0x27c2ad[_0x179c4d(0x264,0x1bc,0x1fd,0x281)]=_0x13dcc2[_0x295005(0x463,0x551,0x48b,0x4b7)],_0x27c2ad[_0x295005(0x45a,0x481,0x3df,0x46b)]=_0x295005(0x496,0x4b7,0x48a,0x43c)+'orted';const _0xa74a91={};_0xa74a91['success']=![],_0xa74a91['result']=null,_0xa74a91['id']=_0x41b8f7,_0xa74a91[_0x179c4d(0x28a,0x1fe,0x28f,0x266)]=_0x27c2ad,_0x5b23ab[_0x295005(0x513,0x53d,0x45c,0x508)](_0x25ab3f,_0xa74a91);return;}else{if(_0x13dcc2[_0x179c4d(0x24c,0x122,0x1c0,0x1fe)](_0x513792[_0x295005(0x479,0x4b8,0x51a,0x492)],_0x13dcc2['CVkSV']))_0xc4af20[_0x295005(0x3df,0x3ac,0x3d4,0x446)](_0x513792[_0x179c4d(0x2a8,0x21f,0x2a7,0x244)]||'');else{if(_0x13dcc2['bXsxM'](_0x513792['type'],_0x13dcc2[_0x295005(0x481,0x4c1,0x484,0x4a7)])){if(_0x13dcc2['dNxEo']!==_0x295005(0x45a,0x418,0x35e,0x3f5))return!!_0x43cd71[_0x2989b5][_0x295005(0x543,0x510,0x421,0x4a2)+'e'];else{const _0x10aa30=_0x513792[_0x179c4d(0x28c,0x23a,0x2ae,0x2f3)]?.[_0x179c4d(0x335,0x2d0,0x2c2,0x2ae)]||'';if(_0x10aa30['startsWith'](_0x13dcc2[_0x295005(0x46e,0x40d,0x440,0x45d)])){if(_0x13dcc2['SJWUk'](_0x13dcc2['zaXKT'],_0x13dcc2['zaXKT'])){if(_0x13dcc2[_0x295005(0x462,0x44e,0x432,0x405)](_0x3521d5[_0x179c4d(0x1b7,0x16a,0x1fd,0x213)],_0x13dcc2[_0x179c4d(0x20e,0x2df,0x24b,0x1f9)])){_0x223a91[_0x295005(0x46d,0x49a,0x45b,0x418)](_0x13dcc2['BSAHJ']);const _0x23a80b={};_0x23a80b[_0x295005(0x3d1,0x464,0x4f4,0x469)]=_0x13dcc2[_0x179c4d(0x22f,0x1e5,0x24b,0x22f)],_0x23a80b[_0x179c4d(0x1a3,0x25b,0x1ff,0x1eb)]=_0x179c4d(0x149,0x198,0x1d0,0x256)+_0x295005(0x3fc,0x535,0x412,0x4a9);const _0x19e10e={};_0x19e10e[_0x179c4d(0x1b0,0x21e,0x1e2,0x176)]=![],_0x19e10e['result']=null,_0x19e10e['id']=_0x28b116,_0x19e10e[_0x295005(0x4d1,0x55b,0x483,0x4fb)]=_0x23a80b,_0x5eeb81[_0x295005(0x4fc,0x52f,0x4a2,0x508)](_0x4174ec[_0x295005(0x3d0,0x464,0x42c,0x461)+_0x295005(0x52f,0x462,0x480,0x4f1)],_0x19e10e);return;}_0x360cda[_0x295005(0x4c6,0x4c9,0x4f1,0x4fb)](_0x179c4d(0x170,0x1fa,0x1ee,0x177)+_0x179c4d(0x21a,0x2e1,0x241,0x226),_0x495794);const _0x363c97=_0x295005(0x5d2,0x4c9,0x5a0,0x535)+_0x5f3778[_0x295005(0x4c5,0x41e,0x439,0x46b)];_0x22e493&&_0x13dcc2[_0x179c4d(0x22c,0x2f0,0x28c,0x333)](_0x29eb3d,_0x363c97);_0x1d2b60[_0x179c4d(0x2e8,0x324,0x28f,0x2d0)](_0x552324[_0x295005(0x49f,0x4fd,0x4cb,0x46b)]);const _0xd3364e={};_0xd3364e['success']=![],_0xd3364e[_0x179c4d(0x2e8,0x2fc,0x28d,0x205)]=_0x363c97,_0xd3364e['id']=_0x251c80,_0x2ef705[_0x179c4d(0x221,0x2e6,0x29c,0x21d)](_0x114782[_0x295005(0x475,0x414,0x4b1,0x461)+'E_RESPONSE'],_0xd3364e);}else{const _0x2c3ac3=_0x10aa30['match'](/^data:([^;]+);/),_0x206d2d=_0x2c3ac3?_0x2c3ac3[0x25*0xe9+-0xb4e*0x1+-0x165e]:_0x13dcc2['ODYuC'],_0x420498=_0x10aa30[_0x179c4d(0x243,0x326,0x2ad,0x21b)](',')[-0xef0+0x2f4+0x5d*0x21]||'',_0x3c306d=Math['round'](_0x13dcc2[_0x179c4d(0x18e,0x205,0x235,0x261)](_0x13dcc2['IRIoS'](_0x420498['length']*(0x646*0x4+0x20e3*0x1+0x38*-0x109),0xf8c+-0x13a9*-0x1+-0x2331),0xa01*0x3+-0x1db2+0x3af));_0xc4af20[_0x179c4d(0x1a3,0x1d3,0x1da,0x231)](_0x295005(0x3ed,0x47c,0x4f3,0x488)+':\x20'+_0x206d2d+_0x179c4d(0x258,0x26a,0x25a,0x1de)+_0x3c306d+_0x295005(0x4ba,0x37e,0x4ab,0x417));}}else _0xc4af20[_0x179c4d(0x203,0x156,0x1da,0x1de)](_0x295005(0x5c7,0x59c,0x520,0x536)+_0x10aa30+']');}}}}}));_0xc4af20['push']('');}else{if(!_0x32f472['enabled'])return;if(!_0x344b3c[_0x593c9f(0x1df,0x18e,0x181,0x1f6)]||_0xbd5e10[_0x435572(0x2d2,0x30c,0x1f9,0x270)][_0x435572(0x343,0x2db,0x2e6,0x320)]()==='')return;if(_0x40a607['triggerMod'+'e']===_0x13dcc2[_0x593c9f(0x2ea,0x201,0x263,0x269)]){if(!_0x4f3473||!_0x580fdc(_0x46b94c['triggerWor'+'ds'],_0x32a297))return;}const _0x494498={};_0x494498[_0x435572(0x3a3,0x349,0x355,0x30f)]=_0x1f45c6[_0x435572(0x31e,0x3a2,0x3bb,0x30f)]||_0x13dcc2[_0x593c9f(0x1a6,0x171,0x1e6,0x22b)],_0x494498[_0x435572(0x2c3,0x2ac,0x231,0x270)]=_0x5f513d[_0x435572(0x258,0x1c5,0x2bd,0x270)],_0xcdd8e4['push'](_0x494498);}}),_0xc4af20[_0x30364b(-0x8,0x4c,0x2,-0x72)]('\x0a');}}if(_0x2c53f6[_0x30364b(0x5b,-0x63,-0x33,-0xd6)](typeof _0xdbb3a8,_0x2c53f6[_0x195497(0x1a1,0xdd,0x140,0x182)])&&_0x2c53f6['UEapT'](_0xdbb3a8,null)){if(_0x2c53f6[_0x195497(0x1c2,0x175,0x154,0x181)](_0x195497(0xb4,0x11f,0x68,0xbb),_0x2c53f6['YIrFx'])){const {id:_0x5984ec}=_0x1f073f;if(!_0x5984ec)return;const _0x50d4ca=_0x693ee6[_0x22d548]||_0x56467c;_0x37aea2[_0x30364b(-0x10b,-0x137,-0xfb,-0x196)](_0x195497(0x6a,0xac,0x111,0x10b)+'\x20收到'+_0x50d4ca+(_0x195497(0xb7,0xd9,0x65,0xd5)+_0x30364b(-0xd0,-0x158,-0xe6,-0x11c))+_0x5984ec+')');const _0x1d921d=_0x2c53f6[_0x30364b(-0x39,0x1e,-0x2f,-0xd0)](_0x3828cc,_0x3709b3),_0x47b66a={};_0x47b66a[_0x195497(0x5d,0xed,0x9b,0xf8)]=_0x1d921d,_0x47b66a['id']=_0x5984ec,_0x4113a2[_0x195497(0x14f,0x199,0xf3,0x188)](_0x500182,_0x47b66a);}else return JSON[_0x195497(0xf3,0x1df,0x15b,0x183)](_0xdbb3a8,null,-0x383+-0x1f72+0x22f7);}function _0x30364b(_0x1d0e20,_0x51916e,_0x2db6e8,_0x5c5062){return _0x4794(_0x2db6e8- -0x21c,_0x51916e);}return String(_0xdbb3a8);}export function getRoleLabel(_0x2c1ecd){function _0x56949e(_0x49597e,_0x38b810,_0x1591e2,_0x2dc86e){return _0x4794(_0x2dc86e-0x168,_0x49597e);}const _0x3c3cbb={};_0x3c3cbb[_0x3d83f5(0xe3,0xf5,0x93,0x17f)]=_0x56949e(0x3cb,0x346,0x36c,0x3a1),_0x3c3cbb['BoEOE']='函数调用';const _0x1a5892=_0x3c3cbb;function _0x3d83f5(_0x423284,_0x15849a,_0x564d2c,_0x2d213b){return _0x4794(_0x15849a- -0xf5,_0x564d2c);}const _0xa2220c={};_0xa2220c['system']='系统提示词',_0xa2220c[_0x56949e(0x2db,0x299,0x1c6,0x260)]='用户',_0xa2220c['assistant']=_0x1a5892[_0x3d83f5(0x13f,0xf5,0x7b,0x18b)],_0xa2220c[_0x3d83f5(0xb4,0xf9,0x147,0x8e)]=_0x1a5892[_0x56949e(0x28c,0x27c,0x22f,0x25d)],_0xa2220c[_0x56949e(0x38d,0x2d8,0x2cc,0x363)]='工具';const _0x1f81bb=_0xa2220c;return _0x1f81bb[_0x2c1ecd]||_0x2c1ecd;}export function getCurrentLLMProfile(){function _0x1f4787(_0x439ffd,_0x565de0,_0x3d9a59,_0x55665c){return _0x4794(_0x55665c-0x106,_0x3d9a59);}const _0x417364=extension_settings[extensionName][_0x53c1d9(0x164,0x1c7,0x117,0x130)+'es']||{};function _0x53c1d9(_0x251e01,_0x51d806,_0x472c30,_0x71ca2e){return _0x4794(_0x251e01- -0x9b,_0x51d806);}const _0x5a9230=extension_settings[extensionName][_0x1f4787(0x323,0x29b,0x2fb,0x31e)+_0x1f4787(0x25d,0x371,0x2c6,0x2fe)];return _0x417364[_0x5a9230]||_0x417364[Object[_0x53c1d9(0xbd,0x7b,0x52,0xea)](_0x417364)[0x1546*-0x1+0x294+-0x2*-0x959]]||{};}export function getCurrentTestContext(){function _0x53627(_0x4cd268,_0x452305,_0x1f3c93,_0x5e8611){return _0x4794(_0x452305-0x11d,_0x4cd268);}const _0x3dbc21=extension_settings[extensionName][_0x30a70a(-0x6,-0x110,-0x63,-0x7f)+_0x53627(0x402,0x360,0x350,0x30a)+'s']||{},_0x28ce5f=extension_settings[extensionName][_0x53627(0x298,0x254,0x1c3,0x248)+_0x53627(0x1a1,0x230,0x279,0x1d1)+'_profile'];function _0x30a70a(_0x14cc66,_0x23a619,_0x449832,_0x3ca0f3){return _0x4794(_0x3ca0f3- -0x27c,_0x449832);}return _0x3dbc21[_0x28ce5f]||_0x3dbc21[Object[_0x30a70a(-0x1c3,-0x153,-0x155,-0x124)](_0x3dbc21)[-0x1*0xa12+-0x6ca+0x86e*0x2]]||{};}export function getEffectiveConfigForRequestType(_0x4da504){const _0x4e20e6=extension_settings[extensionName][_0x2da163(0x13c,0x13d,0x1c0,0x1ca)+_0x316ed0(0x444,0x33f,0x3bc,0x3bd)+_0x2da163(0x169,0x16a,0x16e,0xea)]||{},_0x3cf342={};_0x3cf342['api_profil'+'e']='默认',_0x3cf342['context_pr'+'ofile']='默认';const _0x4c559d=_0x4e20e6[_0x4da504]||_0x3cf342,_0x334094=extension_settings[extensionName]['llm_profil'+'es']||{},_0x56c684=extension_settings[extensionName][_0x2da163(0x200,0x1e8,0x131,0x1c0)+_0x316ed0(0x55e,0x4e8,0x47e,0x4d1)+'s']||{},_0x13c1a5=_0x4c559d['api_profil'+'e']||'默认',_0x45d968=_0x334094[_0x13c1a5]||_0x334094[Object['keys'](_0x334094)[-0xb*0x295+0xf91+0xcd6]]||{},_0x1c4ae5=_0x4c559d['context_pr'+_0x2da163(0x17a,0x1d4,0xd7,0x171)]||'默认',_0x58ad87=_0x56c684[_0x1c4ae5]||_0x56c684[Object['keys'](_0x56c684)[-0x2021+0x95a+0x16c7]]||{};function _0x2da163(_0x340c17,_0x2a6a34,_0x2d3a81,_0x36d8ce){return _0x4794(_0x36d8ce- -0x3d,_0x2d3a81);}const _0x10c34d={};_0x10c34d[_0x316ed0(0x4b5,0x492,0x496,0x497)]=_0x45d968[_0x2da163(0x23f,0x1a4,0x21d,0x1cc)]||'';function _0x316ed0(_0x419e27,_0x15836c,_0x2a48ed,_0x4b99ec){return _0x4794(_0x4b99ec-0x28e,_0x419e27);}return _0x10c34d[_0x2da163(0x16b,0x190,0x1af,0x140)]=_0x45d968[_0x2da163(0x11f,0x189,0x16f,0x140)]||'',_0x10c34d[_0x2da163(0x11b,0xf9,0x160,0x103)]=_0x45d968[_0x316ed0(0x401,0x3d9,0x3a3,0x3ce)]||'',_0x10c34d[_0x316ed0(0x4ac,0x423,0x45d,0x463)+'e']=_0x45d968[_0x2da163(0x1e0,0x126,0x17b,0x198)+'e']??-0x161+0x210e*-0x1+0x226f+0.7,_0x10c34d['top_p']=_0x45d968[_0x316ed0(0x358,0x374,0x3b9,0x39a)]??0x4*-0x6d0+0xea7+-0x1*-0xc9a,_0x10c34d['max_tokens']=_0x45d968['max_tokens']??0x1b79+-0x1858+-0x121,_0x10c34d[_0x316ed0(0x456,0x32f,0x337,0x3c6)]=_0x45d968['stream']??![],_0x10c34d[_0x316ed0(0x418,0x3b8,0x4a7,0x41c)]=_0x58ad87,_0x10c34d;}export function buildPromptForRequestType(_0x32ffcf,_0x1a8dc2=''){const _0x354a0e={'kXOAm':function(_0x1c0807,_0x467a74){return _0x1c0807(_0x467a74);},'YYTig':function(_0x101084,_0x3003ed){return _0x101084/_0x3003ed;},'itnpl':function(_0x566bbf,_0x1c4689){return _0x566bbf!==_0x1c4689;},'DNnYg':_0x449d89(-0x252,-0x1a3,-0x200,-0x211),'IYWwr':function(_0x3bf595,_0x55f88c){return _0x3bf595===_0x55f88c;},'FZaFb':_0x339370(-0x117,-0xc5,-0x165,-0x102),'shLRv':_0x339370(0xa0,0x2c,0xcf,-0x49),'OWYIl':_0x449d89(-0x121,-0x223,-0x18b,-0x11c),'WTkKn':'user','vkeCx':_0x449d89(-0x119,-0x12b,-0x111,-0x165),'ZoEOu':function(_0x38e864,_0x1bd6bf){return _0x38e864>_0x1bd6bf;},'KZDrC':_0x339370(-0x100,-0x5f,-0xe4,-0x86),'BwLle':_0x339370(0x20,0x3b,-0x3a,0x0),'xDBxy':function(_0x3c7d8e,_0x2953c6){return _0x3c7d8e!==_0x2953c6;},'pweqB':_0x339370(-0x143,-0xaf,-0xdc,-0xd7),'oHSam':function(_0x73528d,_0x501f21){return _0x73528d(_0x501f21);}},_0x4000b1=extension_settings[extensionName]['llm_reques'+_0x449d89(-0x29d,-0x203,-0x1f4,-0x1a1)+'figs']||{},_0x52869a={};_0x52869a[_0x449d89(-0x142,-0xbd,-0x157,-0xc9)+_0x449d89(-0x1be,-0x125,-0x175,-0x127)]='默认';const _0x5020a0=_0x4000b1[_0x32ffcf]||_0x52869a,_0x160ac6=_0x5020a0[_0x449d89(-0xf4,-0x155,-0x157,-0x156)+_0x449d89(-0x130,-0x12f,-0x175,-0x107)]||'默认';function _0x339370(_0x44367a,_0xf7420b,_0x3f096e,_0x168329){return _0x4794(_0xf7420b- -0x1b0,_0x3f096e);}function _0x449d89(_0x3214f2,_0x5c716d,_0x5d17dd,_0x14eee1){return _0x4794(_0x5d17dd- -0x323,_0x14eee1);}const _0x3fd0d0=extension_settings[extensionName][_0x449d89(-0x1a9,-0xd2,-0x126,-0xaf)+_0x339370(0x8d,0x93,0x15,-0xd)+'s']||{},_0x332972=_0x3fd0d0[_0x160ac6]||_0x3fd0d0[Object[_0x449d89(-0x143,-0x26a,-0x1cb,-0x20b)](_0x3fd0d0)[-0x5*0x283+0x190e+-0xc7f]]||{},_0x324328=[];if(_0x332972[_0x339370(-0x13,-0xbd,-0x147,-0x3a)]&&Array[_0x339370(-0x6e,-0x84,-0x64,-0x3)](_0x332972[_0x339370(-0x97,-0xbd,-0x14d,-0x105)])){if(_0x354a0e[_0x449d89(-0x1aa,-0x1a1,-0x181,-0x1b1)](_0x449d89(-0x174,-0x292,-0x1e7,-0x227),_0x354a0e[_0x339370(-0x2f,0x7a,0xb7,0xf7)]))_0x332972['entries'][_0x449d89(-0x11c,-0x88,-0x10d,-0xa8)](_0xa84fe=>{const _0x3bf2e0={'sAfUA':function(_0x3ac785,_0x595bc3){return _0x354a0e['kXOAm'](_0x3ac785,_0x595bc3);},'hBLCw':'unknown','yIszc':function(_0x159b5b,_0x12c04d){function _0x469a6f(_0x1b204a,_0x5e7489,_0x21f871,_0x552c0e){return _0x4794(_0x1b204a-0x2e,_0x552c0e);}return _0x354a0e[_0x469a6f(0x15f,0xe1,0x15c,0x151)](_0x159b5b,_0x12c04d);},'JioQL':function(_0x289f8c,_0x5b8a6b){return _0x289f8c*_0x5b8a6b;}};function _0x505e25(_0x19f3a9,_0xe98b3f,_0x19605f,_0x46e873){return _0x449d89(_0x19f3a9-0x120,_0xe98b3f-0xac,_0x19605f- -0x43,_0x19f3a9);}function _0x3988e9(_0x10cb6d,_0x4b1c04,_0x1f56d7,_0x4355c8){return _0x339370(_0x10cb6d-0xdf,_0x10cb6d- -0x221,_0x1f56d7,_0x4355c8-0xd7);}if(_0x354a0e[_0x3988e9(-0x2af,-0x2e2,-0x280,-0x334)](_0x354a0e['DNnYg'],_0x3988e9(-0x2ae,-0x26b,-0x228,-0x2b0))){const _0x2ab650={};_0x2ab650[_0x3988e9(-0x214,-0x1be,-0x26b,-0x1f2)]=_0x505e25(-0x28e,-0x2f7,-0x26e,-0x221),_0x2ab650['content']=_0x198b0['user'],_0x1f78e1[_0x505e25(-0x25e,-0x17b,-0x217,-0x200)](_0x2ab650);}else{if(!_0xa84fe['enabled'])return;if(!_0xa84fe[_0x505e25(-0x1f2,-0x1b0,-0x248,-0x1ea)]||_0xa84fe[_0x505e25(-0x210,-0x29a,-0x248,-0x2db)]['trim']()==='')return;if(_0x354a0e[_0x3988e9(-0x2d7,-0x351,-0x35a,-0x2e5)](_0xa84fe['triggerMod'+'e'],_0x354a0e['FZaFb'])){if(_0x354a0e[_0x505e25(-0x220,-0x2cc,-0x244,-0x198)](_0x354a0e[_0x505e25(-0x1d2,-0x22c,-0x204,-0x28e)],_0x3988e9(-0x1f5,-0x1a9,-0x1e8,-0x228)))return function(_0x5b8215){function _0x454ebe(_0x23c998,_0x21c4c1,_0x516ed7,_0x1f0bf1){return _0x505e25(_0x23c998,_0x21c4c1-0x138,_0x21c4c1-0x61a,_0x1f0bf1-0xea);}const {id:_0x5a9122}=_0x5b8215;if(!_0x5a9122)return;const _0x175f47=_0x366b75[_0x184178]||_0x303601;_0x542eec['log'](_0x37f599(-0xde,-0x7e,-0x172,-0xfa)+_0x37f599(-0x19a,-0x143,-0x161,-0x179)+_0x175f47+('提示词获取请求\x20(I'+_0x37f599(-0x10e,-0x15a,-0xce,-0x158))+_0x5a9122+')');const _0x5e712c=_0x3bf2e0[_0x454ebe(0x4f5,0x4a4,0x464,0x527)](_0x2e9c06,_0x483fda),_0xac9d40={};_0xac9d40[_0x454ebe(0x3f6,0x435,0x4b3,0x3b6)]=_0x5e712c;function _0x37f599(_0x2e4305,_0x3a0d89,_0x37317b,_0x3dc62a){return _0x505e25(_0x3a0d89,_0x3a0d89-0x84,_0x3dc62a-0xd8,_0x3dc62a-0x82);}_0xac9d40['id']=_0x5a9122,_0xe7ccc8[_0x454ebe(0x455,0x4c5,0x440,0x509)](_0x14d6fd,_0xac9d40);};else{if(!_0x1a8dc2||!checkTriggerWords(_0xa84fe['triggerWor'+'ds'],_0x1a8dc2)){if(_0x354a0e[_0x505e25(-0x1ed,-0x19d,-0x244,-0x2d5)](_0x505e25(-0x1c0,-0x17d,-0x21d,-0x1c8),_0x354a0e[_0x505e25(-0x195,-0x27a,-0x1de,-0x1e4)]))return;else{const _0x22bb46=_0x5c289c[_0x3988e9(-0x260,-0x28d,-0x275,-0x297)](/^data:([^;]+);/),_0x1b104f=_0x22bb46?_0x22bb46[0x1b16*-0x1+0x175e*-0x1+0x3275]:_0x3bf2e0['hBLCw'],_0x2ba252=_0xc1c170[_0x3988e9(-0x1af,-0x1bc,-0x1b9,-0x1a1)](',')[0x1703+0x39*0x57+-0x1*0x2a61]||'',_0xc77a64=_0x3e3503[_0x505e25(-0x296,-0x25d,-0x209,-0x237)](_0x3bf2e0['yIszc'](_0x3bf2e0['JioQL'](_0x2ba252[_0x505e25(-0x1f1,-0x1d0,-0x184,-0x123)],-0xb*0xbf+-0x79b*-0x5+-0xd*0x24b),0x4d1+0x377*0x1+-0x844)/(-0x1c1*-0xb+0x36b*-0x3+-0x50a));_0x51dcce[_0x3988e9(-0x282,-0x32a,-0x2c3,-0x2f5)](_0x3988e9(-0x240,-0x1b4,-0x2e1,-0x2b0)+':\x20'+_0x1b104f+_0x505e25(-0x22a,-0x18c,-0x197,-0x19d)+_0xc77a64+_0x505e25(-0x2e4,-0x20a,-0x246,-0x27b));}}}}const _0x23816d={};_0x23816d['role']=_0xa84fe[_0x505e25(-0x151,-0x1bf,-0x1a9,-0x1e4)]||_0x354a0e['WTkKn'],_0x23816d[_0x505e25(-0x2c3,-0x1b7,-0x248,-0x1a1)]=_0xa84fe[_0x505e25(-0x229,-0x28b,-0x248,-0x22c)],_0x324328[_0x505e25(-0x295,-0x24f,-0x217,-0x2b0)](_0x23816d);}});else{let _0x14b41b;if(_0x354a0e[_0x449d89(-0x1f7,-0x27b,-0x229,-0x2ac)](typeof _0x4641de['error'],_0x354a0e[_0x449d89(-0x245,-0x117,-0x1c2,-0x192)])&&_0x105dd1[_0x449d89(-0x164,-0xc0,-0x11f,-0x146)][_0x339370(0xd,-0x3c,-0xc2,0x20)]){_0x14b41b=''+_0x5de661[_0x449d89(-0x193,-0x94,-0x11f,-0x198)]['message'];const _0x13b4e4=[];if(_0x2a187a[_0x339370(0x9a,0x54,0xfd,0x52)][_0x449d89(-0x117,-0x1ef,-0x188,-0x202)])_0x13b4e4[_0x449d89(-0x1f4,-0x27e,-0x1d4,-0x274)](_0x449d89(-0x21e,-0x114,-0x17f,-0x1ea)+_0x1c0964[_0x449d89(-0x1c4,-0xcb,-0x11f,-0x9a)]['type']);if(_0x5b8af1[_0x339370(0x45,0x54,0x3,-0x2b)][_0x339370(-0xf7,-0x4c,0x5c,-0x1b)])_0x13b4e4[_0x339370(-0x2f,-0x61,-0x6a,0x46)](_0x339370(0xc6,0x6f,-0x30,-0x1)+_0x392e84[_0x339370(0x98,0x54,0xdd,0x49)][_0x449d89(-0x1e8,-0x13b,-0x1bf,-0x11c)]);_0x354a0e[_0x449d89(-0x1d2,-0x159,-0x1e2,-0x213)](_0x13b4e4[_0x339370(0x49,0x32,0xcc,-0x34)],-0x2e7+-0x241f+0x2706)&&(_0x14b41b+='\x20('+_0x13b4e4[_0x449d89(-0x16f,-0xa9,-0x105,-0x8e)](',\x20')+')');}else _0x14b41b=''+_0x1c67d6['stringify'](_0x629a83['error']);throw new _0x482660(_0x14b41b);}}else _0x332972[_0x339370(-0xb0,-0x73,-0xce,-0x12)]&&Array[_0x449d89(-0x294,-0x1af,-0x1f7,-0x237)](_0x332972[_0x449d89(-0x162,-0x258,-0x1e6,-0x19d)])&&_0x332972[_0x339370(0x24,-0x73,-0xba,-0xb0)][_0x449d89(-0xda,-0xbd,-0x10d,-0x74)](_0x4d09f9=>{if(_0x4d09f9['user']&&_0x354a0e[_0x49cf0a(-0x158,-0x117,-0x183,-0x170)](_0x4d09f9['user'][_0x49cf0a(-0xac,-0x112,-0x9c,-0x43)](),'')){if(_0x354a0e['IYWwr']('poMHf',_0x354a0e[_0x49cf0a(-0x176,-0x165,-0x172,-0x11e)]))_0x168168['push'](_0x2e3e3d['text']||'');else{const _0x2f6f53={};_0x2f6f53[_0xa3edf(0x1f6,0x194,0x17a,0x14f)]=_0x354a0e[_0xa3edf(0x14d,0x176,0x1a0,0x12d)],_0x2f6f53[_0xa3edf(0x157,0xfb,0x1cb,0x1ef)]=_0x4d09f9[_0xa3edf(0x131,0x169,0x1db,0x1ba)],_0x324328[_0xa3edf(0x188,0x126,0xf3,0x1a3)](_0x2f6f53);}}function _0xa3edf(_0x3033ef,_0x2b35f8,_0x2bebd7,_0x8a1cb5){return _0x339370(_0x3033ef-0x6a,_0x3033ef-0x1e9,_0x8a1cb5,_0x8a1cb5-0xa0);}function _0x49cf0a(_0x44e0c6,_0x596359,_0x39b1d8,_0x36234d){return _0x449d89(_0x44e0c6-0xc5,_0x596359-0x54,_0x44e0c6-0xa9,_0x39b1d8);}if(_0x4d09f9['assistant']&&_0x4d09f9['assistant'][_0xa3edf(0x207,0x1c3,0x1a1,0x24f)]()!==''){const _0x3c6e1d={};_0x3c6e1d['role']=_0x354a0e['BwLle'],_0x3c6e1d[_0x49cf0a(-0x15c,-0x1e4,-0xcf,-0x176)]=_0x4d09f9[_0xa3edf(0x224,0x25d,0x1a3,0x2b8)],_0x324328['push'](_0x3c6e1d);}});const _0x233148=_0x354a0e[_0x339370(-0x51,-0x8,-0x13,-0x96)](mergeAdjacentMessages,_0x324328),_0x216216=_0x354a0e[_0x449d89(-0x271,-0x1dd,-0x1ef,-0x255)](processRollPlaceholders,_0x233148);return _0x216216;}function _0x3aaee9(_0x2f4219,_0x1af7dd,_0x3d0e8a,_0x437112){return _0x4794(_0x2f4219-0x3a3,_0x1af7dd);}const _0x3e185b={};_0x3e185b[_0x3aaee9(0x5e5,0x549,0x5c8,0x55a)]=_0x500b90(0x1d5,0x20e,0x2b5,0x179),_0x3e185b[_0x500b90(0x209,0x1f9,0x1aa,0x25c)+'n']=_0x3aaee9(0x4ac,0x505,0x53a,0x514),_0x3e185b['char_displ'+'ay']=_0x500b90(0x2a4,0x249,0x250,0x2a2),_0x3e185b[_0x3aaee9(0x4f0,0x4f3,0x51b,0x483)+'y']=_0x500b90(0x34d,0x322,0x2b7,0x298),_0x3e185b['translatio'+'n']='翻译',_0x3e185b['tag_modify']=_0x500b90(0x212,0x262,0x1bc,0x206);function _0x500b90(_0x171f9e,_0xfa3121,_0x395598,_0x6fc2d7){return _0x4794(_0xfa3121-0x107,_0x6fc2d7);}const REQUEST_TYPE_NAMES=_0x3e185b;export async function executeTypedLLMRequest(_0x23f83c,_0x3b5d63,_0x1d5103,_0x4a1c96=null){const _0x228456={'sykyY':function(_0x426469,_0x5cdcc5){return _0x426469(_0x5cdcc5);},'oVzDF':_0x2431fd(-0x212,-0x16f,-0xff,-0x192),'IkLsu':_0x429933(0x2f2,0x2c2,0x264,0x2a0)+'orted','CZReU':function(_0x46d0a2,_0x3a66a8){return _0x46d0a2(_0x3a66a8);},'Pfmun':_0x429933(0x29f,0x310,0x325,0x2d7),'KXequ':function(_0x202ca7,_0x3fe25d){return _0x202ca7/_0x3fe25d;},'gTxtj':function(_0x2f2539,_0x38dee0){return _0x2f2539*_0x38dee0;},'NWghF':function(_0x5547e1,_0x2f2f2d){return _0x5547e1(_0x2f2f2d);},'Eekud':function(_0x394aa3,_0x5538dc){return _0x394aa3(_0x5538dc);},'ZpjiM':_0x429933(0x206,0x2a7,0x248,0x231),'TiqWl':function(_0x337eea,_0x171417){return _0x337eea===_0x171417;},'cQyeo':_0x2431fd(-0x139,-0xed,-0x196,-0xef),'pBeQl':function(_0x55b05c,_0x1959b3){return _0x55b05c>_0x1959b3;},'KmAAl':_0x2431fd(-0x129,-0x1bd,-0x135,-0x120),'WlMhr':_0x2431fd(-0x9f,-0x79,-0x6a,-0xc8),'FKhzy':_0x2431fd(-0x1ad,-0x21f,-0x20e,-0x1d6),'FZsLl':function(_0x424914,_0x4daf46){return _0x424914(_0x4daf46);},'jeNcd':function(_0x445b8d,_0x1ed19c){return _0x445b8d||_0x1ed19c;},'FEgsq':_0x429933(0x358,0x304,0x2b4,0x2ca)+_0x2431fd(-0x1ab,-0x187,-0x18f,-0x213),'xZGcd':function(_0x563b84,_0x4895ba){return _0x563b84(_0x4895ba);},'ccDro':function(_0x21a8e6,_0x239498){return _0x21a8e6(_0x239498);},'UOHCt':function(_0x7b37bb,_0x135bd5){return _0x7b37bb||_0x135bd5;},'pZQSm':_0x2431fd(-0x125,-0xd2,-0x105,-0x103)+_0x429933(0x2bb,0x27f,0x2c6,0x31b)+_0x2431fd(-0x1f7,-0x1e7,-0x13a,-0x172)+_0x2431fd(-0x1c9,-0x15f,-0x1fb,-0x17b),'AnEwL':function(_0x31e641,_0x360a8e){return _0x31e641!==_0x360a8e;},'LWvLg':_0x2431fd(-0x11a,-0x140,-0x21f,-0x19c),'NcTqK':_0x429933(0x39b,0x309,0x29a,0x2c5),'IrJhs':function(_0x50f497,_0x5d1609,_0x402a06){return _0x50f497(_0x5d1609,_0x402a06);},'xKmQC':_0x429933(0x218,0x27c,0x250,0x28f),'keSkE':'NhBzS','ukrog':function(_0x3edbe7,_0x53ba06){return _0x3edbe7===_0x53ba06;},'LoYuJ':function(_0x55e9a0,_0x2fd9d8){return _0x55e9a0>_0x2fd9d8;},'gAVus':_0x429933(0x32e,0x36c,0x3ad,0x398),'eJCwq':_0x429933(0x3e6,0x374,0x415,0x38c),'ttfGp':function(_0x230728,_0x14463d){return _0x230728===_0x14463d;},'FIpBe':'jarnF','oBizp':_0x2431fd(-0xfd,-0x1dc,-0x1c3,-0x14d),'DYwFs':'MOGAR','AGqfN':_0x2431fd(-0xf4,-0x16a,-0x11d,-0x18c),'jLBqr':_0x2431fd(-0xab,-0x84,-0x176,-0xf3),'sxYIy':'data:\x20[DON'+'E]','kxqtT':'data:\x20','Mcmdy':function(_0x5b7d91,_0x5da708){return _0x5b7d91===_0x5da708;},'AXZeI':_0x429933(0x25b,0x2c4,0x28f,0x2c8),'arBUo':'iVLlE','XzIgu':'QkQBs','jKtQP':'XnRdO','uxdaY':_0x429933(0x2be,0x336,0x34f,0x3a9),'JUMLg':_0x429933(0x299,0x28d,0x317,0x267),'HAXbU':_0x429933(0x3f3,0x34e,0x3e7,0x30e),'IcKXe':_0x2431fd(-0x174,-0x239,-0x156,-0x1d1),'TrmNp':'未收到有效回复。','stHGK':_0x429933(0x3d3,0x335,0x29f,0x30c),'MPGlI':_0x429933(0x3b2,0x358,0x2c2,0x3f7),'dndFJ':'tDlqQ','bsRic':function(_0x15bfad,_0x16a9b3){return _0x15bfad(_0x16a9b3);},'dPhoR':_0x429933(0x2e1,0x2aa,0x257,0x235),'ePjzg':function(_0x517a7d,_0x4f4f6f){return _0x517a7d===_0x4f4f6f;},'nFTMy':'vqGgW','QZpcv':function(_0x321130){return _0x321130();}},{prompt:_0x2ef6b3,id:_0x4239ca}=_0x23f83c;if(_0x228456[_0x429933(0x3bd,0x39d,0x326,0x444)](!_0x4239ca,!_0x2ef6b3))return;currentLLMRequestController&&(currentLLMRequestController[_0x429933(0x3b5,0x3b2,0x3a1,0x39a)](),toastr['info'](_0x228456['FEgsq']));currentLLMRequestController=new AbortController();const _0x5f4fb1=currentLLMRequestController[_0x2431fd(-0x157,-0x1b9,-0x21c,-0x189)];startFabLoading();const _0x3f4fa2=REQUEST_TYPE_NAMES[_0x3b5d63]||_0x3b5d63;function _0x2431fd(_0x3e345a,_0x1b3771,_0xe87e77,_0x344c16){return _0x3aaee9(_0x344c16- -0x6a4,_0x3e345a,_0xe87e77-0x1a,_0x344c16-0x19e);}console[_0x2431fd(-0x15b,-0x20d,-0x1cc,-0x1e0)](_0x429933(0x2be,0x311,0x300,0x37f)+_0x429933(0x2de,0x330,0x2c9,0x317)+_0x3f4fa2+_0x429933(0x2ef,0x28a,0x2e2,0x27f)+_0x4239ca+')',_0x2ef6b3),clearLog(),_0x228456[_0x429933(0x3a4,0x360,0x341,0x3ba)](addLog,_0x2431fd(-0xcf,-0xad,-0x92,-0xcf)+_0x429933(0x26c,0x29c,0x343,0x342)+_0x3f4fa2+_0x429933(0x1fc,0x288,0x2f1,0x28d)),_0x228456['Eekud'](addLog,_0x429933(0x2f3,0x391,0x3c8,0x43e)+_0x4239ca),_0x228456[_0x2431fd(-0x9c,-0x178,-0x83,-0x11e)](addLog,_0x429933(0x26f,0x27d,0x311,0x1ee)+':'),addLog(_0x228456[_0x429933(0x27a,0x2f4,0x341,0x37f)](formatPromptForDisplay,_0x2ef6b3));const _0x1c0b38=getEffectiveConfigForRequestType(_0x3b5d63),{api_url:_0x1cdf46,api_key:_0x549dea,model:_0x2187a2,temperature:_0x5299a4,top_p:_0x4e7876,max_tokens:_0x13993a,stream:_0x144859}=_0x1c0b38;if(_0x228456[_0x2431fd(-0x12d,-0x19c,-0x1a7,-0x12e)](!_0x1cdf46,!_0x549dea)||!_0x2187a2){const _0x45ff62=_0x3f4fa2+(_0x2431fd(-0x215,-0x190,-0x1f3,-0x16b)+_0x2431fd(-0x61,-0x14c,-0x130,-0xe4)+_0x2431fd(-0x1f5,-0x242,-0x14d,-0x1ea)+'置。');toastr['error'](_0x45ff62);const _0x48b650={};_0x48b650['success']=![],_0x48b650[_0x2431fd(-0x107,-0x186,-0x1a9,-0xff)]=_0x45ff62,_0x48b650['id']=_0x4239ca,eventSource[_0x2431fd(-0x175,-0x60,-0x52,-0xf0)](_0x1d5103,_0x48b650);return;}const _0x434969=_0x228456['pZQSm'],_0x3eb925=_0x1cdf46[_0x429933(0x2a1,0x31a,0x314,0x37c)](/\/$/,'');function _0x429933(_0x4601a8,_0x4346e7,_0x22fd50,_0x1db37c){return _0x3aaee9(_0x4346e7- -0x226,_0x4601a8,_0x22fd50-0x3e,_0x1db37c-0x1d8);}_0x4a1c96&&(_0x228456['AnEwL'](_0x429933(0x2f8,0x382,0x338,0x38e),_0x2431fd(-0x1fb,-0x1fc,-0x16c,-0x1c3))?_0x228456[_0x2431fd(-0x144,-0x1c6,-0xdf,-0x160)](_0x4a1c96,'正在处理\x20'+_0x3f4fa2+_0x429933(0x3e6,0x394,0x335,0x3e6)):_0x438570[_0x2431fd(-0x174,-0x23b,-0x2b7,-0x214)](_0x2431fd(-0x1e2,-0x108,-0x240,-0x195)+'复。'));try{if(_0x228456[_0x2431fd(-0x209,-0xc5,-0x119,-0x15c)](_0x228456['LWvLg'],_0x2431fd(-0x1f2,-0x285,-0x284,-0x1f7)))_0x3eca52+=_0x5cf6a4,_0x4197df&&_0x228456[_0x2431fd(-0x136,-0x181,-0x6b,-0xe0)](_0x45d070,_0x2a03f4);else{const _0x207a0b={};_0x207a0b[_0x429933(0x293,0x2a3,0x2fd,0x265)+_0x429933(0x313,0x334,0x392,0x3b8)+'ce']=_0x228456[_0x429933(0x439,0x3a6,0x36e,0x379)],_0x207a0b[_0x2431fd(-0x103,-0x1c1,-0x1b6,-0x137)]=_0x3eb925,_0x207a0b[_0x2431fd(-0x248,-0x17f,-0x1cf,-0x1a5)+_0x429933(0x39f,0x32c,0x3d7,0x340)+'rs']=_0x2431fd(-0xc6,-0x16e,-0x180,-0x13b)+'ion:\x20\x22Bear'+_0x2431fd(-0x8b,-0x69,-0x113,-0xd6)+_0x549dea+'\x22',_0x207a0b[_0x2431fd(-0x1c4,-0x217,-0x1a5,-0x1c1)]=_0x2187a2,_0x207a0b['messages']=_0x2ef6b3,_0x207a0b[_0x2431fd(-0x1c2,-0x101,-0x1ba,-0x12c)+'e']=_0x5299a4,_0x207a0b[_0x429933(0x25c,0x289,0x1dc,0x2c2)]=_0x4e7876,_0x207a0b['max_tokens']=_0x13993a,_0x207a0b[_0x2431fd(-0x23e,-0x1a4,-0x239,-0x1c9)]=_0x144859;const _0x45b0b8=_0x207a0b,_0x2e6008=await _0x228456['IrJhs'](fetch,_0x434969,{'method':_0x228456[_0x2431fd(-0x84,-0x30,-0x2d,-0xc1)],'headers':getRequestHeaders(window[_0x429933(0x312,0x3a5,0x3b0,0x328)]),'body':JSON['stringify'](_0x45b0b8),'signal':_0x5f4fb1});if(!_0x2e6008['ok']){if(_0x228456[_0x2431fd(-0xb1,-0x148,-0x183,-0x15c)](_0x2431fd(-0x19d,-0x272,-0x266,-0x1cf),_0x429933(0x355,0x2f8,0x2a4,0x24d))){if(_0x18cad0[_0x2431fd(-0x1bb,-0x149,-0x147,-0x18f)]===_0x429933(0x365,0x2ec,0x36f,0x325)){_0xae958b[_0x2431fd(-0x27f,-0x155,-0x235,-0x1e0)](_0x56650b+(_0x2431fd(-0x107,-0xe7,-0xb8,-0xc4)+_0x2431fd(-0x97,-0x102,-0xf9,-0xc0)));const _0x3390e6={};_0x3390e6[_0x429933(0x2d5,0x2ef,0x346,0x2ed)]=_0x228456[_0x2431fd(-0x287,-0x1aa,-0x2ad,-0x206)],_0x3390e6[_0x429933(0x316,0x2f1,0x25f,0x29c)]=_0x228456[_0x429933(0x36f,0x354,0x34b,0x3c0)];const _0x2eac31={};_0x2eac31[_0x429933(0x342,0x2d4,0x243,0x320)]=![],_0x2eac31[_0x429933(0x2e0,0x37f,0x37f,0x3f1)]=null,_0x2eac31['id']=_0x208f61,_0x2eac31['error']=_0x3390e6,_0x47b73e['emit'](_0x46f28f,_0x2eac31);return;}_0x2c0367['error'](_0x4d5bd9+_0x2431fd(-0x1cb,-0xab,-0xc5,-0x150),_0x4cada0);const _0x3e080e=_0x2431fd(-0xe3,-0xab,-0x10d,-0xc3)+_0x29130c['message'];_0x4e8e01&&_0x228456[_0x2431fd(-0xbd,-0x5b,-0x140,-0xe0)](_0x1f76df,_0x3e080e);_0x2d8a0b[_0x2431fd(-0xae,-0x18a,-0x11b,-0xfd)](_0x155efa[_0x429933(0x262,0x2f1,0x31f,0x283)]);const _0x23d187={};_0x23d187[_0x2431fd(-0x21d,-0x106,-0x1eb,-0x1aa)]=![],_0x23d187[_0x429933(0x3a7,0x37f,0x3e2,0x337)]=_0x3e080e,_0x23d187['id']=_0x5350dc,_0xdc29f3['emit'](_0x1a482c,_0x23d187);}else{try{const _0x45d8be=await _0x2e6008['json']();if(_0x45d8be[_0x429933(0x428,0x381,0x40c,0x3c7)]){if(_0x228456[_0x429933(0x2fa,0x322,0x2c1,0x2b2)]('cqdoI',_0x228456[_0x2431fd(-0x204,-0x1bd,-0x250,-0x1fc)]))_0x228456[_0x2431fd(-0x25b,-0x1d2,-0x14d,-0x1d9)](_0x3ee3e7,_0x12e2c4);else{let _0x269f31;if(_0x228456[_0x429933(0x2bd,0x2bc,0x2d3,0x281)](typeof _0x45d8be[_0x2431fd(-0xb9,-0x74,-0x141,-0xfd)],_0x228456[_0x429933(0x308,0x314,0x310,0x37e)])&&_0x45d8be['error']['message']){_0x269f31=''+_0x45d8be['error']['message'];const _0x3be0a9=[];if(_0x45d8be[_0x429933(0x387,0x381,0x361,0x38f)][_0x429933(0x398,0x318,0x383,0x2e2)])_0x3be0a9[_0x2431fd(-0x109,-0x1aa,-0x1a9,-0x1b2)](_0x2431fd(-0x1f6,-0x192,-0xcb,-0x15d)+_0x45d8be[_0x429933(0x36c,0x381,0x3a8,0x397)][_0x2431fd(-0x208,-0x1aa,-0x20f,-0x166)]);if(_0x45d8be[_0x429933(0x3c0,0x381,0x3c6,0x38f)][_0x2431fd(-0x118,-0x11a,-0x1f7,-0x19d)])_0x3be0a9[_0x429933(0x243,0x2cc,0x29b,0x287)]('代码:\x20'+_0x45d8be[_0x2431fd(-0xfa,-0x195,-0x81,-0xfd)][_0x429933(0x264,0x2e1,0x2ba,0x241)]);_0x228456[_0x2431fd(-0x208,-0xdd,-0x14b,-0x17c)](_0x3be0a9[_0x429933(0x368,0x35f,0x3b5,0x390)],-0x471+-0x1*0x2590+0x2a01)&&(_0x269f31+='\x20('+_0x3be0a9[_0x2431fd(-0x125,-0x90,-0xa1,-0xe3)](',\x20')+')');}else _0x269f31=''+JSON[_0x429933(0x3cc,0x389,0x374,0x3b7)](_0x45d8be['error']);throw new Error(_0x269f31);}}}catch(_0x2fc9d3){if(_0x2fc9d3[_0x2431fd(-0x18f,-0x102,-0x133,-0x18d)][_0x2431fd(-0x1fc,-0x20e,-0xef,-0x163)](_0x228456['gAVus'])||_0x2fc9d3[_0x2431fd(-0x1ea,-0x1cd,-0x13b,-0x18d)]['includes'](_0x228456[_0x429933(0x35c,0x316,0x371,0x276)])){if(_0x228456[_0x429933(0x3be,0x3a1,0x2fb,0x3af)](_0x228456[_0x429933(0x22c,0x285,0x2dc,0x2af)],_0x2431fd(-0x162,-0x1d7,-0x137,-0x1d3))){const _0x1c2364=_0x17fd6d[_0x2431fd(-0x56,-0x183,-0x17d,-0xde)]?.[_0x2431fd(-0xc6,-0x4f,-0x8a,-0xca)]||'';if(_0x1c2364[_0x429933(0x3b2,0x355,0x3a3,0x321)](_0x228456['Pfmun'])){const _0x3e2392=_0x1c2364[_0x2431fd(-0x22d,-0x234,-0x149,-0x190)](/^data:([^;]+);/),_0x3665ce=_0x3e2392?_0x3e2392[0xa7*0x2f+0x1d39+-0x1*0x3be1]:_0x2431fd(-0xbc,-0x6d,-0xc5,-0xd4),_0x410a2f=_0x1c2364[_0x2431fd(-0x16c,-0xd9,-0x111,-0xdf)](',')[-0xc47+-0x10df+0x1b7*0x11]||'',_0x5dff26=_0xeb936c[_0x2431fd(-0x14f,-0x139,-0x13b,-0x1a4)](_0x228456[_0x429933(0x347,0x2cb,0x22c,0x23b)](_0x228456[_0x2431fd(-0x21c,-0x1b1,-0x1bb,-0x193)](_0x410a2f[_0x429933(0x2de,0x35f,0x384,0x3aa)],0x6a0+0xd0a+0x183*-0xd)/(0xa06*0x2+-0xc9*-0x2b+-0x35cb),0x78*0x33+-0xed5+-0x3*0x1b1));_0x5cf7e0[_0x429933(0x334,0x2cc,0x351,0x2b9)](_0x2431fd(-0x14c,-0x1f8,-0x1df,-0x170)+':\x20'+_0x3665ce+_0x429933(0x374,0x34c,0x3a0,0x2b2)+_0x5dff26+'KB]');}else _0x10164['push'](_0x429933(0x40f,0x3bc,0x319,0x41a)+_0x1c2364+']');}else throw _0x2fc9d3;}}throw new Error(_0x2431fd(-0x286,-0x1bd,-0x285,-0x210)+_0x2e6008[_0x2431fd(-0x139,-0x1c4,-0x1fa,-0x182)]+'\x20'+_0x2e6008['statusText']);}}let _0xe32e33='';if(_0x144859){const _0x1b38e2=_0x2e6008[_0x429933(0x276,0x2dd,0x265,0x2d0)][_0x2431fd(-0x200,-0x166,-0x218,-0x183)](),_0x2cbe52=new TextDecoder(_0x228456[_0x2431fd(-0x50,-0x6e,-0x7a,-0xee)]);let _0x1e0a71='';while(!![]){if(_0x228456['TiqWl'](_0x228456[_0x429933(0x2a6,0x319,0x3b1,0x325)],_0x228456[_0x2431fd(-0x14a,-0x288,-0x237,-0x1e4)]))_0x228456[_0x2431fd(-0x20d,-0x19e,-0x114,-0x198)](_0x1cc409,_0x5c7510);else{const {done:_0x76baf0,value:_0x151aea}=await _0x1b38e2[_0x429933(0x3b6,0x35a,0x2ce,0x326)]();if(_0x76baf0)break;const _0x34510d={};_0x34510d[_0x429933(0x346,0x2b5,0x30b,0x21c)]=!![],_0x1e0a71+=_0x2cbe52['decode'](_0x151aea,_0x34510d);const _0x2fc8a6=_0x1e0a71[_0x2431fd(-0x160,-0x152,-0xde,-0xdf)]('\x0a');_0x1e0a71=_0x2fc8a6[_0x429933(0x223,0x28e,0x20b,0x255)]()||'';for(const _0x391baa of _0x2fc8a6){if(_0x228456[_0x429933(0x2a4,0x2bc,0x2a6,0x347)](_0x2431fd(-0xb1,-0x115,-0x13a,-0xf3),_0x228456[_0x2431fd(-0x1df,-0xfb,-0x1bb,-0x181)])){const _0x14feda=_0x391baa['trim']();if(!_0x14feda||_0x14feda===_0x228456[_0x429933(0x32e,0x356,0x359,0x3dd)])continue;if(_0x14feda['startsWith'](_0x228456[_0x429933(0x219,0x274,0x1ce,0x23c)])){if(_0x228456[_0x2431fd(-0x11f,-0x245,-0x1f4,-0x1a7)](_0x228456[_0x2431fd(-0x6d,-0xa5,-0x172,-0x10f)],_0x228456[_0x429933(0x2f1,0x301,0x285,0x2d9)]))_0x228456[_0x429933(0x2fe,0x2ff,0x28f,0x32d)](_0x41ed4a,_0x47decb);else try{if(_0x228456[_0x429933(0x2c5,0x2bc,0x275,0x33f)](_0x429933(0x2bb,0x346,0x394,0x2bc),_0x429933(0x36d,0x346,0x3d1,0x2cb))){const _0x5f2077=_0x14feda[_0x2431fd(-0x18f,-0x6d,-0xaa,-0xf2)](0x3d*-0x43+-0x26ff*0x1+0x36fc),_0x33c0fa=JSON[_0x2431fd(-0x18a,-0x1a2,-0x180,-0x1c8)](_0x5f2077),_0x5c8a47=_0x33c0fa[_0x429933(0x32b,0x31c,0x2d3,0x35b)]?.[0x1ae9*0x1+0xd46*-0x1+-0x1*0xda3]?.[_0x429933(0x31a,0x3b0,0x43a,0x3dc)]?.[_0x2431fd(-0x163,-0x19d,-0x250,-0x1e3)];_0x5c8a47&&(_0x228456[_0x429933(0x3b7,0x3b7,0x3e1,0x30b)]==='QkQBs'?(_0xe32e33+=_0x5c8a47,_0x4a1c96&&_0x228456['FZsLl'](_0x4a1c96,_0xe32e33)):_0x194d4e=''+_0x524693[_0x429933(0x3b7,0x389,0x34f,0x376)](_0x11672e[_0x2431fd(-0xe6,-0x101,-0x1a4,-0xfd)]));}else _0x228456['Eekud'](_0x48a5b2,_0x2431fd(-0x1cf,-0x1af,-0x1d5,-0x215)+_0x2e00fc+_0x429933(0x3c7,0x394,0x3fd,0x3fd));}catch(_0x5491c4){if(_0x228456['ttfGp'](_0x2431fd(-0x106,-0x13f,-0x1a0,-0x15b),_0x228456[_0x429933(0x276,0x293,0x28c,0x237)])){const _0x1667f0={};_0x1667f0[_0x2431fd(-0x15b,-0x1fc,-0x1f7,-0x158)]=0x1388,_0x472505[_0x2431fd(-0xa1,-0x11b,-0x111,-0x131)](_0x2431fd(-0x101,-0x114,-0xa9,-0x10b)+_0x3421b7+('\x20请求已完成，后续操'+'作已跳过。'),_0x228456['ZpjiM'],_0x1667f0);}else console[_0x2431fd(-0x168,-0x243,-0x248,-0x1b7)](_0x429933(0x368,0x35d,0x3f6,0x2b9),_0x5491c4[_0x2431fd(-0x109,-0x1ee,-0x1ff,-0x18d)]);}}}else{let _0x56b4f0;if(_0x228456[_0x429933(0x2f9,0x322,0x313,0x294)](typeof _0x187b59[_0x2431fd(-0x14c,-0x187,-0x59,-0xfd)],_0x228456['cQyeo'])&&_0xe3b29d['error'][_0x429933(0x28c,0x2f1,0x303,0x2cf)]){_0x56b4f0=''+_0x24e59f[_0x2431fd(-0x53,-0xed,-0x72,-0xfd)][_0x429933(0x2e3,0x2f1,0x279,0x24c)];const _0x5bb3a2=[];if(_0x3f80a8[_0x2431fd(-0x19c,-0x8a,-0x1a8,-0xfd)][_0x429933(0x2b3,0x318,0x2e4,0x2d5)])_0x5bb3a2[_0x2431fd(-0x1bd,-0x14b,-0x14e,-0x1b2)](_0x2431fd(-0x15a,-0xcf,-0x1f6,-0x15d)+_0x353d7f[_0x429933(0x3fe,0x381,0x406,0x35a)][_0x429933(0x380,0x318,0x380,0x2ee)]);if(_0x1e740b['error'][_0x2431fd(-0x18f,-0x22b,-0x22f,-0x19d)])_0x5bb3a2[_0x2431fd(-0x112,-0x1cb,-0x10b,-0x1b2)](_0x2431fd(-0xe9,-0x12f,-0x16a,-0xe2)+_0x282d41[_0x429933(0x383,0x381,0x383,0x3a4)][_0x2431fd(-0x1b8,-0x103,-0x167,-0x19d)]);_0x228456[_0x2431fd(-0x1cf,-0xb8,-0xe5,-0x15a)](_0x5bb3a2[_0x2431fd(-0x98,-0xcb,-0x19e,-0x11f)],0xe89+0x71*-0x7+-0x2*0x5b9)&&(_0x56b4f0+='\x20('+_0x5bb3a2[_0x2431fd(-0xb4,-0xb2,-0xa8,-0xe3)](',\x20')+')');}else _0x56b4f0=''+_0x5e7f8f[_0x2431fd(-0x99,-0xe7,-0x16e,-0xf5)](_0x2e7db9[_0x2431fd(-0xf0,-0xda,-0x144,-0xfd)]);throw new _0x49d436(_0x56b4f0);}}}}if(_0x1e0a71[_0x2431fd(-0x138,-0x152,-0x1c5,-0x133)]()&&_0x228456[_0x429933(0x343,0x2b8,0x265,0x307)](_0x1e0a71['trim'](),_0x228456[_0x429933(0x3f0,0x356,0x30b,0x2ed)])&&_0x1e0a71['trim']()[_0x429933(0x2f5,0x355,0x2c3,0x2ac)](_0x2431fd(-0xda,-0x131,-0x162,-0x143)))try{if(_0x228456[_0x2431fd(-0x165,-0x15c,-0x149,-0x1a7)](_0x228456[_0x429933(0x2f6,0x2f0,0x28b,0x36f)],_0x228456[_0x2431fd(-0x124,-0x185,-0x18f,-0x18e)])){const _0x231529=_0x1e0a71[_0x2431fd(-0xc5,-0x171,-0x1c1,-0x133)]()['slice'](0x2d4+-0x1347+-0x1*-0x1079),_0x1880eb=JSON['parse'](_0x231529),_0x59bf0f=_0x1880eb[_0x2431fd(-0x1ab,-0xfd,-0x1c4,-0x162)]?.[-0x1*0x1c4b+-0x1*-0x5e7+0x1664]?.[_0x429933(0x453,0x3b0,0x3bd,0x44c)]?.[_0x2431fd(-0x22f,-0x226,-0x183,-0x1e3)];if(_0x59bf0f){if(_0x228456[_0x429933(0x342,0x369,0x36c,0x410)]===_0x228456[_0x429933(0x276,0x2cd,0x269,0x32d)]){const _0xe0be00=_0x3102a1+(_0x429933(0x31b,0x313,0x391,0x2ab)+'\x20API\x20Key,\x20'+_0x429933(0x310,0x294,0x2c5,0x1f2)+'置。');_0x41636b[_0x2431fd(-0x1a3,-0x18f,-0x184,-0xfd)](_0xe0be00);const _0x27066a={};_0x27066a[_0x429933(0x259,0x2d4,0x26c,0x2e9)]=![],_0x27066a[_0x429933(0x32a,0x37f,0x314,0x2ff)]=_0xe0be00,_0x27066a['id']=_0x23399d,_0x170cb1[_0x429933(0x38b,0x38e,0x39e,0x351)](_0x1e0975,_0x27066a);return;}else _0xe32e33+=_0x59bf0f,_0x4a1c96&&_0x228456['Eekud'](_0x4a1c96,_0xe32e33);}}else{const _0x384a9b={};_0x384a9b[_0x2431fd(-0x21c,-0x26a,-0x250,-0x1fb)]=_0x228456[_0x2431fd(-0x19b,-0x1ab,-0xec,-0x110)],_0x384a9b[_0x2431fd(-0x25c,-0x221,-0x1c9,-0x209)]='用户',_0x384a9b[_0x2431fd(-0xbf,-0xff,-0x1b8,-0x116)]=_0x228456[_0x2431fd(-0x147,-0xe7,-0x111,-0xfb)],_0x384a9b[_0x429933(0x3ce,0x36b,0x331,0x381)]=_0x228456[_0x429933(0x359,0x2e8,0x38d,0x395)],_0x384a9b['tool']='工具';const _0x565859=_0x384a9b;return _0x565859[_0x4e6077]||_0x21e14c;}}catch(_0x22f17c){console[_0x2431fd(-0x20e,-0x1f7,-0x136,-0x1b7)](_0x2431fd(-0x76,-0x87,-0x162,-0x11a)+_0x2431fd(-0x11b,-0xeb,-0xc4,-0x12d),_0x22f17c[_0x429933(0x266,0x2f1,0x288,0x2b0)]);}if(!_0xe32e33){if(_0x228456['IcKXe']!==_0x2431fd(-0x209,-0x240,-0x149,-0x1d1)){const _0x3feb9b=_0x3e2cc0[_0x1cfc2c]['llm_reques'+_0x429933(0x22e,0x2ac,0x21d,0x20a)+_0x2431fd(-0x213,-0x23b,-0x22f,-0x1da)]||{},_0x4d8b3f={};_0x4d8b3f[_0x2431fd(-0x168,-0x29d,-0x19e,-0x204)+'e']='默认',_0x4d8b3f['context_pr'+_0x429933(0x2a7,0x32b,0x29b,0x36d)]='默认';const _0x15266e=_0x3feb9b[_0x2d9ce8]||_0x4d8b3f,_0x45aa54=_0x494462[_0x4477b7][_0x2431fd(-0x5b,-0x70,-0x182,-0x102)+'es']||{},_0x118b07=_0x40df1d[_0x1d05cf]['test_conte'+_0x429933(0x454,0x3c0,0x41f,0x36d)+'s']||{},_0x407d71=_0x15266e['api_profil'+'e']||'默认',_0x55b6b8=_0x45aa54[_0x407d71]||_0x45aa54[_0x1cf410[_0x2431fd(-0x1ed,-0x1af,-0x15b,-0x1a9)](_0x45aa54)[0x5c1*0x1+0xfcc+0x265*-0x9]]||{},_0x5d2511=_0x15266e['context_pr'+_0x429933(0x326,0x32b,0x3c6,0x29e)]||'默认',_0x161452=_0x118b07[_0x5d2511]||_0x118b07[_0x1742ae[_0x429933(0x375,0x2d5,0x264,0x2ca)](_0x118b07)[-0x4*0x4b3+0x1808+0x2*-0x29e]]||{},_0x269a20={};return _0x269a20[_0x2431fd(-0x7b,-0xd4,-0x13a,-0xf8)]=_0x55b6b8[_0x2431fd(-0x9c,-0x81,-0x7a,-0xf8)]||'',_0x269a20[_0x429933(0x308,0x2fa,0x355,0x36b)]=_0x55b6b8[_0x429933(0x2b1,0x2fa,0x2b3,0x361)]||'',_0x269a20[_0x429933(0x357,0x2bd,0x2f9,0x316)]=_0x55b6b8[_0x2431fd(-0x1af,-0x1bc,-0x1e5,-0x1c1)]||'',_0x269a20[_0x429933(0x2c5,0x352,0x328,0x2fd)+'e']=_0x55b6b8[_0x2431fd(-0x1b3,-0x149,-0x1ab,-0x12c)+'e']??-0x2462*-0x1+0x15c+0x1*-0x25be+0.7,_0x269a20[_0x429933(0x218,0x289,0x26e,0x2d6)]=_0x55b6b8[_0x2431fd(-0x232,-0x17d,-0x29f,-0x1f5)]??0x2*0x6a1+0x1003+-0x751*0x4,_0x269a20['max_tokens']=_0x55b6b8[_0x2431fd(-0x115,-0x76,-0x55,-0xd0)]??-0x7d3+0x2617+-0x1c44,_0x269a20[_0x429933(0x2c6,0x2b5,0x29a,0x314)]=_0x55b6b8[_0x2431fd(-0x12c,-0x16f,-0x23d,-0x1c9)]??![],_0x269a20[_0x2431fd(-0x15f,-0x187,-0x1f0,-0x173)]=_0x161452,_0x269a20;}else _0xe32e33=_0x228456[_0x429933(0x417,0x3ad,0x3a0,0x364)],toastr[_0x429933(0x1f5,0x26a,0x279,0x21a)](_0x3f4fa2+(_0x2431fd(-0x1f8,-0x181,-0x1de,-0x1be)+_0x2431fd(-0x110,-0x18c,-0x14a,-0x13f)));}}else{if('CLiaS'!==_0x228456[_0x429933(0x39b,0x35c,0x35b,0x394)]){_0x5070be=''+_0x42abdf[_0x2431fd(-0x183,-0x198,-0xd8,-0xfd)][_0x429933(0x387,0x2f1,0x30a,0x2e3)];const _0x2ace28=[];if(_0x467707[_0x2431fd(-0x125,-0x88,-0xcc,-0xfd)][_0x429933(0x2fd,0x318,0x301,0x379)])_0x2ace28[_0x429933(0x2da,0x2cc,0x295,0x266)]('类型:\x20'+_0xe76e44[_0x429933(0x301,0x381,0x403,0x392)][_0x429933(0x34c,0x318,0x2d6,0x3aa)]);if(_0x435b48[_0x429933(0x40f,0x381,0x3e8,0x3ae)][_0x429933(0x300,0x2e1,0x2ba,0x314)])_0x2ace28[_0x2431fd(-0x1ea,-0x1df,-0x157,-0x1b2)](_0x2431fd(-0x14e,-0x168,-0x148,-0xe2)+_0x234978[_0x2431fd(-0x8e,-0x101,-0xa6,-0xfd)][_0x429933(0x343,0x2e1,0x289,0x2c2)]);_0x2ace28[_0x2431fd(-0x176,-0xfa,-0xc5,-0x11f)]>-0x1191*-0x1+-0x37c*0x3+-0x71d&&(_0x340e83+='\x20('+_0x2ace28['join'](',\x20')+')');}else{const _0x1cb10a=await _0x2e6008[_0x429933(0x400,0x362,0x2e5,0x2cd)]();if(_0x1cb10a[_0x429933(0x3b1,0x381,0x316,0x365)]){let _0x40c11f;if(_0x228456[_0x2431fd(-0x23b,-0xfe,-0x1b1,-0x1a7)](typeof _0x1cb10a[_0x2431fd(-0x197,-0x185,-0xb9,-0xfd)],_0x429933(0x2f3,0x38f,0x433,0x3e3))&&_0x1cb10a['error'][_0x429933(0x2ef,0x2f1,0x346,0x35b)]){if(_0x228456['TiqWl'](_0x228456[_0x429933(0x3a9,0x338,0x368,0x3df)],_0x228456['MPGlI'])){_0x40c11f=''+_0x1cb10a[_0x429933(0x36d,0x381,0x379,0x368)][_0x429933(0x264,0x2f1,0x270,0x368)];const _0x2037b1=[];if(_0x1cb10a['error'][_0x429933(0x306,0x318,0x3c1,0x313)])_0x2037b1['push'](_0x429933(0x37d,0x321,0x396,0x391)+_0x1cb10a['error']['type']);if(_0x1cb10a[_0x2431fd(-0x170,-0xfb,-0x1a1,-0xfd)][_0x2431fd(-0x1ee,-0x1b8,-0x1f5,-0x19d)])_0x2037b1[_0x429933(0x2c0,0x2cc,0x2a2,0x250)]('代码:\x20'+_0x1cb10a[_0x429933(0x3b4,0x381,0x3bb,0x2fa)]['code']);_0x228456['LoYuJ'](_0x2037b1[_0x2431fd(-0x1b2,-0x8a,-0xc7,-0x11f)],0x6*-0x4c5+0x11ab*0x1+-0xaf3*-0x1)&&(_0x40c11f+='\x20('+_0x2037b1[_0x429933(0x331,0x39b,0x39d,0x439)](',\x20')+')');}else{const _0x139efe=_0x55b845[_0x2431fd(-0x189,-0x138,-0x1cb,-0x133)]()[_0x429933(0x38b,0x38c,0x420,0x39b)](-0x6d*0x13+-0x957*0x1+-0x1174*-0x1),_0x4423a5=_0x52f292[_0x429933(0x26c,0x2b6,0x330,0x2e6)](_0x139efe),_0x1c012d=_0x4423a5['choices']?.[0x62*-0x3e+-0x2+0x2*0xbdf]?.[_0x2431fd(-0x175,-0xb3,-0x69,-0xce)]?.[_0x429933(0x2c5,0x29b,0x2f5,0x24a)];_0x1c012d&&(_0x239552+=_0x1c012d,_0x32a5cf&&_0x228456[_0x429933(0x3ca,0x31e,0x2d9,0x2ab)](_0x2f16e3,_0x20a9e5));}}else _0x40c11f=''+JSON['stringify'](_0x1cb10a['error']);throw new Error(_0x40c11f);}_0xe32e33=_0x1cb10a['choices']?.[-0x24f1+-0xf67+0x8*0x68b]?.['message']?.[_0x2431fd(-0x27a,-0x1c3,-0x163,-0x1e3)]||'';if(!_0xe32e33){if(_0x228456[_0x429933(0x23e,0x2b8,0x251,0x257)](_0x2431fd(-0x23f,-0x204,-0x12f,-0x1b5),_0x228456['dndFJ']))_0xe32e33=_0x2431fd(-0x137,-0x1e0,-0x203,-0x161),toastr[_0x429933(0x230,0x26a,0x2e7,0x212)](_0x3f4fa2+(_0x429933(0x24e,0x2c0,0x358,0x2f9)+_0x2431fd(-0x1ca,-0x1bf,-0x1de,-0x13f)));else{const _0x16fc00=_0x8fe452[_0x2f3a8b]['llm_profil'+'es']||{},_0x457a01=_0x5bce32[_0x4d046e]['current_ll'+'m_profile'];return _0x16fc00[_0x457a01]||_0x16fc00[_0x1de9be['keys'](_0x16fc00)[-0x1b3f+0x17*-0x91+0x2846]]||{};}}_0x4a1c96&&_0x228456[_0x429933(0x2f9,0x28f,0x2d0,0x222)](_0x4a1c96,_0xe32e33);}}_0x228456[_0x429933(0x378,0x31e,0x3b9,0x2ac)](addLog,_0x2431fd(-0x1b6,-0x146,-0x1b6,-0x1b6)+_0x2431fd(-0x114,-0x120,-0x1ca,-0x16f)),addLog(_0xe32e33),_0x228456['NWghF'](addLog,'=====\x20LLM\x20'+_0x429933(0x395,0x34a,0x399,0x2c7));const _0xfb4601=extension_settings[extensionName]['llmTestMod'+'e'];if(_0xfb4601){const _0x3c2471={};_0x3c2471['timeOut']=0x1388,toastr[_0x2431fd(-0x95,-0xc1,-0xd6,-0x131)](_0x2431fd(-0x73,-0xe3,-0x12e,-0x10b)+_0x3f4fa2+(_0x2431fd(-0xcf,-0x167,-0x11d,-0xdc)+'作已跳过。'),_0x228456['ZpjiM'],_0x3c2471);}const _0x410bc9={};_0x410bc9[_0x2431fd(-0x11e,-0x106,-0x257,-0x1aa)]=!![],_0x410bc9[_0x2431fd(-0x10c,-0xfd,-0x7b,-0xff)]=_0xe32e33,_0x410bc9['id']=_0x4239ca,_0x410bc9['testMode']=_0xfb4601,eventSource[_0x2431fd(-0x8e,-0x125,-0xb6,-0xf0)](_0x1d5103,_0x410bc9);}}catch(_0x2af622){if(_0x228456[_0x2431fd(-0x197,-0x86,-0x74,-0x105)]===_0x228456[_0x429933(0x2e5,0x379,0x35c,0x31d)]){if(_0x228456[_0x429933(0x238,0x271,0x1f7,0x213)](_0x2af622[_0x2431fd(-0x196,-0x222,-0x126,-0x18f)],_0x228456[_0x429933(0x1d2,0x278,0x223,0x289)])){if(_0x228456['ukrog'](_0x228456[_0x429933(0x396,0x370,0x31a,0x3c2)],_0x228456[_0x429933(0x306,0x370,0x310,0x3ab)])){console[_0x2431fd(-0x266,-0x21b,-0x1b7,-0x1e0)](_0x3f4fa2+('\x20request\x20a'+_0x2431fd(-0xf2,-0xc4,-0x2a,-0xc0)));const _0x2c9092={};_0x2c9092[_0x2431fd(-0x1e5,-0x106,-0x1df,-0x18f)]=_0x228456[_0x429933(0x236,0x278,0x283,0x1e9)],_0x2c9092[_0x2431fd(-0x234,-0x21c,-0xf2,-0x18d)]=_0x228456[_0x429933(0x347,0x354,0x366,0x351)];const _0x5b3faf={};_0x5b3faf[_0x2431fd(-0x1dd,-0x1eb,-0x21e,-0x1aa)]=![],_0x5b3faf['result']=null,_0x5b3faf['id']=_0x4239ca,_0x5b3faf[_0x429933(0x335,0x381,0x416,0x32f)]=_0x2c9092,eventSource[_0x2431fd(-0x126,-0x165,-0x19a,-0xf0)](_0x1d5103,_0x5b3faf);return;}else return _0x2b92a1;}console['error'](_0x3f4fa2+'\x20Error:',_0x2af622);const _0x134136='请求错误:\x20'+_0x2af622[_0x429933(0x350,0x2f1,0x2ac,0x2b9)];_0x4a1c96&&_0x228456[_0x2431fd(-0x1ed,-0x101,-0x14c,-0x198)](_0x4a1c96,_0x134136);toastr[_0x2431fd(-0x64,-0x50,-0xbf,-0xfd)](_0x2af622[_0x2431fd(-0xe9,-0x114,-0x1c2,-0x18d)]);const _0x1dffc9={};_0x1dffc9[_0x429933(0x315,0x2d4,0x22e,0x2cb)]=![],_0x1dffc9['result']=_0x134136,_0x1dffc9['id']=_0x4239ca,eventSource[_0x429933(0x395,0x38e,0x2f6,0x391)](_0x1d5103,_0x1dffc9);}else{const _0x174333=_0x8ba4ed?function(){function _0x3f7f86(_0x342e39,_0x414926,_0x5df329,_0x5863b5){return _0x2431fd(_0x414926,_0x414926-0xd9,_0x5df329-0x1f0,_0x5df329-0x9b);}if(_0x25636e){const _0x2ef594=_0x529b59[_0x3f7f86(-0xc6,-0x19c,-0x114,-0xd7)](_0x36d614,arguments);return _0x19e28f=null,_0x2ef594;}}:function(){};return _0xc42601=![],_0x174333;}}finally{currentLLMRequestController=null,_0x228456['QZpcv'](stopFabLoading);}}export async function executeDefaultLLMRequest(_0x44c45d,_0x188f4b,_0x2a899f=null){const _0x1ff880={'nhzCZ':_0x51f00c(-0x1bb,-0x22d,-0x29c,-0x219)+_0x166fcf(0x42f,0x31f,0x389,0x38f),'jEuRN':function(_0x81442c,_0x5a1aeb){return _0x81442c||_0x5a1aeb;},'zIpvt':function(_0x523f19,_0x59426b){return _0x523f19!==_0x59426b;},'BBQEH':_0x51f00c(-0x1f5,-0x290,-0x226,-0x326),'tnXNK':function(_0x3c66ae){return _0x3c66ae();},'ltwKh':function(_0x574e00,_0x4585f3){return _0x574e00(_0x4585f3);},'EUrEC':function(_0x505045,_0x291d12){return _0x505045(_0x291d12);},'CYMur':function(_0x33ea3b,_0x444f6f){return _0x33ea3b(_0x444f6f);},'XpDny':function(_0x657caf,_0x2460f4){return _0x657caf||_0x2460f4;},'WhupR':function(_0x4d49a5,_0x301f97){return _0x4d49a5!==_0x301f97;},'MCgML':'lERPo','Dtulu':_0x51f00c(-0x289,-0x244,-0x20d,-0x1cd)+_0x166fcf(0x351,0x431,0x3ef,0x47e)+_0x166fcf(0x3ee,0x3db,0x38b,0x3d7),'zkEgJ':_0x51f00c(-0x1e1,-0x1b6,-0x18b,-0x1f8)+'nds/chat-c'+_0x166fcf(0x4a7,0x430,0x42a,0x405)+'/generate','QOhed':_0x166fcf(0x533,0x561,0x4ca,0x507),'TPjHx':_0x166fcf(0x3d6,0x3c6,0x427,0x397),'RCxdz':_0x51f00c(-0x293,-0x2b5,-0x31b,-0x335),'qGLcc':function(_0x32f0f5,_0x48540f){return _0x32f0f5===_0x48540f;},'tYcdC':_0x166fcf(0x500,0x512,0x4ad,0x434),'pGjtA':function(_0x47e6fb,_0x3eaf97){return _0x47e6fb>_0x3eaf97;},'xovip':_0x166fcf(0x3fe,0x4ba,0x460,0x3be),'PIzZa':_0x166fcf(0x431,0x322,0x38a,0x41a),'VVHTd':_0x166fcf(0x31b,0x33b,0x391,0x3c5),'PNzKI':_0x51f00c(-0x2c9,-0x248,-0x22f,-0x1d0)+'复。','EmpSt':function(_0x5bc061,_0x781e46){return _0x5bc061(_0x781e46);},'xhaAD':_0x51f00c(-0x2b2,-0x245,-0x1b5,-0x1ae),'vqIhV':_0x166fcf(0x4a5,0x4c1,0x4d1,0x4f9)+_0x166fcf(0x419,0x407,0x414,0x4a4)+_0x166fcf(0x44a,0x45e,0x3fa,0x350),'zhsng':_0x51f00c(-0x230,-0x26f,-0x22b,-0x1ea)+_0x166fcf(0x466,0x443,0x44d,0x3b3),'Lksnq':_0x166fcf(0x49c,0x3d5,0x3fe,0x40c)+_0x166fcf(0x3ed,0x4e7,0x451,0x3b6)},{prompt:_0x14ab05,id:_0x2beb60}=_0x44c45d;if(_0x1ff880['jEuRN'](!_0x2beb60,!_0x14ab05))return;currentLLMRequestController&&(_0x1ff880['zIpvt'](_0x1ff880[_0x51f00c(-0x153,-0x179,-0x210,-0x17d)],_0x1ff880['BBQEH'])?_0x1e6ea4(_0x5649c6):(currentLLMRequestController[_0x51f00c(-0x1a9,-0x17f,-0x1c6,-0x204)](),toastr[_0x166fcf(0x49a,0x439,0x46b,0x50e)]('LLM请求已中断，开'+_0x166fcf(0x42f,0x2ef,0x389,0x385))));currentLLMRequestController=new AbortController();const _0x5954a7=currentLLMRequestController['signal'];_0x1ff880[_0x51f00c(-0x278,-0x22b,-0x1a9,-0x210)](startFabLoading);function _0x166fcf(_0x4eaeb6,_0xa62bbc,_0x3e4a4d,_0x4b82b6){return _0x3aaee9(_0x3e4a4d- -0x108,_0x4b82b6,_0x3e4a4d-0x11b,_0x4b82b6-0x195);}console['log']('st-chatu8:'+_0x51f00c(-0x2cd,-0x224,-0x1a3,-0x1f6)+'请求\x20(ID:\x20'+_0x2beb60+')',_0x14ab05),_0x1ff880['tnXNK'](clearLog),_0x1ff880[_0x51f00c(-0x20c,-0x186,-0x19f,-0x206)](addLog,_0x51f00c(-0x192,-0x182,-0x15e,-0x19d)+_0x51f00c(-0x1e7,-0x229,-0x252,-0x289)+'=='),_0x1ff880[_0x166fcf(0x38f,0x3fb,0x3e3,0x47e)](addLog,_0x51f00c(-0x147,-0x1a0,-0x103,-0x1e4)+_0x2beb60),_0x1ff880[_0x51f00c(-0x15a,-0x1f0,-0x23c,-0x246)](addLog,_0x51f00c(-0x261,-0x2b4,-0x290,-0x247)+':');function _0x51f00c(_0x96fb8f,_0x50185c,_0x34ec3b,_0x1328b0){return _0x3aaee9(_0x50185c- -0x757,_0x1328b0,_0x34ec3b-0x1c9,_0x1328b0-0x3d);}_0x1ff880[_0x51f00c(-0x2ab,-0x26c,-0x25e,-0x289)](addLog,formatPromptForDisplay(_0x14ab05));const {api_url:_0x266ac6,api_key:_0x4d30ab,model:_0x4f9610,temperature:_0x3470b5,top_p:_0x3efc76,max_tokens:_0x234f45}=_0x188f4b;if(_0x1ff880[_0x51f00c(-0x33d,-0x2bb,-0x306,-0x271)](!_0x266ac6,!_0x4d30ab)||!_0x4f9610){if(_0x1ff880[_0x166fcf(0x49e,0x40d,0x447,0x3a9)](_0x1ff880['MCgML'],'lERPo'))_0x108831['abort'](),_0x569a48[_0x166fcf(0x488,0x4c8,0x46b,0x515)](_0x1ff880[_0x51f00c(-0x23e,-0x1ed,-0x210,-0x235)]);else{const _0x4b1cd3=_0x1ff880[_0x166fcf(0x42d,0x3db,0x3f0,0x371)];toastr[_0x166fcf(0x404,0x536,0x49f,0x444)](_0x4b1cd3);const _0x652343={};_0x652343[_0x51f00c(-0x2d1,-0x25d,-0x269,-0x301)]=![],_0x652343[_0x51f00c(-0x1dd,-0x1b2,-0x22d,-0x1ad)]=_0x4b1cd3,_0x652343['id']=_0x2beb60,eventSource[_0x51f00c(-0x1b6,-0x1a3,-0x1e5,-0x178)](eventNames[_0x166fcf(0x40e,0x40d,0x405,0x41f)+'E_RESPONSE'],_0x652343);return;}}const _0x5cbbd0=_0x1ff880[_0x51f00c(-0x14a,-0x1f5,-0x1a6,-0x230)],_0xe0ed94=_0x266ac6[_0x51f00c(-0x1ea,-0x217,-0x22f,-0x19a)](/\/$/,'');_0x2a899f&&_0x2a899f('正在处理外部请求，请'+_0x166fcf(0x3a5,0x349,0x397,0x2f6));try{if(_0x1ff880[_0x166fcf(0x3fe,0x458,0x447,0x3d6)](_0x1ff880[_0x166fcf(0x409,0x42d,0x45e,0x46a)],_0x1ff880[_0x51f00c(-0x1be,-0x1f1,-0x19c,-0x21c)])){_0xf49454=''+_0xdb2875[_0x166fcf(0x3fe,0x513,0x49f,0x42a)]['message'];const _0x1c0948=[];if(_0x93f5b7[_0x51f00c(-0x1ab,-0x1b0,-0x18c,-0x174)][_0x166fcf(0x49c,0x422,0x436,0x4b8)])_0x1c0948[_0x51f00c(-0x28e,-0x265,-0x2f6,-0x1f4)](_0x51f00c(-0x212,-0x210,-0x245,-0x1f5)+_0x312ea2['error'][_0x51f00c(-0x220,-0x219,-0x259,-0x252)]);if(_0x5b78bb['error'][_0x166fcf(0x355,0x3c3,0x3ff,0x473)])_0x1c0948[_0x166fcf(0x448,0x3ba,0x3ea,0x472)]('代码:\x20'+_0x30c7ff[_0x51f00c(-0x174,-0x1b0,-0x1eb,-0x204)][_0x166fcf(0x41b,0x49a,0x3ff,0x3a0)]);_0x1c0948[_0x166fcf(0x3f6,0x414,0x47d,0x4bd)]>-0x266*0xb+0x22b6+-0x42a*0x2&&(_0x42ee6a+='\x20('+_0x1c0948[_0x51f00c(-0x194,-0x196,-0xea,-0x137)](',\x20')+')');}else{const _0xfc0568={};_0xfc0568[_0x51f00c(-0x2a5,-0x28e,-0x243,-0x32d)+_0x166fcf(0x47f,0x3f1,0x452,0x4ae)+'ce']=_0x1ff880['TPjHx'],_0xfc0568['custom_url']=_0xe0ed94,_0xfc0568[_0x51f00c(-0x1d7,-0x258,-0x236,-0x258)+_0x51f00c(-0x2b0,-0x205,-0x2a2,-0x261)+'rs']=_0x51f00c(-0x255,-0x1ee,-0x284,-0x197)+_0x166fcf(0x448,0x361,0x3c0,0x3fb)+_0x166fcf(0x419,0x48d,0x4c6,0x41d)+_0x4d30ab+'\x22',_0xfc0568['model']=_0x4f9610,_0xfc0568[_0x166fcf(0x494,0x44e,0x4a8,0x490)]=_0x14ab05,_0xfc0568[_0x166fcf(0x4ac,0x518,0x470,0x3e5)+'e']=_0x3470b5,_0xfc0568[_0x166fcf(0x318,0x34f,0x3a7,0x348)]=_0x3efc76,_0xfc0568[_0x166fcf(0x4a2,0x484,0x4cc,0x509)]=_0x234f45,_0xfc0568[_0x166fcf(0x373,0x359,0x3d3,0x3ad)]=![];const _0x2d0444=_0xfc0568,_0x5d0603=await fetch(_0x5cbbd0,{'method':_0x1ff880[_0x166fcf(0x39f,0x3f1,0x408,0x3a6)],'headers':_0x1ff880['ltwKh'](getRequestHeaders,window[_0x51f00c(-0xe9,-0x18c,-0x17c,-0x154)]),'body':JSON[_0x51f00c(-0x238,-0x1a8,-0x1a9,-0x1c6)](_0x2d0444),'signal':_0x5954a7}),_0x2fe582=await _0x5d0603[_0x166fcf(0x3db,0x3ee,0x480,0x4b8)]();if(_0x2fe582[_0x166fcf(0x44e,0x511,0x49f,0x514)]){let _0x12e2cf;if(_0x1ff880[_0x51f00c(-0x15e,-0x18d,-0xea,-0x19b)](typeof _0x2fe582['error'],_0x1ff880[_0x166fcf(0x409,0x355,0x3c4,0x3a5)])&&_0x2fe582[_0x51f00c(-0x1e1,-0x1b0,-0x1be,-0x1cf)]['message']){_0x12e2cf=''+_0x2fe582[_0x166fcf(0x400,0x461,0x49f,0x40d)][_0x166fcf(0x446,0x3b5,0x40f,0x47a)];const _0x4da846=[];if(_0x2fe582[_0x51f00c(-0x245,-0x1b0,-0x10b,-0x1b6)]['type'])_0x4da846[_0x51f00c(-0x29e,-0x265,-0x2c2,-0x2e7)]('类型:\x20'+_0x2fe582[_0x166fcf(0x43b,0x50c,0x49f,0x44a)]['type']);if(_0x2fe582[_0x51f00c(-0x1be,-0x1b0,-0x1b2,-0x16d)][_0x51f00c(-0x26f,-0x250,-0x299,-0x1c1)])_0x4da846[_0x166fcf(0x391,0x3ad,0x3ea,0x3a0)](_0x166fcf(0x4eb,0x4b6,0x4ba,0x498)+_0x2fe582['error'][_0x51f00c(-0x1ca,-0x250,-0x28f,-0x1a8)]);_0x1ff880[_0x166fcf(0x44b,0x4ef,0x494,0x462)](_0x4da846[_0x51f00c(-0x179,-0x1d2,-0x1b4,-0x144)],0x5*0x376+-0x114e+0x0)&&(_0x12e2cf+='\x20('+_0x4da846['join'](',\x20')+')');}else{if(_0x1ff880[_0x51f00c(-0x19d,-0x211,-0x1de,-0x1c1)]===_0x1ff880[_0x166fcf(0x3cb,0x49f,0x430,0x420)])return!!_0x31b013;else _0x12e2cf=''+JSON[_0x166fcf(0x42f,0x45d,0x4a7,0x509)](_0x2fe582[_0x51f00c(-0x210,-0x1b0,-0x149,-0x240)]);}throw new Error(_0x12e2cf);}if(!_0x5d0603['ok'])throw new Error(_0x166fcf(0x355,0x3dd,0x38c,0x396)+_0x5d0603['status']+'\x20'+_0x5d0603[_0x166fcf(0x3d7,0x37d,0x3b6,0x31e)]);const _0x7f01ab=_0x2fe582[_0x166fcf(0x440,0x476,0x43a,0x486)]?.[-0x1208+-0xc76+0x1e7e]?.['message']?.[_0x51f00c(-0x327,-0x296,-0x225,-0x327)]||'';if(!_0x7f01ab){if('qlEfQ'===_0x1ff880['VVHTd'])toastr[_0x51f00c(-0x32d,-0x2c7,-0x25b,-0x329)](_0x1ff880[_0x166fcf(0x402,0x40e,0x46d,0x436)]);else return;}_0x2a899f&&_0x1ff880['CYMur'](_0x2a899f,_0x7f01ab);_0x1ff880[_0x166fcf(0x350,0x359,0x3e3,0x392)](addLog,_0x51f00c(-0x215,-0x269,-0x1c4,-0x1ec)+_0x51f00c(-0x279,-0x222,-0x290,-0x248)),_0x1ff880[_0x51f00c(-0x25f,-0x26c,-0x219,-0x1d6)](addLog,_0x7f01ab),_0x1ff880[_0x51f00c(-0x272,-0x261,-0x1f9,-0x2ba)](addLog,_0x166fcf(0x4a2,0x430,0x4cd,0x4dc)+_0x166fcf(0x3c1,0x513,0x468,0x513));const _0x2deaa2={};_0x2deaa2[_0x166fcf(0x38f,0x38d,0x3f2,0x3b7)]=!![],_0x2deaa2[_0x51f00c(-0x1df,-0x1b2,-0x15d,-0x162)]=_0x7f01ab,_0x2deaa2['id']=_0x2beb60,eventSource[_0x51f00c(-0x112,-0x1a3,-0x21a,-0x18d)](eventNames['LLM_EXECUT'+_0x166fcf(0x3fe,0x418,0x495,0x4d6)],_0x2deaa2);}}catch(_0x1f6629){if(_0x1ff880[_0x51f00c(-0x209,-0x18d,-0x16b,-0x20d)](_0x1f6629[_0x166fcf(0x493,0x412,0x40d,0x455)],_0x1ff880[_0x51f00c(-0x149,-0x1d6,-0x209,-0x1ba)])){console[_0x166fcf(0x34a,0x31d,0x3bc,0x3bb)](_0x1ff880[_0x51f00c(-0x2f7,-0x25b,-0x2f7,-0x284)]);const _0x115f7b={};_0x115f7b[_0x51f00c(-0x1de,-0x242,-0x2a3,-0x2ec)]=_0x1ff880[_0x166fcf(0x476,0x3da,0x479,0x4da)],_0x115f7b['message']=_0x1ff880[_0x166fcf(0x41e,0x46d,0x47f,0x4f3)];const _0x343385={};_0x343385[_0x166fcf(0x44f,0x3ae,0x3f2,0x3c0)]=![],_0x343385['result']=null,_0x343385['id']=_0x2beb60,_0x343385[_0x51f00c(-0x17e,-0x1b0,-0x1e5,-0x1dc)]=_0x115f7b,eventSource[_0x166fcf(0x547,0x4fa,0x4ac,0x497)](eventNames[_0x166fcf(0x374,0x36f,0x405,0x3ec)+_0x166fcf(0x53b,0x523,0x495,0x4c1)],_0x343385);return;}console[_0x51f00c(-0x11c,-0x1b0,-0x1bb,-0x141)](_0x1ff880[_0x51f00c(-0x1be,-0x1da,-0x21f,-0x281)],_0x1f6629);const _0x3b4453=_0x166fcf(0x489,0x459,0x4d9,0x4af)+_0x1f6629[_0x166fcf(0x3c8,0x43e,0x40f,0x485)];_0x2a899f&&_0x1ff880[_0x51f00c(-0x161,-0x1f0,-0x17d,-0x16c)](_0x2a899f,_0x3b4453);toastr[_0x51f00c(-0x241,-0x1b0,-0x210,-0x13e)](_0x1f6629[_0x51f00c(-0x202,-0x240,-0x253,-0x1a2)]);const _0x9be83e={};_0x9be83e[_0x51f00c(-0x291,-0x25d,-0x29a,-0x2c5)]=![],_0x9be83e['result']=_0x3b4453,_0x9be83e['id']=_0x2beb60,eventSource['emit'](eventNames[_0x166fcf(0x404,0x47d,0x405,0x3f6)+_0x166fcf(0x458,0x48a,0x495,0x4a2)],_0x9be83e);}finally{currentLLMRequestController=null,_0x1ff880[_0x51f00c(-0x1c7,-0x22b,-0x1c4,-0x29f)](stopFabLoading);}}export function createGetPromptHandler(_0x58419e,_0x351764){return function(_0x22882e){const {id:_0x5210be}=_0x22882e;if(!_0x5210be)return;function _0x2c6b69(_0x29a695,_0x11318e,_0x5c7f16,_0x592cd2){return _0x4794(_0x29a695- -0x19,_0x592cd2);}const _0xe4b442=REQUEST_TYPE_NAMES[_0x58419e]||_0x58419e;function _0x5a41af(_0x5c5a3f,_0x46ac78,_0x35a481,_0x256344){return _0x4794(_0x256344-0x104,_0x35a481);}console[_0x2c6b69(0x108,0xc7,0x177,0x163)]('st-chatu8:'+_0x2c6b69(0xfc,0x119,0x18c,0x192)+_0xe4b442+(_0x2c6b69(0x145,0x11d,0x191,0x12e)+_0x5a41af(0x19e,0x224,0x236,0x23a))+_0x5210be+')');const _0x6d5733=buildPromptForRequestType(_0x58419e),_0x483fb2={};_0x483fb2['prompt']=_0x6d5733,_0x483fb2['id']=_0x5210be,eventSource[_0x2c6b69(0x1f8,0x20d,0x247,0x200)](_0x351764,_0x483fb2);};}export function createExecuteHandler(_0x3f8dd5,_0x5ceceb,_0x755710=null){return async function(_0x1887f3){const _0x174080=_0x755710?_0x755710():null;await executeTypedLLMRequest(_0x1887f3,_0x3f8dd5,_0x5ceceb,_0x174080);};}