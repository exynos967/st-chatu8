(function(_0x489d50,_0x3aed0e){const _0x5d7aa2=_0x489d50();function _0x4950d5(_0x52e4ff,_0x5ded34,_0x24ea28,_0x578ae6){return _0x4833(_0x5ded34-0x3c8,_0x578ae6);}function _0x2068fd(_0x31a697,_0x1c0da3,_0x423184,_0xafbb54){return _0x4833(_0x423184- -0x260,_0x1c0da3);}while(!![]){try{const _0x3ac6ff=-parseInt(_0x4950d5(0x6c9,0x66a,0x701,0x651))/(0x14b*0x15+-0x1740+-0x3e6)*(-parseInt(_0x4950d5(0x746,0x6d1,0x753,0x6e5))/(0x17ea+-0xe*-0x19c+-0x2e70))+-parseInt(_0x2068fd(-0x93,-0x79,-0x52,0x52))/(0x199f+-0x1f0a+0xa*0x8b)+parseInt(_0x4950d5(0x6cd,0x6b0,0x664,0x6c9))/(-0x17ff+-0x1b5f*0x1+0x3362)+parseInt(_0x4950d5(0x5be,0x664,0x6ad,0x689))/(-0x26d4+-0x26cb+0x2*0x26d2)+parseInt(_0x2068fd(0x89,0xec,0x39,-0x19))/(-0x1229+-0x1cab+-0x6*-0x7cf)+parseInt(_0x4950d5(0x5dc,0x68b,0x64a,0x6d9))/(-0x298+-0x2*-0xc6f+0x473*-0x5)+-parseInt(_0x2068fd(-0x85,-0x1,-0x33,-0xe2))/(0x179*-0x11+0x2602+0x1*-0xcf1)*(parseInt(_0x4950d5(0x5fe,0x69c,0x5f3,0x6cb))/(0x1*0xeb9+-0xd18+-0x198));if(_0x3ac6ff===_0x3aed0e)break;else _0x5d7aa2['push'](_0x5d7aa2['shift']());}catch(_0x1a6a67){_0x5d7aa2['push'](_0x5d7aa2['shift']());}}}(_0x4d9d,-0xba53e*-0x2+0xabce9*-0x2+0xa640b*0x1));const _0x53265c=(function(){const _0x259e4f={};_0x259e4f[_0x384a49(-0x144,-0xb4,-0x156,-0x1b)]=_0x384a49(-0x6d,0xc,-0x32,-0x85);const _0x3509c3=_0x259e4f;function _0x4314e9(_0x22f8d2,_0x266a11,_0x378e91,_0x125a78){return _0x4833(_0x266a11-0x1ce,_0x22f8d2);}let _0x27c816=!![];function _0x384a49(_0x4eeaa6,_0xb77151,_0x114169,_0x878f1d){return _0x4833(_0xb77151- -0x2ed,_0x4eeaa6);}return function(_0x254bd9,_0x4233c8){function _0x24b9a5(_0x126669,_0x7fe81c,_0x3969d2,_0x50b4b4){return _0x384a49(_0x3969d2,_0x126669-0x16b,_0x3969d2-0x107,_0x50b4b4-0x6e);}function _0x50facc(_0x5e7a58,_0x277d1e,_0xdc2583,_0x20ecef){return _0x384a49(_0x5e7a58,_0x20ecef- -0x17,_0xdc2583-0x1,_0x20ecef-0x1f0);}if(_0x24b9a5(0x177,0x200,0x197,0x20c)===_0x3509c3[_0x24b9a5(0xb7,0xac,0x37,0xf8)]){const _0x214039=_0x27c816?function(){function _0x107096(_0x16e7e7,_0x472c6f,_0x23630a,_0x2e0f10){return _0x50facc(_0x472c6f,_0x472c6f-0x2e,_0x23630a-0xce,_0x16e7e7-0x2ec);}if(_0x4233c8){const _0x111817=_0x4233c8[_0x107096(0x1fc,0x229,0x21c,0x1cc)](_0x254bd9,arguments);return _0x4233c8=null,_0x111817;}}:function(){};return _0x27c816=![],_0x214039;}else{const _0x56260f=_0x4b4ba8[_0x24b9a5(0x92,-0x5,0x14d,0x5e)](_0x39744f,arguments);return _0x2f3f3a=null,_0x56260f;}};}()),_0x54aa9e=_0x53265c(this,function(){const _0x34fa19={};_0x34fa19[_0x287ff9(0x53d,0x596,0x563,0x509)]=_0x287ff9(0x498,0x42e,0x419,0x473)+'+$';function _0x14b2ce(_0x476631,_0x4adcf1,_0x48d536,_0x571784){return _0x4833(_0x48d536- -0x25,_0x4adcf1);}function _0x287ff9(_0x11c2e9,_0x200749,_0x56d235,_0x552e4d){return _0x4833(_0x11c2e9-0x23e,_0x552e4d);}const _0xcd2ae4=_0x34fa19;return _0x54aa9e['toString']()[_0x287ff9(0x4ab,0x46b,0x49a,0x51a)](_0xcd2ae4['YtbGs'])[_0x287ff9(0x4b9,0x441,0x4b1,0x437)]()['constructo'+'r'](_0x54aa9e)[_0x287ff9(0x4ab,0x4e3,0x537,0x451)](_0xcd2ae4[_0x287ff9(0x53d,0x50d,0x4d8,0x5f2)]);});_0x54aa9e();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';function _0x460cf5(_0x38ddb5,_0x166aaa,_0x4ca722,_0x3846bc){return _0x4833(_0x4ca722- -0x119,_0x3846bc);}import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';import{taskQueue,TaskType,TaskStatus}from'../taskQueue.js';let currentLLMRequestController=null;const llmTaskControllers=new Map();eventSource['on'](_0x460cf5(0x147,0x165,0x1a0,0x16d)+_0x462a86(0x553,0x5bf,0x522,0x5f6)+_0x460cf5(0x1a7,0xc8,0x129,0x8b),({taskId:_0x4b8d01})=>{function _0x645240(_0x41a990,_0x3471a2,_0x3206eb,_0x243cb3){return _0x462a86(_0x3206eb-0x51,_0x3471a2-0xe3,_0x3206eb-0x17d,_0x3471a2);}function _0x2e488c(_0x5a7ca7,_0x2ec5b6,_0x523fda,_0x31eb2f){return _0x460cf5(_0x5a7ca7-0xe6,_0x2ec5b6-0xe2,_0x523fda- -0x2b7,_0x31eb2f);}const _0x16a671=llmTaskControllers[_0x645240(0x570,0x4ed,0x4f5,0x52b)](_0x4b8d01);_0x16a671&&(_0x16a671[_0x645240(0x5ba,0x56e,0x608,0x66e)](),llmTaskControllers[_0x2e488c(-0x130,-0x181,-0x161,-0x210)](_0x4b8d01),console[_0x645240(0x65e,0x6a6,0x64e,0x681)](_0x645240(0x4fe,0x50c,0x5b5,0x5d5)+_0x645240(0x524,0x569,0x524,0x5d5)+_0x4b8d01));});export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x4be20a){currentLLMRequestController=_0x4be20a;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){function _0x454c21(_0x1cd613,_0x2f80b5,_0x336686,_0x59ff4c){return _0x462a86(_0x59ff4c- -0x62d,_0x2f80b5-0x4c,_0x336686-0xe0,_0x2f80b5);}const _0x460fcf={};_0x460fcf[_0x462a55(0x2e3,0x2e8,0x2dd,0x2f0)]=function(_0x4862ba,_0x2a513b){return _0x4862ba!==_0x2a513b;},_0x460fcf[_0x454c21(-0xd7,-0xa5,-0xa1,-0x74)]=_0x454c21(-0x1ff,-0x13b,-0x217,-0x160);const _0x20685a=_0x460fcf;function _0x462a55(_0x476318,_0x19678d,_0x489309,_0x14ac85){return _0x460cf5(_0x476318-0x199,_0x19678d-0xc2,_0x489309-0x1cf,_0x14ac85);}currentLLMRequestController&&(_0x20685a[_0x454c21(-0x47,-0xac,-0x138,-0xfe)]('wFNTA',_0x462a55(0x2c3,0x2a2,0x338,0x319))?_0x52078b+='\x20('+_0x12400c[_0x462a55(0x438,0x2ef,0x395,0x3d1)](',\x20')+')':(currentLLMRequestController[_0x462a55(0x3c4,0x2fd,0x365,0x401)](),toastr['info'](_0x20685a['WWJiS'])));}function _0x462a86(_0x311633,_0x5bc917,_0x38a007,_0x177262){return _0x4833(_0x311633-0x308,_0x177262);}export function isLLMTestMode(){function _0x2f61f0(_0x1cf5b9,_0x4d091f,_0x10f2fd,_0xd74c9e){return _0x462a86(_0x10f2fd- -0x523,_0x4d091f-0x1c7,_0x10f2fd-0x74,_0xd74c9e);}return!!extension_settings[extensionName][_0x2f61f0(-0x68,0x37,-0x79,0x2)+'e'];}export function formatPromptForDisplay(_0x2ae7e9){const _0x49d2aa={'xFHAI':function(_0x251b18,_0x254f91){return _0x251b18===_0x254f91;},'ESLcX':_0x22993b(0x264,0x1aa,0x24c,0x1e4),'zCgeN':_0x21ce99(0x452,0x46a,0x4be,0x416),'DmYHN':function(_0x5d74e5,_0x2a4bad){return _0x5d74e5/_0x2a4bad;},'CbJIh':function(_0x2f11a8,_0x287b3d){return _0x2f11a8*_0x287b3d;},'hsDQQ':_0x21ce99(0x36b,0x276,0x3b1,0x32e),'xSxLE':function(_0x4c92cf,_0x5ca430){return _0x4c92cf!==_0x5ca430;},'KAzBi':'PEjAq','FXIeU':_0x22993b(0x2d9,0x3d6,0x336,0x37c),'jQHRa':_0x22993b(0x388,0x2e5,0x2d7,0x325),'asiCw':function(_0x4e863a,_0x312b56){return _0x4e863a(_0x312b56);},'kfpDB':function(_0x49e967,_0x164129){return _0x49e967===_0x164129;},'qMFYv':_0x21ce99(0x2b6,0x2ec,0x3c3,0x34b),'YFikA':_0x21ce99(0x2d8,0x3a6,0x3c7,0x386),'vcRJY':'OcOaC','ojfhw':_0x21ce99(0x294,0x2ae,0x2c2,0x343),'TnlPV':function(_0x516194,_0x2379c6){return _0x516194!==_0x2379c6;},'iZMfD':_0x22993b(0x213,0x1d5,0x202,0x1ac)};if(_0x49d2aa[_0x21ce99(0x2d4,0x31f,0x2d0,0x37c)](typeof _0x2ae7e9,_0x49d2aa[_0x22993b(0x2ea,0x22c,0x23a,0x1a6)]))return _0x2ae7e9;if(Array['isArray'](_0x2ae7e9)){const _0x217944=[];return _0x2ae7e9[_0x22993b(0x22b,0x29b,0x207,0x158)]((_0x2a220b,_0x58f5a7)=>{function _0x4834d9(_0x20d260,_0x13c48a,_0x41fcb6,_0x4bea71){return _0x22993b(_0x20d260-0x5d,_0x13c48a-0xc3,_0x20d260-0x373,_0x41fcb6);}function _0x1dfc5b(_0x4b59aa,_0x4a23cc,_0x1e4ff5,_0x3d1b8b){return _0x22993b(_0x4b59aa-0x43,_0x4a23cc-0x1ee,_0x4a23cc- -0x1f4,_0x1e4ff5);}if(_0x49d2aa[_0x4834d9(0x5cf,0x5c2,0x590,0x67d)](_0x49d2aa[_0x1dfc5b(0x132,0xb9,0x20,0x13d)],_0x49d2aa['FXIeU'])){const _0x5011e3=_0x2a220b[_0x1dfc5b(0xa6,0xa,-0x9e,-0x3f)]||_0x49d2aa[_0x1dfc5b(0x51,0x65,0x8e,0x18)],_0x5ba1cc=_0x49d2aa[_0x1dfc5b(0x96,0x150,0xa5,0x16f)](getRoleLabel,_0x5011e3);_0x217944[_0x4834d9(0x5cd,0x5b8,0x665,0x572)](''+'═'[_0x4834d9(0x58d,0x540,0x5d6,0x52b)](-0xe12*0x2+0xe09*-0x2+0x3868)),_0x217944[_0x4834d9(0x5cd,0x5f9,0x551,0x599)]('【'+_0x5ba1cc+'】'),_0x217944[_0x4834d9(0x5cd,0x553,0x609,0x62a)](''+'─'['repeat'](0x7*0x4df+-0x21cf+-0x4*0x6));const _0x1a9ea8=_0x2a220b['content'];if(_0x49d2aa[_0x1dfc5b(-0x12,0x99,0xd4,0x88)](typeof _0x1a9ea8,_0x49d2aa['qMFYv']))_0x217944[_0x4834d9(0x5cd,0x5ee,0x639,0x5da)](_0x1a9ea8);else Array[_0x1dfc5b(0x10a,0xdf,0x170,0x131)](_0x1a9ea8)&&(_0x49d2aa[_0x4834d9(0x56a,0x4e0,0x4d3,0x5af)]!==_0x49d2aa['vcRJY']?_0x1a9ea8[_0x4834d9(0x57a,0x556,0x604,0x538)](_0x468ba5=>{function _0x9877fd(_0xf08eff,_0x27a7b1,_0x57fe03,_0x9401d4){return _0x1dfc5b(_0xf08eff-0x173,_0x57fe03- -0x11d,_0x27a7b1,_0x9401d4-0x64);}function _0x50ad15(_0x57b2c3,_0x5bd115,_0x3700e6,_0x101326){return _0x4834d9(_0x57b2c3- -0x621,_0x5bd115-0x75,_0x101326,_0x101326-0x62);}if(_0x49d2aa[_0x9877fd(-0xe8,-0xae,-0xcd,-0x113)](_0x468ba5['type'],_0x50ad15(0xa3,-0xb,0x134,0x139)))_0x217944[_0x9877fd(-0xb5,-0xe7,-0xb7,-0x42)](_0x468ba5['text']||'');else{if(_0x49d2aa[_0x50ad15(-0x6a,-0xa2,-0x63,-0x116)](_0x468ba5[_0x50ad15(-0x1b,-0xa0,-0x26,-0x7b)],_0x49d2aa[_0x9877fd(0xd4,0x20,0x45,-0x1d)])){const _0x407f91=_0x468ba5[_0x9877fd(-0x77,-0x30,-0xc5,-0x171)]?.['url']||'';if(_0x407f91[_0x50ad15(-0x82,-0xeb,-0x2b,-0x10b)](_0x49d2aa[_0x9877fd(-0xde,-0x6a,-0x114,-0x1c1)])){const _0x39566d=_0x407f91[_0x9877fd(-0x108,-0xdb,-0x6a,0x13)](/^data:([^;]+);/),_0x396124=_0x39566d?_0x39566d[-0x10d8+-0x234d*-0x1+-0x49d*0x4]:_0x50ad15(0x29,-0x42,0xbc,-0x7e),_0x9df88b=_0x407f91[_0x9877fd(-0x2b,0xc4,0xc,0x96)](',')[-0x202b+0x2208+-0xe*0x22]||'',_0x340b73=Math[_0x9877fd(-0x7c,0xb1,0x2e,0x87)](_0x49d2aa[_0x9877fd(-0x10a,-0xbf,-0xa5,0x15)](_0x49d2aa[_0x50ad15(0x32,-0x1,-0xb,0xd)](_0x9df88b[_0x50ad15(0x9c,0x116,0xa2,0xce)],-0x1*0x1111+0x228f+0x19*-0xb3),0xfdb+-0x55*0x1f+0x8e*-0xa)/(-0xff*0x1f+0x1dfb+-0x3*-0x1a2));_0x217944['push'](_0x50ad15(-0x2a,0x47,-0x59,0x58)+':\x20'+_0x396124+_0x9877fd(0x13,0x71,-0x2f,-0x28)+_0x340b73+_0x50ad15(-0xa0,0x18,-0x106,-0xef));}else _0x217944[_0x9877fd(-0x114,-0x71,-0xb7,-0x122)](_0x9877fd(-0x98,0x1f,0x9,-0x6b)+_0x407f91+']');}}}):(_0x308415=_0x49d2aa[_0x4834d9(0x6bb,0x73e,0x76d,0x603)],_0x10a3a0[_0x1dfc5b(0xe6,0xdc,0xf1,0x149)](_0x336e2b+(_0x4834d9(0x5a3,0x534,0x524,0x56e)+_0x1dfc5b(0xb6,0x140,0xe1,0x9a)))));_0x217944[_0x4834d9(0x5cd,0x586,0x62e,0x5b9)]('');}else _0x5792b1=''+_0x20ac52['stringify'](_0x2e773d[_0x1dfc5b(0x12,0x7e,-0x2e,0xf6)]);}),_0x217944[_0x22993b(0x31c,0x352,0x32f,0x298)]('\x0a');}if(_0x49d2aa[_0x22993b(0x307,0x329,0x28d,0x33c)](typeof _0x2ae7e9,_0x49d2aa[_0x22993b(0x391,0x388,0x2d8,0x257)])&&_0x2ae7e9!==null){if(_0x49d2aa[_0x22993b(0x301,0x2db,0x2f4,0x283)](_0x22993b(0x29c,0x2e6,0x2bc,0x24a),_0x49d2aa[_0x21ce99(0x41a,0x326,0x405,0x3a9)]))return JSON[_0x22993b(0x312,0x3d5,0x346,0x2bb)](_0x2ae7e9,null,0x11*-0x103+0xe05+-0xcc*-0x4);else{const _0x45ca03=_0x5049a6+(_0x22993b(0x2c2,0x29f,0x321,0x399)+'\x20API\x20Key,\x20'+_0x22993b(0x28a,0x201,0x1e7,0x15a)+'置。');_0x5b4aa6['error'](_0x45ca03);const _0x4b8cb4={};_0x4b8cb4[_0x22993b(0x3c0,0x27b,0x31b,0x37b)]=![],_0x4b8cb4[_0x22993b(0x204,0x24b,0x2b5,0x317)]=_0x45ca03,_0x4b8cb4['id']=_0x1c5c69,_0x260c8e['emit'](_0x5d4681,_0x4b8cb4);return;}}function _0x22993b(_0x16293b,_0x218777,_0x47497e,_0x12aff3){return _0x460cf5(_0x16293b-0x16a,_0x218777-0x9e,_0x47497e-0x169,_0x12aff3);}function _0x21ce99(_0x500550,_0x5e2dde,_0x5172d2,_0x59e4f3){return _0x460cf5(_0x500550-0x14a,_0x5e2dde-0x64,_0x59e4f3-0x2a1,_0x5e2dde);}return String(_0x2ae7e9);}export function getRoleLabel(_0x5d32fd){const _0x3b8b68={};_0x3b8b68[_0x454420(0xf,-0x1,0x5b,0x5f)]=_0x454420(0x141,0x7b,0xdb,0xb4),_0x3b8b68[_0x2b1b0c(0x3c7,0x469,0x3ec,0x381)]='函数调用';function _0x454420(_0x1fa875,_0x31d1dd,_0x1adade,_0x367edc){return _0x460cf5(_0x1fa875-0x1c0,_0x31d1dd-0x32,_0x1adade- -0x3d,_0x31d1dd);}const _0x2b09d7=_0x3b8b68,_0x276163={};function _0x2b1b0c(_0x1d0d75,_0x354482,_0x46bc49,_0x4b4139){return _0x460cf5(_0x1d0d75-0x90,_0x354482-0x35,_0x46bc49-0x2a3,_0x354482);}_0x276163['system']=_0x2b1b0c(0x3ef,0x3c8,0x3af,0x452),_0x276163[_0x2b1b0c(0x4e3,0x4f8,0x492,0x4f7)]='用户',_0x276163[_0x454420(0xf8,0x89,0x4b,0xd7)]=_0x2b09d7[_0x2b1b0c(0x295,0x3d9,0x33b,0x295)],_0x276163[_0x2b1b0c(0x4e9,0x4c3,0x467,0x4ba)]=_0x2b09d7[_0x454420(0x113,0xcf,0x10c,0x1b8)],_0x276163['tool']='工具';const _0x5a58ea=_0x276163;return _0x5a58ea[_0x5d32fd]||_0x5d32fd;}function _0x4d9d(){const _0x21084e=['r1PryMy','x3bYB2zPBgu','uffJuNq','ANnSDuG','ywjVCNrLzc4','DNbSy2e','mxW0Fdb8mNWZFa','ALfiuMe','ChvZAa','CKLsthi','Efn4teu','tvzzr0K','ndq4ntGXmeHyu1r0tq','teXnx0vyrunvva','ueKGs2v5lcdMIjyG','B2n5yve','D1jjDvO','DhjPz2DLCK1Vza','yxbWBhK','yLfjsgu','ioIVT+AXGUw3SUwUJoAiKo+8JowqJUE7REAtJq','C2LNBMfS','zMvPzhG','C2v0','vKrzyKy','C2XPy2u','rg1zse4','C3rHDhvZvgv4Da','uwDyyu8','yNvMzMvYktO','v1vTrgW','AvPnzKq','zxjYB3i','qxD2uxi','C3qTy2HHDhu4oG','57o757UF5O+q56s66k+n','AwX1seW','DMjZrui','6k+35Rgc5A6m5OIqid09pt09','DhjHBNnSyxrPBW','teXnioACQUAuTUwiSoACIEAvIowBNG','y3fwBwe','AhfRsLy','ohLltg5dAa','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','EwHVChC','teXnoIdLPjBPG6JOR7FMSyi','quNLIQNMIyS','zfH3uLC','ue9tva','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','BNz0Exm','Bxb0zuK','v0Ddqum','BgDdtfG','sMzvvw8','vvPUy1i','vKTHrNq','5lUJ56cboG','A2zWrei','6k+35RgcieLeoIa','CwjdvvK','ksa9pt09pq','ALPZsKy','x3rHC2S','DhLWzq','zgvSDge','5Q2J5PAh5zU+54Mh55sF5OIq','l2fWAs9IywnRzq','Dw1os3G','BLP5tKq','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','Cvb1uwe','y2fUy2vSx2XSBq','yuzmwu4','EfPwAfK','r1DmtKi','Aw5JBhvKzxm','qKPRExq','BwTTwuy','sxPjCLa','uujuvuu','uwXZrui','sKLJtfO','y2HHCL9TB2rPzG','Bwf0y2G','C3rHDhvZ','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','kcGOlISPkYKRkq','vujdzxG','w0Xmtv0G5lU75yQH5BEY5y+w','s0f6qMK','A1rtBK0','sLHQtLe','56In5yczlI4U','y29Kzq','q1flwuC','yM9KEq','ExjrBui','CMvZDwX0','zLH5r3e','DhjPBq','DgvZDf9JB250zq','5O+q56s66k+n6i635y+w6k+35RgcicHj','CwrRu2C','wuPLzvO','Dfjes2u','C2vHCMnO','tw9KzwWG5PYQ6ywn572U44cc','zgvSzxrL','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','Aw9UoIaIqMvHCG','BgXTx3jLCxvLCW','uw9pEfe','CgXktLC','v1zwwxu','AgLZDg9YEq','57g75z6loIa','qKP1A0u','t294ELq','vgfN5l+U5Ps5','Dg9tDhjPBMC','vez6swW','A2HkDgy','qxv0Ag9YAxPHDa','BMrZl2nOyxqTyW','D2fYBMLUzW','pt09pt0GteXnia','D0zovee','AxnbCNjHEq','zLnNr0K','v0POsfu','y2HVAwnLCW','Dw5RBM93BG','B2PMAhC','A2v5CW','zsbfCNjVCJO','y3vZDg9T','CMvWBgfJzq','DhjPz2DLCLDVCG','zgf0ytO','z1P3wha','q2jkswG','D01Xv00','lcdNUQyG','C3rYzwfT','we55tfK','ugnlA20','BwvZC2fNzxm','6k+35Rgc6zsz6k+VoIa','z2v0uMvHzgvY','ody5mZC1nffXvNvfta','rv9srvnqt05trq','CuvtA0i','nJy2odqWD3r2A1rd','y2HHCL9KzxnPzW','y29TCgXLDgvuyq','zLnouuC','yw9oqLG','EhrFChjVzMLSzq','mJC2qxrIrKXt','l2DLBMvYyxrL','vg5Sufy','BMTLtfm','zxrPB25FC291CG','t3nMDgK','sLPdEvu','t0fnBhy','B0Xrvwy','uwXSsLi','t0fnCLK','sLbPy1i','zsbYzxf1zxn0ia','ywjVCNq','iowBNUwKJsaTls0Tlq','v1DkAvm','5y+r6ycb55QeifbYB21WDa','Dg9Rzw4','mxW1Fdr8mhWYFa','uLvotKLorW','Ag1uwfa','v1rdtvO','B2Hjq1u','C3rFy2HHDhu4xW','BhPiy3a','6kEs6iMYl+ACJEIJHEs/RUAuUq','DxbKyxrLu3rHDa','uM9IsKe','44cq5Rwl6k+v5QIH5BYp44cr','DKfdD0G','DKTmrwC','tKDmAe0','y3vZDg9Tx3vYBa','nJy3ndqWow9Oy1DRBq','y2HHCL9KAxnWBa','wxzZBMW','y3vYCMvUDf9SBa','C3rtswK','vMfsueC','zvrxEgO','8j+tTYbB5zU+54Mh6zo+5O6LoIa','C3vJy2vZCW','wwDpEeW','C3bSAxq','uw1rrwK','DgfNx21VzgLMEq','v1rYrMi','oIbbueKGvvjmla','vu5Ru24','tKjoDvy','mti3mtGXodH5rwDPq0C','Aevlrfy','vK9Pu3y','Bwf4x3rVA2vUCW','rhfbtfi','5AEl5PAW6k+35Rgc44cc','y3vZDg9Tx2LUyW','AuXot2C','z3DUwKG','zNvUy3rPB24','zw50CMLLCW','AM9PBG','sxrStwu','uvHMB0K','tejiB3C','uhDcz3i','5Pwi5zUE5Asn44cc','A05tBhi','y2Hrvu4','6k+35Rgc5AsX6lsLoIa','ndq0ndK2ngH4zKPMDW','zMvgtvm','tgnHDg8','B2zPBgu','sgvlzha','y29UDgv4Da','zwfIyKW','CM91BMq','qvbjifvstcWGqq','rgrqAMS','rw9uwKW','Aev5ALy','yxnPq3C','Bg9N','C3rYAw5NAwz5','s1f2Bee','Ahneuve','tuzpDuC','BgvUz3rO','uKHzr2y','zgf0ytOG','wMXgExa','BwvZC2fNzq','wxrIr3m','6kEs6iMYl+ACJEIJHEwXLEEKUG','Dgv4Da','uK1Tr2G','y0HeAey','zhbvwvG','shbRDNO','rvnmy1G','A0r1CM8','DxnLCG','ndq0Aun3wLbs','tfnKv2q','wKvQBuu','5OIwie1VzgvSioACQUMfJq','zw5HyMXLza','q1PXufi','zw1PDa','q2XoBM4','z2v0','ANnVBG','zgf0ytOGw0rptG','zffIvvG','ywrKvgfZAW','yxnZAxn0yw50','BgXTvgvZDe1Vza','D25ytxm','AvPIwvO','DgfYufC','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','wuzPA0e','A1LND0C','Cg9W','AfLTzvK','6kEs6iMYl+ACJEIJHEIUVUIUOq','mxWYFdb8nhWZ','EKnNzu4','CM9Szq','B21WBgv0Aw9UCW','yxbPx3vYBa','sgDcshe','DuHZt2K','teXniev4zwn1Da','D2fYBG','uKrjtMC','DhjPz2DLCG','zM9YrwfJAa','AgjOyKG','ievYCM9YoG','y2HHDf9JB21WBa','B2jQzwn0','s2TlsMe','DfvsAfy','s0jD','zxiG','qxPIwLy','quDxAK8','revgsNe','C3rYAw5N','s3vLsLK','teXnioIVT+AXGUw3SUs4REATOUoaGG','AfHRAhe','EhDXtxO','yxbPx2TLEq','6k+35Rgc5BYa5AElicG','CMvWzwf0','5RAioIa','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','y29UDgv4Df9WCG','5Rwl6k+v5QIH5BYp5O+q56s6','vhzyuha','y3jAEu4','BhvKzv9OzwfKzq','y09Ssha','twDOC08','B3j0zwq','uMvXDwvZDcbHyG','yxbPx3bYB2zPBa','5lUJ56cboIa','yM1ju04','cI0Tls0TieXmtq','v0HQsgm','rxnvEfO','C3rHCNrZv2L0Aa','q0foq0vmteve','ioAuTUwiSa','6BUy6k6K6k+35Rgc5BYa5AElid09pq','oIbmte0G5PYQ5Ps25yIW5PYj','sKTbrfG','zLbTsLq','wLL5A1a','Dg9Wx3a','Bw9KzwW','BMfTzq','5l2C5BEY6lEZ6l+h44cc','EMr6D0S','vNrwzem','Cu1gwxy','sMnLBee','Df90ExbLx2nVBG','Aw1Hz2vFz2vU','DgvTCgvYyxr1CG','Aw5MBW','quffBwi','CvrkzvG','r0X5r2m','u1v2vuO','EeziquK','zunTreG','ChjVBxb0','teXn','5Q2J5zYO5Ase55cgia','teXnigv4zwn1Da','zhrlB3i','BgXTx3bYB2zPBa','Aw1Hz2vFDxjS','uhzzrw4','EKHxt1q','sLrgyw8','yMDrDM4','y29UDgvUDa'];_0x4d9d=function(){return _0x21084e;};return _0x4d9d();}export function getCurrentLLMProfile(){function _0x28ee78(_0x46e0c1,_0x30f26a,_0x466a30,_0x2276a5){return _0x460cf5(_0x46e0c1-0x1b4,_0x30f26a-0x1de,_0x30f26a-0x26f,_0x466a30);}const _0x3498e8=extension_settings[extensionName][_0x28ee78(0x29e,0x351,0x2a5,0x3c5)+'es']||{};function _0x200470(_0x3c8e4d,_0x1beeac,_0x5065cf,_0x534164){return _0x462a86(_0x1beeac- -0x45a,_0x1beeac-0xd3,_0x5065cf-0x157,_0x5065cf);}const _0x38d97f=extension_settings[extensionName][_0x200470(0xbf,0x174,0x108,0x17a)+'m_profile'];return _0x3498e8[_0x38d97f]||_0x3498e8[Object[_0x200470(0x12c,0x137,0x1ed,0x189)](_0x3498e8)[0x1a79+0xa*-0x394+0x1*0x94f]]||{};}export function getCurrentTestContext(){const _0x216d58=extension_settings[extensionName][_0x457d6f(0x31e,0x34d,0x361,0x3e9)+_0x457d6f(0x42e,0x335,0x39a,0x421)+'s']||{},_0x32711d=extension_settings[extensionName]['current_te'+'st_context'+_0x457d6f(0x2df,0x2b4,0x2fc,0x395)];function _0x438fe3(_0x5a3f88,_0x3c0ad5,_0x380f50,_0x3bc5eb){return _0x462a86(_0x3c0ad5- -0x442,_0x3c0ad5-0x194,_0x380f50-0x14e,_0x3bc5eb);}function _0x457d6f(_0x31e9f5,_0x117521,_0x534f38,_0x57c154){return _0x460cf5(_0x31e9f5-0x60,_0x117521-0x10e,_0x534f38-0x212,_0x31e9f5);}return _0x216d58[_0x32711d]||_0x216d58[Object[_0x438fe3(0xe4,0x14f,0x176,0xaa)](_0x216d58)[-0x11b0*0x1+-0xe99+0x2049]]||{};}export function getEffectiveConfigForRequestType(_0x7c712){const _0x33a168=extension_settings[extensionName][_0x4a6cde(0x611,0x562,0x57d,0x6c6)+'t_type_con'+'figs']||{},_0x23275f={};_0x23275f[_0x1b3119(-0x1af,-0x127,-0x20e,-0x1c3)+'e']='默认';function _0x4a6cde(_0x1e8dc6,_0x5a9bd7,_0x23f09d,_0x52e76f){return _0x460cf5(_0x1e8dc6-0xda,_0x5a9bd7-0x11f,_0x1e8dc6-0x4b8,_0x52e76f);}_0x23275f[_0x4a6cde(0x56c,0x606,0x57e,0x4f5)+_0x1b3119(-0x7c,-0xc7,-0x6b,-0xae)]='默认';const _0x4c5336=_0x33a168[_0x7c712]||_0x23275f,_0xa2cae4=extension_settings[extensionName][_0x4a6cde(0x59a,0x622,0x5c2,0x569)+'es']||{},_0x430d93=extension_settings[extensionName]['test_conte'+'xt_profile'+'s']||{},_0x48725b=_0x4c5336[_0x1b3119(-0x1d5,-0x1a4,-0x157,-0x1c3)+'e']||'默认',_0x5e003c=_0xa2cae4[_0x48725b]||_0xa2cae4[Object[_0x1b3119(-0x86,-0x138,-0xbd,-0x110)](_0xa2cae4)[0x401+0x22c8+-0x26c9]]||{},_0x144c8f=_0x4c5336[_0x1b3119(-0x1cc,-0x25a,-0x121,-0x1cc)+_0x1b3119(-0xed,-0x9b,-0x101,-0xae)]||'默认',_0x38f741=_0x430d93[_0x144c8f]||_0x430d93[Object[_0x4a6cde(0x628,0x594,0x5c3,0x5bb)](_0x430d93)[-0xa*0x19f+0x1b*-0xbf+0xe3*0x29]]||{},_0x25678e={};_0x25678e[_0x1b3119(-0x14d,-0x245,-0x1ff,-0x1e9)]=_0x5e003c[_0x1b3119(-0x24e,-0x235,-0x211,-0x1e9)]||'',_0x25678e[_0x4a6cde(0x567,0x4ec,0x5c2,0x547)]=_0x5e003c[_0x1b3119(-0x272,-0x148,-0x19c,-0x1d1)]||'';function _0x1b3119(_0x42375f,_0x5db238,_0x589200,_0x1fcdb0){return _0x460cf5(_0x42375f-0x1cf,_0x5db238-0xf8,_0x1fcdb0- -0x280,_0x589200);}return _0x25678e[_0x1b3119(-0x196,-0x23e,-0x10a,-0x1b4)]=_0x5e003c[_0x4a6cde(0x584,0x5d6,0x60b,0x5b2)]||'',_0x25678e[_0x1b3119(-0x245,-0x1d8,-0x143,-0x1ab)+'e']=_0x5e003c[_0x4a6cde(0x58d,0x54b,0x4fa,0x5f1)+'e']??-0x1705+0x14d*-0xb+0x2554+0.7,_0x25678e['top_p']=_0x5e003c[_0x1b3119(-0x116,-0x199,-0x112,-0x1b5)]??-0xd*-0x29d+0x10f*-0x2+0x1b*-0x12e,_0x25678e['max_tokens']=_0x5e003c[_0x4a6cde(0x676,0x5ca,0x6ca,0x5f7)]??-0x31*-0x41+0x1316*0x2+0x309d*-0x1,_0x25678e[_0x1b3119(-0xd5,-0xeb,-0x187,-0x106)]=_0x5e003c[_0x1b3119(-0x154,-0x10c,-0x7e,-0x106)]??![],_0x25678e[_0x4a6cde(0x68c,0x61b,0x5ff,0x62e)]=_0x38f741,_0x25678e;}export function buildPromptForRequestType(_0x3c6362,_0x307310=''){const _0x242b4d={'umNKx':'AbortError','WKUjn':_0x1fcf83(0x85,0x109,0x189,0x1b9)+_0x1e4635(0x4ba,0x4fe,0x49c,0x54e),'LBHow':_0x1e4635(0x4df,0x512,0x56e,0x433)+_0x1fcf83(0x150,0x1e2,0x194,0x24b)+'aborted.','HeKdp':function(_0x34c3a2,_0x5466fa){return _0x34c3a2(_0x5466fa);},'kDuro':function(_0x924c7d,_0x2275fb){return _0x924c7d!==_0x2275fb;},'mpTZZ':_0x1fcf83(0x1e2,0x219,0x1c6,0x188),'RFDPj':function(_0x15e99e,_0x3b4e97){return _0x15e99e===_0x3b4e97;},'DdPjk':_0x1fcf83(0x18c,0xea,0x166,0x33),'JcelA':function(_0x167f2b,_0x4623b0,_0x13dc68){return _0x167f2b(_0x4623b0,_0x13dc68);},'RobJA':_0x1e4635(0x487,0x3ee,0x3e6,0x4dc),'WJhHU':_0x1fcf83(0x21e,0x187,0x15f,0x1b9),'hEyjV':_0x1e4635(0x5c1,0x5ee,0x64c,0x5d4),'cOlHp':function(_0x267bd3,_0x1d2c1f){return _0x267bd3!==_0x1d2c1f;},'GLyGc':'kTKqk','IIEmD':_0x1e4635(0x5ee,0x685,0x5ab,0x6a2),'BJkyt':function(_0x5e0c78,_0x48217f){return _0x5e0c78!==_0x48217f;},'WGCAC':'NnzuT','lgCLX':_0x1fcf83(0x277,0x1ee,0x1b2,0x244)},_0x4f4a7f=extension_settings[extensionName][_0x1e4635(0x558,0x507,0x57f,0x4f4)+_0x1fcf83(0x126,0x120,0x74,0xa9)+'figs']||{};function _0x1fcf83(_0x4edf68,_0x1b929b,_0xf63cf3,_0x359021){return _0x462a86(_0x1b929b- -0x3d4,_0x1b929b-0x145,_0xf63cf3-0x102,_0x359021);}const _0x4692a9={};_0x4692a9[_0x1e4635(0x4b3,0x441,0x539,0x431)+_0x1e4635(0x5d1,0x5dd,0x5c4,0x56b)]='默认';const _0x2825ad=_0x4f4a7f[_0x3c6362]||_0x4692a9,_0x2cc8ea=_0x2825ad[_0x1e4635(0x4b3,0x566,0x466,0x475)+_0x1e4635(0x5d1,0x637,0x51e,0x60e)]||'默认',_0xbe9e09=extension_settings[extensionName][_0x1e4635(0x54e,0x552,0x536,0x524)+'xt_profile'+'s']||{},_0x51192e=_0xbe9e09[_0x2cc8ea]||_0xbe9e09[Object[_0x1fcf83(0x244,0x1bd,0x18c,0x23f)](_0xbe9e09)[0x195b+-0x7*0x5b+0x1*-0x16de]]||{},_0x1c269f=[];if(_0x51192e[_0x1fcf83(0x1cc,0x212,0x215,0x225)]&&Array[_0x1e4635(0x569,0x5e5,0x4ec,0x4d1)](_0x51192e['entries']))_0x51192e['entries'][_0x1e4635(0x49d,0x437,0x4e9,0x449)](_0x57760f=>{function _0x88969(_0x416f08,_0x1b7390,_0x172d70,_0x1d8a73){return _0x1fcf83(_0x416f08-0x185,_0x1d8a73-0x12,_0x172d70-0x90,_0x172d70);}function _0xa6b116(_0x151909,_0x53ceb0,_0x593b92,_0x367d33){return _0x1e4635(_0x151909- -0x360,_0x53ceb0-0x1e,_0x593b92-0x16,_0x593b92);}const _0x10136b={'tURhV':function(_0x31ed5e,_0x455c79){return _0x31ed5e===_0x455c79;},'QlsEB':_0x242b4d[_0xa6b116(0x1cd,0x284,0x192,0x27d)],'PwBgr':_0x88969(0x25a,0x1da,0x1fc,0x1fa)+'3','xwqMz':_0x242b4d['WKUjn'],'qESkB':_0x242b4d[_0xa6b116(0x268,0x271,0x318,0x2f9)],'crZyN':function(_0x1cecdf,_0x56b6c7){function _0x2b73f9(_0x27bf2b,_0x2d1207,_0x69481a,_0x260a0d){return _0xa6b116(_0x69481a- -0xfe,_0x2d1207-0x96,_0x2d1207,_0x260a0d-0x14c);}return _0x242b4d[_0x2b73f9(0x124,0x1ab,0x174,0x132)](_0x1cecdf,_0x56b6c7);}};if(_0x242b4d[_0x88969(0x1c2,0x1be,0x29a,0x24d)](_0xa6b116(0x26b,0x1e7,0x311,0x202),_0x242b4d['mpTZZ'])){if(_0x10136b[_0x88969(0x1a9,0x138,0x1a6,0x103)](_0x2ee458[_0x88969(0x122,0x8a,0x175,0x12c)],_0x10136b[_0x88969(0x182,0x129,0x1c0,0x19a)])){const _0x152fa1=_0x10136b[_0x88969(0x2b6,0x2d2,0x22b,0x229)][_0xa6b116(0x253,0x2a2,0x29c,0x28a)]('|');let _0x54545a=0x1c3d+0x17c+-0x1db9;while(!![]){switch(_0x152fa1[_0x54545a++]){case'0':_0x2ca7fd[_0xa6b116(0x1f5,0x1d5,0x230,0x250)](_0x29784d);continue;case'1':_0x52cf42=!![];continue;case'2':const _0x63428={};_0x63428[_0xa6b116(0x16c,0x210,0x223,0x208)]=_0x10136b[_0xa6b116(0x1da,0x188,0x17b,0x1eb)],_0x63428[_0xa6b116(0x284,0x2d1,0x200,0x295)]=_0x10136b[_0xa6b116(0x14d,0x165,0xe0,0x1ef)];const _0x450463={};_0x450463['success']=![],_0x450463[_0x88969(0x1d4,0x1be,0x230,0x1ab)]=null,_0x450463['id']=_0x1d0d66,_0x450463[_0xa6b116(0x1a8,0x217,0x214,0x101)]=_0x63428,_0x1aa411[_0xa6b116(0x120,0x13f,0x186,0xc4)](_0x25e7cb[_0x88969(0x1f8,0x184,0x143,0x155)+_0xa6b116(0x220,0x1f4,0x1a3,0x28c)],_0x450463);continue;case'3':return;case'4':_0x7ab0c8[_0xa6b116(0x242,0x21c,0x24b,0x1ce)+'us'](_0x3d754c,_0x259e81[_0xa6b116(0x163,0xfa,0x145,0x144)]);continue;case'5':_0x54dead['log'](_0x10136b[_0x88969(0x1c0,0x184,0x246,0x1e1)]);continue;}break;}}_0x5a7fff['error']('LLM\x20Execut'+_0x88969(0x190,0x11e,0x23a,0x1d0),_0x17ec9c);const _0x2f9879=_0x88969(0x1f1,0x20e,0x135,0x1dd)+_0x31db34['message'];_0x557498&&_0x10136b[_0x88969(0x1c4,0x1cb,0x15f,0x116)](_0x22fec3,_0x2f9879);_0x4a0abf['error'](_0x151a4a[_0xa6b116(0x284,0x21d,0x21c,0x21a)]),_0x279b0c[_0xa6b116(0x224,0x2b6,0x2dc,0x186)+'sk'](_0x431087,![]),_0x2f6023[_0xa6b116(0x1f5,0x1e8,0x21d,0x18c)](_0x2094ce);const _0x4b8bb2={};_0x4b8bb2[_0x88969(0x1ef,0x226,0x209,0x211)]=![],_0x4b8bb2[_0xa6b116(0x1eb,0x163,0x139,0x245)]=_0x2f9879,_0x4b8bb2['id']=_0x3e93ad,_0xd4e990[_0xa6b116(0x120,0x11f,0x110,0xee)](_0x119da8['LLM_EXECUT'+'E_RESPONSE'],_0x4b8bb2);}else{if(!_0x57760f[_0x88969(0x62,0x110,0x111,0xde)])return;if(!_0x57760f[_0x88969(0x1de,0x10d,0xdd,0x147)]||_0x57760f[_0xa6b116(0x187,0x119,0x15e,0xfa)][_0xa6b116(0x1ed,0x29d,0x2a2,0x1fc)]()==='')return;if(_0x242b4d['RFDPj'](_0x57760f['triggerMod'+'e'],_0x242b4d[_0x88969(0x2b8,0x1d8,0x216,0x237)])){if(!_0x307310||!_0x242b4d[_0xa6b116(0x171,0x21b,0xdb,0x21b)](checkTriggerWords,_0x57760f[_0xa6b116(0x213,0x2bf,0x193,0x158)+'ds'],_0x307310))return;}const _0x11fde2={};_0x11fde2[_0xa6b116(0x134,0xf6,0x12d,0x166)]=_0x57760f[_0x88969(0x17c,0x142,0x9d,0xf4)]||'user',_0x11fde2['content']=_0x57760f[_0xa6b116(0x187,0xde,0xd8,0x11c)],_0x1c269f['push'](_0x11fde2);}});else{if(_0x51192e[_0x1e4635(0x55c,0x526,0x4f8,0x575)]&&Array['isArray'](_0x51192e[_0x1e4635(0x55c,0x51a,0x4f1,0x561)])){if(_0x242b4d[_0x1fcf83(0x16d,0x184,0xd5,0x141)](_0x242b4d[_0x1e4635(0x51d,0x4a4,0x4a0,0x4ac)],_0x242b4d[_0x1e4635(0x51e,0x4b8,0x567,0x55c)]))_0x51192e['history'][_0x1e4635(0x49d,0x523,0x501,0x529)](_0x4b65f7=>{function _0x5b99bd(_0x485c1a,_0x26169e,_0x5f2f75,_0x5b7e56){return _0x1fcf83(_0x485c1a-0x9e,_0x485c1a-0x10,_0x5f2f75-0x25,_0x5b7e56);}function _0x36c32c(_0x325652,_0x2ae296,_0x1f88da,_0x56fcfb){return _0x1fcf83(_0x325652-0x80,_0x2ae296-0x3f9,_0x1f88da-0x1d4,_0x56fcfb);}const _0x7139b2={'Hpkvz':function(_0x1da08d,_0x36b107){function _0x57b69e(_0x8a0944,_0x4ce3b3,_0x467ef6,_0x8d294e){return _0x4833(_0x4ce3b3-0x1b3,_0x8a0944);}return _0x242b4d[_0x57b69e(0x51f,0x4ba,0x450,0x53a)](_0x1da08d,_0x36b107);},'KueJY':'user','kTSnM':_0x242b4d['RobJA']};if(_0x242b4d[_0x5b99bd(0x1c9,0x1ee,0x1fd,0x1f9)]!==_0x242b4d[_0x36c32c(0x670,0x620,0x620,0x5cd)]){if(_0x4b65f7[_0x36c32c(0x629,0x635,0x58c,0x587)]&&_0x242b4d['cOlHp'](_0x4b65f7[_0x36c32c(0x598,0x635,0x69b,0x5da)][_0x5b99bd(0x1ab,0xf7,0x1a1,0x18d)](),'')){const _0x334622={};_0x334622[_0x36c32c(0x482,0x4db,0x543,0x55c)]=_0x5b99bd(0x24c,0x1f9,0x19d,0x1a4),_0x334622[_0x5b99bd(0x145,0x1c3,0x104,0x1c8)]=_0x4b65f7['user'],_0x1c269f[_0x36c32c(0x540,0x537,0x49c,0x4d8)](_0x334622);}if(_0x4b65f7[_0x5b99bd(0xe5,0x167,0xc1,0x114)]&&_0x4b65f7[_0x36c32c(0x54e,0x4ce,0x4cc,0x584)][_0x36c32c(0x54f,0x594,0x54a,0x589)]()!==''){if(_0x242b4d[_0x5b99bd(0x24b,0x22c,0x293,0x20c)](_0x242b4d[_0x36c32c(0x4db,0x51f,0x526,0x564)],_0x242b4d[_0x5b99bd(0x136,0x1b5,0x1d9,0x11d)])){_0x3d635e=''+_0x56fe28[_0x5b99bd(0x166,0x131,0x128,0x1d3)]['message'];const _0x269953=[];if(_0x11d1dc[_0x5b99bd(0x166,0xda,0xf1,0x184)]['type'])_0x269953['push'](_0x5b99bd(0x1bb,0x191,0x204,0x136)+_0x222e72[_0x36c32c(0x572,0x54f,0x5a8,0x4cb)]['type']);if(_0x4bcd87[_0x36c32c(0x5dc,0x54f,0x576,0x594)][_0x36c32c(0x5c5,0x58e,0x61f,0x630)])_0x269953['push'](_0x36c32c(0x55f,0x504,0x542,0x513)+_0x8fd46b[_0x5b99bd(0x166,0x11b,0x1b5,0x166)]['code']);_0x269953[_0x5b99bd(0x23e,0x224,0x294,0x2a5)]>-0x1f*-0xa2+0x5d*-0x4f+0x915&&(_0x192e86+='\x20('+_0x269953[_0x5b99bd(0x223,0x20f,0x244,0x1a7)](',\x20')+')');}else{const _0x21ed4f={};_0x21ed4f['role']=_0x242b4d['RobJA'],_0x21ed4f['content']=_0x4b65f7['assistant'],_0x1c269f[_0x5b99bd(0x14e,0x1e0,0x1c9,0x16a)](_0x21ed4f);}}}else _0x3e0112[_0x5b99bd(0x1ba,0x1de,0x275,0x18e)]['forEach'](_0x211726=>{if(_0x211726[_0x107fcb(0x4cd,0x5c2,0x52a,0x492)]&&_0x7139b2[_0xec04c4(0x4ad,0x41d,0x475,0x4c4)](_0x211726[_0xec04c4(0x4b0,0x47e,0x563,0x431)][_0xec04c4(0x40f,0x365,0x489,0x454)](),'')){const _0x3c6744={};_0x3c6744[_0xec04c4(0x356,0x3d0,0x2b7,0x382)]=_0x7139b2[_0xec04c4(0x36c,0x30f,0x3a1,0x2ca)],_0x3c6744[_0x107fcb(0x3cc,0x47a,0x423,0x3ef)]=_0x211726[_0x107fcb(0x57f,0x473,0x52a,0x578)],_0x477afa[_0x107fcb(0x3ed,0x4d0,0x42c,0x469)](_0x3c6744);}function _0xec04c4(_0x48796d,_0x3943a4,_0x38613f,_0xa6bba5){return _0x5b99bd(_0x48796d-0x264,_0x3943a4-0x8c,_0x38613f-0x52,_0x3943a4);}function _0x107fcb(_0x56d617,_0x2ce226,_0x4f269b,_0x1228ab){return _0x36c32c(_0x56d617-0x3b,_0x4f269b- -0x10b,_0x4f269b-0x1a5,_0x1228ab);}if(_0x211726['assistant']&&_0x7139b2[_0xec04c4(0x4ad,0x41a,0x540,0x51d)](_0x211726['assistant']['trim'](),'')){const _0x4d98d5={};_0x4d98d5[_0xec04c4(0x356,0x33f,0x329,0x31e)]=_0x7139b2[_0xec04c4(0x406,0x414,0x39d,0x46e)],_0x4d98d5[_0xec04c4(0x3a9,0x2f2,0x359,0x36c)]=_0x211726[_0x107fcb(0x390,0x344,0x3c3,0x37e)],_0x42d420[_0xec04c4(0x3b2,0x3a6,0x408,0x3fd)](_0x4d98d5);}});});else{if(_0x492137[_0x1fcf83(0x221,0x23c,0x20d,0x293)]&&_0x242b4d[_0x1fcf83(0x110,0x106,0x7a,0x144)](_0x30eab2['user'][_0x1e4635(0x54d,0x5a2,0x51e,0x512)](),'')){const _0x58a41d={};_0x58a41d['role']=_0x242b4d['IIEmD'],_0x58a41d['content']=_0x10d2df[_0x1e4635(0x5ee,0x639,0x5e6,0x618)],_0x59bae9[_0x1fcf83(0x1e8,0x13e,0x132,0x13b)](_0x58a41d);}if(_0x33f9b6['assistant']&&_0x344f54[_0x1fcf83(0xf0,0xd5,0x157,0xf6)]['trim']()!==''){const _0x520511={};_0x520511['role']=_0x242b4d[_0x1e4635(0x5a3,0x540,0x640,0x612)],_0x520511['content']=_0x46b82a[_0x1e4635(0x487,0x4f1,0x46e,0x462)],_0x3cca18['push'](_0x520511);}}}}function _0x1e4635(_0x29c212,_0x7f9aa2,_0x1d89a1,_0x541a54){return _0x460cf5(_0x29c212-0x146,_0x7f9aa2-0x124,_0x29c212-0x3ff,_0x541a54);}const _0x3f57c6=_0x242b4d[_0x1fcf83(0x250,0x220,0x1a6,0x1ed)](mergeAdjacentMessages,_0x1c269f),_0x5eab3a=processRollPlaceholders(_0x3f57c6);return _0x5eab3a;}const _0x3f2bb1={};_0x3f2bb1[_0x460cf5(0xf4,0x18b,0xd4,0x117)]=_0x460cf5(0xda,0x1c1,0x12c,0x189),_0x3f2bb1[_0x460cf5(0x103,0xc9,0x184,0x145)+'n']=_0x460cf5(0x12d,0x74,0x92,0x44),_0x3f2bb1[_0x460cf5(0x132,0x1a5,0x1ab,0x1be)+'ay']=_0x460cf5(0x268,0x252,0x1e7,0x279),_0x3f2bb1[_0x462a86(0x55e,0x5db,0x609,0x4ff)+'y']=_0x460cf5(0xed,0x110,0x1a2,0x1ab),_0x3f2bb1[_0x460cf5(0x1b0,0x128,0x110,0xb8)+'n']='翻译',_0x3f2bb1[_0x460cf5(0x1ba,0x270,0x1b6,0x241)]=_0x460cf5(0xc0,0x1fb,0x161,0x148);const REQUEST_TYPE_NAMES=_0x3f2bb1;export async function executeTypedLLMRequest(_0xe6f6b6,_0x5741ac,_0x2f7674,_0x4f78c9=null){const _0x26662b={'eabbL':_0x3f153e(0x64f,0x6e6,0x5c9,0x611)+_0x3f153e(0x56f,0x5a3,0x4c5,0x4b5)+_0x1f7db3(0x1f0,0x317,0x28a,0x32a),'hEKDV':function(_0x45e306,_0x587a76){return _0x45e306===_0x587a76;},'cHDhF':function(_0x1a9483,_0x31425f){return _0x1a9483===_0x31425f;},'ZcERH':_0x3f153e(0x515,0x599,0x4af,0x50e),'XNyLY':function(_0x156bef,_0xa1d9fa,_0x269e36){return _0x156bef(_0xa1d9fa,_0x269e36);},'TvXPp':_0x3f153e(0x667,0x5f7,0x5dd,0x62f),'eCmDH':function(_0x2ed22b,_0x553498){return _0x2ed22b(_0x553498);},'Osfti':function(_0x3c9b54,_0x2db0b7){return _0x3c9b54(_0x2db0b7);},'hXkhq':function(_0x32c5cc,_0x51b04e){return _0x32c5cc===_0x51b04e;},'fSNQG':function(_0x34b3c2,_0x138b17,_0x4327ed){return _0x34b3c2(_0x138b17,_0x4327ed);},'bgQvn':function(_0x4292bf,_0x3d25af){return _0x4292bf>_0x3d25af;},'ZEjmE':function(_0x2de32f,_0x293148){return _0x2de32f||_0x293148;},'AGWjO':_0x1f7db3(0x2db,0x2a7,0x275,0x295)+_0x3f153e(0x638,0x671,0x5ca,0x6bc),'JTFao':function(_0x5a1b45){return _0x5a1b45();},'vKLEg':function(_0x43c5c8){return _0x43c5c8();},'BJukE':function(_0xad7f09,_0x36f8f5){return _0xad7f09(_0x36f8f5);},'ItlMe':function(_0xe5c43c,_0x5ebc36){return _0xe5c43c(_0x5ebc36);},'PQcRt':function(_0x5ce523,_0x93e018){return _0x5ce523===_0x93e018;},'fPmJT':_0x1f7db3(0x253,0x287,0x298,0x336),'FEMVi':_0x3f153e(0x570,0x53c,0x4c3,0x629),'AAEmb':'/api/backe'+_0x3f153e(0x5de,0x52b,0x67b,0x524)+_0x1f7db3(0x285,0x126,0x1cb,0x179)+_0x3f153e(0x602,0x680,0x67c,0x585),'mkmYF':function(_0x1e5ab2,_0x54294d,_0x282fbe){return _0x1e5ab2(_0x54294d,_0x282fbe);},'FViBQ':_0x3f153e(0x592,0x63b,0x5c4,0x583),'AzbZV':function(_0x5be953,_0x216561){return _0x5be953!==_0x216561;},'SUvUJ':'KUhWv','aFLYN':function(_0x2e15c9,_0x1c0536){return _0x2e15c9===_0x1c0536;},'hqkJV':_0x3f153e(0x637,0x6d7,0x6a9,0x6d8),'aIBRJ':'wiiyF','feFMS':function(_0x282c51,_0x556b11){return _0x282c51!==_0x556b11;},'wMqWM':'xcMnE','IzIrP':'类型:','gXwhM':function(_0x434677,_0x229cb8){return _0x434677!==_0x229cb8;},'xZVhY':_0x3f153e(0x57d,0x608,0x53c,0x507),'Lcato':'utf-8','aoNBX':function(_0x27d0b1,_0x98c01d){return _0x27d0b1===_0x98c01d;},'nvtys':_0x3f153e(0x656,0x68b,0x65d,0x5b7),'PcKkm':'KwkfF','xPLFn':_0x3f153e(0x4fd,0x539,0x530,0x55c)+'E]','MVYGI':function(_0x5fbb89,_0x12e8d1){return _0x5fbb89!==_0x12e8d1;},'OAMrY':'gaOkw','QtDis':'mpteI','ZYykP':function(_0x5877c7,_0x58df5b){return _0x5877c7(_0x58df5b);},'feidx':function(_0x5c24d8,_0x2ac4eb){return _0x5c24d8===_0x2ac4eb;},'WTrFb':'iSciQ','ClNnn':_0x3f153e(0x58d,0x549,0x5fe,0x53b),'zQGoU':function(_0x5b6fad,_0x3258b7){return _0x5b6fad!==_0x3258b7;},'NGLhM':_0x3f153e(0x65b,0x626,0x640,0x616),'Yvsnl':_0x3f153e(0x5d2,0x547,0x52c,0x679),'khJtf':function(_0x1d61b8,_0x460694){return _0x1d61b8(_0x460694);},'GZQbf':function(_0x41c610,_0x167ae8){return _0x41c610!==_0x167ae8;},'OoxzT':_0x3f153e(0x661,0x6d6,0x711,0x609),'bQIHe':_0x1f7db3(0x194,0x22e,0x1e8,0x25c)+_0x3f153e(0x57e,0x58a,0x4e0,0x5c8),'CZqPR':function(_0x55c6c7,_0x59350b){return _0x55c6c7!==_0x59350b;},'vplca':_0x1f7db3(0x3a9,0x3b8,0x317,0x35e),'JIcLZ':'未收到有效回复。','UZncR':_0x3f153e(0x617,0x56e,0x5ff,0x675),'nkeLS':function(_0x5930de,_0x440521){return _0x5930de===_0x440521;},'apuuH':'VDoff','dQbUX':'object','Hyopy':function(_0x22959e,_0x3eb544){return _0x22959e>_0x3eb544;},'qdkSg':'XCLdW','tarPW':_0x1f7db3(0x154,0x14f,0x1f7,0x1b7),'hmTXP':_0x3f153e(0x51b,0x4f3,0x49c,0x5be),'WHjHc':'IHTsL','eqxqK':function(_0x15567b,_0x299773){return _0x15567b(_0x299773);},'UBCex':_0x1f7db3(0x1ec,0x233,0x282,0x288),'hYmeY':_0x3f153e(0x52d,0x5bd,0x595,0x5cf),'RDINg':function(_0x49dfa3,_0x4acdc2){return _0x49dfa3!==_0x4acdc2;},'lGshJ':'iZbYZ','VKTYX':function(_0x1f589c,_0x121c9f){return _0x1f589c===_0x121c9f;},'ecpiI':'AbortError','qbCUY':_0x3f153e(0x56a,0x507,0x5b4,0x577),'JPicR':_0x1f7db3(0x255,0x20a,0x1c8,0x22b),'kYgwG':_0x3f153e(0x534,0x5b7,0x57f,0x584)+_0x3f153e(0x533,0x56b,0x4e2,0x4f7),'VKaFt':function(_0x15d0c7,_0x4d25ec){return _0x15d0c7===_0x4d25ec;}},{prompt:_0x5e3d2e,id:_0x285918}=_0xe6f6b6;if(_0x26662b[_0x3f153e(0x4f5,0x45e,0x4e2,0x50e)](!_0x285918,!_0x5e3d2e))return;currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr[_0x3f153e(0x54e,0x4c4,0x58a,0x588)](_0x26662b[_0x1f7db3(0x25f,0x161,0x1dd,0x1f3)]));currentLLMRequestController=new AbortController();function _0x3f153e(_0x5c128e,_0xd21235,_0x459327,_0x1a9cbd){return _0x462a86(_0x5c128e-0x57,_0xd21235-0x106,_0x459327-0xdd,_0x459327);}function _0x1f7db3(_0x5d8827,_0x4aedfe,_0x42f421,_0x408e89){return _0x462a86(_0x42f421- -0x2ec,_0x4aedfe-0x70,_0x42f421-0x47,_0x4aedfe);}const _0x2c50c3=currentLLMRequestController[_0x1f7db3(0x2a8,0x281,0x233,0x18e)],_0x53392a=currentLLMRequestController,_0x26475b=REQUEST_TYPE_NAMES[_0x5741ac]||_0x5741ac,_0x31f96b={};_0x31f96b['name']='LLM:\x20'+_0x26475b,_0x31f96b[_0x3f153e(0x5a2,0x652,0x59a,0x57b)]=TaskType[_0x1f7db3(0x2cd,0x1cc,0x213,0x262)],_0x31f96b[_0x1f7db3(0x1aa,0x226,0x212,0x239)]=_0x285918;const _0x488a84=taskQueue[_0x1f7db3(0x10f,0x23d,0x1bc,0x1a9)](_0x31f96b);llmTaskControllers[_0x1f7db3(0x1db,0x2ab,0x235,0x1ac)](_0x488a84,currentLLMRequestController),taskQueue[_0x3f153e(0x61b,0x5ff,0x5d5,0x5ff)+'us'](_0x488a84,TaskStatus[_0x1f7db3(0x384,0x2f7,0x2d1,0x2d5)]),_0x26662b[_0x1f7db3(0x2bd,0x1f3,0x21b,0x2c3)](startFabLoading);let _0x171031=![];_0x26662b[_0x3f153e(0x61f,0x62f,0x634,0x632)](clearLog),_0x26662b[_0x3f153e(0x5d7,0x5fa,0x5ce,0x520)](addLog,'=====\x20LLM\x20'+_0x3f153e(0x528,0x4bc,0x559,0x5b4)+_0x26475b+_0x3f153e(0x59f,0x5ce,0x5a8,0x4fa)),addLog('请求\x20ID:\x20'+_0x285918),addLog(_0x1f7db3(0x30e,0x346,0x2ce,0x26b)+':'),_0x26662b[_0x3f153e(0x606,0x690,0x63a,0x6ba)](addLog,_0x26662b['ItlMe'](formatPromptForDisplay,_0x5e3d2e));const _0x939549=_0x26662b[_0x1f7db3(0x2de,0x32f,0x2fc,0x2df)](getEffectiveConfigForRequestType,_0x5741ac),{api_url:_0x3810b4,api_key:_0x347ab5,model:_0x36631e,temperature:_0x4287f6,top_p:_0x14fffb,max_tokens:_0x1972c5,stream:_0x5d8f68}=_0x939549;if(!_0x3810b4||!_0x347ab5||!_0x36631e){if(_0x26662b[_0x3f153e(0x563,0x526,0x5f4,0x587)](_0x26662b[_0x3f153e(0x541,0x57c,0x4cc,0x4ac)],_0x26662b['FEMVi']))_0x30ed8c=_0x503d48;else{const _0x52865e=_0x26475b+(':\x20API\x20URL,'+'\x20API\x20Key,\x20'+_0x1f7db3(0x228,0x185,0x1b3,0x1a4)+'置。');toastr['error'](_0x52865e);const _0x224d97={};_0x224d97['success']=![],_0x224d97['result']=_0x52865e,_0x224d97['id']=_0x285918,eventSource['emit'](_0x2f7674,_0x224d97);return;}}const _0x1de4fb=_0x26662b[_0x3f153e(0x54f,0x558,0x4f4,0x5e9)],_0xb20982=_0x3810b4[_0x1f7db3(0x206,0x29e,0x2a8,0x34c)](/\/$/,'');_0x4f78c9&&_0x26662b['ItlMe'](_0x4f78c9,_0x1f7db3(0x168,0x1a2,0x214,0x15a)+_0x26475b+_0x3f153e(0x5a8,0x5f4,0x52c,0x62b));try{const _0x25f603={};_0x25f603[_0x3f153e(0x519,0x495,0x5a2,0x4f7)+_0x3f153e(0x605,0x699,0x602,0x553)+'ce']=_0x3f153e(0x5ea,0x54b,0x582,0x538),_0x25f603[_0x1f7db3(0x299,0x327,0x2de,0x354)]=_0xb20982,_0x25f603['custom_inc'+_0x3f153e(0x530,0x4d2,0x510,0x4e3)+'rs']=_0x3f153e(0x5dd,0x5ca,0x591,0x58d)+_0x1f7db3(0x205,0x282,0x28d,0x2a6)+_0x1f7db3(0x24d,0x1b7,0x1db,0x1aa)+_0x347ab5+'\x22',_0x25f603[_0x1f7db3(0x2ae,0x240,0x201,0x28e)]=_0x36631e,_0x25f603[_0x1f7db3(0x27f,0x204,0x2b2,0x2a0)]=_0x5e3d2e,_0x25f603[_0x1f7db3(0x1e6,0x1c2,0x20a,0x1d2)+'e']=_0x4287f6,_0x25f603[_0x1f7db3(0x21f,0x240,0x200,0x2a7)]=_0x14fffb,_0x25f603[_0x3f153e(0x636,0x5ee,0x688,0x57c)]=_0x1972c5,_0x25f603[_0x3f153e(0x5f2,0x698,0x627,0x629)]=_0x5d8f68;const _0x26844a=_0x25f603,_0x1a7c12=await _0x26662b[_0x1f7db3(0x283,0x2e6,0x26d,0x265)](fetch,_0x1de4fb,{'method':_0x26662b['FViBQ'],'headers':_0x26662b['ItlMe'](getRequestHeaders,window[_0x3f153e(0x612,0x61e,0x55c,0x6b5)]),'body':JSON[_0x3f153e(0x655,0x643,0x628,0x6eb)](_0x26844a),'signal':_0x2c50c3});if(!_0x1a7c12['ok']){if(_0x26662b[_0x1f7db3(0x26f,0x12d,0x1dc,0x177)]('xabCa',_0x26662b[_0x1f7db3(0x291,0x25d,0x20f,0x21c)])){try{if(_0x26662b[_0x1f7db3(0x24f,0x1cb,0x268,0x1ea)](_0x26662b[_0x1f7db3(0x1b2,0x1a8,0x248,0x2a9)],_0x26662b['aIBRJ']))_0x328d03=null;else{const _0x3345ac=await _0x1a7c12[_0x3f153e(0x4fc,0x533,0x5a8,0x526)]();if(_0x3345ac[_0x3f153e(0x581,0x5f1,0x628,0x50e)]){if(_0x26662b[_0x3f153e(0x648,0x68e,0x698,0x635)]('TOjYH',_0x26662b[_0x1f7db3(0x228,0x343,0x2ad,0x2ae)])){let _0x3e4d58;if(_0x26662b[_0x3f153e(0x525,0x5bf,0x579,0x545)](typeof _0x3345ac[_0x1f7db3(0x27d,0x20d,0x23e,0x283)],_0x3f153e(0x51a,0x50b,0x518,0x4b7))&&_0x3345ac[_0x3f153e(0x581,0x523,0x4d3,0x54c)][_0x3f153e(0x65d,0x62c,0x60c,0x5ea)]){_0x3e4d58=''+_0x3345ac[_0x3f153e(0x581,0x51c,0x5bb,0x4ff)][_0x1f7db3(0x295,0x354,0x31a,0x397)];const _0x2f334b=[];if(_0x3345ac[_0x1f7db3(0x1ef,0x24b,0x23e,0x26d)][_0x1f7db3(0x1b4,0x291,0x25f,0x2ab)])_0x2f334b[_0x3f153e(0x569,0x521,0x56d,0x5fa)](_0x3f153e(0x5d6,0x67e,0x5a0,0x654)+_0x3345ac[_0x3f153e(0x581,0x516,0x5eb,0x610)]['type']);if(_0x3345ac['error'][_0x1f7db3(0x2dc,0x2f2,0x27d,0x2df)])_0x2f334b['push'](_0x3f153e(0x536,0x5b6,0x5d5,0x59e)+_0x3345ac[_0x1f7db3(0x25e,0x28d,0x23e,0x261)]['code']);_0x26662b[_0x3f153e(0x55f,0x546,0x5f8,0x570)](_0x2f334b[_0x3f153e(0x659,0x5d4,0x63e,0x5bf)],0x1*0x699+-0x1*0xfcf+-0x189*-0x6)&&(_0x3e4d58+='\x20('+_0x2f334b[_0x1f7db3(0x336,0x2f9,0x2fb,0x301)](',\x20')+')');}else _0x3e4d58=''+JSON['stringify'](_0x3345ac['error']);throw new Error(_0x3e4d58);}else{const _0x4604a5=_0x26662b[_0x3f153e(0x64d,0x6d5,0x62c,0x5b7)];_0x589d23[_0x3f153e(0x581,0x58e,0x5d6,0x4d1)](_0x4604a5);const _0x2d2e0e={};_0x2d2e0e[_0x1f7db3(0x302,0x309,0x2e7,0x26d)]=![],_0x2d2e0e[_0x3f153e(0x5c4,0x523,0x607,0x50a)]=_0x4604a5,_0x2d2e0e['id']=_0x571040,_0x472403[_0x3f153e(0x4f9,0x573,0x4c1,0x59d)](_0x10e064['LLM_EXECUT'+_0x1f7db3(0x28c,0x25c,0x2b6,0x370)],_0x2d2e0e);return;}}}}catch(_0x20bde6){if(_0x20bde6['message'][_0x3f153e(0x5ae,0x5df,0x5e1,0x5e3)](_0x26662b[_0x3f153e(0x5b1,0x553,0x518,0x5d4)])||_0x20bde6[_0x1f7db3(0x2a9,0x365,0x31a,0x38a)][_0x1f7db3(0x23b,0x280,0x26b,0x308)](_0x1f7db3(0x20d,0x23c,0x258,0x2ce)))throw _0x20bde6;}throw new Error('请求失败:\x20'+_0x1a7c12[_0x1f7db3(0x27d,0x305,0x274,0x2bf)]+'\x20'+_0x1a7c12['statusText']);}else{if(!_0x3c5083[_0x1f7db3(0x25a,0x1f7,0x1b4,0x127)])return;if(!_0x23efca[_0x1f7db3(0x1f4,0x2d1,0x21d,0x1e8)]||_0x26662b[_0x1f7db3(0x37e,0x2a7,0x2f1,0x280)](_0x2a1f2b[_0x1f7db3(0x229,0x1f2,0x21d,0x1af)][_0x1f7db3(0x269,0x22a,0x283,0x29f)](),''))return;if(_0x26662b[_0x3f153e(0x662,0x63f,0x6be,0x5d2)](_0xa6d773['triggerMod'+'e'],_0x26662b['ZcERH'])){if(!_0x5e2377||!_0x26662b[_0x1f7db3(0x338,0x253,0x2b0,0x2e9)](_0x2ab529,_0x373461['triggerWor'+'ds'],_0x1eac20))return;}const _0x1b20c1={};_0x1b20c1[_0x3f153e(0x50d,0x495,0x455,0x47b)]=_0x38476a[_0x3f153e(0x50d,0x4ed,0x582,0x4f4)]||_0x26662b[_0x3f153e(0x52e,0x4ba,0x5de,0x5b5)],_0x1b20c1[_0x3f153e(0x560,0x532,0x57d,0x571)]=_0x34aece[_0x3f153e(0x560,0x5db,0x515,0x557)],_0x1f254c[_0x3f153e(0x569,0x4c0,0x55c,0x58a)](_0x1b20c1);}}let _0x122f42='';if(_0x5d8f68){if(_0x26662b['gXwhM']('lwmqc',_0x26662b[_0x3f153e(0x5ac,0x528,0x5fe,0x55f)])){const _0x3a9cf5=_0x1a7c12[_0x1f7db3(0x26b,0x26c,0x27f,0x223)][_0x3f153e(0x5f7,0x5ae,0x557,0x67b)](),_0xdad496=new TextDecoder(_0x26662b[_0x1f7db3(0x374,0x3a7,0x306,0x281)]);let _0x353bcf='';while(!![]){const {done:_0x4e6aa5,value:_0x3bcf96}=await _0x3a9cf5['read']();if(_0x4e6aa5)break;const _0x3afecf={};_0x3afecf[_0x1f7db3(0x2dc,0x359,0x2af,0x351)]=!![],_0x353bcf+=_0xdad496['decode'](_0x3bcf96,_0x3afecf);const _0x346cf4=_0x353bcf['split']('\x0a');_0x353bcf=_0x346cf4[_0x3f153e(0x508,0x46e,0x57c,0x4dd)]()||'';for(const _0x48a423 of _0x346cf4){if(_0x26662b[_0x1f7db3(0x36c,0x215,0x2bc,0x221)](_0x26662b[_0x1f7db3(0x2a6,0x262,0x251,0x2b9)],_0x26662b[_0x3f153e(0x5f4,0x5ce,0x555,0x637)]))return _0x207bdb;else{const _0x2f18e0=_0x48a423['trim']();if(!_0x2f18e0||_0x2f18e0===_0x26662b['xPLFn'])continue;if(_0x2f18e0[_0x1f7db3(0x1fa,0x1df,0x1f8,0x194)](_0x1f7db3(0x3cb,0x29d,0x318,0x348)))try{if(_0x26662b[_0x1f7db3(0x2a9,0x1a7,0x229,0x2c0)](_0x26662b['OAMrY'],_0x26662b[_0x3f153e(0x60b,0x5e4,0x558,0x6c3)]))_0x26662b[_0x3f153e(0x554,0x56a,0x5f3,0x4dd)](_0x317d69,_0x308c47);else{const _0x50d3fd=_0x2f18e0[_0x1f7db3(0x2e7,0x189,0x237,0x21b)](-0x17*0x97+-0x3*-0x92f+0x2*-0x6fb),_0x453699=JSON['parse'](_0x50d3fd),_0x520c97=_0x453699[_0x1f7db3(0x33e,0x270,0x2a2,0x2da)]?.[0xfda+-0x244f+0x1475]?.[_0x3f153e(0x5a3,0x4e9,0x60f,0x61d)]?.[_0x3f153e(0x560,0x5d8,0x4d8,0x58b)];_0x520c97&&(_0x26662b[_0x1f7db3(0x33f,0x2d4,0x305,0x38d)](_0x26662b['QtDis'],_0x1f7db3(0x236,0x237,0x252,0x1d9))?_0x26662b[_0x3f153e(0x554,0x5ed,0x49b,0x609)](_0x2e15b5,_0x51e852):(_0x122f42+=_0x520c97,_0x4f78c9&&_0x26662b[_0x3f153e(0x542,0x566,0x48b,0x5fd)](_0x4f78c9,_0x122f42)));}}catch(_0x323f92){if(_0x26662b[_0x3f153e(0x577,0x5c8,0x541,0x52d)](_0x26662b[_0x3f153e(0x62f,0x6aa,0x680,0x649)],_0x26662b[_0x1f7db3(0x2c9,0x245,0x2ec,0x26f)]))console[_0x1f7db3(0x1d8,0x26a,0x1d0,0x20f)](_0x26662b[_0x3f153e(0x4fa,0x4c5,0x521,0x491)],_0x323f92[_0x1f7db3(0x3aa,0x328,0x31a,0x2c6)]);else{const {id:_0x1632bf}=_0x377bfa;if(!_0x1632bf)return;const _0x55577a=_0x3b056e[_0x521b7e]||_0x474604;_0x32d46d[_0x3f153e(0x654,0x5f5,0x5a3,0x5d0)]('st-chatu8:'+_0x3f153e(0x53d,0x4c9,0x54d,0x5c0)+_0x55577a+(_0x1f7db3(0x261,0x22c,0x285,0x2e8)+'D:\x20')+_0x1632bf+')');const _0x5b79b6=_0x26662b[_0x1f7db3(0x322,0x215,0x2c3,0x245)](_0x36baff,_0x1e19e0),_0x3c1658={};_0x3c1658[_0x1f7db3(0x26d,0x1d2,0x212,0x2a1)]=_0x5b79b6,_0x3c1658['id']=_0x1632bf,_0x43b3ab[_0x3f153e(0x4f9,0x565,0x595,0x4e2)](_0x4abf8b,_0x3c1658);}}}}}if(_0x353bcf[_0x3f153e(0x5c6,0x510,0x550,0x547)]()&&_0x26662b['zQGoU'](_0x353bcf[_0x1f7db3(0x213,0x25a,0x283,0x279)](),_0x3f153e(0x4fd,0x520,0x552,0x4d1)+'E]')&&_0x353bcf[_0x3f153e(0x5c6,0x552,0x5d6,0x5dc)]()['startsWith'](_0x26662b[_0x3f153e(0x620,0x669,0x6b0,0x643)]))try{const _0x54ad58=_0x353bcf[_0x3f153e(0x5c6,0x596,0x52c,0x5b0)]()[_0x1f7db3(0x238,0x2c2,0x237,0x2ba)](0xbee+-0x2c7+-0x921),_0x2013ab=JSON['parse'](_0x54ad58),_0x1e8c8d=_0x2013ab[_0x1f7db3(0x32c,0x336,0x2a2,0x338)]?.[-0x23b6+0x1*0x1cb1+0x705]?.[_0x3f153e(0x5a3,0x606,0x51d,0x65d)]?.[_0x1f7db3(0x1d1,0x27e,0x21d,0x199)];_0x1e8c8d&&(_0x122f42+=_0x1e8c8d,_0x4f78c9&&(_0x3f153e(0x591,0x62e,0x5b9,0x647)!==_0x26662b[_0x3f153e(0x624,0x6b9,0x61a,0x5f7)]?_0x26662b[_0x3f153e(0x5dc,0x529,0x521,0x5a0)](_0x4f78c9,_0x122f42):_0xcc8e53[_0x3f153e(0x569,0x4bf,0x5f4,0x5d5)](_0x488128)));}catch(_0x29b027){if(_0x26662b[_0x3f153e(0x561,0x525,0x537,0x5e1)](_0x26662b[_0x1f7db3(0x1e5,0x255,0x295,0x2b2)],_0x1f7db3(0x3d6,0x391,0x31e,0x2dd)))return _0x470f68;else console[_0x3f153e(0x513,0x5ce,0x5c2,0x5a2)](_0x26662b[_0x1f7db3(0x248,0x297,0x231,0x2be)],_0x29b027[_0x3f153e(0x65d,0x5e0,0x5c0,0x6f1)]);}if(!_0x122f42){if(_0x26662b[_0x1f7db3(0x1d0,0x1c4,0x1b5,0x25e)](_0x26662b[_0x1f7db3(0x1a1,0x2a8,0x223,0x2b6)],_0x26662b['vplca']))throw new _0x380fc8('请求失败:\x20'+_0x505625[_0x1f7db3(0x26f,0x23c,0x274,0x2c7)]+'\x20'+_0x27fd79[_0x1f7db3(0x288,0x2b8,0x239,0x24e)]);else _0x122f42=_0x26662b[_0x3f153e(0x5b4,0x546,0x576,0x52b)],toastr['warning'](_0x26475b+(_0x1f7db3(0x1a9,0x1e2,0x1fc,0x1b1)+_0x3f153e(0x643,0x6a4,0x618,0x5a2)));}}else return!!_0x889566;}else{if(_0x26662b[_0x3f153e(0x599,0x55a,0x59d,0x551)]===_0x1f7db3(0x26d,0x2dd,0x2f8,0x27e)){if(_0x37ce5d){const _0x3871bb=_0x4b307c[_0x3f153e(0x573,0x4bf,0x540,0x52a)](_0x2ab886,arguments);return _0x20ee9b=null,_0x3871bb;}}else{const _0x4dd897=await _0x1a7c12[_0x3f153e(0x4fc,0x4d7,0x473,0x54c)]();if(_0x4dd897[_0x3f153e(0x581,0x4ef,0x595,0x5e9)]){if(_0x26662b[_0x3f153e(0x604,0x694,0x5ee,0x648)](_0x26662b['apuuH'],_0x26662b['apuuH'])){let _0x208795;if(typeof _0x4dd897[_0x3f153e(0x581,0x61a,0x4e4,0x50c)]===_0x26662b[_0x3f153e(0x4fe,0x4e6,0x504,0x5aa)]&&_0x4dd897[_0x3f153e(0x581,0x5ec,0x5d3,0x5d6)][_0x3f153e(0x65d,0x645,0x697,0x700)]){_0x208795=''+_0x4dd897[_0x1f7db3(0x2bb,0x215,0x23e,0x1ad)]['message'];const _0x2a934b=[];if(_0x4dd897[_0x3f153e(0x581,0x5a4,0x592,0x57f)][_0x1f7db3(0x1bf,0x294,0x25f,0x27b)])_0x2a934b[_0x1f7db3(0x2a2,0x2dc,0x226,0x196)](_0x1f7db3(0x332,0x291,0x293,0x348)+_0x4dd897['error'][_0x3f153e(0x5a2,0x5e3,0x5bb,0x5d9)]);if(_0x4dd897[_0x3f153e(0x581,0x5be,0x615,0x5ae)][_0x3f153e(0x5c0,0x63b,0x554,0x659)])_0x2a934b[_0x3f153e(0x569,0x504,0x4b5,0x51b)](_0x3f153e(0x536,0x4e3,0x570,0x4c9)+_0x4dd897['error']['code']);_0x26662b['Hyopy'](_0x2a934b['length'],0x1ade+0x1fb6+-0x3a94)&&(_0x208795+='\x20('+_0x2a934b[_0x3f153e(0x63e,0x5fb,0x632,0x6b7)](',\x20')+')');}else{if(_0x26662b[_0x1f7db3(0x219,0x28b,0x286,0x204)]!==_0x26662b[_0x1f7db3(0x270,0x215,0x1c1,0x1c1)])_0x208795=''+JSON[_0x3f153e(0x655,0x61c,0x60f,0x6e3)](_0x4dd897['error']);else{const _0x5d7c6f={'dpUYX':function(_0x148d4d,_0x23f7ad){function _0x13daac(_0x1fc2c6,_0x13ccc1,_0x39d930,_0x3463e3){return _0x3f153e(_0x13ccc1- -0x698,_0x13ccc1-0xc,_0x39d930,_0x3463e3-0x1d4);}return _0x26662b[_0x13daac(-0x157,-0x173,-0x1c9,-0x103)](_0x148d4d,_0x23f7ad);},'VOiSv':_0x26662b['ZcERH'],'NBNuV':function(_0x5ec40b,_0x3ff71e,_0x510cd3){function _0x342cb4(_0x4900bb,_0x458812,_0x1db760,_0x49d739){return _0x3f153e(_0x49d739- -0x26a,_0x458812-0x1e1,_0x4900bb,_0x49d739-0x41);}return _0x26662b[_0x342cb4(0x342,0x333,0x2e0,0x394)](_0x5ec40b,_0x3ff71e,_0x510cd3);},'eTWxj':_0x26662b[_0x1f7db3(0x1c2,0x27d,0x1eb,0x1f2)]};_0x331d52[_0x1f7db3(0x33b,0x273,0x2fa,0x38e)][_0x3f153e(0x516,0x5a4,0x5c6,0x46d)](_0x3107b8=>{if(!_0x3107b8['enabled'])return;if(!_0x3107b8[_0x500f49(-0x1d2,-0x121,-0x1bb,-0x22d)]||_0x5d7c6f[_0x250e31(0x4d,0x13,-0x56,0xa)](_0x3107b8[_0x250e31(-0xb6,-0xfd,-0x8c,-0x166)][_0x250e31(-0x50,-0x4e,-0xab,-0xba)](),''))return;if(_0x5d7c6f[_0x500f49(-0xcf,-0x14a,-0x104,-0x185)](_0x3107b8[_0x250e31(-0xa4,-0xfe,0x0,-0x73)+'e'],_0x5d7c6f[_0x250e31(0x1f,-0x46,0xd,-0x2d)])){if(!_0x2a2db6||!_0x5d7c6f[_0x250e31(0x1c,0x9d,0x48,0x9a)](_0x187e4e,_0x3107b8[_0x500f49(-0x146,-0x1a4,-0xa5,-0x19c)+'ds'],_0x256fc9))return;}const _0x489e65={};_0x489e65[_0x250e31(-0x109,-0x101,-0x9f,-0x12c)]=_0x3107b8[_0x500f49(-0x225,-0x27a,-0x19d,-0x2b2)]||_0x5d7c6f[_0x500f49(-0x10a,-0x1b3,-0x12c,-0x77)];function _0x500f49(_0x2a873b,_0x545fa8,_0x2ba20e,_0x20ed66){return _0x3f153e(_0x2a873b- -0x732,_0x545fa8-0x100,_0x20ed66,_0x20ed66-0x18);}_0x489e65['content']=_0x3107b8[_0x500f49(-0x1d2,-0x220,-0x199,-0x187)];function _0x250e31(_0x44fd47,_0x472189,_0x3c9806,_0x4bea92){return _0x3f153e(_0x44fd47- -0x616,_0x472189-0xdc,_0x3c9806,_0x4bea92-0x17b);}_0x4b6291[_0x500f49(-0x1c9,-0x25f,-0x21f,-0x16e)](_0x489e65);});}}throw new Error(_0x208795);}else _0x3e3435(_0x2b899a);}_0x122f42=_0x4dd897[_0x1f7db3(0x20c,0x1ea,0x2a2,0x2ca)]?.[-0x38a+-0x1a*-0x5b+-0x5b4]?.[_0x1f7db3(0x32b,0x32a,0x31a,0x3c2)]?.[_0x3f153e(0x560,0x5ee,0x4af,0x526)]||'',!_0x122f42&&(_0x122f42=_0x26662b['JIcLZ'],toastr['warning'](_0x26475b+(_0x3f153e(0x53f,0x5c5,0x545,0x583)+'效回复。'))),_0x4f78c9&&(_0x26662b[_0x1f7db3(0x210,0x212,0x229,0x2d9)](_0x26662b[_0x1f7db3(0x30b,0x37a,0x2d2,0x32b)],_0x26662b[_0x1f7db3(0x256,0x148,0x1f6,0x143)])?_0x26662b['eCmDH'](_0x4f78c9,_0x122f42):_0x5e1b7e=''+_0x21ef7c['stringify'](_0x1b47a3[_0x1f7db3(0x23c,0x271,0x23e,0x237)]));}}addLog(_0x3f153e(0x538,0x499,0x5a0,0x5a7)+_0x3f153e(0x60f,0x5a8,0x5d1,0x586)),_0x26662b['eqxqK'](addLog,_0x122f42),addLog(_0x1f7db3(0x1f1,0x2d8,0x29d,0x346)+_0x1f7db3(0x2e5,0x2d9,0x244,0x222)),taskQueue[_0x3f153e(0x5fd,0x61b,0x5a7,0x6a7)+'sk'](_0x488a84,!![]),llmTaskControllers[_0x1f7db3(0x1fe,0x1d1,0x28b,0x325)](_0x488a84);const _0xe645fb=extension_settings[extensionName][_0x3f153e(0x501,0x555,0x502,0x466)+'e'];if(_0xe645fb){if(_0x26662b[_0x3f153e(0x561,0x5fc,0x58b,0x556)](_0x3f153e(0x5c5,0x614,0x633,0x535),_0x26662b[_0x1f7db3(0x265,0x227,0x277,0x31f)])){let _0x4e67dc;if(typeof _0xcb434c['error']===_0x3f153e(0x51a,0x570,0x4fb,0x4ca)&&_0x3e82ee[_0x1f7db3(0x1ac,0x206,0x23e,0x1a2)][_0x3f153e(0x65d,0x6b6,0x6c6,0x650)]){_0x4e67dc=''+_0xb21e13[_0x1f7db3(0x2f9,0x258,0x23e,0x18e)][_0x3f153e(0x65d,0x645,0x5bb,0x713)];const _0x55a407=[];if(_0x4e6a5c[_0x1f7db3(0x27d,0x1b8,0x23e,0x18e)]['type'])_0x55a407[_0x3f153e(0x569,0x4e6,0x61d,0x59a)](_0x3f153e(0x5d6,0x5fe,0x613,0x60a)+_0x29d958[_0x1f7db3(0x290,0x1eb,0x23e,0x261)][_0x3f153e(0x5a2,0x578,0x56d,0x64a)]);if(_0x145fee[_0x3f153e(0x581,0x4ee,0x5f9,0x616)]['code'])_0x55a407[_0x3f153e(0x569,0x55f,0x54f,0x544)](_0x3f153e(0x536,0x4dd,0x5d0,0x5c1)+_0x403fd5[_0x3f153e(0x581,0x4c8,0x5c8,0x62d)]['code']);_0x26662b[_0x3f153e(0x55f,0x4f7,0x55b,0x53f)](_0x55a407[_0x3f153e(0x659,0x5b0,0x629,0x5ad)],-0xd9b+0x801*-0x2+0x1d9d)&&(_0x4e67dc+='\x20('+_0x55a407[_0x3f153e(0x63e,0x60b,0x58f,0x608)](',\x20')+')');}else _0x4e67dc=''+_0xffe63e[_0x1f7db3(0x39e,0x315,0x312,0x347)](_0x1842de[_0x3f153e(0x581,0x528,0x508,0x61e)]);throw new _0x5bf020(_0x4e67dc);}else{const _0x45576b={};_0x45576b['timeOut']=0x1388,toastr[_0x1f7db3(0x172,0x1a9,0x20b,0x1ec)](_0x1f7db3(0x235,0x324,0x2da,0x250)+_0x26475b+(_0x3f153e(0x575,0x5f2,0x5d7,0x5df)+_0x3f153e(0x546,0x582,0x5da,0x52c)),_0x26662b[_0x3f153e(0x509,0x5a4,0x56f,0x47a)],_0x45576b);}}const _0x5083e5={};_0x5083e5[_0x1f7db3(0x327,0x319,0x2e7,0x2dd)]=!![],_0x5083e5[_0x1f7db3(0x21b,0x2b9,0x281,0x20f)]=_0x122f42,_0x5083e5['id']=_0x285918,_0x5083e5['testMode']=_0xe645fb,eventSource[_0x3f153e(0x4f9,0x4f3,0x468,0x4a1)](_0x2f7674,_0x5083e5);}catch(_0x59a216){if(_0x26662b[_0x3f153e(0x514,0x4b7,0x532,0x498)](_0x26662b['lGshJ'],_0x3f153e(0x503,0x5a9,0x455,0x44b)))_0x26662b['eCmDH'](_0x1d7c93,_0x1d62c6);else{if(_0x26662b['VKTYX'](_0x59a216[_0x3f153e(0x545,0x5e3,0x550,0x50f)],_0x26662b['ecpiI'])){if(_0x26662b[_0x3f153e(0x51f,0x595,0x4f6,0x485)](_0x26662b[_0x3f153e(0x59e,0x54c,0x4fd,0x4ea)],_0x26662b[_0x1f7db3(0x1e4,0x1ed,0x25b,0x2c2)]))_0x223b73[_0x1f7db3(0x299,0x26f,0x2cb,0x2a8)](),_0x50e89c['delete'](_0x519d9e),_0x5c81cf[_0x3f153e(0x654,0x670,0x658,0x5c6)]('[LLM]\x20任务已取'+_0x3f153e(0x52a,0x486,0x471,0x4bd)+_0x1f6989);else{const _0x326f8b=_0x26662b[_0x3f153e(0x60c,0x68b,0x5d1,0x68d)][_0x3f153e(0x62c,0x5ab,0x60b,0x66b)]('|');let _0x9c7401=0x24ca+0x2126*0x1+-0x45f0;while(!![]){switch(_0x326f8b[_0x9c7401++]){case'0':llmTaskControllers[_0x1f7db3(0x215,0x2fa,0x28b,0x290)](_0x488a84);continue;case'1':_0x171031=!![];continue;case'2':taskQueue[_0x1f7db3(0x2e0,0x25d,0x2d8,0x293)+'us'](_0x488a84,TaskStatus[_0x3f153e(0x53c,0x4ab,0x56d,0x57d)]);continue;case'3':return;case'4':const _0x1d6ecb={};_0x1d6ecb[_0x1f7db3(0x26a,0x2ac,0x202,0x209)]='AbortError',_0x1d6ecb[_0x3f153e(0x65d,0x606,0x5aa,0x5c1)]=_0x26662b[_0x3f153e(0x507,0x59b,0x4bb,0x5c1)];const _0x5e518a={};_0x5e518a[_0x3f153e(0x62a,0x696,0x5dd,0x65d)]=![],_0x5e518a[_0x3f153e(0x5c4,0x59a,0x553,0x50a)]=null,_0x5e518a['id']=_0x285918,_0x5e518a[_0x1f7db3(0x209,0x1df,0x23e,0x2e8)]=_0x1d6ecb,eventSource['emit'](_0x2f7674,_0x5e518a);continue;}break;}}}console['error'](_0x26475b+_0x3f153e(0x518,0x57b,0x59f,0x509),_0x59a216);const _0x59724b='请求错误:\x20'+_0x59a216['message'];_0x4f78c9&&_0x26662b[_0x3f153e(0x554,0x570,0x54d,0x5a0)](_0x4f78c9,_0x59724b);toastr['error'](_0x59a216[_0x1f7db3(0x2db,0x268,0x31a,0x357)]),taskQueue[_0x1f7db3(0x298,0x226,0x2ba,0x268)+'sk'](_0x488a84,![]),llmTaskControllers[_0x1f7db3(0x226,0x290,0x28b,0x2e0)](_0x488a84);const _0x3d2543={};_0x3d2543[_0x3f153e(0x62a,0x694,0x5a7,0x672)]=![],_0x3d2543[_0x1f7db3(0x2a0,0x1f3,0x281,0x321)]=_0x59724b,_0x3d2543['id']=_0x285918,eventSource[_0x3f153e(0x4f9,0x477,0x54c,0x47c)](_0x2f7674,_0x3d2543);}}finally{currentLLMRequestController===_0x53392a&&(currentLLMRequestController=null),(!_0x171031||_0x26662b[_0x3f153e(0x59a,0x5d6,0x5f5,0x513)](currentLLMRequestController,null))&&_0x26662b[_0x1f7db3(0x2bd,0x242,0x21b,0x1a2)](stopFabLoading);}}export async function executeDefaultLLMRequest(_0x316ef2,_0x3c31ef,_0xd8c51d=null){function _0x56e35e(_0x49c7a8,_0x1ee386,_0x1f943e,_0x4d85ae){return _0x460cf5(_0x49c7a8-0x68,_0x1ee386-0xb4,_0x1ee386- -0x243,_0x4d85ae);}const _0x789494={'WUmDl':_0x4b7f22(0x36f,0x354,0x251,0x2f5)+_0x4b7f22(0x370,0x387,0x3b7,0x375),'yhopw':'unknown','EoTZL':function(_0x51ec9e,_0x3765a8){return _0x51ec9e/_0x3765a8;},'WVVYu':function(_0x3f293c,_0xa247f2){return _0x3f293c>_0xa247f2;},'WTCMZ':function(_0x2c12c6,_0x368d12){return _0x2c12c6(_0x368d12);},'hbhbH':_0x4b7f22(0x2b7,0x291,0x3a1,0x30c)+_0x4b7f22(0x2b2,0x258,0x365,0x2fc),'nZyND':function(_0x54701d,_0x1b3319){return _0x54701d||_0x1b3319;},'QmQEi':function(_0x420bb4,_0x3dd30e){return _0x420bb4===_0x3dd30e;},'VaRPG':_0x4b7f22(0x350,0x360,0x34c,0x320),'URDbd':_0x56e35e(-0x169,-0x11b,-0x177,-0xfe),'ZlFyp':function(_0x3651d0){return _0x3651d0();},'QXfoI':function(_0x28e3be,_0x530481){return _0x28e3be(_0x530481);},'JUCOQ':function(_0x53a3fd,_0x31ef93){return _0x53a3fd(_0x31ef93);},'dtKor':function(_0x3f3396,_0x123eff){return _0x3f3396(_0x123eff);},'YgOxL':'API\x20URL,\x20A'+_0x56e35e(-0x1e9,-0x14c,-0xc7,-0xbb)+_0x4b7f22(0x29a,0x2a7,0x319,0x30a),'YJeeZ':function(_0x43ab3f,_0x12572c){return _0x43ab3f(_0x12572c);},'CLUGE':'POST','JZCyU':'NFKuQ','JKADX':function(_0x367c45,_0x1a88be){return _0x367c45===_0x1a88be;},'iluHL':function(_0x4ebaa6,_0x5e1763){return _0x4ebaa6!==_0x5e1763;},'oLQUf':_0x56e35e(-0x116,-0xe8,-0x36,-0x41),'VtVdC':function(_0x9e96d4,_0x38ae97){return _0x9e96d4>_0x38ae97;},'qPuQa':_0x56e35e(-0x178,-0x10e,-0xa8,-0x16b),'VDYbF':_0x4b7f22(0x223,0x33d,0x265,0x2c6)+'复。','bmISN':'QllJR','DEFJq':function(_0x4fadd8,_0x3a26e4){return _0x4fadd8(_0x3a26e4);},'vACwH':function(_0x411249,_0x4b02f7){return _0x411249(_0x4b02f7);},'UNkSn':function(_0x4319c5,_0x36cd4e){return _0x4319c5!==_0x36cd4e;},'LSdWd':_0x56e35e(-0xee,-0x15f,-0x1b8,-0xaa),'MghsO':'AbortError','JXjNQ':_0x4b7f22(0x25f,0x1fd,0x2ae,0x23f),'zdzwK':_0x56e35e(-0x1b4,-0x154,-0x158,-0x10b)+'5','pFDLj':_0x56e35e(-0x13c,-0x163,-0x1d8,-0x145)+_0x4b7f22(0x3b2,0x405,0x37e,0x34a)+_0x56e35e(-0x133,-0x156,-0x1b2,-0x20a),'stSIi':function(_0x5db0c2){return _0x5db0c2();}},{prompt:_0x4e192c,id:_0x4121dc}=_0x316ef2;if(_0x789494[_0x56e35e(-0x13a,-0x114,-0x183,-0x99)](!_0x4121dc,!_0x4e192c))return;currentLLMRequestController&&(_0x789494['QmQEi'](_0x789494[_0x56e35e(-0xb0,-0x94,-0x91,-0x131)],_0x789494['URDbd'])?_0x4e79a2('正在处理\x20'+_0x239f54+_0x56e35e(-0x7e,-0x113,-0x1c1,-0x13e)):(currentLLMRequestController['abort'](),toastr[_0x4b7f22(0x25b,0x273,0x295,0x28b)]('LLM请求已中断，开'+_0x4b7f22(0x38c,0x42a,0x3c5,0x375))));currentLLMRequestController=new AbortController();function _0x4b7f22(_0x333896,_0x44fb0e,_0x53b534,_0xa52c7f){return _0x460cf5(_0x333896-0x16e,_0x44fb0e-0x67,_0xa52c7f-0x1b5,_0x53b534);}const _0x5f5256=currentLLMRequestController[_0x56e35e(-0x18d,-0x145,-0x94,-0xd0)],_0x166ee7=currentLLMRequestController,_0x2f922d={};_0x2f922d[_0x56e35e(-0x18e,-0x176,-0x1cf,-0x207)]=_0x4b7f22(0x2e2,0x277,0x249,0x2cc),_0x2f922d['type']=TaskType['LLM'],_0x2f922d[_0x4b7f22(0x2e5,0x2f4,0x2c8,0x292)]=_0x4121dc;const _0x3e77ea=taskQueue[_0x4b7f22(0x1a1,0x1ce,0x2b8,0x23c)](_0x2f922d);llmTaskControllers['set'](_0x3e77ea,currentLLMRequestController),taskQueue[_0x4b7f22(0x2fc,0x381,0x2c9,0x358)+'us'](_0x3e77ea,TaskStatus[_0x4b7f22(0x3f1,0x3f9,0x35a,0x351)]),startFabLoading();let _0x31ada8=![];_0x789494[_0x4b7f22(0x31f,0x40a,0x3ed,0x399)](clearLog),_0x789494['QXfoI'](addLog,_0x56e35e(-0x144,-0xdb,-0x106,-0x15b)+_0x56e35e(-0x125,-0x17d,-0x18a,-0x19f)+'=='),_0x789494['JUCOQ'](addLog,_0x56e35e(-0x161,-0x11e,-0x68,-0x11a)+_0x4121dc),_0x789494[_0x4b7f22(0x2c1,0x243,0x32f,0x296)](addLog,_0x56e35e(-0xa8,-0xaa,-0xc9,-0x90)+':'),addLog(_0x789494[_0x56e35e(-0x12e,-0x7b,-0x99,0x22)](formatPromptForDisplay,_0x4e192c));const {api_url:_0x5a4dc5,api_key:_0x291441,model:_0x420b9b,temperature:_0x145729,top_p:_0x67c5e0,max_tokens:_0xe3c1d9}=_0x3c31ef;if(_0x789494[_0x56e35e(-0x194,-0x114,-0xec,-0xfc)](!_0x5a4dc5,!_0x291441)||!_0x420b9b){const _0x26debd=_0x789494[_0x4b7f22(0x3ac,0x307,0x32b,0x368)];toastr[_0x4b7f22(0x30a,0x23f,0x222,0x2be)](_0x26debd);const _0x2267bd={};_0x2267bd[_0x56e35e(-0x8b,-0x91,-0x7b,-0x99)]=![],_0x2267bd[_0x4b7f22(0x2a0,0x297,0x2e6,0x301)]=_0x26debd,_0x2267bd['id']=_0x4121dc,eventSource[_0x4b7f22(0x17f,0x24a,0x27d,0x236)](eventNames[_0x56e35e(-0x208,-0x14d,-0x201,-0x182)+_0x56e35e(-0x154,-0xc2,-0x117,-0x119)],_0x2267bd);return;}const _0x2f7877=_0x4b7f22(0x294,0x366,0x2b4,0x2e2)+_0x56e35e(-0x193,-0xdd,-0x10b,-0xb5)+_0x56e35e(-0x21e,-0x1ad,-0x11f,-0x128)+'/generate',_0x4c3e35=_0x5a4dc5[_0x4b7f22(0x334,0x34a,0x2fb,0x328)](/\/$/,'');_0xd8c51d&&_0x789494[_0x4b7f22(0x345,0x31e,0x311,0x307)](_0xd8c51d,_0x789494[_0x4b7f22(0x213,0x211,0x2a6,0x254)]);try{const _0x369864={};_0x369864[_0x56e35e(-0xe7,-0x1a2,-0x1ec,-0x22f)+_0x56e35e(-0x32,-0xb6,-0xfd,-0x75)+'ce']=_0x4b7f22(0x2b6,0x27e,0x27b,0x327),_0x369864[_0x4b7f22(0x37a,0x328,0x3be,0x35e)]=_0x4c3e35,_0x369864[_0x56e35e(-0x52,-0x82,-0xb5,-0x12c)+_0x4b7f22(0x2f1,0x1f9,0x25d,0x26d)+'rs']='Authorizat'+_0x56e35e(-0xbf,-0xeb,-0xa3,-0x176)+_0x4b7f22(0x1c1,0x1b7,0x2a6,0x25b)+_0x291441+'\x22',_0x369864[_0x4b7f22(0x2ab,0x27b,0x20a,0x281)]=_0x420b9b,_0x369864[_0x56e35e(-0xe6,-0xc6,-0x82,-0x12c)]=_0x4e192c,_0x369864[_0x56e35e(-0x1d2,-0x16e,-0x12e,-0x19a)+'e']=_0x145729,_0x369864[_0x4b7f22(0x2a1,0x2c9,0x2c1,0x280)]=_0x67c5e0,_0x369864[_0x4b7f22(0x320,0x347,0x2fe,0x373)]=_0xe3c1d9,_0x369864[_0x56e35e(-0x170,-0xc9,-0x2b,-0xa7)]=![];const _0x5d3917=_0x369864,_0x5100c8=await fetch(_0x2f7877,{'method':_0x789494['CLUGE'],'headers':getRequestHeaders(window[_0x56e35e(-0xbc,-0xa9,-0x36,-0xea)]),'body':JSON[_0x4b7f22(0x313,0x3d5,0x2e3,0x392)](_0x5d3917),'signal':_0x5f5256}),_0x59c6fa=await _0x5100c8[_0x56e35e(-0x200,-0x1bf,-0x1d0,-0x122)]();if(_0x59c6fa[_0x56e35e(-0x19a,-0x13a,-0x1af,-0xda)]){if(_0x4b7f22(0x276,0x2a1,0x2e6,0x2c7)!==_0x789494[_0x4b7f22(0x3d3,0x353,0x359,0x344)]){let _0x31cd7d;if(_0x789494[_0x4b7f22(0x227,0x31c,0x2aa,0x27d)](typeof _0x59c6fa[_0x56e35e(-0x18e,-0x13a,-0x188,-0x135)],'object')&&_0x59c6fa[_0x56e35e(-0x11a,-0x13a,-0x168,-0x8d)]['message']){if(_0x789494[_0x4b7f22(0x271,0x27e,0x33b,0x2c2)](_0x789494[_0x4b7f22(0x3dd,0x3d0,0x29c,0x346)],_0x789494[_0x4b7f22(0x3df,0x39c,0x2b6,0x346)]))_0x1485f3[_0x56e35e(-0x4e,-0xad,-0x8e,-0x1c)](),_0x3519d3[_0x4b7f22(0x264,0x1fa,0x2bb,0x28b)](_0x789494[_0x4b7f22(0x305,0x285,0x35a,0x2bc)]);else{_0x31cd7d=''+_0x59c6fa['error']['message'];const _0x364897=[];if(_0x59c6fa[_0x4b7f22(0x28f,0x359,0x35d,0x2be)][_0x56e35e(-0x172,-0x119,-0x163,-0x9d)])_0x364897[_0x56e35e(-0x1dd,-0x152,-0xc7,-0xe9)](_0x56e35e(-0x60,-0xe5,-0x3b,-0x167)+_0x59c6fa[_0x4b7f22(0x2d7,0x24d,0x269,0x2be)]['type']);if(_0x59c6fa[_0x4b7f22(0x219,0x343,0x34b,0x2be)][_0x4b7f22(0x283,0x262,0x246,0x2fd)])_0x364897['push'](_0x4b7f22(0x2f6,0x2f6,0x2d0,0x273)+_0x59c6fa[_0x4b7f22(0x251,0x297,0x286,0x2be)]['code']);_0x789494[_0x56e35e(-0x164,-0x173,-0x184,-0x114)](_0x364897['length'],-0x261+-0x1*0x24d8+0x2739)&&(_0x31cd7d+='\x20('+_0x364897[_0x4b7f22(0x3d8,0x39f,0x3e3,0x37b)](',\x20')+')');}}else _0x31cd7d=''+JSON[_0x56e35e(-0x80,-0x66,-0x48,0x12)](_0x59c6fa[_0x56e35e(-0x18d,-0x13a,-0x1cd,-0xa5)]);throw new Error(_0x31cd7d);}else{const _0x3f0539=_0x445c73[_0x4b7f22(0x352,0x23a,0x3ad,0x2f3)](/^data:([^;]+);/),_0x213403=_0x3f0539?_0x3f0539[-0x26a1+-0x72*0x24+0x2*0x1b55]:_0x789494[_0x56e35e(-0x88,-0x12d,-0x102,-0x1b7)],_0xd9917f=_0x4ad9f8[_0x4b7f22(0x331,0x2fb,0x35b,0x369)](',')[0x2144+-0x1aa2+-0x6a1]||'',_0x31507e=_0x16ef44[_0x56e35e(0x42,-0x6d,-0xe7,-0xb6)](_0x789494[_0x4b7f22(0x3ac,0x379,0x416,0x38e)](_0xd9917f[_0x56e35e(0x8,-0x62,0x2b,-0x10c)]*(-0x1*-0x25eb+-0xf64+0xb42*-0x2)/(0xa8e*-0x2+0x1055+0x4cb*0x1),0x3fb*0x3+0x5e*0x3c+0x1*-0x1df9));_0x59b0ad[_0x56e35e(-0x1dd,-0x152,-0x113,-0x122)](_0x56e35e(-0xfc,-0x128,-0x1d9,-0x148)+':\x20'+_0x213403+_0x4b7f22(0x293,0x2ba,0x39c,0x32e)+_0x31507e+_0x4b7f22(0x24a,0x2cd,0x2a5,0x25a));}}if(!_0x5100c8['ok'])throw new Error(_0x56e35e(-0x9b,-0x75,0x3e,-0x76)+_0x5100c8['status']+'\x20'+_0x5100c8[_0x4b7f22(0x2a5,0x2bc,0x240,0x2b9)]);const _0x21dbde=_0x59c6fa[_0x4b7f22(0x284,0x350,0x2c5,0x322)]?.[-0x2*0x1085+0x1233+0xed7]?.['message']?.[_0x4b7f22(0x22b,0x2d8,0x342,0x29d)]||'';if(!_0x21dbde){if(_0x789494[_0x56e35e(-0x1a8,-0x136,-0x129,-0xa3)](_0x789494[_0x56e35e(-0x14e,-0x112,-0x1cc,-0x1bf)],_0x789494[_0x4b7f22(0x2e2,0x2b2,0x23c,0x2e6)])){const _0x4371bc={};_0x4371bc[_0x56e35e(-0x1e3,-0x1ae,-0xf8,-0x1c5)]=_0x4b7f22(0x37a,0x30f,0x349,0x3a4),_0x4371bc[_0x4b7f22(0x1fe,0x212,0x352,0x29d)]=_0x3e1e52[_0x4b7f22(0x35d,0x3e9,0x38d,0x3a4)],_0x5d40e5[_0x4b7f22(0x32e,0x21f,0x2f2,0x2a6)](_0x4371bc);}else toastr[_0x4b7f22(0x315,0x27b,0x2b5,0x31c)](_0x789494[_0x56e35e(-0x183,-0x142,-0xe0,-0x1d5)]);}if(_0xd8c51d){if(_0x789494[_0x4b7f22(0x371,0x35c,0x244,0x2c2)](_0x56e35e(-0x40,-0xb1,-0x70,-0x140),_0x789494[_0x4b7f22(0x1e5,0x29c,0x1c2,0x274)])){_0x1cdc68=''+_0x4a1e9e[_0x56e35e(-0x143,-0x13a,-0x166,-0x119)][_0x4b7f22(0x380,0x321,0x320,0x39a)];const _0x54ae53=[];if(_0x13809b[_0x56e35e(-0x126,-0x13a,-0x174,-0x97)]['type'])_0x54ae53[_0x56e35e(-0xef,-0x152,-0x200,-0x1da)](_0x56e35e(-0xb9,-0xe5,-0x49,-0x112)+_0x122561[_0x4b7f22(0x2d9,0x33a,0x291,0x2be)]['type']);if(_0x554700[_0x4b7f22(0x2a5,0x298,0x357,0x2be)]['code'])_0x54ae53[_0x56e35e(-0x11c,-0x152,-0xe7,-0xb9)]('代码:\x20'+_0x5c9d7f[_0x4b7f22(0x2a2,0x353,0x262,0x2be)][_0x56e35e(-0x14d,-0xfb,-0x94,-0xaa)]);_0x54ae53[_0x4b7f22(0x361,0x3ed,0x427,0x396)]>0x9d*-0x7+0x88c+-0x441&&(_0x5ebda8+='\x20('+_0x54ae53[_0x4b7f22(0x2d1,0x3e1,0x430,0x37b)](',\x20')+')');}else _0x789494[_0x56e35e(-0x20e,-0x19a,-0x14b,-0xf6)](_0xd8c51d,_0x21dbde);}addLog(_0x56e35e(-0x1c8,-0x183,-0xe0,-0x201)+'\x20回复\x20-----'),addLog(_0x21dbde),_0x789494[_0x56e35e(-0x9f,-0x9d,-0x4f,-0x2d)](addLog,_0x4b7f22(0x26c,0x276,0x309,0x31d)+_0x4b7f22(0x2ea,0x2aa,0x221,0x2c4)),taskQueue[_0x4b7f22(0x333,0x3dc,0x367,0x33a)+'sk'](_0x3e77ea,!![]),llmTaskControllers[_0x4b7f22(0x33d,0x3a8,0x255,0x30b)](_0x3e77ea);const _0x25ebed={};_0x25ebed[_0x4b7f22(0x3d8,0x41a,0x35f,0x367)]=!![],_0x25ebed['result']=_0x21dbde,_0x25ebed['id']=_0x4121dc,eventSource['emit'](eventNames['LLM_EXECUT'+_0x56e35e(-0x26,-0xc2,-0x145,-0x60)],_0x25ebed);}catch(_0xab71a0){if(_0x789494[_0x56e35e(-0x20,-0x8a,-0x20,-0xc1)](_0x789494[_0x56e35e(-0x15b,-0x1c7,-0x1be,-0x1d4)],_0x789494[_0x56e35e(-0x1cf,-0x1c7,-0x10d,-0x25d)])){_0xfc2662=''+_0x1b827e[_0x56e35e(-0x1ed,-0x13a,-0x1aa,-0xf4)][_0x4b7f22(0x355,0x3b7,0x44e,0x39a)];const _0x11a469=[];if(_0x4186ec['error']['type'])_0x11a469[_0x56e35e(-0xf8,-0x152,-0x1ef,-0xe7)](_0x4b7f22(0x334,0x29d,0x28d,0x313)+_0x5f5328['error'][_0x4b7f22(0x22f,0x26b,0x35d,0x2df)]);if(_0x2373d1['error'][_0x56e35e(-0xe3,-0xfb,-0x69,-0x66)])_0x11a469['push'](_0x4b7f22(0x1ea,0x2f8,0x278,0x273)+_0x1ed133[_0x56e35e(-0x1ca,-0x13a,-0x1c3,-0x115)]['code']);_0x789494[_0x4b7f22(0x327,0x2d2,0x32b,0x311)](_0x11a469['length'],-0x1571+0x13d2*-0x1+0x2943)&&(_0x23deef+='\x20('+_0x11a469['join'](',\x20')+')');}else{if(_0x789494[_0x4b7f22(0x30d,0x3af,0x3cc,0x36a)](_0xab71a0[_0x56e35e(-0xbb,-0x176,-0x1ca,-0xbf)],_0x789494[_0x56e35e(-0xe7,-0x189,-0x203,-0x169)])){if(_0x789494[_0x56e35e(-0xf9,-0xfd,-0x49,-0x12b)]!==_0x789494[_0x4b7f22(0x260,0x324,0x2e2,0x2fb)])_0x789494[_0x56e35e(-0x1b,-0xa5,-0x15e,-0x152)](_0x39f250,_0x789494[_0x56e35e(-0x19f,-0x1a4,-0xfa,-0x118)]);else{const _0x21f07f=_0x789494[_0x4b7f22(0x300,0x209,0x2e3,0x284)][_0x56e35e(-0xe0,-0x8f,-0x128,-0x106)]('|');let _0x47f95e=0x9e*-0x3d+-0x7*-0x1af+0x1*0x19dd;while(!![]){switch(_0x21f07f[_0x47f95e++]){case'0':taskQueue[_0x56e35e(-0xbb,-0xa0,-0x93,-0xb1)+'us'](_0x3e77ea,TaskStatus[_0x4b7f22(0x30b,0x324,0x1f4,0x279)]);continue;case'1':_0x31ada8=!![];continue;case'2':llmTaskControllers[_0x4b7f22(0x33b,0x319,0x308,0x30b)](_0x3e77ea);continue;case'3':const _0x310f9b={};_0x310f9b['name']=_0x789494[_0x4b7f22(0x309,0x25b,0x310,0x26f)],_0x310f9b[_0x56e35e(-0x117,-0x5e,-0xa9,-0x65)]='Request\x20ab'+_0x56e35e(-0x17c,-0x188,-0x205,-0x210);const _0x5d9b0f={};_0x5d9b0f['success']=![],_0x5d9b0f[_0x4b7f22(0x2ed,0x2e8,0x2b6,0x301)]=null,_0x5d9b0f['id']=_0x4121dc,_0x5d9b0f[_0x56e35e(-0x1bf,-0x13a,-0x1e8,-0x132)]=_0x310f9b,eventSource[_0x56e35e(-0x23e,-0x1c2,-0x235,-0x240)](eventNames['LLM_EXECUT'+_0x56e35e(-0x162,-0xc2,-0x3e,-0x99)],_0x5d9b0f);continue;case'4':console[_0x56e35e(0x35,-0x67,-0x34,-0x6d)](_0x789494['pFDLj']);continue;case'5':return;}break;}}}console['error'](_0x56e35e(-0x177,-0x1a9,-0x230,-0x1b7)+'e\x20Error:',_0xab71a0);const _0x5ab84e=_0x56e35e(-0x130,-0xc5,-0x148,-0x165)+_0xab71a0[_0x4b7f22(0x36c,0x423,0x3c5,0x39a)];_0xd8c51d&&_0xd8c51d(_0x5ab84e);toastr[_0x56e35e(-0xf2,-0x13a,-0x194,-0x100)](_0xab71a0['message']),taskQueue[_0x4b7f22(0x2a6,0x2bc,0x2f3,0x33a)+'sk'](_0x3e77ea,![]),llmTaskControllers[_0x4b7f22(0x33f,0x28c,0x2f6,0x30b)](_0x3e77ea);const _0x255322={};_0x255322[_0x56e35e(-0x148,-0x91,-0x16,0x26)]=![],_0x255322[_0x4b7f22(0x304,0x34a,0x28a,0x301)]=_0x5ab84e,_0x255322['id']=_0x4121dc,eventSource[_0x4b7f22(0x2d0,0x17d,0x199,0x236)](eventNames[_0x56e35e(-0x155,-0x14d,-0x12c,-0x1fe)+_0x56e35e(-0x4f,-0xc2,-0x43,-0xe1)],_0x255322);}}finally{currentLLMRequestController===_0x166ee7&&(currentLLMRequestController=null),(!_0x31ada8||_0x789494['QmQEi'](currentLLMRequestController,null))&&_0x789494[_0x56e35e(-0xb8,-0x95,-0x7d,-0x143)](stopFabLoading);}}export function createGetPromptHandler(_0x477b63,_0x28aca5){const _0x13f6cf={'gZwXp':'rpkkG','RlxEj':function(_0x359c20,_0x1bb0b6){return _0x359c20(_0x1bb0b6);}};return function(_0x4a4792){function _0x5ebe5a(_0x507df1,_0xf208e4,_0x4b1ba5,_0xe3dc67){return _0x4833(_0xe3dc67- -0xbc,_0xf208e4);}function _0x351575(_0xb69a30,_0x2eca9,_0x2477e8,_0x11a481){return _0x4833(_0x2477e8-0x1ce,_0x11a481);}if(_0x13f6cf['gZwXp']===_0x13f6cf[_0x5ebe5a(0x1d1,0x24b,0x1b9,0x1d3)]){const {id:_0x4f42ac}=_0x4a4792;if(!_0x4f42ac)return;const _0x2c610d=REQUEST_TYPE_NAMES[_0x477b63]||_0x477b63;console[_0x351575(0x567,0x488,0x4c3,0x42b)](_0x351575(0x45b,0x47e,0x3f2,0x426)+'\x20收到'+_0x2c610d+(_0x351575(0x484,0x4cf,0x437,0x4b3)+'D:\x20')+_0x4f42ac+')');const _0x3692e4=_0x13f6cf['RlxEj'](buildPromptForRequestType,_0x477b63),_0x265971={};_0x265971[_0x351575(0x37a,0x411,0x3c4,0x339)]=_0x3692e4,_0x265971['id']=_0x4f42ac,eventSource[_0x351575(0x326,0x32c,0x368,0x2fb)](_0x28aca5,_0x265971);}else _0x27744c[_0x5ebe5a(0x1b3,0x1f5,0x20c,0x1f3)](),_0x2826a1['info']('LLM\x20请求已中止。');};}function _0x4833(_0xcc3876,_0x13c501){_0xcc3876=_0xcc3876-(-0x80d+0x1ec*-0x11+0x72*0x5f);const _0x3071a1=_0x4d9d();let _0x2dc911=_0x3071a1[_0xcc3876];if(_0x4833['XdAmSh']===undefined){var _0x260c93=function(_0x554a8d){const _0x1c4ca1='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x12bce4='',_0x535fa2='',_0x16c57a=_0x12bce4+_0x260c93;for(let _0x540a83=-0x22ff+-0x4*0x84b+0x442b,_0x4f9108,_0x41c2c2,_0x5c821e=0x1021*-0x1+0x3*-0xe9+-0x1*-0x12dc;_0x41c2c2=_0x554a8d['charAt'](_0x5c821e++);~_0x41c2c2&&(_0x4f9108=_0x540a83%(0x185*-0x17+-0x1a03*0x1+0x3cfa)?_0x4f9108*(-0x2*-0x1319+0x1*0x11de+-0x37d0)+_0x41c2c2:_0x41c2c2,_0x540a83++%(0x12f7+-0x87*0x27+-0x2*-0xcf))?_0x12bce4+=_0x16c57a['charCodeAt'](_0x5c821e+(0x1688+-0x412+-0x126c))-(0x3*0x4f7+-0xa45+-0x496)!==0x9d5+0x24c4+-0x2e99*0x1?String['fromCharCode'](0xc42+-0x9*0x109+-0x2*0xf9&_0x4f9108>>(-(0x93*0x3e+0x1*0x1f93+-0x432b)*_0x540a83&0x2*-0xd73+0x6b7+-0x7*-0x2e3)):_0x540a83:-0x1a*-0x10c+0x1bcc+-0x1*0x3704){_0x41c2c2=_0x1c4ca1['indexOf'](_0x41c2c2);}for(let _0x542822=-0xd*0x1cd+0x104+0x1665,_0x5f32ec=_0x12bce4['length'];_0x542822<_0x5f32ec;_0x542822++){_0x535fa2+='%'+('00'+_0x12bce4['charCodeAt'](_0x542822)['toString'](0xd30+0x655*-0x6+0x18de))['slice'](-(0x7bf+0x121+-0x8de));}return decodeURIComponent(_0x535fa2);};_0x4833['fkjFoU']=_0x260c93,_0x4833['yOcINz']={},_0x4833['XdAmSh']=!![];}const _0x42df2c=_0x3071a1[-0x6a7+0x9*0x1ca+-0x973],_0x7d9cd2=_0xcc3876+_0x42df2c,_0x4ccac3=_0x4833['yOcINz'][_0x7d9cd2];if(!_0x4ccac3){const _0x150b4d=function(_0x2f17df){this['kEmiJI']=_0x2f17df,this['yxlguS']=[0x4d1+0xc*-0x1ba+0xfe8,-0x1076+0xd71*-0x1+0x1de7,-0x3b0+0x260e*-0x1+-0x1*-0x29be],this['NsOVeh']=function(){return'newState';},this['KkPIBB']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['DYdyNH']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x150b4d['prototype']['wZYHij']=function(){const _0x59b6df=new RegExp(this['KkPIBB']+this['DYdyNH']),_0x34c9ec=_0x59b6df['test'](this['NsOVeh']['toString']())?--this['yxlguS'][0x1b6f+-0x1*0x1d7f+0x211]:--this['yxlguS'][-0x1ae8+0x35*0x15+0x168f];return this['sCSHLQ'](_0x34c9ec);},_0x150b4d['prototype']['sCSHLQ']=function(_0x44d40c){if(!Boolean(~_0x44d40c))return _0x44d40c;return this['xBqiFZ'](this['kEmiJI']);},_0x150b4d['prototype']['xBqiFZ']=function(_0x44561b){for(let _0x3d44a3=0x226a+0xd86*-0x2+0x17*-0x52,_0x34704c=this['yxlguS']['length'];_0x3d44a3<_0x34704c;_0x3d44a3++){this['yxlguS']['push'](Math['round'](Math['random']())),_0x34704c=this['yxlguS']['length'];}return _0x44561b(this['yxlguS'][0x143d+0x4aa+-0x7d*0x33]);},new _0x150b4d(_0x4833)['wZYHij'](),_0x2dc911=_0x4833['fkjFoU'](_0x2dc911),_0x4833['yOcINz'][_0x7d9cd2]=_0x2dc911;}else _0x2dc911=_0x4ccac3;return _0x2dc911;}export function createExecuteHandler(_0x1edb97,_0x251963,_0x3f51fb=null){const _0x29556c={'jsluH':function(_0x3fe4e4,_0xb66738){return _0x3fe4e4!==_0xb66738;},'AwvQr':_0x170b8d(0x19d,0x109,0xf6,0x123),'OAMlv':_0x170b8d(0x37,0x54,0x83,0xe7),'wRIuZ':function(_0x2ada11){return _0x2ada11();}};function _0x170b8d(_0x4e429b,_0x37c240,_0x5ea828,_0x321175){return _0x462a86(_0x5ea828- -0x476,_0x37c240-0xb0,_0x5ea828-0x188,_0x4e429b);}function _0x1b34be(_0x37698d,_0x10cfbc,_0x453493,_0x145594){return _0x460cf5(_0x37698d-0xad,_0x10cfbc-0x168,_0x10cfbc-0x60,_0x37698d);}return async function(_0x2337b3){function _0x20b5a1(_0x3dfaf2,_0x13ed5a,_0x3dc3f8,_0x3a0cfa){return _0x1b34be(_0x3a0cfa,_0x3dc3f8-0xe2,_0x3dc3f8-0x12b,_0x3a0cfa-0x8a);}function _0x251a50(_0x26aae4,_0x10932c,_0x5e99f7,_0x2748b7){return _0x170b8d(_0x2748b7,_0x10932c-0x134,_0x10932c- -0xd0,_0x2748b7-0x8e);}if(_0x29556c[_0x20b5a1(0x176,0x23b,0x22e,0x1bf)](_0x29556c[_0x251a50(-0x33,-0x1b,0x13,0x48)],_0x29556c[_0x20b5a1(0x300,0x26b,0x2d2,0x2dd)])){const _0x3da1a9=_0x3f51fb?_0x29556c[_0x251a50(-0xcf,-0x2c,-0x29,-0xa9)](_0x3f51fb):null;await executeTypedLLMRequest(_0x2337b3,_0x1edb97,_0x251963,_0x3da1a9);}else _0x2155a4+='\x20('+_0x25c805[_0x251a50(0x1e,0xa1,0x7f,0x4d)](',\x20')+')';};}