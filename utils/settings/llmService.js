(function(_0x32a1a5,_0x34cc84){function _0x7bb033(_0x54ccaf,_0x217345,_0x4278f9,_0x2ca1d6){return _0x1d0f(_0x4278f9- -0x3be,_0x2ca1d6);}function _0x1161b4(_0x1ee16d,_0x54d845,_0x4b3286,_0x3e4338){return _0x1d0f(_0x54d845- -0x2d2,_0x4b3286);}const _0x2d77b2=_0x32a1a5();while(!![]){try{const _0x348fe4=parseInt(_0x1161b4(-0x186,-0x18d,-0x225,-0x1ed))/(-0x220c+-0x9b3*-0x1+-0x40f*-0x6)+parseInt(_0x7bb033(-0x288,-0x26b,-0x30c,-0x392))/(-0x2473*0x1+0x11a5*0x1+0x1*0x12d0)*(parseInt(_0x7bb033(-0x20e,-0x23c,-0x209,-0x18d))/(0x1c05+-0x11f0+0xa12*-0x1))+parseInt(_0x1161b4(-0x14d,-0x1ee,-0x224,-0x18d))/(0x1861+-0x133c*-0x2+-0x3ed5)+-parseInt(_0x7bb033(-0x265,-0x20b,-0x273,-0x237))/(0x12da*0x2+0x68+0x7*-0x571)+parseInt(_0x1161b4(-0x1d3,-0x229,-0x21e,-0x1c3))/(-0x26de+-0x5*0x4cd+-0x9*-0x6fd)*(parseInt(_0x7bb033(-0x25a,-0x272,-0x20d,-0x26a))/(0x2687+-0x1462+0x1*-0x121e))+-parseInt(_0x1161b4(-0xec,-0x160,-0xcf,-0x1e4))/(-0x2*0x11d1+0x18e2+-0x5c*-0x1e)*(-parseInt(_0x7bb033(-0x24e,-0x28e,-0x1ef,-0x1f3))/(-0x16b1+0x11f*-0x17+-0x3083*-0x1))+-parseInt(_0x7bb033(-0x280,-0x257,-0x2a8,-0x2d6))/(0xf8c+-0x1*0x2707+0x1785);if(_0x348fe4===_0x34cc84)break;else _0x2d77b2['push'](_0x2d77b2['shift']());}catch(_0x1fe855){_0x2d77b2['push'](_0x2d77b2['shift']());}}}(_0x4e2a,-0x1*0xd8259+0xa*0x12595+0x30cfd*0x3));const _0x3f1c60=(function(){const _0x451649={};function _0x41589c(_0x3d1aaf,_0x2c473b,_0x56bdf7,_0x23b046){return _0x1d0f(_0x2c473b- -0xf3,_0x23b046);}_0x451649[_0x41589c(0xcf,0xaf,0x127,0x36)]='FdARW',_0x451649[_0x41589c(0x11c,0x8b,-0x1a,0xbc)]='CBhzu';const _0x21ad1b=_0x451649;function _0x3a3caf(_0xf8f1be,_0x4624a8,_0xfc4956,_0x13feb6){return _0x1d0f(_0xfc4956- -0x1b4,_0x4624a8);}let _0x5b6f27=!![];return function(_0x159b45,_0x2c722d){function _0xded598(_0x307254,_0x49db21,_0x3e1f52,_0x162b64){return _0x3a3caf(_0x307254-0x87,_0x307254,_0x49db21-0x3ad,_0x162b64-0xeb);}function _0x8cfa71(_0x3acf90,_0x3f55c7,_0x69c27c,_0x127394){return _0x3a3caf(_0x3acf90-0x14f,_0x3acf90,_0x3f55c7-0xe2,_0x127394-0x15f);}const _0x224051={};_0x224051['pzSYa']=_0x21ad1b[_0x8cfa71(0xc5,0xd0,0x10a,0xc0)];const _0x4a8220=_0x224051;if(_0x8cfa71(0xc1,0xa5,0xb3,0x52)===_0x21ad1b[_0x8cfa71(0x13a,0xac,0xb0,0x88)])_0xb8eb96=''+_0x27dabb[_0x8cfa71(0xc8,0x92,-0xf,0x1)](_0x795782[_0x8cfa71(-0x18,0x4,-0x95,-0x79)]);else{const _0x50af8d=_0x5b6f27?function(){function _0x46acdb(_0x27ceb6,_0xfca17c,_0x3e3541,_0x6dccff){return _0x8cfa71(_0x27ceb6,_0xfca17c-0x258,_0x3e3541-0x1bc,_0x6dccff-0x3e);}function _0x15ad8a(_0x44b503,_0x1b54aa,_0x146ec8,_0x5f5bfc){return _0xded598(_0x44b503,_0x1b54aa-0x192,_0x146ec8-0x48,_0x5f5bfc-0xc);}if(_0x2c722d){if(_0x4a8220[_0x15ad8a(0x422,0x495,0x456,0x46b)]===_0x4a8220[_0x46acdb(0x205,0x290,0x2b7,0x30d)]){const _0x189e63=_0x2c722d['apply'](_0x159b45,arguments);return _0x2c722d=null,_0x189e63;}else _0x5a6beb(_0x35e73e);}}:function(){};return _0x5b6f27=![],_0x50af8d;}};}()),_0x4a35f9=_0x3f1c60(this,function(){function _0x368954(_0x2f1841,_0x9223e7,_0x3f8812,_0x121806){return _0x1d0f(_0x121806- -0x35e,_0x3f8812);}function _0x20d13a(_0x11f9bd,_0x3ec9bb,_0x30501a,_0x10258a){return _0x1d0f(_0x3ec9bb-0x1ca,_0x11f9bd);}const _0x3f6968={};_0x3f6968[_0x368954(-0x1ab,-0x1ef,-0x136,-0x1c2)]=_0x20d13a(0x387,0x2fb,0x30f,0x2e6)+'+$';const _0xa49308=_0x3f6968;return _0x4a35f9['toString']()[_0x20d13a(0x37f,0x2ed,0x378,0x27d)](_0xa49308[_0x368954(-0x216,-0x212,-0x260,-0x1c2)])['toString']()[_0x368954(-0x24f,-0x287,-0x283,-0x249)+'r'](_0x4a35f9)[_0x368954(-0x1e5,-0x205,-0x1b9,-0x23b)](_0xa49308['YVWkE']);});_0x4a35f9();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';let currentLLMRequestController=null;function _0x3eed33(_0x4e87bf,_0x57e9e8,_0x5521f6,_0x27d829){return _0x1d0f(_0x5521f6-0x1d5,_0x57e9e8);}export function getLLMRequestController(){return currentLLMRequestController;}function _0x1d0f(_0x24ecec,_0x56e6dd){_0x24ecec=_0x24ecec-(0x8bd*0x2+0x1f6*0x13+-0x3621);const _0x53a398=_0x4e2a();let _0x4ce3b2=_0x53a398[_0x24ecec];if(_0x1d0f['AfjxLX']===undefined){var _0x50cd1d=function(_0x3b0755){const _0xa123e2='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1bbf6f='',_0x218911='',_0x532e51=_0x1bbf6f+_0x50cd1d;for(let _0x278b0a=-0x17be+-0x2e3*0x7+0x2bf3*0x1,_0x5d0042,_0x1c6a92,_0x4c2caf=-0x117e+-0x9c+0x121a;_0x1c6a92=_0x3b0755['charAt'](_0x4c2caf++);~_0x1c6a92&&(_0x5d0042=_0x278b0a%(-0x1*-0x101+0x619+-0x716)?_0x5d0042*(-0x1f26+0x24c2*-0x1+-0x885*-0x8)+_0x1c6a92:_0x1c6a92,_0x278b0a++%(0x1f4a+0x11fb+-0x3141*0x1))?_0x1bbf6f+=_0x532e51['charCodeAt'](_0x4c2caf+(-0x17*-0x14c+-0x4f1*0x2+-0x13e8))-(-0x88a+0x13*0xe2+-0x419*0x2)!==0x20e3+-0x20a*-0x7+-0x1*0x2f29?String['fromCharCode'](-0x2*-0x126f+0x1a0c+-0x5a1*0xb&_0x5d0042>>(-(-0x21eb+0xcab+-0xaa1*-0x2)*_0x278b0a&-0x1*-0x1bf7+-0x1*-0xcd7+-0x20a*0x14)):_0x278b0a:0x21ef+-0x4a*0x59+-0x835){_0x1c6a92=_0xa123e2['indexOf'](_0x1c6a92);}for(let _0x5b04ad=-0x1aa9+-0x1f4e+0x39f7,_0x1b7c8a=_0x1bbf6f['length'];_0x5b04ad<_0x1b7c8a;_0x5b04ad++){_0x218911+='%'+('00'+_0x1bbf6f['charCodeAt'](_0x5b04ad)['toString'](0x9ae+-0x5*0x251+0x1f7*0x1))['slice'](-(0x2269+-0xdb8+-0x161*0xf));}return decodeURIComponent(_0x218911);};_0x1d0f['GkTifL']=_0x50cd1d,_0x1d0f['ZVCWCh']={},_0x1d0f['AfjxLX']=!![];}const _0x31fe04=_0x53a398[-0x1470+-0x11e3*0x2+0x3836],_0x5b910a=_0x24ecec+_0x31fe04,_0x513020=_0x1d0f['ZVCWCh'][_0x5b910a];if(!_0x513020){const _0x155d2a=function(_0x43ba38){this['fAQpbb']=_0x43ba38,this['XJqHXk']=[-0x12e6*0x2+-0xa*0x2a7+-0x5d9*-0xb,-0x57a+0x1*0xcb5+0x269*-0x3,0x2*0x88a+0xf*-0x1fa+0xc92],this['RZFsbV']=function(){return'newState';},this['UHKDmX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['sxJoPl']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x155d2a['prototype']['fqvqiR']=function(){const _0xc1d93c=new RegExp(this['UHKDmX']+this['sxJoPl']),_0x2ffd27=_0xc1d93c['test'](this['RZFsbV']['toString']())?--this['XJqHXk'][-0x1873+-0x129d+0x3*0xe5b]:--this['XJqHXk'][0x19*0x163+0x6d*0x4f+0x9c2*-0x7];return this['AcMiOU'](_0x2ffd27);},_0x155d2a['prototype']['AcMiOU']=function(_0x4f2d02){if(!Boolean(~_0x4f2d02))return _0x4f2d02;return this['RuHCvx'](this['fAQpbb']);},_0x155d2a['prototype']['RuHCvx']=function(_0x3d321b){for(let _0x4edd20=0x22f4+0xe74+-0x3168,_0x202609=this['XJqHXk']['length'];_0x4edd20<_0x202609;_0x4edd20++){this['XJqHXk']['push'](Math['round'](Math['random']())),_0x202609=this['XJqHXk']['length'];}return _0x3d321b(this['XJqHXk'][0x1243+-0x5a2+-0xca1]);},new _0x155d2a(_0x1d0f)['fqvqiR'](),_0x4ce3b2=_0x1d0f['GkTifL'](_0x4ce3b2),_0x1d0f['ZVCWCh'][_0x5b910a]=_0x4ce3b2;}else _0x4ce3b2=_0x513020;return _0x4ce3b2;}function _0x4e2a(){const _0x5bbe42=['rv9srvnqt05trq','ue9tva','zxj5AMC','6kEs6iMYl+ACJEIJHEs/RUAuUq','wgXzqNK','CM91BMq','DgvZDf9JB250zq','BgXTx3jLCxvLCW','C3rFy29UDgv4Da','DNrWyuO','B2zPBgu','s0jD','EwzRq0i','5y+r6ycb55QeifbYB21WDa','DxnLCG','Bg9N','qvbjifvstcWGqq','wvzxA0u','reDbsLG','A0HAtLm','r0rAr24','AKfVvfG','A2v5CW','yvbssfu','wMTMruK','DhjPz2DLCK1Vza','suHRBeC','DgfNx21VzgLMEq','Bwf0y2G','twPsBu0','DhLWzq','wurHBwm','C2XPy2u','uxjcqxO','DxLSBNe','5Rwl6k+v5QIH5BYp5O+q56s6','BMfTzq','D0rsDMi','mtrOu25SCeq','rLz6Auq','y29Kzq','veLgwMy','mtHiu0Hmqvm','5O+q56s66k+n6i635y+w6k+35RgcicHj','B21WBgv0Aw9UCW','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','Aw5JBhvKzxm','DuvvDuW','zw1PDa','DNPAAKK','yunTwgm','y29UDgv4Df9WCG','tfrwD2i','Bv9WCM9MAwXL','zeHfDNi','Dgv4Da','C2LNBMfS','wuTsEg4','v3Dmt3m','cI0Tls0TieXmtq','B3nJs2u','CgfYC2u','EfjJqxG','se1Ku0m','C3qTy2HHDhu4oG','teXnioIVT+AXGUw3SUs4REATOUoaGG','BhvKzv9OzwfKzq','BgXTx3bYB2zPBa','ouLAAxfIBa','y3vZDg9Tx3vYBa','sMPWAe0','D2rNC1e','sgjHrxK','8j+tTYbB5zU+54Mh6zo+5O6LoIa','yKvSr0q','B2jQzwn0','y0nxtLa','Aw1Hz2vFz2vU','ywvLz1y','ChvZAa','y2HVAwnLCW','u1H4C2y','DvrIueK','teXnigv4zwn1Da','sefpq0i','lcdNUQyG','zw5HyMXLza','tNDqvwO','DNrnCgy','5lUJ56cboIa','Dg9Wx3a','z2v0uMvHzgvY','DgvTCgvYyxr1CG','zgvSDge','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','A2LIuwO','quX3sgC','DhjPBq','6k+35Rgc5AsX6lsLoIa','y2HHCL9KzxnPzW','BvHeuLK','y29UDgv4Da','y3vZDg9Tx2LUyW','AM9PBG','teXnioACQUAuTUwiSoACIEAvIowBNG','z3zVvhe','Aw9UoIaIqMvHCG','yM9KEq','DMveqKG','mtq0mtu0mMjiz1zStW','zM9uAeW','uMvXDwvZDcbHyG','CMvHza','zxrPB25FC291CG','BwL4z3e','z1bWtgW','ALfMseK','zgvJB2rL','mJqYnJH0DgPlyvK','tgTdBva','D2fYBMLUzW','qNf1Bxe','6k+35RgcieLeoIa','q1PNwM8','yxnZAxn0yw50','tK5sEKS','yNvMzMvYktO','yxbPx2TLEq','q2DqBe4','C01LCeW','qwjVCNrfCNjVCG','shz6wLi','C3vJy2vZCW','y1jUyvK','C1D6qLu','A2vgBKW','5Q2J5PAh5zU+54Mh55sF5OIq','BM9ktNi','iowBNUwKJsaTls0Tlq','DhjHBNnSyxrPBW','zgf0ytO','y1vVseC','y3LQDNi','vgPty1m','iefqssblzxKSia','D2fYBG','qxPYu00','oIbbueKGvvjmla','44cq5Rwl6k+v5QIH5BYp44cr','sKn6vgy','DwDuDuy','D1nuwem','u2TOBuS','zNvUy3rPB24','zxjYB3i','wfDHs1q','u29OCLu','AxnbCNjHEq','A2zlBxC','6k+35Rgc5BYa5AElicG','tw9KzwWG5PYQ6ywn572U44cc','Bw9KzwW','DxjS','57g75z6loG','C3rYzwfT','ENjkBuu','EvnzsK0','u2jKBMi','nJa1nJaWCwPMCg9i','5OIwie1VzgvSioACQUMfJq','uxvKAeC','u2PoBvy','zuvhrgW','5Q2J5zYO5Ase55cgia','C3bSAxq','zsbfCNjVCJO','C1f2t3G','Cg9W','suvHAw0','C0LYvxO','z2reDxC','zvLSrxK','rhnPAKG','qLHxvxK','B3vnzuC','l2DLBMvYyxrL','57g75z6loIa','zuPzzu8','teXniev4zwn1Da','pt09pt0GteXnia','C3rHCNrZv2L0Aa','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','qujlwwS','C25IAuG','Bwf4x3rVA2vUCW','ANnVBG','y1b1wem','EMXYz08','tK5vvvi','uMPIA24','y2nsrg0','ALzlv3C','rgL4rKK','6k+35Rgc6zsz6k+VoIa','BwvZC2fNzxm','y3vYCMvUDf9SBa','ChPtwwe','r1jht3a','D3niA1e','AwTIueK','C3rHDhvZ','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','5AEl5PAW6k+35Rgc44cc','EuT1BwG','tvHhDxG','BgXTvgvZDe1Vza','ueXgrvy','y29UC3rYDwn0BW','mta5mZa4odbPtKXxCNi','v0Hgu0W','Dg9Rzw4','oIbmte0G5PYQ5Ps25yIW5PYj','zM9YrwfJAa','AgLZDg9YEq','y2HHCL9TB2rPzG','C3rHDhvZvgv4Da','zwzhy2u','teXnx0vyrunvva','uLfpu2u','u010wvO','uMLst0u','C2vHCMnO','y29UDgvUDa','q1L4DeK','tvP1rxm','wxPXrK0','sen0sxq','yxbPx3vYBa','5Pwi5zUE5Asn44cc','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','57o757UF5O+q56s66k+n','CefNChC','qxv0Ag9YAxPHDa','6kEs6iMYl+ACJEIJHEIUVUIUOq','tePmDxG','kcGOlISPkYKRkq','B3r1v2K','rgHevKm','y2PjD28','DLHvEgS','BMrZl2nOyxqTyW','EwjIuMe','5l2C5BEY6lEZ6l+h44cc','sw5UC0i','BwvZC2fNzq','zhj4D0m','t3rRCLi','DLrgC3i','ChjVBxb0','C3rYAw5N','zsbYzxf1zxn0ia','ue5Jt1G','ywjVCNq','D0XbBeu','ueHwCM8','odu1ndq3sujiqMLv','Df90ExbLx2nVBG','EhrFChjVzMLSzq','Dg9mzeu','B3j0zwq','CMvWBgfJzq','ndCXmdu1vfHXDNvx','zeTSC0u','yxbPx3bYB2zPBa','5lUJ56cboG','vgfN5l+U5Ps5','Aw5MBW','Bhbvq2G','Dw5RBM93BG','Axb2AfK','BgvUz3rO','y3HgDKm','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','BeX6wKC','EvnNuxm','EKv2v2y','Du1Rzwe','C3v3re0','6k+35Rgc5A6m5OIqid09pt09','qvnrA24','sg9mrKu','Aw1Hz2vFDxjS','l2fWAs9IywnRzq','y3vZDg9T','sunRwMy','zerPD2i','C3rYAw5NAwz5','Egnws2q','BeTkqMS','swrTwgK','zw50CMLLCW','re9JzhC','uK9nzfO','zNnAs0K','r2fMuMK','vNrXyvy','ioAuTUwiSa','ANjwy0e','6kEs6iMYl+ACJEIJHEwXLEEKUG','6BUy6k6K6k+35Rgc5BYa5AElid09pq','nZq1mZi4qKnsq2PO','DfzNELm','t0vSCKq','BK5nzNC','D29rEK8','u0rOvK0','A3LgrhG','v29nruW','y2HHDf9JB21WBa','DhjPz2DLCG','vKrduMy','vxrnt3C','D1vHreK','CM9Szq','tKXhvhm','CMvZDwX0','rMPfs0K','vLrfuNK','DhPXBKe','DxrMltG','zLLlAuS','Cvr1t3C','yMLtwLi','zMLNCW','zxiG'];_0x4e2a=function(){return _0x5bbe42;};return _0x4e2a();}export function setLLMRequestController(_0x47f31b){currentLLMRequestController=_0x47f31b;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x7d074d={};function _0x4f5440(_0x109aaa,_0x25f527,_0x5a95f2,_0x3b809a){return _0x1d0f(_0x25f527- -0x2cc,_0x3b809a);}_0x7d074d[_0x283932(0x4f8,0x53c,0x499,0x4f5)]=_0x283932(0x588,0x529,0x59e,0x51d);function _0x283932(_0x50ae07,_0x3cbf08,_0x22364b,_0x35db44){return _0x1d0f(_0x50ae07-0x3bc,_0x35db44);}const _0x540ae9=_0x7d074d;currentLLMRequestController&&(currentLLMRequestController[_0x283932(0x4fe,0x490,0x494,0x57a)](),toastr['info'](_0x540ae9[_0x4f5440(-0x16a,-0x190,-0x1f4,-0x19c)]));}export function isLLMTestMode(){return!!extension_settings[extensionName]['llmTestMod'+'e'];}export function formatPromptForDisplay(_0x3bbfd7){function _0x384209(_0x111352,_0x12a6e2,_0xaf0459,_0xf7cdf1){return _0x1d0f(_0xf7cdf1- -0x3be,_0xaf0459);}const _0xa1be66={'ySgQs':_0x3c12e8(-0x29e,-0x18b,-0x188,-0x22a),'UtMOw':function(_0xc99c9c,_0x135223){return _0xc99c9c(_0x135223);},'mXDRY':function(_0x445be4,_0x4f53df){return _0x445be4===_0x4f53df;},'zEvWf':_0x3c12e8(-0x25c,-0x192,-0x1c0,-0x223),'ALwHg':_0x384209(-0x16b,-0x1ad,-0x1ec,-0x1fc),'wdgsQ':'ocHjy','IAxeX':'RWRSu','XlYBy':'data:','dDiwb':_0x384209(-0x2e9,-0x2b1,-0x23d,-0x26c),'yfkCB':function(_0x23eb42,_0x542a4c){return _0x23eb42/_0x542a4c;},'ABKYk':function(_0xd8402,_0x22f8ab){return _0xd8402*_0x22f8ab;},'LTOGE':function(_0x54df81,_0x4a929e){return _0x54df81!==_0x4a929e;},'jQfHI':_0x3c12e8(-0x150,-0x194,-0x172,-0x15a),'UxKbW':'string','oscKe':_0x384209(-0x368,-0x37d,-0x2e5,-0x314),'NwPUj':function(_0x2e7b2c,_0x419e7d){return _0x2e7b2c===_0x419e7d;},'snbiH':_0x384209(-0x19a,-0x27b,-0x238,-0x219),'ZkfEI':function(_0x500d60,_0x5b8624){return _0x500d60===_0x5b8624;},'suwDM':_0x3c12e8(-0x1ab,-0x77,-0x7a,-0x10c),'cPuXC':function(_0x1d1067,_0x5b3e15){return _0x1d1067(_0x5b3e15);}};function _0x3c12e8(_0x149575,_0x224157,_0x2ba3d4,_0x41e557){return _0x1d0f(_0x41e557- -0x2e2,_0x224157);}if(_0xa1be66['mXDRY'](typeof _0x3bbfd7,_0x3c12e8(-0x213,-0x218,-0x1f1,-0x1a3)))return _0x3bbfd7;if(Array[_0x3c12e8(-0x18d,-0x17d,-0x294,-0x209)](_0x3bbfd7)){if(_0xa1be66[_0x384209(-0x1b9,-0x165,-0x25e,-0x1dc)](_0xa1be66[_0x384209(-0x32e,-0x27c,-0x2b2,-0x2c1)],_0x384209(-0x2b8,-0x203,-0x2bd,-0x219))){const _0x55da3e=[];return _0x3bbfd7[_0x384209(-0x283,-0x318,-0x254,-0x2a4)]((_0x37c2ce,_0x461f74)=>{const _0x5dfd22={'BPfwv':function(_0x5de45f,_0x294e73){function _0x2b1248(_0x1776de,_0x1f53b0,_0x5efb62,_0x2d2bad){return _0x1d0f(_0x2d2bad- -0x168,_0x5efb62);}return _0xa1be66[_0x2b1248(-0x67,0x4,0x16,0x15)](_0x5de45f,_0x294e73);},'HCtIt':function(_0x1010d5,_0x19ea67){return _0xa1be66['mXDRY'](_0x1010d5,_0x19ea67);},'InnsB':_0xa1be66[_0x5358f6(-0x1e4,-0x235,-0x207,-0x173)],'TIFZf':_0xa1be66[_0x5d148b(0x50a,0x410,0x4ca,0x466)],'EOfco':function(_0x2745be,_0x14cbab){function _0x55220d(_0x18fa70,_0x2d7f5c,_0x21384b,_0x482fc0){return _0x5358f6(_0x18fa70-0x636,_0x2d7f5c-0x1de,_0x482fc0,_0x482fc0-0xc2);}return _0xa1be66[_0x55220d(0x399,0x300,0x422,0x41b)](_0x2745be,_0x14cbab);},'vtpaJ':_0xa1be66[_0x5d148b(0x54f,0x62e,0x4fb,0x59c)],'eEGDl':_0xa1be66['IAxeX'],'lYXlV':_0xa1be66[_0x5358f6(-0x1ae,-0x1d9,-0x1f9,-0x119)],'jVKWw':_0xa1be66[_0x5358f6(-0x1da,-0x142,-0x208,-0x27b)],'pyarJ':function(_0x496d3d,_0x7a0ff5){function _0x199fa0(_0x1f9c5e,_0x7cb70c,_0x2a5450,_0x14ed3d){return _0x5d148b(_0x1f9c5e,_0x7cb70c-0x148,_0x2a5450-0x1e5,_0x7cb70c- -0x1e2);}return _0xa1be66[_0x199fa0(0x3c4,0x37f,0x2dc,0x2e7)](_0x496d3d,_0x7a0ff5);},'ldwRc':function(_0x4a8960,_0x35af86){return _0x4a8960/_0x35af86;},'kHZNS':function(_0x3d5c68,_0x1b509e){function _0x4c2628(_0x32a61e,_0x41452c,_0x40f100,_0x2443c7){return _0x5358f6(_0x2443c7-0x3f0,_0x41452c-0x12f,_0x40f100,_0x2443c7-0xd5);}return _0xa1be66[_0x4c2628(0x13f,0x11b,0x155,0x1af)](_0x3d5c68,_0x1b509e);}};function _0x5d148b(_0x2176f1,_0x5d904a,_0x46e9f0,_0x4db4ab){return _0x3c12e8(_0x2176f1-0x32,_0x2176f1,_0x46e9f0-0x146,_0x4db4ab-0x6ac);}function _0x5358f6(_0x1c0a8e,_0x4b07b3,_0x54e86a,_0x43fe08){return _0x384209(_0x1c0a8e-0x122,_0x4b07b3-0xdb,_0x54e86a,_0x1c0a8e-0x81);}if(_0xa1be66['LTOGE']('biSZR',_0xa1be66[_0x5358f6(-0x28d,-0x261,-0x1f2,-0x2e3)])){const _0x3a9cb6={};_0x3a9cb6[_0x5d148b(0x5b0,0x550,0x5b8,0x549)]=_0xa1be66[_0x5d148b(0x5b2,0x540,0x5ae,0x522)],_0x3a9cb6[_0x5358f6(-0x219,-0x191,-0x1ef,-0x29b)]=_0x53bb42['assistant'],_0x2fc970['push'](_0x3a9cb6);}else{const _0x2249e0=_0x37c2ce[_0x5d148b(0x4d1,0x5dc,0x4d9,0x549)]||_0xa1be66[_0x5d148b(0x498,0x57f,0x4bd,0x52d)],_0x3898b7=_0xa1be66[_0x5d148b(0x5d7,0x4e0,0x4aa,0x547)](getRoleLabel,_0x2249e0);_0x55da3e['push'](''+'‚ïê'['repeat'](-0x48a+-0x36f+0x11*0x7b)),_0x55da3e[_0x5d148b(0x63b,0x543,0x5dd,0x5a4)]('„Äê'+_0x3898b7+'„Äë'),_0x55da3e[_0x5358f6(-0x163,-0x1fc,-0xfa,-0xf7)](''+'‚îÄ'['repeat'](0x1*-0x236f+-0x1fab+0x434c));const _0x84a175=_0x37c2ce['content'];if(typeof _0x84a175===_0xa1be66['UxKbW'])_0x55da3e[_0x5358f6(-0x163,-0x1cc,-0x175,-0xd5)](_0x84a175);else{if(Array[_0x5358f6(-0x264,-0x2e3,-0x250,-0x1e1)](_0x84a175)){if(_0xa1be66['mXDRY'](_0xa1be66['oscKe'],_0xa1be66[_0x5d148b(0x5e0,0x5bc,0x61d,0x591)]))_0x84a175['forEach'](_0x428857=>{const _0x327f67={'zuBxQ':function(_0x42abe3,_0x3c44d7){return _0x5dfd22['BPfwv'](_0x42abe3,_0x3c44d7);}};function _0x4297fe(_0x84910,_0x590d3f,_0x5f2794,_0x4d75d0){return _0x5d148b(_0x4d75d0,_0x590d3f-0x112,_0x5f2794-0x3a,_0x84910- -0x501);}function _0x2cc872(_0x27a8fb,_0x509dc7,_0x1bf208,_0x1a16ce){return _0x5358f6(_0x509dc7-0x4cd,_0x509dc7-0xc0,_0x1a16ce,_0x1a16ce-0x1d8);}if(_0x5dfd22[_0x4297fe(-0xf,-0x34,-0x9c,0x2f)](_0x5dfd22[_0x4297fe(0x2,-0x53,-0x68,0x14)],'HvzZR')){if(_0x428857['type']===_0x5dfd22[_0x2cc872(0x3ba,0x344,0x374,0x2ad)])_0x55da3e[_0x4297fe(0xa3,0x13a,0x48,0xbb)](_0x428857['text']||'');else{if(_0x428857[_0x2cc872(0x315,0x339,0x2a1,0x2b7)]===_0x2cc872(0x291,0x2ef,0x25d,0x33e)){if(_0x5dfd22['EOfco'](_0x5dfd22[_0x4297fe(0x5d,0x46,0x1f,-0x3f)],_0x5dfd22[_0x4297fe(-0x4f,-0x88,-0x7b,-0x75)]))_0x523486+='\x20('+_0x227551[_0x2cc872(0x1e4,0x233,0x2c5,0x216)](',\x20')+')';else{const _0x483aff=_0x428857[_0x4297fe(0x28,0x19,0x31,0x70)]?.[_0x2cc872(0x26e,0x26e,0x2f1,0x228)]||'';if(_0x483aff[_0x2cc872(0x1e8,0x28a,0x308,0x31f)](_0x5dfd22['lYXlV'])){const _0xec2731=_0x483aff['match'](/^data:([^;]+);/),_0x1be253=_0xec2731?_0xec2731[-0x21c5+0x701*0x1+0x1ac5]:_0x5dfd22[_0x2cc872(0x2c7,0x295,0x272,0x1f7)],_0x2d6900=_0x483aff[_0x4297fe(-0x4d,0xa,0x23,-0x38)](',')[-0x1f*0x123+-0x72e+0x2a6c]||'',_0xf1d0b3=Math[_0x4297fe(0x59,0xf6,-0x22,0x20)](_0x5dfd22['pyarJ'](_0x5dfd22['ldwRc'](_0x5dfd22[_0x4297fe(0x67,0xd,-0x21,0x97)](_0x2d6900[_0x4297fe(0x1d,0x71,0x79,0x10)],0x2122+0x269*-0x6+-0x12a9),0x48f+-0x6*0x81+-0x1*0x185),0x63*-0x35+0x1d*0x5b+0xe3*0x10));_0x55da3e[_0x2cc872(0x36c,0x36a,0x2df,0x3cf)](_0x2cc872(0x2c1,0x29f,0x2ae,0x30b)+':\x20'+_0x1be253+_0x4297fe(0xa9,0x5b,0x135,0xde)+_0xf1d0b3+_0x4297fe(0x5f,-0x2,0x33,-0x39));}else _0x55da3e[_0x4297fe(0xa3,0xfe,0xdd,0xa1)]('üì∑\x20[ÂõæÁâáÈìæÊé•:\x20'+_0x483aff+']');}}}}else _0x327f67['zuBxQ'](_0x42f322,_0x1029b2);});else{const _0x1482dd=_0x183b23[_0x5d148b(0x4c6,0x3f2,0x4d4,0x467)]()[_0x5358f6(-0x192,-0xea,-0x226,-0x1f1)](-0xb95+-0x3b*0x88+0x897*0x5),_0x411e04=_0x4f15b2[_0x5d148b(0x58e,0x62e,0x4fa,0x592)](_0x1482dd),_0x23c070=_0x411e04['choices']?.[0x7a*0x3e+-0xb2*-0x34+-0x41b4]?.['delta']?.['content'];_0x23c070&&(_0x4460c2+=_0x23c070,_0x3b50c2&&_0xa1be66[_0x5358f6(-0x1c0,-0x16f,-0x134,-0x236)](_0x28bc1b,_0x18abff));}}}_0x55da3e['push']('');}}),_0x55da3e[_0x3c12e8(-0x2d1,-0x24b,-0x24c,-0x23f)]('\x0a');}else return;}if(_0xa1be66[_0x3c12e8(-0x13c,-0x11c,-0x116,-0x13f)](typeof _0x3bbfd7,_0xa1be66[_0x384209(-0x284,-0x27f,-0x25f,-0x263)])&&_0xa1be66['LTOGE'](_0x3bbfd7,null))return JSON['stringify'](_0x3bbfd7,null,0x2538+0x2472+-0x49a8);return _0xa1be66[_0x3c12e8(-0x26b,-0x1f7,-0x1f1,-0x1e2)](String,_0x3bbfd7);}export function getRoleLabel(_0x5c3a65){const _0x21cd6d={};function _0x40e314(_0x2612da,_0x186be1,_0x5dbb1b,_0x4c43e4){return _0x1d0f(_0x186be1- -0x335,_0x4c43e4);}_0x21cd6d[_0x40e314(-0x1c7,-0x1f4,-0x15a,-0x209)]=_0x40e314(-0x202,-0x209,-0x16c,-0x1d8);const _0x262e4f=_0x21cd6d,_0x1e9352={};_0x1e9352['system']=_0x262e4f[_0x52e0d4(-0x17e,-0x2c2,-0x221,-0x19d)],_0x1e9352[_0x40e314(-0x174,-0x19c,-0x139,-0x12b)]='Áî®Êà∑',_0x1e9352[_0x40e314(-0x258,-0x27d,-0x228,-0x2a7)]='AIÂä©Êâã',_0x1e9352[_0x52e0d4(-0x257,-0x281,-0x28d,-0x302)]='ÂáΩÊï∞Ë∞ÉÁî®',_0x1e9352['tool']='Â∑•ÂÖ∑';function _0x52e0d4(_0x1876f9,_0x2852ad,_0x4457d9,_0x502cfc){return _0x1d0f(_0x4457d9- -0x362,_0x2852ad);}const _0x1d211e=_0x1e9352;return _0x1d211e[_0x5c3a65]||_0x5c3a65;}export function getCurrentLLMProfile(){function _0x1afb1f(_0x5798df,_0x397fd3,_0x58b416,_0x309cef){return _0x1d0f(_0x58b416- -0x165,_0x397fd3);}const _0x24f801=extension_settings[extensionName][_0x105ba5(0x62,-0xb7,0x1f,-0x2e)+'es']||{},_0x4068a7=extension_settings[extensionName][_0x105ba5(-0xe5,-0x197,-0x53,-0xf3)+_0x105ba5(-0x39,0x18,-0x75,-0x3c)];function _0x105ba5(_0x649eb7,_0x2714f9,_0x45f013,_0x9ebebe){return _0x1d0f(_0x9ebebe- -0x1fc,_0x649eb7);}return _0x24f801[_0x4068a7]||_0x24f801[Object['keys'](_0x24f801)[-0x1*0x1d8d+-0x1ddf+0x3b6c]]||{};}export function getCurrentTestContext(){const _0xfc2622=extension_settings[extensionName]['test_conte'+'xt_profile'+'s']||{};function _0x450bb4(_0x252c1f,_0x19e4e3,_0x4856da,_0xf42042){return _0x1d0f(_0x19e4e3- -0x1d,_0x4856da);}const _0x41f4fd=extension_settings[extensionName]['current_te'+_0x25153c(0x453,0x412,0x3ee,0x46a)+'_profile'];function _0x25153c(_0x39f465,_0x284da3,_0x4dfb5a,_0x1f86f4){return _0x1d0f(_0x4dfb5a-0x25b,_0x284da3);}return _0xfc2622[_0x41f4fd]||_0xfc2622[Object[_0x25153c(0x419,0x441,0x3fc,0x41b)](_0xfc2622)[0x3*-0x8fe+-0x2288+-0x1ec1*-0x2]]||{};}export function getEffectiveConfigForRequestType(_0x3a0665){const _0x4807b5=extension_settings[extensionName][_0x55084e(-0xde,-0x1f2,-0x157,-0x155)+_0x55084e(-0x11d,-0x21f,-0x1ef,-0x1a1)+_0x3c514f(0x1ff,0x218,0x16b,0x248)]||{},_0x346752={};_0x346752[_0x55084e(-0x1d7,-0x1ee,-0x152,-0x19a)+'e']='ÈªòËÆ§',_0x346752['context_pr'+'ofile']='ÈªòËÆ§';const _0x4d060c=_0x4807b5[_0x3a0665]||_0x346752,_0x33a8a5=extension_settings[extensionName][_0x3c514f(0x244,0x200,0x1a2,0x2e5)+'es']||{},_0x3e9513=extension_settings[extensionName][_0x55084e(-0x131,-0x1f3,-0x117,-0x156)+_0x55084e(-0x1b4,-0x1e3,-0x11c,-0x1a0)+'s']||{},_0xf4c6a=_0x4d060c[_0x55084e(-0x12f,-0x14c,-0x240,-0x19a)+'e']||'ÈªòËÆ§';function _0x3c514f(_0x594023,_0x6294cf,_0x4398d9,_0x4d26ed){return _0x1d0f(_0x594023-0x76,_0x4398d9);}const _0xac19c5=_0x33a8a5[_0xf4c6a]||_0x33a8a5[Object[_0x55084e(-0x122,-0xdb,-0xbc,-0x146)](_0x33a8a5)[-0x31*-0x2b+-0x255b+0x1d20]]||{},_0x4a3eb2=_0x4d060c[_0x3c514f(0x234,0x2d2,0x1a1,0x2a4)+_0x55084e(-0xb6,-0x11f,-0xe5,-0x152)]||'ÈªòËÆ§';function _0x55084e(_0xd89e12,_0x3563bd,_0x4f1d31,_0x35f15b){return _0x1d0f(_0x35f15b- -0x2e7,_0xd89e12);}const _0x48bb81=_0x3e9513[_0x4a3eb2]||_0x3e9513[Object[_0x3c514f(0x217,0x2aa,0x281,0x222)](_0x3e9513)[-0x1099*0x1+0x7*-0x33a+0x272f]]||{},_0x275c83={};return _0x275c83['api_url']=_0xac19c5[_0x55084e(-0x23d,-0x1a0,-0x236,-0x1be)]||'',_0x275c83[_0x55084e(-0x1ac,-0x2b8,-0x2ae,-0x22c)]=_0xac19c5[_0x3c514f(0x131,0xf8,0xd7,0xb6)]||'',_0x275c83[_0x55084e(-0x193,-0x168,-0x207,-0x20a)]=_0xac19c5[_0x55084e(-0x189,-0x169,-0x213,-0x20a)]||'',_0x275c83[_0x3c514f(0x25d,0x22b,0x233,0x25a)+'e']=_0xac19c5[_0x3c514f(0x25d,0x22c,0x296,0x239)+'e']??-0x6*0x47f+0x1*0x13cd+-0xb*-0xa7+0.7,_0x275c83['top_p']=_0xac19c5['top_p']??-0x16c5+0x1aae+-0x1*0x3e8,_0x275c83[_0x3c514f(0x174,0x1d6,0x204,0x1f3)]=_0xac19c5[_0x3c514f(0x174,0x19b,0x100,0xf6)]??-0x435+0x1*0x1577+-0x1b2*0x9,_0x275c83[_0x3c514f(0x156,0x148,0x13d,0x13a)]=_0xac19c5['stream']??![],_0x275c83[_0x3c514f(0x117,0x159,0x102,0xf8)]=_0x48bb81,_0x275c83;}export function buildPromptForRequestType(_0x36da44,_0x1990e8=''){const _0x5bc3c2={'vTFsr':function(_0x2d87cf,_0xe5c823){return _0x2d87cf===_0xe5c823;},'PLFEV':function(_0x442643,_0x356182){return _0x442643===_0x356182;},'sQvOx':_0x12df79(0x490,0x463,0x46a,0x3d0),'NNRzK':function(_0x41f6e1,_0x58d4ef,_0x111a5c){return _0x41f6e1(_0x58d4ef,_0x111a5c);},'eYlEy':_0x12df79(0x479,0x481,0x44b,0x4e3),'VtqaV':function(_0xed889b,_0x1ea0f9){return _0xed889b!==_0x1ea0f9;},'lLzZG':_0x12df79(0x3f1,0x3b6,0x387,0x45a),'SjNmV':'Clnrv','PHVro':'assistant','VDCRf':function(_0x20663c,_0x5d7e32){return _0x20663c(_0x5d7e32);},'gPpLl':function(_0x442dc1,_0x5cce99){return _0x442dc1(_0x5cce99);}};function _0x12df79(_0x3b0df1,_0x4fe663,_0x11af87,_0x57a285){return _0x1d0f(_0x4fe663-0x2e8,_0x3b0df1);}const _0x396bdb=extension_settings[extensionName]['llm_reques'+'t_type_con'+_0x12df79(0x496,0x471,0x452,0x490)]||{},_0x570d9b={};_0x570d9b['context_pr'+_0x27c030(-0x147,-0xf5,-0xc1,-0xc5)]='ÈªòËÆ§';const _0x11d108=_0x396bdb[_0x36da44]||_0x570d9b,_0x5f231b=_0x11d108[_0x12df79(0x404,0x4a6,0x51a,0x4b7)+_0x12df79(0x410,0x47d,0x4a5,0x51d)]||'ÈªòËÆ§',_0x1a5ded=extension_settings[extensionName]['test_conte'+_0x12df79(0x450,0x42f,0x399,0x3fb)+'s']||{},_0x208770=_0x1a5ded[_0x5f231b]||_0x1a5ded[Object[_0x27c030(-0x13b,-0x1af,-0xad,-0x1d2)](_0x1a5ded)[0xdc6*-0x2+0x12c8*-0x2+0x411c]]||{},_0x4f519c=[];function _0x27c030(_0x26bf4b,_0x5b4eac,_0x451bbe,_0x1f847a){return _0x1d0f(_0x26bf4b- -0x2dc,_0x451bbe);}if(_0x208770[_0x12df79(0x4f0,0x450,0x45d,0x49e)]&&Array[_0x12df79(0x346,0x3c1,0x41a,0x41b)](_0x208770[_0x27c030(-0x174,-0xdf,-0x14e,-0x161)]))_0x208770[_0x12df79(0x445,0x450,0x40e,0x4e6)]['forEach'](_0x1ba027=>{if(!_0x1ba027[_0x430e0c(0xcb,0x47,0xc2,0x104)])return;if(!_0x1ba027[_0x430e0c(0x42,0x50,0x5,0x26)]||_0x5bc3c2[_0x430e0c(0x88,0x88,0x1e,-0x5)](_0x1ba027['content']['trim'](),''))return;if(_0x5bc3c2[_0x101621(0x451,0x423,0x3d1,0x43a)](_0x1ba027[_0x101621(0x43f,0x4c4,0x539,0x4ca)+'e'],_0x5bc3c2[_0x101621(0x381,0x3e8,0x3da,0x412)])){if(!_0x1990e8||!_0x5bc3c2[_0x101621(0x39a,0x446,0x44b,0x3df)](checkTriggerWords,_0x1ba027['triggerWor'+'ds'],_0x1990e8))return;}function _0x430e0c(_0x56bae2,_0x2a5f4b,_0x1a9013,_0x29c86f){return _0x12df79(_0x2a5f4b,_0x1a9013- -0x407,_0x1a9013-0x5b,_0x29c86f-0x19f);}function _0x101621(_0x36f9e6,_0x3e9099,_0x3dcd43,_0x51c6c3){return _0x12df79(_0x3e9099,_0x51c6c3-0x3e,_0x3dcd43-0x58,_0x51c6c3-0xdc);}const _0x2eddb2={};_0x2eddb2[_0x430e0c(0x62,0x94,0x60,0x1d)]=_0x1ba027[_0x101621(0x410,0x4cb,0x43c,0x4a5)]||_0x5bc3c2[_0x101621(0x49c,0x3a4,0x393,0x417)],_0x2eddb2['content']=_0x1ba027[_0x430e0c(-0x35,-0x81,0x5,0x32)],_0x4f519c[_0x101621(0x55e,0x51b,0x470,0x500)](_0x2eddb2);});else _0x208770['history']&&Array['isArray'](_0x208770[_0x12df79(0x3f2,0x403,0x42a,0x466)])&&_0x208770['history'][_0x27c030(-0x1c2,-0x185,-0x200,-0x20f)](_0x1b1eca=>{function _0x1e40dd(_0x52ee1c,_0x125f27,_0x4e0b12,_0xcd7f94){return _0x27c030(_0x4e0b12-0x12f,_0x125f27-0x2,_0x52ee1c,_0xcd7f94-0x143);}const _0x932dcd={'kyFDx':function(_0x3d6f79,_0x415aba){return _0x3d6f79(_0x415aba);}};function _0x48c260(_0x3d8303,_0xeb5cb1,_0x2455a8,_0x58c83f){return _0x12df79(_0x3d8303,_0x58c83f- -0x69d,_0x2455a8-0x15d,_0x58c83f-0x109);}if(_0x1b1eca[_0x48c260(-0x290,-0x19e,-0x1fa,-0x21c)]&&_0x1b1eca['user'][_0x1e40dd(-0xdb,-0xcc,-0x110,-0x133)]()!==''){const _0xcbe1a9={};_0xcbe1a9[_0x48c260(-0x241,-0x24f,-0x19e,-0x236)]=_0x48c260(-0x24a,-0x1bf,-0x220,-0x21c),_0xcbe1a9[_0x1e40dd(-0x7a,-0x30,-0x89,-0xf0)]=_0x1b1eca['user'],_0x4f519c[_0x48c260(-0x160,-0x1b5,-0x1da,-0x1db)](_0xcbe1a9);}if(_0x1b1eca[_0x1e40dd(-0x9b,-0x7d,-0xf5,-0xee)]&&_0x5bc3c2[_0x1e40dd(0x5c,-0x4,-0x40,-0x14)](_0x1b1eca['assistant'][_0x48c260(-0x2bc,-0x346,-0x2db,-0x318)](),'')){if(_0x5bc3c2[_0x1e40dd(-0x9a,0x27,-0x56,-0xbe)]!==_0x5bc3c2[_0x48c260(-0x33b,-0x33b,-0x2b9,-0x2ce)]){const _0x4760a5={};_0x4760a5[_0x1e40dd(-0xc5,0x71,-0x2e,0x14)]=_0x5bc3c2[_0x1e40dd(-0x8c,-0x8b,-0x69,-0x44)],_0x4760a5[_0x48c260(-0x244,-0x20c,-0x214,-0x291)]=_0x1b1eca[_0x1e40dd(-0x171,-0x9e,-0xf5,-0xf2)],_0x4f519c[_0x48c260(-0x17f,-0x1d6,-0x23a,-0x1db)](_0x4760a5);}else{const {id:_0xb36500}=_0xa37e07;if(!_0xb36500)return;const _0x551185=_0x36d141[_0x565e25]||_0x4cb930;_0x170775['log'](_0x48c260(-0x23e,-0x239,-0x231,-0x1ea)+'\x20Êî∂Âà∞'+_0x551185+(_0x1e40dd(-0x4a,0x2c,0x9,0x44)+'D:\x20')+_0xb36500+')');const _0x2802f2=_0x932dcd[_0x1e40dd(-0x46,0x35,-0x35,-0x4f)](_0x4866da,_0x3091f4),_0x533387={};_0x533387[_0x1e40dd(-0xc4,-0xf2,-0x6f,-0x114)]=_0x2802f2,_0x533387['id']=_0xb36500,_0x15f9ac[_0x48c260(-0x1f0,-0x1b0,-0x23f,-0x1fa)](_0x528e27,_0x533387);}}});const _0x31cac2=_0x5bc3c2[_0x12df79(0x3c4,0x464,0x4e9,0x4f8)](mergeAdjacentMessages,_0x4f519c),_0x329586=_0x5bc3c2[_0x12df79(0x3d8,0x397,0x357,0x38c)](processRollPlaceholders,_0x31cac2);return _0x329586;}const _0x517379={};function _0x7aec0(_0x6803e9,_0x154759,_0x1446ea,_0x244327){return _0x1d0f(_0x6803e9-0x266,_0x244327);}_0x517379[_0x7aec0(0x43e,0x44e,0x4e2,0x49f)]=_0x7aec0(0x32a,0x36f,0x37d,0x3cf),_0x517379[_0x7aec0(0x305,0x32b,0x298,0x29c)+'n']=_0x3eed33(0x395,0x3a4,0x304,0x268),_0x517379['char_displ'+'ay']=_0x3eed33(0x2da,0x30f,0x345,0x2c1),_0x517379[_0x3eed33(0x2a0,0x2ee,0x2f1,0x34b)+'y']=_0x7aec0(0x3f4,0x3fb,0x477,0x360),_0x517379[_0x7aec0(0x32d,0x2d7,0x2df,0x3d1)+'n']='ÁøªËØë',_0x517379[_0x3eed33(0x2e8,0x40e,0x37b,0x3b6)]=_0x3eed33(0x312,0x282,0x324,0x344);const REQUEST_TYPE_NAMES=_0x517379;export async function executeTypedLLMRequest(_0x3d7b52,_0x3f8914,_0x2682de,_0x12a816=null){const _0x2f9306={'OElrD':function(_0x5f00b9,_0x3cee25){return _0x5f00b9===_0x3cee25;},'jAoTX':_0x562b65(-0x156,-0x1ed,-0x164,-0x20f),'keFnL':'LLM\x20Execut'+_0x562b65(-0x171,-0x1c0,-0x1cb,-0x156),'cCWNP':function(_0x5cdaef,_0xb1275b){return _0x5cdaef(_0xb1275b);},'YKRxn':_0x47f085(-0x184,-0x9d,-0x13a,-0xd3),'fsZKI':'unknown','Bqumq':function(_0x69ec87,_0x1f8038){return _0x69ec87/_0x1f8038;},'IdmXi':function(_0xcd3671,_0x3d21c3){return _0xcd3671*_0x3d21c3;},'SXxsf':_0x562b65(-0xe7,-0x180,-0x1e8,-0x123),'gvoTq':function(_0x45de33){return _0x45de33();},'xRcAx':_0x47f085(-0x20b,-0x1e5,-0x16b,-0xdc)+'PI\x20Key,\x20Êàñ\x20'+_0x47f085(-0x287,-0x18c,-0x22a,-0x1ff),'jrVcA':function(_0x2c28e4,_0x5800fb){return _0x2c28e4(_0x5800fb);},'SohrU':function(_0xec22c4,_0x53d16d){return _0xec22c4||_0x53d16d;},'vtMpf':_0x562b65(-0xb6,-0xc2,-0x15d,-0x12a)+_0x47f085(-0x158,-0x150,-0x1f6,-0x291),'LJLux':_0x562b65(-0x140,-0x14b,-0x19b,-0x197)+_0x562b65(-0x14c,-0x175,-0x201,-0x193)+_0x47f085(-0xe6,-0x1c1,-0x14f,-0x194)+_0x562b65(-0x115,-0x1b6,-0x161,-0x224),'cyjvr':function(_0x5e1acf,_0x282f90){return _0x5e1acf!==_0x282f90;},'RQOSe':_0x47f085(-0x1d0,-0x2cd,-0x245,-0x1ff),'YzqFM':'custom','dKlsE':function(_0x5f126e,_0x490c16,_0x3b0410){return _0x5f126e(_0x490c16,_0x3b0410);},'HLaqD':_0x47f085(-0xe3,-0x1b7,-0x17a,-0xe8),'QudhG':'lgBYe','fYKiK':_0x47f085(-0x199,-0x1e8,-0x1c3,-0x20e),'MZuEs':_0x562b65(-0x162,-0xe1,-0xb4,-0x148),'KVxPi':_0x47f085(-0x9b,-0xf6,-0x130,-0x19a),'xcVKd':'zSMRr','tzqnA':_0x47f085(-0x214,-0x1da,-0x1f4,-0x221),'qksMj':function(_0x2d9e62,_0x1491de){return _0x2d9e62>_0x1491de;},'RiROE':function(_0x6cb422,_0x553681){return _0x6cb422!==_0x553681;},'kYmxg':_0x562b65(-0x9d,-0xff,-0x19f,-0xbc),'lKJBk':'PzfdV','wsHkQ':_0x562b65(-0x1a4,-0x1cc,-0x16d,-0x1a3),'DixFI':function(_0x3abd68,_0x1de248){return _0x3abd68!==_0x1de248;},'cUoHG':_0x562b65(-0x1c2,-0x1b4,-0x12e,-0x207),'BXWUy':'data:\x20[DON'+'E]','kfKmw':'data:\x20','ikbPI':'cIJNc','CgPlN':_0x47f085(-0x1b8,-0x1cd,-0x258,-0x23b),'uylnq':function(_0x64c9da,_0x5e2e7e){return _0x64c9da===_0x5e2e7e;},'ySYJM':_0x47f085(-0x17d,-0x16a,-0x1b5,-0x169),'aeegV':_0x47f085(-0x19c,-0x16a,-0x1e1,-0x278),'WHFSL':function(_0x327254,_0x4939ea){return _0x327254(_0x4939ea);},'sMepL':'rZTkO','QRIQh':'vmRBr','woQzO':_0x562b65(-0x197,-0x10e,-0xd0,-0x188),'VTERy':_0x562b65(-0x115,-0xce,-0x11c,-0xc1),'ktqJo':_0x47f085(-0x12e,-0x1c3,-0x1d2,-0x18e),'jFMAS':_0x47f085(-0x11e,-0x1c6,-0x1b0,-0x1d0)+_0x47f085(-0x1de,-0x2b4,-0x24c,-0x230),'uMkea':_0x562b65(-0x201,-0x1b0,-0x172,-0x180),'tVgzS':function(_0x1e0729,_0x500675){return _0x1e0729!==_0x500675;},'HbaEy':_0x562b65(-0x22d,-0x1ca,-0x174,-0x190),'DsijH':function(_0x32b266,_0x165eb3){return _0x32b266!==_0x165eb3;},'wDRvb':_0x47f085(-0x130,-0x1c0,-0x19c,-0x14a),'FVziD':function(_0x295ae4,_0x2fdc3b){return _0x295ae4===_0x2fdc3b;},'JZjTW':_0x47f085(-0x16a,-0x118,-0x1b3,-0x21f),'zciQR':_0x47f085(-0x278,-0x2df,-0x26b,-0x2a8),'bElGD':function(_0xedb948,_0x3fd626){return _0xedb948(_0x3fd626);},'NNUUR':function(_0x215cc5,_0x5c265d){return _0x215cc5!==_0x5c265d;},'uloTx':_0x47f085(-0xff,-0x17a,-0x1a4,-0x200),'drxwC':_0x562b65(-0xe4,-0x17e,-0x11e,-0x1a8),'HAOCB':_0x562b65(-0x11c,-0xfd,-0x102,-0x139),'veDBH':function(_0x15a262,_0x1fec96){return _0x15a262!==_0x1fec96;},'nNMfw':_0x562b65(-0xdd,-0x132,-0x102,-0x14e),'Rjbkn':'Request\x20ab'+_0x562b65(-0x135,-0x162,-0xf8,-0x1a3),'vzZjI':_0x562b65(-0x1c2,-0x1e6,-0x242,-0x263),'SkhmK':function(_0xe10c20,_0x26019a){return _0xe10c20(_0x26019a);},'zlrgO':function(_0x1ae6e9){return _0x1ae6e9();}},{prompt:_0x48569d,id:_0x3d0ceb}=_0x3d7b52;if(_0x2f9306[_0x562b65(-0x267,-0x1d3,-0x171,-0x1b1)](!_0x3d0ceb,!_0x48569d))return;currentLLMRequestController&&(currentLLMRequestController[_0x47f085(-0x260,-0x197,-0x1c4,-0x253)](),toastr[_0x47f085(-0x132,-0x1a5,-0x1b6,-0x220)](_0x2f9306[_0x562b65(-0xf1,-0xc8,-0xb4,-0x12c)]));currentLLMRequestController=new AbortController();const _0x20c16c=currentLLMRequestController[_0x47f085(-0x9b,-0x105,-0x143,-0x1cc)];startFabLoading();const _0x3d9cb7=REQUEST_TYPE_NAMES[_0x3f8914]||_0x3f8914;_0x2f9306[_0x562b65(-0x20d,-0x206,-0x1d3,-0x230)](clearLog),_0x2f9306[_0x47f085(-0x145,-0x15e,-0x197,-0x1ce)](addLog,_0x47f085(-0x288,-0x253,-0x20d,-0x21b)+_0x47f085(-0x239,-0x1fe,-0x22b,-0x1ce)+_0x3d9cb7+')\x20====='),_0x2f9306['cCWNP'](addLog,'ËØ∑Ê±Ç\x20ID:\x20'+_0x3d0ceb),_0x2f9306[_0x562b65(-0x1cb,-0x13c,-0x130,-0x167)](addLog,_0x562b65(-0xb4,-0x113,-0xa0,-0x132)+':'),_0x2f9306[_0x562b65(-0x14d,-0x13c,-0x17f,-0x1b8)](addLog,formatPromptForDisplay(_0x48569d));function _0x47f085(_0x236b52,_0x22a3cb,_0xa809d9,_0x40c878){return _0x7aec0(_0xa809d9- -0x56c,_0x22a3cb-0x1d6,_0xa809d9-0xd6,_0x40c878);}const _0x39ea1d=_0x2f9306['cCWNP'](getEffectiveConfigForRequestType,_0x3f8914),{api_url:_0x2aa7d0,api_key:_0x4a2752,model:_0x14e02f,temperature:_0x444848,top_p:_0x330cd9,max_tokens:_0x23cc30,stream:_0x48145b}=_0x39ea1d;function _0x562b65(_0x1fa438,_0x4ffeb7,_0x1f0023,_0x30c025){return _0x3eed33(_0x1fa438-0x98,_0x1fa438,_0x4ffeb7- -0x480,_0x30c025-0x35);}if(_0x2f9306[_0x47f085(-0x18a,-0x1f2,-0x22e,-0x1a1)](!_0x2aa7d0,!_0x4a2752)||!_0x14e02f){const _0x178f9d=_0x3d9cb7+(_0x562b65(-0x1bb,-0x1dc,-0x13a,-0x1f1)+_0x562b65(-0x13d,-0x1df,-0x27b,-0x163)+_0x562b65(-0x16c,-0x1c6,-0x26c,-0x253)+'ÁΩÆ„ÄÇ');toastr[_0x562b65(-0x1db,-0x1d5,-0x13e,-0x27d)](_0x178f9d);const _0x4e4254={};_0x4e4254[_0x562b65(-0x208,-0x1eb,-0x28c,-0x1d0)]=![],_0x4e4254[_0x562b65(-0x1b1,-0x12a,-0xb2,-0x13c)]=_0x178f9d,_0x4e4254['id']=_0x3d0ceb,eventSource[_0x562b65(-0xd3,-0xf0,-0xc6,-0xcb)](_0x2682de,_0x4e4254);return;}const _0x4c9da=_0x2f9306[_0x47f085(-0x1a4,-0x14c,-0x1d6,-0x259)],_0x3c82c6=_0x2aa7d0[_0x562b65(-0xff,-0x161,-0x11e,-0xcf)](/\/$/,'');_0x12a816&&_0x12a816(_0x47f085(-0x238,-0x276,-0x21d,-0x225)+_0x3d9cb7+_0x562b65(-0x116,-0xf3,-0x115,-0x4e));try{if(_0x2f9306[_0x562b65(-0x217,-0x1e1,-0x172,-0x239)](_0x2f9306[_0x562b65(-0x1ae,-0x18b,-0x120,-0xf3)],_0x47f085(-0x295,-0x22d,-0x245,-0x221))){const _0x17899a=_0x25095d[_0x1753c0][_0x562b65(-0x144,-0x11a,-0xd1,-0x155)+'xt_profile'+'s']||{},_0x2ca708=_0x45f9b1[_0x28cfe5]['current_te'+_0x47f085(-0x1b4,-0xd7,-0x173,-0x1e3)+'_profile'];return _0x17899a[_0x2ca708]||_0x17899a[_0x11078e[_0x562b65(-0x9f,-0x10a,-0xcb,-0x142)](_0x17899a)[0x2164+0x1933+-0x3a97]]||{};}else{const _0x15e628={};_0x15e628[_0x47f085(-0x21b,-0x233,-0x18c,-0x169)+_0x47f085(-0x2ef,-0x1ec,-0x259,-0x237)+'ce']=_0x2f9306[_0x47f085(-0x249,-0x24d,-0x1df,-0x1b8)],_0x15e628[_0x562b65(-0x118,-0xdb,-0x92,-0x113)]=_0x3c82c6,_0x15e628[_0x47f085(-0x288,-0x202,-0x264,-0x284)+_0x562b65(-0x75,-0xde,-0x8d,-0x109)+'rs']=_0x47f085(-0x26c,-0x268,-0x1d8,-0x243)+_0x562b65(-0x17b,-0x205,-0x1f3,-0x1e7)+'er\x20'+_0x4a2752+'\x22',_0x15e628['model']=_0x14e02f,_0x15e628[_0x47f085(-0x232,-0x2a6,-0x1fe,-0x178)]=_0x48569d,_0x15e628['temperatur'+'e']=_0x444848,_0x15e628[_0x47f085(-0x161,-0x165,-0x121,-0x11d)]=_0x330cd9,_0x15e628['max_tokens']=_0x23cc30,_0x15e628[_0x562b65(-0x20a,-0x1cb,-0x175,-0x189)]=_0x48145b;const _0x1b05f5=_0x15e628,_0x3cccff=await _0x2f9306[_0x47f085(-0x137,-0x253,-0x1ba,-0x14f)](fetch,_0x4c9da,{'method':_0x2f9306['HLaqD'],'headers':_0x2f9306[_0x562b65(-0x11c,-0xd4,-0xef,-0xfc)](getRequestHeaders,window[_0x562b65(-0x147,-0x193,-0x11c,-0x1aa)]),'body':JSON[_0x562b65(-0x1e3,-0x147,-0xff,-0x110)](_0x1b05f5),'signal':_0x20c16c});if(!_0x3cccff['ok']){if(_0x2f9306[_0x47f085(-0x2c5,-0x1ae,-0x220,-0x191)]===_0x2f9306[_0x562b65(-0x1b7,-0x125,-0xed,-0x18a)]){if(_0x2f9306[_0x562b65(-0xaa,-0x137,-0xa9,-0xe4)](_0x38e352['name'],_0x2f9306[_0x562b65(-0x192,-0x10b,-0x16b,-0x8a)])){_0x7c3aed[_0x47f085(-0x1e8,-0x143,-0x16c,-0x14c)](_0x562b65(-0xeb,-0xcd,-0xe3,-0x151)+_0x562b65(-0x173,-0x16b,-0x150,-0x1c0)+'aborted.');const _0x38d14b={};_0x38d14b['name']=_0x2f9306[_0x562b65(-0x12e,-0x10b,-0xf0,-0xdc)],_0x38d14b[_0x47f085(-0x16c,-0x258,-0x1cc,-0x1b2)]=_0x47f085(-0x236,-0x257,-0x25b,-0x1f5)+_0x562b65(-0x15f,-0x162,-0x147,-0x17b);const _0x5a66b7={};_0x5a66b7[_0x47f085(-0x2aa,-0x265,-0x246,-0x2bd)]=![],_0x5a66b7[_0x47f085(-0x10b,-0x1b2,-0x185,-0xde)]=null,_0x5a66b7['id']=_0x4e424f,_0x5a66b7[_0x562b65(-0x257,-0x1d5,-0x1ae,-0x170)]=_0x38d14b,_0x3df52f[_0x562b65(-0xbb,-0xf0,-0x15f,-0x62)](_0x5008ce[_0x562b65(-0x1d4,-0x18c,-0x1e4,-0x1bd)+_0x562b65(-0x1b6,-0x120,-0x138,-0x145)],_0x5a66b7);return;}_0x1b524d[_0x47f085(-0x27d,-0x1dd,-0x230,-0x28b)](_0x2f9306[_0x562b65(-0x264,-0x1e8,-0x202,-0x141)],_0x3dc572);const _0x534bbc='ËØ∑Ê±ÇÈîôËØØ:\x20'+_0x109a36[_0x562b65(-0x179,-0x171,-0x12b,-0x163)];_0x2af085&&_0x2f9306[_0x47f085(-0x160,-0x13b,-0x12f,-0x122)](_0x2920be,_0x534bbc);_0x153f7b['error'](_0x5b6e4d[_0x562b65(-0x184,-0x171,-0x13b,-0x1b3)]);const _0x4b77fd={};_0x4b77fd[_0x47f085(-0x24f,-0x222,-0x246,-0x205)]=![],_0x4b77fd[_0x47f085(-0x21a,-0x10e,-0x185,-0x11f)]=_0x534bbc,_0x4b77fd['id']=_0x472099,_0xe9fb0b['emit'](_0x40ecab[_0x562b65(-0x114,-0x18c,-0xff,-0x202)+'E_RESPONSE'],_0x4b77fd);}else{try{const _0x34e8bc=await _0x3cccff['json']();if(_0x34e8bc[_0x47f085(-0x278,-0x199,-0x230,-0x2c9)]){if(_0x2f9306[_0x562b65(-0xd4,-0x137,-0x15f,-0xc8)](_0x47f085(-0x1fb,-0x274,-0x234,-0x196),_0x2f9306[_0x562b65(-0x17a,-0x185,-0xef,-0xf4)]))_0x493260(_0x283156);else{let _0x5c7bac;if(_0x2f9306[_0x562b65(-0x190,-0x137,-0x113,-0xda)](typeof _0x34e8bc[_0x47f085(-0x23a,-0x27c,-0x230,-0x1c4)],_0x2f9306['KVxPi'])&&_0x34e8bc['error'][_0x47f085(-0x270,-0x1ac,-0x1cc,-0x242)]){if(_0x2f9306[_0x562b65(-0x1db,-0x137,-0x1c7,-0x1ac)](_0x2f9306[_0x562b65(-0x1d8,-0x146,-0x171,-0x146)],_0x2f9306[_0x47f085(-0x16d,-0x104,-0x182,-0x1d3)]))_0x283059[_0x562b65(-0xd5,-0x169,-0x1ca,-0xcc)](),_0x4f779e[_0x47f085(-0x16f,-0x142,-0x1b6,-0x223)](_0x2f9306['YKRxn']);else{_0x5c7bac=''+_0x34e8bc[_0x47f085(-0x25f,-0x273,-0x230,-0x1c0)][_0x47f085(-0x205,-0x186,-0x1cc,-0x220)];const _0x461dd5=[];if(_0x34e8bc[_0x562b65(-0x156,-0x1d5,-0x147,-0x21d)][_0x47f085(-0x1c4,-0x162,-0x15d,-0x130)])_0x461dd5[_0x47f085(-0x133,-0x176,-0x12c,-0x108)]('Á±ªÂûã:\x20'+_0x34e8bc['error'][_0x47f085(-0x205,-0x184,-0x15d,-0x15d)]);if(_0x34e8bc[_0x47f085(-0x1ef,-0x2a2,-0x230,-0x217)][_0x562b65(-0x9c,-0xf8,-0x152,-0x17a)])_0x461dd5[_0x47f085(-0xef,-0xad,-0x12c,-0x172)](_0x562b65(-0xf7,-0xc7,-0x123,-0x9b)+_0x34e8bc[_0x47f085(-0x22a,-0x228,-0x230,-0x27d)][_0x47f085(-0xb5,-0x1be,-0x153,-0x130)]);_0x2f9306['qksMj'](_0x461dd5[_0x47f085(-0x120,-0x17b,-0x1b2,-0x197)],0x274*-0xd+-0x1038+0x2*0x180e)&&(_0x5c7bac+='\x20('+_0x461dd5[_0x47f085(-0x29a,-0x23c,-0x263,-0x2f7)](',\x20')+')');}}else{if(_0x2f9306[_0x47f085(-0x144,-0x1d3,-0x1e4,-0x285)](_0x2f9306['kYmxg'],_0x2f9306[_0x47f085(-0x17d,-0x14e,-0x1a0,-0x22a)]))_0x5c7bac=''+JSON['stringify'](_0x34e8bc[_0x562b65(-0x243,-0x1d5,-0x130,-0x258)]);else{const _0x15d1c5=_0x2cd303+(_0x562b65(-0x148,-0x1dc,-0x1dd,-0x21d)+_0x47f085(-0x2d0,-0x2d0,-0x23a,-0x19c)+_0x47f085(-0x25f,-0x2c8,-0x221,-0x185)+'ÁΩÆ„ÄÇ');_0xa2903[_0x562b65(-0x23f,-0x1d5,-0x1d6,-0x20e)](_0x15d1c5);const _0x5961b7={};_0x5961b7[_0x47f085(-0x1f3,-0x253,-0x246,-0x227)]=![],_0x5961b7[_0x47f085(-0x182,-0x126,-0x185,-0x203)]=_0x15d1c5,_0x5961b7['id']=_0x32a8a7,_0x4b936a[_0x47f085(-0x157,-0x14c,-0x14b,-0x16e)](_0x31829a,_0x5961b7);return;}}throw new Error(_0x5c7bac);}}}catch(_0x3af118){if(_0x3af118[_0x47f085(-0x22d,-0x147,-0x1cc,-0x1bf)][_0x562b65(-0xde,-0xf2,-0x94,-0x178)](_0x2f9306[_0x47f085(-0x153,-0x269,-0x1fa,-0x2a0)])||_0x3af118[_0x47f085(-0x156,-0x214,-0x1cc,-0x17a)][_0x47f085(-0x169,-0x12d,-0x14d,-0xff)](_0x47f085(-0x166,-0x228,-0x1b8,-0x174)))throw _0x3af118;}throw new Error('ËØ∑Ê±ÇÂ§±Ë¥•:\x20'+_0x3cccff['status']+'\x20'+_0x3cccff[_0x47f085(-0x1bb,-0x1e0,-0x1e9,-0x1b0)]);}}let _0x1c2171='';if(_0x48145b){const _0x19f0e2=_0x3cccff[_0x47f085(-0x2e2,-0x279,-0x25f,-0x273)][_0x47f085(-0x177,-0x1c3,-0x120,-0x1a1)](),_0x534b9f=new TextDecoder(_0x47f085(-0x19c,-0x16a,-0x181,-0x125));let _0x5ad372='';while(!![]){if(_0x2f9306[_0x47f085(-0x250,-0x1e7,-0x200,-0x18d)](_0x47f085(-0x20e,-0x21d,-0x1f5,-0x17a),_0x2f9306[_0x47f085(-0x221,-0x226,-0x23d,-0x26e)])){const {done:_0x46b708,value:_0x317687}=await _0x19f0e2[_0x47f085(-0x26d,-0x2d2,-0x25a,-0x1c1)]();if(_0x46b708)break;const _0x5194df={};_0x5194df[_0x562b65(-0x145,-0x1cb,-0x1e0,-0x20b)]=!![],_0x5ad372+=_0x534b9f[_0x47f085(-0x243,-0x2f8,-0x255,-0x261)](_0x317687,_0x5194df);const _0x3e9079=_0x5ad372['split']('\x0a');_0x5ad372=_0x3e9079[_0x47f085(-0x253,-0x1f1,-0x219,-0x1d1)]()||'';for(const _0x2e3be5 of _0x3e9079){const _0x15315e=_0x2e3be5[_0x562b65(-0x17a,-0x20e,-0x233,-0x266)]();if(!_0x15315e||_0x15315e===_0x2f9306[_0x47f085(-0x296,-0x1df,-0x213,-0x1d9)])continue;if(_0x15315e[_0x47f085(-0x18f,-0x286,-0x20c,-0x239)](_0x2f9306[_0x47f085(-0x2a5,-0x27f,-0x22c,-0x287)]))try{if(_0x2f9306[_0x562b65(-0x1d8,-0x19e,-0x1ac,-0x167)]!==_0x2f9306[_0x562b65(-0x1a8,-0x1ef,-0x1e7,-0x223)]){const _0x10fe25=_0x15315e[_0x47f085(-0xec,-0x11e,-0x15b,-0x1c7)](-0x1b6a+0x5c5+0x1*0x15ab),_0x3d6029=JSON[_0x562b65(-0x42,-0xe3,-0xa5,-0x4d)](_0x10fe25),_0x184224=_0x3d6029[_0x47f085(-0x83,-0xe4,-0x12b,-0x189)]?.[-0x1e51+-0x3b*-0x95+-0x406]?.[_0x47f085(-0x13f,-0x10d,-0x11e,-0x19a)]?.[_0x562b65(-0x145,-0x187,-0x185,-0x125)];if(_0x184224){if(_0x2f9306[_0x562b65(-0x176,-0xfe,-0xe9,-0x106)](_0x2f9306[_0x562b65(-0x24c,-0x1c9,-0x26e,-0x152)],_0x2f9306[_0x47f085(-0xb8,-0x160,-0x12d,-0xc5)])){const _0x567b26=_0xf508f6[_0x47f085(-0xc0,-0x1f6,-0x15f,-0xc2)](/^data:([^;]+);/),_0x34ff4e=_0x567b26?_0x567b26[-0x201a+0x9*-0x23b+-0x1a17*-0x2]:_0x2f9306['fsZKI'],_0x5a4e7a=_0x4b979b[_0x562b65(-0x14b,-0x1c1,-0x217,-0x1f1)](',')[-0x11aa+-0x2*0xf84+0x1*0x30b3]||'',_0x38aa39=_0x6129c1[_0x47f085(-0xf6,-0x18d,-0x176,-0x1f7)](_0x2f9306[_0x47f085(-0x2ba,-0x220,-0x251,-0x218)](_0x2f9306[_0x562b65(-0xd6,-0x144,-0x16a,-0xff)](_0x5a4e7a['length'],-0x1*0x1af5+-0x128f*0x1+-0x2d*-0x103)/(0x16e9+-0x947*-0x3+-0x97*0x56),-0x8*0x465+-0x240c+-0x259a*-0x2));_0x4422ff['push'](_0x47f085(-0x244,-0x263,-0x1f7,-0x24f)+':\x20'+_0x34ff4e+',\x20Á∫¶\x20'+_0x38aa39+_0x562b65(-0xc8,-0x115,-0x6e,-0x11f));}else _0x1c2171+=_0x184224,_0x12a816&&_0x2f9306[_0x47f085(-0x1f8,-0x15f,-0x1ef,-0x272)](_0x12a816,_0x1c2171);}}else _0x490d93[_0x562b65(-0x15e,-0x1de,-0x13d,-0x273)](_0x2f9306[_0x47f085(-0xb6,-0x1be,-0x12a,-0x16b)],_0x54c626[_0x562b65(-0x139,-0x171,-0xee,-0x147)]);}catch(_0x43af94){if(_0x2f9306[_0x562b65(-0x111,-0xfe,-0x18d,-0xec)](_0x2f9306[_0x562b65(-0x1d6,-0x1ee,-0x18e,-0x232)],_0x2f9306[_0x47f085(-0x21a,-0x1e7,-0x249,-0x1b4)]))console[_0x562b65(-0x19f,-0x1de,-0x241,-0x225)](_0x47f085(-0x23f,-0x175,-0x1db,-0x25c),_0x43af94[_0x562b65(-0x12d,-0x171,-0x151,-0x1f4)]);else throw new _0x5cf9fd(_0x47f085(-0x259,-0x29a,-0x268,-0x1fb)+_0x3d2636[_0x562b65(-0x19c,-0x19d,-0x201,-0x187)]+'\x20'+_0x4132a2[_0x47f085(-0x1ed,-0x268,-0x1e9,-0x22b)]);}}}else _0x348b16['abort'](),_0x162871[_0x562b65(-0x16a,-0x15b,-0x14d,-0x1c2)](_0x47f085(-0x109,-0x12b,-0x11d,-0x161)+_0x47f085(-0x1a1,-0x29a,-0x1f6,-0x1fb));}if(_0x5ad372[_0x562b65(-0x296,-0x20e,-0x287,-0x1be)]()&&_0x2f9306['DixFI'](_0x5ad372[_0x47f085(-0x26e,-0x30e,-0x269,-0x2b5)](),_0x2f9306['BXWUy'])&&_0x5ad372['trim']()['startsWith'](_0x2f9306[_0x47f085(-0x203,-0x248,-0x22c,-0x1a9)])){if(_0x2f9306[_0x47f085(-0x1ff,-0x1d6,-0x159,-0x181)](_0x2f9306['QRIQh'],_0x2f9306[_0x562b65(-0x130,-0x135,-0x9e,-0x1a0)]))_0x91946e=null,_0x2f9306[_0x562b65(-0x1b3,-0x206,-0x29f,-0x1f4)](_0x27bc46);else try{const _0x265571=_0x5ad372[_0x562b65(-0x1bb,-0x20e,-0x190,-0x29a)]()[_0x47f085(-0x103,-0x1f3,-0x15b,-0x174)](0xd29+-0x101+-0xc22),_0x428bdf=JSON[_0x47f085(-0x1c6,-0x1b3,-0x13e,-0x173)](_0x265571),_0x533e89=_0x428bdf['choices']?.[-0x72a+-0xb03+0x8d*0x21]?.[_0x562b65(-0x167,-0xc3,-0x138,-0x156)]?.['content'];_0x533e89&&(_0x2f9306['OElrD'](_0x2f9306[_0x562b65(-0xe2,-0x128,-0x152,-0xb5)],_0x562b65(-0xa5,-0xce,-0x11d,-0x67))?(_0x1c2171+=_0x533e89,_0x12a816&&_0x2f9306[_0x562b65(-0x13b,-0x194,-0x1d0,-0x148)](_0x12a816,_0x1c2171)):_0x38f5ad[_0x562b65(-0x184,-0x1de,-0x259,-0x19f)]('ÊµÅÂºèËß£ÊûêË≠¶Âëä\x20(ÊúÄÂêé'+'buffer):',_0x1d0ab7[_0x47f085(-0x242,-0x12f,-0x1cc,-0x1e8)]));}catch(_0x258bad){if(_0x562b65(-0xfe,-0xee,-0x5b,-0xe6)!==_0x2f9306['ktqJo'])console[_0x562b65(-0x14e,-0x1de,-0x17d,-0x165)](_0x2f9306['jFMAS'],_0x258bad[_0x47f085(-0x267,-0x257,-0x1cc,-0x190)]);else{const _0x5d31f1=_0x1819b6[_0x47f085(-0x198,-0x1ac,-0x1a7,-0x1cb)]?.[_0x562b65(-0x1fa,-0x1cd,-0x187,-0x25c)]||'';if(_0x5d31f1['startsWith'](_0x47f085(-0x1e2,-0x23a,-0x23e,-0x1c7))){const _0x1d1e25=_0x5d31f1[_0x47f085(-0x186,-0x169,-0x15f,-0x1bf)](/^data:([^;]+);/),_0x18cfc8=_0x1d1e25?_0x1d1e25[0x1f8c+0xb*0x284+0x3*-0x13bd]:_0x2f9306[_0x562b65(-0x1b9,-0x140,-0x171,-0xc7)],_0x5b4bbb=_0x5d31f1[_0x47f085(-0x1b3,-0x264,-0x21c,-0x2b6)](',')[0x175c+-0x7c5+-0xf96]||'',_0x599586=_0x1ef25f['round'](_0x2f9306[_0x47f085(-0x237,-0x23e,-0x251,-0x2a9)](_0x2f9306['Bqumq'](_0x5b4bbb['length']*(0x4b8+-0x1*-0x15ac+0x3*-0x8cb),-0x8*-0x1cd+0x20a*-0x6+0xb8*-0x3),0x1850+0x13dd+-0x282d));_0x187c6a[_0x562b65(-0x150,-0xd1,-0x74,-0x103)]('üì∑\x20[Áî®Êà∑‰∏ä‰º†ÁöÑÂõæÁâá'+':\x20'+_0x18cfc8+_0x562b65(-0x134,-0xcb,-0x48,-0x151)+_0x599586+_0x47f085(-0x156,-0x206,-0x170,-0x151));}else _0x18d4ac[_0x47f085(-0x18c,-0xef,-0x12c,-0x12e)](_0x562b65(-0xbc,-0xd7,-0xe2,-0xa9)+_0x5d31f1+']');}}}!_0x1c2171&&(_0x1c2171=_0x2f9306[_0x562b65(-0xac,-0x151,-0x1d1,-0x10e)],toastr[_0x47f085(-0x2d0,-0x229,-0x252,-0x29c)](_0x3d9cb7+(_0x562b65(-0x1dc,-0x192,-0x131,-0x18d)+_0x47f085(-0x20f,-0x18f,-0x1dc,-0x210))));}else{if(_0x2f9306[_0x47f085(-0xf4,-0x143,-0x193,-0x1a0)](_0x2f9306[_0x47f085(-0x13b,-0x162,-0x133,-0xdb)],_0x2f9306[_0x562b65(-0xa8,-0xd8,-0x166,-0xb8)]))_0x3903c9+='\x20('+_0x43f422[_0x47f085(-0x22a,-0x27f,-0x263,-0x1ff)](',\x20')+')';else{const _0x5e4945=await _0x3cccff[_0x47f085(-0x193,-0x1a6,-0x207,-0x1ea)]();if(_0x5e4945[_0x47f085(-0x23a,-0x1ba,-0x230,-0x19c)]){let _0x2ad918;if(_0x2f9306[_0x47f085(-0xfe,-0x155,-0x159,-0x1ba)](typeof _0x5e4945['error'],'object')&&_0x5e4945[_0x562b65(-0x147,-0x1d5,-0x1a8,-0x18d)][_0x562b65(-0x1e7,-0x171,-0x15b,-0xcd)]){_0x2ad918=''+_0x5e4945['error'][_0x47f085(-0x1f9,-0x21a,-0x1cc,-0x1d5)];const _0x56b130=[];if(_0x5e4945['error'][_0x562b65(-0xd8,-0x102,-0x120,-0xa4)])_0x56b130[_0x47f085(-0x176,-0x143,-0x12c,-0x189)]('Á±ªÂûã:\x20'+_0x5e4945[_0x562b65(-0x25e,-0x1d5,-0x143,-0x26d)][_0x562b65(-0x93,-0x102,-0x16d,-0x60)]);if(_0x5e4945[_0x47f085(-0x286,-0x1b7,-0x230,-0x1c1)][_0x47f085(-0x126,-0xfa,-0x153,-0x11c)])_0x56b130['push'](_0x562b65(-0xa9,-0xc7,-0xf3,-0xd9)+_0x5e4945['error']['code']);_0x56b130[_0x562b65(-0x103,-0x157,-0x106,-0x15f)]>-0x5*-0x2f+0x24d+0x19c*-0x2&&(_0x2f9306[_0x47f085(-0x248,-0x211,-0x214,-0x29f)](_0x2f9306[_0x47f085(-0x175,-0x1c9,-0x156,-0x1b0)],_0x2f9306[_0x562b65(-0x18f,-0xfb,-0xf2,-0x11c)])?_0x82927['push'](_0x22788f[_0x47f085(-0x148,-0x158,-0x144,-0x135)]||''):_0x2ad918+='\x20('+_0x56b130[_0x562b65(-0x24a,-0x208,-0x16a,-0x261)](',\x20')+')');}else _0x2f9306[_0x47f085(-0x123,-0x1c0,-0x154,-0x141)](_0x47f085(-0x153,-0x1d9,-0x1b3,-0x18d),_0x2f9306['JZjTW'])?_0x2ad918=''+JSON[_0x562b65(-0xcc,-0x147,-0x1ad,-0x1c7)](_0x5e4945[_0x47f085(-0x222,-0x1be,-0x230,-0x27c)]):_0x9df1f2&&(_0x85401c[_0x47f085(-0x152,-0x1f4,-0x1c4,-0x172)](),_0x51d258[_0x562b65(-0x1f1,-0x15b,-0x148,-0x146)](_0x2f9306[_0x47f085(-0x137,-0xfa,-0x142,-0x1a0)]));throw new Error(_0x2ad918);}_0x1c2171=_0x5e4945[_0x562b65(-0x9d,-0xd0,-0xb3,-0x14b)]?.[0xcd1+-0x1247*0x2+-0x1*-0x17bd]?.[_0x47f085(-0x1f3,-0x130,-0x1cc,-0x145)]?.[_0x47f085(-0x182,-0x20d,-0x1e2,-0x165)]||'';if(!_0x1c2171){if(_0x2f9306[_0x562b65(-0x84,-0xf9,-0xd6,-0xdb)](_0x2f9306['zciQR'],_0x2f9306['zciQR']))_0x1c2171=_0x2f9306['uMkea'],toastr['warning'](_0x3d9cb7+(_0x562b65(-0x22e,-0x192,-0x219,-0x226)+_0x47f085(-0x204,-0x157,-0x1dc,-0x26a)));else{const _0x97887c=_0x31eefe[_0x59fffb][_0x562b65(-0x57,-0xdd,-0x118,-0x177)+'es']||{},_0x4812cb=_0x58bddf[_0x58fff2]['current_ll'+_0x47f085(-0x14f,-0x124,-0x146,-0x10f)];return _0x97887c[_0x4812cb]||_0x97887c[_0x3c9c4c[_0x47f085(-0x13d,-0x14b,-0x165,-0x136)](_0x97887c)[0x3*0x6d+-0x35*-0x57+-0x1*0x134a]]||{};}}_0x12a816&&_0x2f9306['jrVcA'](_0x12a816,_0x1c2171);}}_0x2f9306[_0x47f085(-0x168,-0x20f,-0x1ef,-0x185)](addLog,_0x47f085(-0x1cc,-0xa9,-0x140,-0xf8)+_0x47f085(-0x2a1,-0x1e0,-0x240,-0x23a)),_0x2f9306[_0x562b65(-0x136,-0x194,-0x1ef,-0x1e0)](addLog,_0x1c2171),_0x2f9306[_0x562b65(-0x4c,-0xd6,-0xa6,-0xb8)](addLog,_0x562b65(-0x150,-0x1b2,-0x252,-0x1f7)+_0x562b65(-0x160,-0x14f,-0x186,-0x1e8));const _0x2f816c=extension_settings[extensionName]['llmTestMod'+'e'];if(_0x2f816c){if(_0x2f9306[_0x562b65(-0x16d,-0x1a9,-0x163,-0x1ed)](_0x2f9306['uloTx'],_0x2f9306[_0x562b65(-0x12c,-0x170,-0x182,-0xda)])){const _0x6c1504={};_0x6c1504['timeOut']=0x1388,toastr['info'](_0x562b65(-0x1ef,-0x1db,-0x1e2,-0x185)+_0x3d9cb7+('\x20ËØ∑Ê±ÇÂ∑≤ÂÆåÊàêÔºåÂêéÁª≠Êìç'+_0x562b65(-0x187,-0x173,-0x121,-0x1c9)),_0x2f9306[_0x47f085(-0xa3,-0xfb,-0x127,-0x10f)],_0x6c1504);}else{const _0x5eda15=_0x2f9306[_0x47f085(-0x113,-0x1c0,-0x13d,-0xd3)];_0x1c2938[_0x562b65(-0x218,-0x1d5,-0x217,-0x16a)](_0x5eda15);const _0x7ca041={};_0x7ca041[_0x562b65(-0x1a9,-0x1eb,-0x1e9,-0x194)]=![],_0x7ca041[_0x562b65(-0x18c,-0x12a,-0xfd,-0xb3)]=_0x5eda15,_0x7ca041['id']=_0x267a27,_0x2df546[_0x47f085(-0x17d,-0x124,-0x14b,-0x17c)](_0x2eb1fd[_0x47f085(-0x1f9,-0x221,-0x1e7,-0x14e)+_0x47f085(-0x129,-0x1f5,-0x17b,-0xf2)],_0x7ca041);return;}}const _0x1bcd46={};_0x1bcd46[_0x47f085(-0x1f9,-0x1ee,-0x246,-0x1fa)]=!![],_0x1bcd46[_0x47f085(-0x197,-0x1ea,-0x185,-0x1e1)]=_0x1c2171,_0x1bcd46['id']=_0x3d0ceb,_0x1bcd46['testMode']=_0x2f816c,eventSource['emit'](_0x2682de,_0x1bcd46);}}catch(_0x472331){if(_0x2f9306[_0x47f085(-0x100,-0xf0,-0x154,-0x119)](_0x472331[_0x47f085(-0xf7,-0x1fb,-0x157,-0x1bf)],_0x2f9306['jAoTX'])){if(_0x2f9306[_0x47f085(-0x293,-0x224,-0x25e,-0x2fe)](_0x2f9306['nNMfw'],_0x2f9306[_0x562b65(-0xa2,-0x136,-0x197,-0x96)]))_0x55f589=''+_0x3f7ad1['stringify'](_0x425d55[_0x562b65(-0x254,-0x1d5,-0x20a,-0x1de)]);else{const _0x561c7e={};_0x561c7e['name']=_0x47f085(-0x1a2,-0x1af,-0x248,-0x238),_0x561c7e[_0x562b65(-0x1a6,-0x171,-0x10b,-0x1dc)]=_0x2f9306[_0x47f085(-0x1ea,-0x1b5,-0x203,-0x1d5)];const _0xe49859={};_0xe49859[_0x562b65(-0x1fe,-0x1eb,-0x22d,-0x1e5)]=![],_0xe49859['result']=null,_0xe49859['id']=_0x3d0ceb,_0xe49859[_0x562b65(-0x13a,-0x1d5,-0x16e,-0x18a)]=_0x561c7e,eventSource[_0x562b65(-0xd5,-0xf0,-0xc2,-0xc7)](_0x2682de,_0xe49859);return;}}console[_0x562b65(-0x1c6,-0x1d5,-0x143,-0x1b4)](_0x3d9cb7+'\x20Error:',_0x472331);const _0x141f9b='ËØ∑Ê±ÇÈîôËØØ:\x20'+_0x472331[_0x562b65(-0x1a6,-0x171,-0x150,-0x182)];_0x12a816&&(_0x2f9306[_0x47f085(-0xe2,-0xdf,-0x14a,-0x1b5)]===_0x562b65(-0x164,-0x174,-0x19e,-0x103)?(_0x57fb70+=_0x5cf597,_0x4bc4c1&&_0x2f9306['jrVcA'](_0x32cb22,_0x174b73)):_0x2f9306[_0x562b65(-0x254,-0x1d7,-0x148,-0x244)](_0x12a816,_0x141f9b));toastr[_0x47f085(-0x1c0,-0x18b,-0x230,-0x19c)](_0x472331[_0x47f085(-0x15c,-0x217,-0x1cc,-0x176)]);const _0x116b49={};_0x116b49['success']=![],_0x116b49['result']=_0x141f9b,_0x116b49['id']=_0x3d0ceb,eventSource['emit'](_0x2682de,_0x116b49);}finally{currentLLMRequestController=null,_0x2f9306[_0x47f085(-0x1fd,-0x1fe,-0x205,-0x1d4)](stopFabLoading);}}export async function executeDefaultLLMRequest(_0x1fa975,_0x564574,_0x366368=null){const _0xa3aa20={'LkCmP':_0x3d1bdb(0x52d,0x586,0x528,0x520),'ccRDm':function(_0x4cf2d0,_0x13fcfa){return _0x4cf2d0>_0x13fcfa;},'GRGOp':function(_0x45051b,_0x476677){return _0x45051b||_0x476677;},'GDZGn':function(_0x19ab9d,_0x30ae5d){return _0x19ab9d===_0x30ae5d;},'LTVwb':'eryjg','ASQkn':function(_0x3ad808){return _0x3ad808();},'NLGTs':function(_0x2eb703){return _0x2eb703();},'sWzBU':function(_0x2ac432,_0x36eb45){return _0x2ac432(_0x36eb45);},'dHEvr':function(_0x11632a,_0x2d675c){return _0x11632a(_0x2d675c);},'HoLFE':function(_0x164b0e,_0x506e3a){return _0x164b0e||_0x506e3a;},'SMtYZ':'yWTHo','CZgZo':'lPDvZ','ouMeG':_0x21b84f(0x6a,0x32,0xbb,0x6a)+_0x21b84f(0x1e,0x117,0x91,0x10b)+_0x3d1bdb(0x5a4,0x4b9,0x509,0x5aa)+_0x3d1bdb(0x4e7,0x463,0x447,0x4c4),'Sbdnb':function(_0xbb05e4,_0x23eddb){return _0xbb05e4!==_0x23eddb;},'cxFvC':_0x21b84f(0x39,0x108,0x8d,0x1e),'YDamc':_0x3d1bdb(0x44f,0x44f,0x441,0x3ca),'JjphM':'Ê≠£Âú®Â§ÑÁêÜÂ§ñÈÉ®ËØ∑Ê±ÇÔºåËØ∑'+'Á®çÂÄô...','TjScS':_0x3d1bdb(0x4c0,0x44b,0x4b3,0x44c),'vXUxk':function(_0x87e9c5,_0x123e16,_0x3b37f3){return _0x87e9c5(_0x123e16,_0x3b37f3);},'MjRmM':function(_0x1366ff,_0xada510){return _0x1366ff(_0xada510);},'qTuOw':function(_0x22a169,_0x4f1195){return _0x22a169===_0x4f1195;},'uEUuL':function(_0xef8fac,_0x4115ee){return _0xef8fac>_0x4115ee;},'toLdE':_0x3d1bdb(0x460,0x487,0x470,0x401),'DhDVC':_0x21b84f(0x50,-0x3c,-0x1,0x8c)+'Â§ç„ÄÇ','GafRi':function(_0x270dbc,_0x2367fd){return _0x270dbc(_0x2367fd);},'wSTXC':function(_0x280620,_0x51159c){return _0x280620(_0x51159c);},'qebfD':function(_0x34c5d5,_0x9b3489){return _0x34c5d5===_0x9b3489;},'DOcdw':'LLM\x20execut'+_0x3d1bdb(0x52c,0x434,0x492,0x4b2)+'aborted.','WwLOs':_0x21b84f(-0x11,0x9b,0x19,-0x4e),'FjEKI':_0x3d1bdb(0x3b1,0x3f4,0x3fd,0x417)+_0x3d1bdb(0x50b,0x445,0x49b,0x487),'JCzTf':_0x21b84f(0x33,0xaf,0x53,-0x33)+_0x21b84f(0xda,0x19,0x46,0x1f)},{prompt:_0x382982,id:_0xe7847a}=_0x1fa975;if(_0xa3aa20[_0x21b84f(-0x27,0x44,0x66,0xf2)](!_0xe7847a,!_0x382982))return;if(currentLLMRequestController){if(_0xa3aa20[_0x3d1bdb(0x48c,0x4c8,0x4f1,0x47a)](_0x21b84f(0xac,0x168,0xe8,0x133),_0xa3aa20[_0x21b84f(0x151,0x152,0x11a,0x114)]))currentLLMRequestController['abort'](),toastr[_0x21b84f(0xd8,0x7c,0xab,0xd9)](_0x21b84f(0x116,0x19f,0x144,0xaa)+'ÂßãÊñ∞ËØ∑Ê±Ç„ÄÇ');else{const _0x3a4778=_0x223654['slice'](0xb*0x1f2+-0xf9c+0x2e2*-0x2),_0x30aaf1=_0x5b0b84[_0x21b84f(0x106,0x146,0x123,0x193)](_0x3a4778),_0xce32e=_0x30aaf1[_0x21b84f(0x185,0xf1,0x136,0xaf)]?.[-0x20*-0x2b+-0x1d49+-0x1*-0x17e9]?.[_0x21b84f(0x171,0x196,0x143,0x140)]?.[_0x21b84f(-0x10,0x47,0x7f,0x123)];_0xce32e&&(_0x530d9a+=_0xce32e,_0x5fa455&&_0x23fbb6(_0x178dca));}}currentLLMRequestController=new AbortController();const _0x1e6be4=currentLLMRequestController[_0x21b84f(0x121,0xb5,0x11e,0x1b1)];_0xa3aa20[_0x21b84f(0x3d,0x3f,0xb8,0x147)](startFabLoading),_0xa3aa20['NLGTs'](clearLog),_0xa3aa20[_0x3d1bdb(0x3a7,0x3bb,0x414,0x3b0)](addLog,_0x3d1bdb(0x3ff,0x467,0x44b,0x49b)+_0x21b84f(0xf1,0xfc,0xcc,0xf3)+'=='),_0xa3aa20['dHEvr'](addLog,_0x21b84f(0x7c,0x5b,0x11,0x8e)+_0xe7847a),addLog('ÂèëÈÄÅÁöÑ\x20Prompt'+':'),addLog(_0xa3aa20[_0x3d1bdb(0x59b,0x54e,0x513,0x48e)](formatPromptForDisplay,_0x382982));const {api_url:_0x7f417d,api_key:_0x2a4b08,model:_0xe18ec9,temperature:_0x35ef24,top_p:_0x293b72,max_tokens:_0x4483d3}=_0x564574;if(_0xa3aa20[_0x21b84f(0x92,0x64,0xb9,0x15e)](!_0x7f417d,!_0x2a4b08)||!_0xe18ec9){if(_0xa3aa20[_0x3d1bdb(0x3ec,0x46d,0x473,0x429)]===_0xa3aa20[_0x21b84f(0x5e,0x75,0x12,0x91)]){let _0x56407b;if(typeof _0x40def9[_0x3d1bdb(0x469,0x411,0x428,0x394)]===_0xa3aa20[_0x3d1bdb(0x3e5,0x437,0x405,0x44f)]&&_0x4fb7ec[_0x3d1bdb(0x42e,0x3e1,0x428,0x3b5)][_0x21b84f(0x7d,-0x6,0x95,0x12d)]){_0x56407b=''+_0x1a3b4c[_0x21b84f(-0x57,0x1f,0x31,0xb3)][_0x21b84f(0x7e,-0xd,0x95,0xa)];const _0x538011=[];if(_0x3c6ae0['error']['type'])_0x538011[_0x3d1bdb(0x56f,0x4c4,0x52c,0x5b3)](_0x3d1bdb(0x3c3,0x3e9,0x448,0x45a)+_0x1bc226[_0x3d1bdb(0x480,0x4b2,0x428,0x3ed)][_0x3d1bdb(0x57a,0x4ef,0x4fb,0x59d)]);if(_0x5277d4[_0x3d1bdb(0x3ea,0x3f4,0x428,0x4c5)][_0x21b84f(0x120,0x165,0x10e,0x126)])_0x538011[_0x3d1bdb(0x49a,0x599,0x52c,0x5a1)](_0x21b84f(0x167,0xe1,0x13f,0xd1)+_0x36d3f6[_0x3d1bdb(0x470,0x391,0x428,0x3c7)][_0x21b84f(0x139,0x6d,0x10e,0x152)]);_0xa3aa20[_0x3d1bdb(0x4a8,0x40e,0x456,0x4f0)](_0x538011[_0x21b84f(0x140,0x36,0xaf,0xac)],0x219b+0x1564*0x1+-0x36ff)&&(_0x56407b+='\x20('+_0x538011[_0x3d1bdb(0x381,0x413,0x3f5,0x3a6)](',\x20')+')');}else _0x56407b=''+_0x39f5cb['stringify'](_0x1b8938[_0x3d1bdb(0x3a3,0x4a9,0x428,0x3f3)]);throw new _0x39f0b7(_0x56407b);}else{const _0x2f3b3d=_0x21b84f(0xbf,0xfd,0xf6,0x195)+'PI\x20Key,\x20Êàñ\x20'+_0x21b84f(-0x10,0x61,0x37,0x1c);toastr[_0x3d1bdb(0x419,0x48c,0x428,0x473)](_0x2f3b3d);const _0x24b463={};_0x24b463[_0x21b84f(0x5e,-0x75,0x1b,0x94)]=![],_0x24b463[_0x21b84f(0x150,0x159,0xdc,0x151)]=_0x2f3b3d,_0x24b463['id']=_0xe7847a,eventSource[_0x21b84f(0x14e,0x14f,0x116,0x170)](eventNames[_0x21b84f(-0xd,0xe,0x7a,0x75)+_0x21b84f(0x136,0xef,0xe6,0xf5)],_0x24b463);return;}}const _0x4af446=_0xa3aa20[_0x3d1bdb(0x3c1,0x4c5,0x446,0x41f)],_0x438154=_0x7f417d[_0x3d1bdb(0x4eb,0x3f9,0x49c,0x480)](/\/$/,'');_0x366368&&(_0xa3aa20['Sbdnb'](_0xa3aa20[_0x21b84f(0x10f,0xf4,0xb0,0x8a)],_0xa3aa20[_0x3d1bdb(0x4ce,0x4b5,0x4fc,0x511)])?_0xa3aa20[_0x3d1bdb(0x450,0x4b0,0x414,0x456)](_0x366368,_0xa3aa20[_0x21b84f(0x11b,0x90,0x12c,0xab)]):_0x3be6f2=_0x2cd5d0);function _0x3d1bdb(_0x55ca7e,_0x2e76e9,_0x50df0b,_0x7157c7){return _0x7aec0(_0x50df0b-0xec,_0x2e76e9-0x179,_0x50df0b-0x3c,_0x2e76e9);}function _0x21b84f(_0x10890f,_0x55d01a,_0x55481e,_0x58098b){return _0x3eed33(_0x10890f-0xd4,_0x55d01a,_0x55481e- -0x27a,_0x58098b-0x1f0);}try{const _0x1ea02e={};_0x1ea02e['chat_compl'+'etion_sour'+'ce']=_0xa3aa20[_0x3d1bdb(0x3d9,0x3be,0x41d,0x3a6)],_0x1ea02e[_0x21b84f(0x124,0x199,0x12b,0x92)]=_0x438154,_0x1ea02e[_0x3d1bdb(0x465,0x360,0x3f4,0x3c4)+_0x3d1bdb(0x536,0x583,0x51f,0x495)+'rs']=_0x3d1bdb(0x4ce,0x526,0x480,0x489)+'ion:\x20\x22Bear'+_0x3d1bdb(0x4bd,0x467,0x4dc,0x46b)+_0x2a4b08+'\x22',_0x1ea02e[_0x21b84f(0x8a,0x4f,0x38,0xa6)]=_0xe18ec9,_0x1ea02e[_0x3d1bdb(0x49c,0x4de,0x45a,0x4fe)]=_0x382982,_0x1ea02e[_0x3d1bdb(0x548,0x5c2,0x539,0x591)+'e']=_0x35ef24,_0x1ea02e[_0x3d1bdb(0x59d,0x515,0x537,0x53e)]=_0x293b72,_0x1ea02e['max_tokens']=_0x4483d3,_0x1ea02e[_0x3d1bdb(0x3e8,0x4c9,0x432,0x3e1)]=![];const _0x902eba=_0x1ea02e,_0x20a4d8=await _0xa3aa20[_0x21b84f(0xc6,0xc2,0x90,0x34)](fetch,_0x4af446,{'method':_0x3d1bdb(0x445,0x447,0x4de,0x452),'headers':_0xa3aa20['MjRmM'](getRequestHeaders,window[_0x21b84f(0xd0,0x62,0x73,0xcd)]),'body':JSON[_0x21b84f(0xb2,0x13f,0xbf,0x8d)](_0x902eba),'signal':_0x1e6be4}),_0x402197=await _0x20a4d8[_0x21b84f(-0x10,0xf1,0x5a,-0x42)]();if(_0x402197[_0x3d1bdb(0x48d,0x3dc,0x428,0x498)]){let _0x2eef1f;if(_0xa3aa20[_0x21b84f(0xd1,0xbe,0xe2,0x7f)](typeof _0x402197['error'],_0xa3aa20[_0x21b84f(0x16,0x99,0xe,0x43)])&&_0x402197[_0x21b84f(0xb4,-0x55,0x31,-0x57)][_0x21b84f(0xf5,0x14,0x95,0x25)]){_0x2eef1f=''+_0x402197['error']['message'];const _0x497c98=[];if(_0x402197[_0x21b84f(0xa8,0x86,0x31,0x7f)][_0x3d1bdb(0x49c,0x477,0x4fb,0x540)])_0x497c98[_0x21b84f(0xbc,0x197,0x135,0x15a)](_0x21b84f(0x35,0x1e,0x51,0xa4)+_0x402197[_0x21b84f(0xb,-0x5b,0x31,0x65)]['type']);if(_0x402197['error']['code'])_0x497c98[_0x21b84f(0xa2,0x1d1,0x135,0xde)](_0x3d1bdb(0x4e5,0x4b4,0x536,0x576)+_0x402197[_0x3d1bdb(0x38f,0x43f,0x428,0x3f9)]['code']);_0xa3aa20[_0x3d1bdb(0x482,0x54d,0x50c,0x49c)](_0x497c98['length'],0x4a7*0x7+0x35*0x7a+0x39d3*-0x1)&&(_0x2eef1f+='\x20('+_0x497c98['join'](',\x20')+')');}else _0x2eef1f=''+JSON['stringify'](_0x402197[_0x3d1bdb(0x4b2,0x451,0x428,0x430)]);throw new Error(_0x2eef1f);}if(!_0x20a4d8['ok'])throw new Error(_0x21b84f(0x19,0x27,-0x7,0x5b)+_0x20a4d8[_0x3d1bdb(0x45a,0x3f9,0x460,0x42b)]+'\x20'+_0x20a4d8[_0x3d1bdb(0x493,0x516,0x46f,0x455)]);const _0x8a318e=_0x402197[_0x21b84f(0x141,0x111,0x136,0xb0)]?.[-0x1*0x1e0b+0x1d0f+-0x6*-0x2a]?.[_0x21b84f(0x13,0x78,0x95,0x1b)]?.['content']||'';if(!_0x8a318e){if(_0xa3aa20[_0x21b84f(-0x67,-0x38,0x3e,-0x3e)](_0xa3aa20[_0x3d1bdb(0x4f5,0x4b0,0x49a,0x4c5)],_0xa3aa20[_0x21b84f(0xfe,0xa5,0xa3,0x119)]))return!!_0xc506f4[_0x591ad1][_0x21b84f(0x8b,0x3d,0x6e,-0x13)+'e'];else toastr[_0x21b84f(0x3c,0xae,0xf,0x53)](_0xa3aa20[_0x3d1bdb(0x450,0x4bf,0x485,0x3e9)]);}_0x366368&&_0xa3aa20[_0x21b84f(0xd1,0x12d,0xc7,0x27)](_0x366368,_0x8a318e);_0xa3aa20[_0x3d1bdb(0x46d,0x3dd,0x425,0x45f)](addLog,_0x3d1bdb(0x51a,0x574,0x518,0x543)+'\x20ÂõûÂ§ç\x20-----'),addLog(_0x8a318e),_0xa3aa20[_0x3d1bdb(0x577,0x561,0x4fa,0x492)](addLog,_0x21b84f(0xe8,0x3,0x54,0xbe)+'ËØ∑Ê±ÇÂÆåÊàê\x20=====');const _0x3f469a={};_0x3f469a[_0x3d1bdb(0x453,0x44a,0x412,0x402)]=!![],_0x3f469a[_0x21b84f(0xa6,0x16f,0xdc,0xb2)]=_0x8a318e,_0x3f469a['id']=_0xe7847a,eventSource[_0x21b84f(0x89,0x83,0x116,0x9f)](eventNames[_0x21b84f(0x67,-0x1e,0x7a,-0x11)+_0x3d1bdb(0x458,0x457,0x4dd,0x4a5)],_0x3f469a);}catch(_0x3f700c){if(_0xa3aa20['qebfD'](_0x3f700c[_0x21b84f(0x81,0x166,0x10a,0x18a)],'AbortError')){console[_0x3d1bdb(0x58f,0x4d4,0x4ec,0x534)](_0xa3aa20[_0x3d1bdb(0x441,0x424,0x4bb,0x49b)]);const _0x1c0c6c={};_0x1c0c6c[_0x3d1bdb(0x475,0x46a,0x501,0x4be)]=_0xa3aa20[_0x21b84f(0xba,0xda,0x120,0x14f)],_0x1c0c6c[_0x3d1bdb(0x477,0x427,0x48c,0x464)]=_0xa3aa20[_0x21b84f(0x151,0xfc,0xdd,0xb0)];const _0x2a743f={};_0x2a743f[_0x21b84f(-0x39,-0x87,0x1b,0xa8)]=![],_0x2a743f[_0x21b84f(0x77,0xe3,0xdc,0x48)]=null,_0x2a743f['id']=_0xe7847a,_0x2a743f[_0x3d1bdb(0x449,0x494,0x428,0x47a)]=_0x1c0c6c,eventSource[_0x21b84f(0x10c,0x132,0x116,0x19a)](eventNames[_0x21b84f(0x8d,0x5a,0x7a,-0x10)+_0x21b84f(0x98,0x152,0xe6,0x114)],_0x2a743f);return;}console['error'](_0xa3aa20[_0x21b84f(0x5f,0xbc,0x2c,0x60)],_0x3f700c);const _0x2732b7=_0x3d1bdb(0x3b6,0x462,0x459,0x4fb)+_0x3f700c[_0x3d1bdb(0x4bc,0x4cc,0x48c,0x517)];_0x366368&&_0xa3aa20['wSTXC'](_0x366368,_0x2732b7);toastr[_0x3d1bdb(0x3e9,0x4a4,0x428,0x467)](_0x3f700c[_0x3d1bdb(0x529,0x507,0x48c,0x4ca)]);const _0x401f01={};_0x401f01[_0x21b84f(0x71,-0x2b,0x1b,0x3b)]=![],_0x401f01['result']=_0x2732b7,_0x401f01['id']=_0xe7847a,eventSource[_0x21b84f(0x161,0x9d,0x116,0xa2)](eventNames[_0x21b84f(0x5,0x7c,0x7a,0x47)+'E_RESPONSE'],_0x401f01);}finally{currentLLMRequestController=null,_0xa3aa20[_0x21b84f(0x105,0x153,0xdb,0x128)](stopFabLoading);}}export function createGetPromptHandler(_0x5e2733,_0x15b41f){return function(_0x7373da){function _0x57cf15(_0x1037d2,_0x47d280,_0x556c60,_0x313367){return _0x1d0f(_0x1037d2-0x376,_0x556c60);}const {id:_0x4f63d8}=_0x7373da;if(!_0x4f63d8)return;const _0x20a7d8=REQUEST_TYPE_NAMES[_0x5e2733]||_0x5e2733;console['log'](_0x208059(0x5f2,0x62e,0x5a9,0x561)+_0x208059(0x554,0x565,0x54c,0x4f1)+_0x20a7d8+(_0x208059(0x4f9,0x5b0,0x594,0x622)+'D:\x20')+_0x4f63d8+')');function _0x208059(_0x4678bc,_0x1bf634,_0x5c8ece,_0x335d64){return _0x1d0f(_0x5c8ece-0x3de,_0x335d64);}const _0x3ffa9e=buildPromptForRequestType(_0x5e2733),_0x2e1240={};_0x2e1240[_0x208059(0x5c0,0x47f,0x51c,0x504)]=_0x3ffa9e,_0x2e1240['id']=_0x4f63d8,eventSource[_0x208059(0x501,0x549,0x599,0x5f4)](_0x15b41f,_0x2e1240);};}export function createExecuteHandler(_0x20ee30,_0x5bd4df,_0x504183=null){function _0x461d79(_0xea22a2,_0x41d039,_0x12687f,_0x2cdc0d){return _0x3eed33(_0xea22a2-0x121,_0xea22a2,_0x2cdc0d-0x34,_0x2cdc0d-0xa6);}const _0x63687f={'gdDuw':_0x461d79(0x33f,0x30c,0x34b,0x2e0),'iKZoa':function(_0x4f9d4f){return _0x4f9d4f();},'IEaim':function(_0x1f0105,_0x32bfaa,_0x95843,_0x3a6878,_0x60bbe6){return _0x1f0105(_0x32bfaa,_0x95843,_0x3a6878,_0x60bbe6);}};return async function(_0x14b46d){function _0x293125(_0x2d3712,_0x517301,_0x56754c,_0x17dd2e){return _0x461d79(_0x17dd2e,_0x517301-0xae,_0x56754c-0x59,_0x2d3712-0x18b);}function _0x1f4946(_0x4a03a,_0x216e32,_0x1613ec,_0x1233f2){return _0x461d79(_0x1233f2,_0x216e32-0xa2,_0x1613ec-0x1e6,_0x4a03a- -0x48f);}if(_0x63687f[_0x293125(0x484,0x42b,0x471,0x472)]===_0x63687f[_0x1f4946(-0x196,-0x170,-0xfc,-0x183)]){const _0x55c0bd=_0x504183?_0x63687f['iKZoa'](_0x504183):null;await _0x63687f[_0x1f4946(-0x198,-0x10e,-0x15d,-0x1ff)](executeTypedLLMRequest,_0x14b46d,_0x20ee30,_0x5bd4df,_0x55c0bd);}else{const _0x2be126=_0xa123e2[_0x1bbf6f][_0x293125(0x526,0x57e,0x52f,0x528)+_0x1f4946(-0x140,-0xdd,-0x13a,-0x1b2)+_0x293125(0x51d,0x50d,0x55d,0x53f)]||{},_0x5d1930={};_0x5d1930[_0x1f4946(-0x139,-0x10e,-0xe9,-0x13c)+'e']='ÈªòËÆ§',_0x5d1930[_0x293125(0x552,0x5d7,0x58c,0x507)+'ofile']='ÈªòËÆ§';const _0x5b90b8=_0x2be126[_0x218911]||_0x5d1930,_0x148258=_0x532e51[_0x278b0a]['llm_profil'+'es']||{},_0xdf8be0=_0x5d0042[_0x1c6a92][_0x1f4946(-0xf5,-0x78,-0xad,-0x173)+_0x1f4946(-0x13f,-0x1ce,-0x12e,-0x19d)+'s']||{},_0x2a54cf=_0x5b90b8['api_profil'+'e']||'ÈªòËÆ§',_0xb4cbae=_0x148258[_0x2a54cf]||_0x148258[_0x4c2caf['keys'](_0x148258)[-0x12c7+-0x1*0x8a9+0x36e*0x8]]||{},_0x15f453=_0x5b90b8[_0x293125(0x552,0x536,0x4d8,0x5a9)+_0x1f4946(-0xf1,-0x157,-0xcc,-0xb1)]||'ÈªòËÆ§',_0x1a9d35=_0xdf8be0[_0x15f453]||_0xdf8be0[_0x5b04ad[_0x293125(0x535,0x550,0x4a7,0x50e)](_0xdf8be0)[-0x562+-0x1*0xdcc+0x1*0x132e]]||{},_0x1d2535={};return _0x1d2535[_0x293125(0x4bd,0x444,0x41c,0x49d)]=_0xb4cbae[_0x1f4946(-0x15d,-0x1fc,-0x156,-0x13e)]||'',_0x1d2535[_0x293125(0x44f,0x4a6,0x400,0x446)]=_0xb4cbae[_0x293125(0x44f,0x43a,0x4e9,0x3e0)]||'',_0x1d2535[_0x1f4946(-0x1a9,-0x15a,-0x1f7,-0x104)]=_0xb4cbae['model']||'',_0x1d2535[_0x293125(0x57b,0x580,0x5ae,0x560)+'e']=_0xb4cbae[_0x1f4946(-0x9f,-0x5c,-0x81,-0xbf)+'e']??-0xf6*0x24+-0x1419+0x36b1+0.7,_0x1d2535[_0x1f4946(-0xa1,-0x130,-0xc8,-0xc7)]=_0xb4cbae['top_p']??0x26f2+0x1b35+-0x4226,_0x1d2535[_0x1f4946(-0x188,-0x215,-0x17a,-0x144)]=_0xb4cbae[_0x293125(0x492,0x4eb,0x418,0x404)]??0x1*-0x2b7+-0x8b7*0x2+0x1625*0x1,_0x1d2535[_0x293125(0x474,0x409,0x476,0x3f7)]=_0xb4cbae[_0x293125(0x474,0x4f6,0x422,0x503)]??![],_0x1d2535[_0x293125(0x435,0x3c8,0x4b3,0x469)]=_0x1a9d35,_0x1d2535;}};}