(function(_0x5d4e06,_0x495be5){function _0x24dd8b(_0x54c416,_0xe7f27e,_0x5ee3fe,_0x48b19d){return _0x45cb(_0x5ee3fe-0x149,_0xe7f27e);}function _0x4ce1bc(_0x16c56b,_0x185d6b,_0xdce0e,_0x2bc505){return _0x45cb(_0x185d6b- -0x3a6,_0xdce0e);}const _0x32bed9=_0x5d4e06();while(!![]){try{const _0x459106=-parseInt(_0x24dd8b(0x3fc,0x3a9,0x426,0x3b0))/(-0xd5c+0x1*-0x1b65+0x28c2)+parseInt(_0x24dd8b(0x37d,0x2ec,0x310,0x39f))/(-0x21c7*-0x1+0x74*0x38+-0x3b25)*(-parseInt(_0x4ce1bc(-0x173,-0x1a7,-0x115,-0x1bb))/(-0x1043+0xf2a*0x2+-0xe0e*0x1))+-parseInt(_0x24dd8b(0x2e2,0x2f4,0x32f,0x2e3))/(0x47*-0x8b+-0xd1e+0x33af)+parseInt(_0x24dd8b(0x3f3,0x462,0x3cc,0x37b))/(0x3*0x86a+0x2*0x695+-0x2663)+parseInt(_0x4ce1bc(-0x154,-0xe0,-0x81,-0x162))/(0x1017+0x4*0x599+-0x2675)*(-parseInt(_0x24dd8b(0x3e7,0x419,0x3a5,0x3ac))/(0x4*0x349+-0x1089+0x36c))+-parseInt(_0x24dd8b(0x35e,0x33a,0x308,0x31e))/(0x1*-0x1aed+-0x1118+0x219*0x15)+parseInt(_0x24dd8b(0x32d,0x3bd,0x375,0x3eb))/(-0x124e+0x1*-0x2278+-0xb*-0x4cd)*(parseInt(_0x4ce1bc(-0x1aa,-0x177,-0x173,-0xd6))/(0xc0f+-0x9*0x309+0xf4c));if(_0x459106===_0x495be5)break;else _0x32bed9['push'](_0x32bed9['shift']());}catch(_0xbe627d){_0x32bed9['push'](_0x32bed9['shift']());}}}(_0x3720,-0x58223+-0x782dc+-0x12bb88*-0x1));const _0x3a517f=(function(){const _0x38cbcb={};_0x38cbcb[_0x4697ca(0x6c8,0x6dc,0x66e,0x675)]='AbortError',_0x38cbcb[_0x265358(0x3d8,0x3cc,0x3bc,0x464)]=_0x265358(0x318,0x32f,0x3b2,0x2c6)+_0x4697ca(0x543,0x65c,0x5b2,0x5e3),_0x38cbcb[_0x265358(0x3ea,0x34b,0x32e,0x3b6)]=function(_0x449378,_0x1bd8e4){return _0x449378===_0x1bd8e4;};function _0x4697ca(_0x3e49c7,_0x3e2a27,_0x4bbd05,_0x17a52f){return _0x45cb(_0x17a52f-0x3a7,_0x4bbd05);}_0x38cbcb['yKjvP']='hlgaw';const _0x243eb7=_0x38cbcb;function _0x265358(_0x5f5b67,_0x138765,_0x3ee799,_0x57cb1f){return _0x45cb(_0x138765-0x13d,_0x57cb1f);}let _0x5b134e=!![];return function(_0x5b0c88,_0xf06c06){function _0x57bc8a(_0x1cd40f,_0xe01bc7,_0x188a47,_0xf90a7d){return _0x4697ca(_0x1cd40f-0x1c0,_0xe01bc7-0x160,_0xe01bc7,_0x1cd40f- -0x68f);}function _0x323951(_0x4dfcf5,_0x55499a,_0x1cd04b,_0x545881){return _0x265358(_0x4dfcf5-0xc,_0x55499a- -0xc3,_0x1cd04b-0x1e3,_0x1cd04b);}if(_0x243eb7['nueOU'](_0x323951(0x366,0x32b,0x3c3,0x388),_0x243eb7[_0x57bc8a(-0x53,-0x49,0x3d,0xa)])){_0x1ea4b1['log'](_0x323951(0x31a,0x2eb,0x284,0x2de)+'e\x20request\x20'+_0x323951(0x2f8,0x327,0x2da,0x38b));const _0x188b1d={};_0x188b1d[_0x57bc8a(-0x99,-0x1f,-0x11c,-0xc6)]=_0x243eb7['vaLNo'],_0x188b1d['message']=_0x243eb7[_0x57bc8a(-0x59,-0x12,-0x5f,-0x6e)];const _0x5a8839={};_0x5a8839[_0x57bc8a(-0xf3,-0xb7,-0xa1,-0xb1)]=![],_0x5a8839['result']=null,_0x5a8839['id']=_0x177ca7,_0x5a8839[_0x323951(0x2e2,0x328,0x2ea,0x2b2)]=_0x188b1d,_0x4d5d53[_0x57bc8a(-0x137,-0x1a5,-0x1bc,-0xa1)](_0x16cf0d[_0x57bc8a(-0xfa,-0x96,-0x167,-0xdc)+'E_RESPONSE'],_0x5a8839);return;}else{const _0x1cd0f6=_0x5b134e?function(){function _0x104ae6(_0x4266af,_0x615a52,_0x4d0923,_0x2cb633){return _0x323951(_0x4266af-0x91,_0x2cb633- -0x360,_0x615a52,_0x2cb633-0x178);}if(_0xf06c06){const _0xa133e9=_0xf06c06[_0x104ae6(-0x8d,-0x7d,-0x99,-0xb6)](_0x5b0c88,arguments);return _0xf06c06=null,_0xa133e9;}}:function(){};return _0x5b134e=![],_0x1cd0f6;}};}()),_0x21fc1c=_0x3a517f(this,function(){const _0x25eef5={};function _0x5779ef(_0x1a2d44,_0x53411f,_0x3318da,_0x5650e7){return _0x45cb(_0x53411f-0x2dd,_0x1a2d44);}_0x25eef5[_0x3ca422(0x25e,0x1ea,0x2fb,0x2ec)]=_0x3ca422(0x238,0x22d,0x249,0x1ea)+'+$';const _0x5e6a61=_0x25eef5;function _0x3ca422(_0x554a30,_0x3df4f0,_0x3cac1,_0x5564d6){return _0x45cb(_0x554a30-0x72,_0x3cac1);}return _0x21fc1c[_0x5779ef(0x444,0x493,0x511,0x50c)]()[_0x3ca422(0x274,0x23b,0x25b,0x2fe)](_0x5e6a61['XQdEV'])[_0x5779ef(0x438,0x493,0x4d4,0x4c3)]()[_0x3ca422(0x227,0x20f,0x22c,0x1c1)+'r'](_0x21fc1c)[_0x3ca422(0x274,0x28e,0x2fd,0x1ea)]('(((.+)+)+)'+'+$');});_0x21fc1c();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';let currentLLMRequestController=null;export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x4656f2){currentLLMRequestController=_0x4656f2;}function _0x3720(){const _0x3a99a9=['DKTztfu','DhjPz2DLCLDVCG','u2XIsvK','AgHpC0i','DgLTzu91Da','Eg9queO','mJu2ndCZBejRDwX0','DxnLCG','EhrFChjVzMLSzq','uMPbue8','AKvnvhe','veTUDM4','B2zmCfy','DgvZDe1Vzgu','t3HpCNi','Dw5RBM93BG','Aw5JBhvKzxm','C3bSAxq','6k+35Rgc5AsX6lsLoIa','zhPlsMC','BgXTvgvZDe1Vza','ANnVBG','qKLwvwG','z2HjuK0','zgn1DM8','CM9Szq','y2HHCL9KAxnWBa','teXnigv4zwn1Da','t05Osg0','y3vZDg9T','rLbyt2O','BwvZC2fNzq','5AEl5PAW6k+35Rgc44cc','zxrPB25FC291CG','vxn0C2m','CgfYC2u','qxLkvvm','Bwf0y2G','y2HStMW','quNLIQNMIyS','AM9PBG','uujLBwm','zgrLtfu','AeTjt1C','ExD3rvm','otyYntuWEwrqEKT6','y0PpBuG','rLbNwMG','6kEs6iMYl+ACJEIJHEs/RUAuUq','C2XPy2u','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','r0fREwO','C3rFy29UDgv4Da','DNn3t3m','qwjVCNrfCNjVCG','vgfN5l+U5Ps5','DgfNx21VzgLMEq','ref4wuq','yxbPx3vYBa','CMvZDwX0','q05tEMm','BgXTx3jLCxvLCW','Bwf4x3rVA2vUCW','EuTQDLa','zxrRyMG','Bg9N','B21WBgv0Aw9UCW','r1D4r2S','veTywuK','vgjeqw0','zwHzuhe','z0jbt3K','AgLZDg9YEq','B2zPBgu','l2fWAs9IywnRzq','rNflufC','vMTkEMq','rLLRteW','C3rYAw5NAwz5','q1DquMC','wLDls3e','yNvMzMvYktO','ywrRCey','y3vZDg9Tx2LUyW','rMjNwhG','zLLtB0m','Bw9KzwW','ywjVCNrLzc4','zxjYB3i','v2vLELK','yxbPx3bYB2zPBa','y1fKqwm','yMTcAxy','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','ievYCM9YoG','lcdNUQyG','B2jQzwn0','C3rYzwfT','tgPmCK0','teXniev4zwn1Da','zsbYzxf1zxn0ia','AKnODKW','sxblCLi','ChjVBxb0','6k+35Rgc6zsz6k+VoIa','qKTKywC','ywfhrKm','suXJzfC','qLzArxm','yxnZAxn0yw50','zgf0ytOG','q2zYsgq','nJzjzwPvvhe','rKXtvNO','yMDzr0K','v1L1D0m','EeHuuKG','DhjPBq','u1jhB28','uunwwui','DMfmtM8','ksa9pt09pq','zMLNCW','B3jouxi','y2HVAwnLCW','wM1dvum','y29UDgvUDa','oIbmte0G5PYQ5Ps25yIW5PYj','r2L2ww4','BhnoqLG','y3zXuNu','tfnAwum','weHsuvu','5O+q56s66k+n6i635y+w6k+35RgcicHj','pt09pt0GteXnia','nZe5ndi2CgrLANbq','ENbWtLG','svvrDwy','y29UDgv4Da','q1riA0y','Dg9VBa','ywjVCNq','wKrjAuC','A2j5Evu','C3qTy2HHDhu4oG','EurnqMS','zMTIDwe','Cg9W','zKvYDfe','sLnAzfy','s3n5qLC','A3j1DhK','zgf0ytOGw0rptG','AfbhzNi','A2v5CW','AxnbCNjHEq','y3PHr0W','DhjPz2DLCK1Vza','yMjqDem','teXnioACQUAuTUwiSoACIEAvIowBNG','zfLPEfG','zw1PDa','y3vYCMvUDf90zq','8j+tTYbB5zU+54Mh6zo+5O6LoIa','C3rHDhvZvgv4Da','y29UC3rYDwn0BW','Dg9tDhjPBMC','v1LYEhu','CerVqLa','tw9KzwWG5PYQ6ywn572U44cc','rw9Lr3O','zM9YrwfJAa','svvwwei','zxiG','C3rYAw5N','mZuYnteWnejprfnQza','rxHAtK4','CM91BMq','DhjPz2DLCG','y29Kzq','t0HiB1e','C09VB1a','kcGOlISPkYKRkq','mZbJv0nxrKC','quHTsKe','r3j6r2e','cI0Tls0TieXmtq','C3rHDhvZ','Dgv4Da','y3HNtLq','teXnioIVT+AXGUw3SUs4REATOUoaGG','EM5hwgq','D2fYBG','57g75z6loIa','Dg9Wx3a','AhnZDuq','rv9srvnqt05trq','zNvUy3rPB24','DgvTCgvYyxr1CG','y29UDgv4Df9WCG','DgvZDf9JB250zq','uw9Hrw8','vu9vsxe','DMjMq24','ENbev2G','se5ev3O','y2HHCL9KzxnPzW','BgXTx3bYB2zPBa','ueKGs2v5lcdMIjyG','rdOG','DvjXDu0','zMH3Cva','ioIVT+AXGUw3SUwUJoAiKo+8JowqJUE7REAtJq','zKL1C3y','mJCXnZG5mMLHCxnPDa','AhrzrwS','tM1mAhK','l2DLBMvYyxrL','Aw5MBW','iefqssblzxKSia','wffKrvy','y2rizvC','teXnx0vyrunvva','vNjgsgG','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','5Pwi5zUE5Asn44cc','uMvXDwvZDcbHyG','vKHpuhO','y3vYCMvUDf9SBa','C3vJy2vZCW','y2HHDf9JB21WBa','5lUJ56cboG','yK5hA1e','Df90ExbLx2nVBG','zfvIDem','CwHTyvq','C3rHCNrZv2L0Aa','yMLxzgS','ChvZAa','mtq2mdy3DhLysvzX','ugnSCgy','5Q2J5zYO5Ase55cgia','C2vHCMnO','CMvWBgfJzq','5l2C5BEY6lEZ6l+h44cc','yM9KEq','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','ue9tva','rxvoswu','wgPSvLu','BenUCNK','5Q2J5PAh5zU+54Mh55sF5OIq','Aw9UoIaIqMvHCG','6k+35RgcieLeoIa','BNvLt1u','zuP0z1m','t0zPBgK','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','BgfPtuu','zw5HyMXLza','EeLUCxG','vMPSu2G','vwfhzwm','EwXkDxO','x3bYB2zPBgu','uxfqA3O','tfbswM8','44cq5Rwl6k+v5QIH5BYp44cr','ugnNv2G','EgH3Cxa','CKzztLO','DhjjBhm','u0HvzxG','zsbfCNjVCJO','AeTwteS','5yE95PwW6lcd55sO','5lUJ56cboIa','swnVC2u','s0jD','57g75z6loG','D2fYBMLUzW','5Rwl6k+v5QIH5BYp5O+q56s6','zw50CMLLCW','BgvUz3rO','ndCZmJiWmhrgvffJEa','CuL0y20','CeLXsMG','nJb3ENbxCuG','yxbWBhK','5y+r6ycb55QeifbYB21WDa','BMrZl2nOyxqTyW','DhjHBNnSyxrPBW','u0nwzha','Aw1Hz2vFz2vU','BvLWDfm','vxbmz2u','DhLWzq','DxrMltG','zgvJB2rL','EMPRBg0','B3j0zwq','BwvZC2fNzxm','CKfYvuy','y0jgweu','5OIwie1VzgvSioACQUMfJq','DvHdAMK','C3LZDgvT','u05jCMu','v1v1EMi','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','svzqt2m','y3vZDg9Tx3vYBa','wNbQC3q','BhvKzv9OzwfKzq','AMDvC2K','yxbPx2TLEq','v3L1Axi','rLzPvKu','y2HHCL9TB2rPzG','BMfTzq','Bv9WCM9MAwXL','ALz4EfO','6k+35Rgc5A6m5OIqid09pt09','AeHzCva','Aw1Hz2vFDxjS','iowBNUwKJsaTls0Tlq'];_0x3720=function(){return _0x3a99a9;};return _0x3720();}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x2bf9ea={};_0x2bf9ea[_0x1eece7(0x2ad,0x2f9,0x266,0x2c9)]=_0x30efc7(0x554,0x596,0x5a1,0x5aa),_0x2bf9ea[_0x30efc7(0x4d8,0x4a0,0x4cd,0x4c2)]=_0x1eece7(0x26f,0x249,0x29a,0x28a),_0x2bf9ea['sOooP']=_0x30efc7(0x5bc,0x4a5,0x544,0x5d0),_0x2bf9ea['dcuvo']=_0x1eece7(0x289,0x1f4,0x197,0x196);const _0x24f2f0=_0x2bf9ea;function _0x30efc7(_0x1a1eb7,_0x1ee277,_0x3ccdf9,_0xee00e3){return _0x45cb(_0x3ccdf9-0x324,_0xee00e3);}function _0x1eece7(_0x4d9889,_0x4a6591,_0x4ded81,_0x257667){return _0x45cb(_0x4a6591-0x26,_0x4ded81);}if(currentLLMRequestController){if(_0x1eece7(0x21f,0x2b8,0x308,0x34d)!==_0x24f2f0[_0x30efc7(0x506,0x477,0x4e9,0x565)])currentLLMRequestController[_0x1eece7(0x39b,0x309,0x28a,0x395)](),toastr[_0x1eece7(0x1cb,0x210,0x210,0x1b1)](_0x24f2f0[_0x1eece7(0x300,0x294,0x324,0x329)]);else{const _0xd53ce2={};_0xd53ce2[_0x1eece7(0x296,0x268,0x1e8,0x1d2)]='Á≥ªÁªüÊèêÁ§∫ËØç',_0xd53ce2[_0x30efc7(0x4e1,0x5ad,0x581,0x56a)]='Áî®Êà∑',_0xd53ce2[_0x30efc7(0x635,0x5fc,0x5e7,0x567)]=_0x24f2f0[_0x1eece7(0x363,0x2f9,0x2a4,0x270)],_0xd53ce2[_0x1eece7(0x213,0x1fb,0x1fd,0x18e)]=_0x24f2f0[_0x1eece7(0x1fd,0x1cf,0x238,0x1a7)],_0xd53ce2['tool']='Â∑•ÂÖ∑';const _0x53fdef=_0xd53ce2;return _0x53fdef[_0x2db59a]||_0x3e612e;}}}export function isLLMTestMode(){function _0x3704d7(_0x320439,_0x6d1900,_0x4d9829,_0x2ee4eb){return _0x45cb(_0x6d1900- -0x1a0,_0x320439);}return!!extension_settings[extensionName][_0x3704d7(0xd8,0xca,0x92,0x4c)+'e'];}function _0x46a770(_0x2b24e5,_0x294542,_0x2262d1,_0x4879f4){return _0x45cb(_0x294542- -0x163,_0x4879f4);}export function formatPromptForDisplay(_0x48588f){function _0x47983a(_0xa5c0ec,_0xc54ec1,_0x1c29f,_0x4cdc14){return _0x45cb(_0x4cdc14-0x353,_0xc54ec1);}const _0x143061={'VkJzd':function(_0x201ec1,_0x10b2da){return _0x201ec1===_0x10b2da;},'zjklm':_0x1b4c60(0x524,0x48f,0x504,0x4ac),'BVZEs':_0x1b4c60(0x427,0x492,0x435,0x4a8),'SNIre':_0x1b4c60(0x37f,0x45e,0x3c2,0x41b),'hssuD':function(_0x5ba689,_0x3ae7bf){return _0x5ba689===_0x3ae7bf;},'ehYPq':_0x1b4c60(0x49d,0x4ed,0x471,0x4f5),'ywwES':function(_0x443919,_0x3c2b2d){return _0x443919===_0x3c2b2d;},'OFili':_0x47983a(0x61c,0x52d,0x5b8,0x5a7),'uRquM':'data:','JzUSN':function(_0x3f94c8,_0x2697d2){return _0x3f94c8/_0x2697d2;},'XHRQU':function(_0x5a0c1a,_0x1520ab){return _0x5a0c1a*_0x1520ab;},'bbPtC':_0x1b4c60(0x457,0x4e6,0x4a0,0x478),'VjlSh':_0x1b4c60(0x45e,0x4c4,0x50a,0x476),'QBemc':function(_0x360670,_0x54e25d){return _0x360670!==_0x54e25d;},'cJOmH':_0x1b4c60(0x547,0x4f6,0x468,0x4b4),'HNDWz':function(_0x54dd2d,_0x311ade){return _0x54dd2d(_0x311ade);},'fErtQ':function(_0x4e1aad,_0x2a8087){return _0x4e1aad===_0x2a8087;},'XjlVU':_0x1b4c60(0x546,0x52f,0x473,0x4e9),'FPgZh':_0x47983a(0x60b,0x6ae,0x630,0x637),'PcgWh':_0x47983a(0x51c,0x5fb,0x55b,0x5b2),'BBeJB':_0x47983a(0x63f,0x698,0x64b,0x5fd),'adkpF':'object','trIls':function(_0x1401a1,_0x114f6c){return _0x1401a1!==_0x114f6c;},'pIqJh':function(_0xd504c1,_0x38036f){return _0xd504c1!==_0x38036f;},'dYixX':'nMUyN','bkBiv':_0x1b4c60(0x4b3,0x3ad,0x386,0x428)};if(_0x143061[_0x1b4c60(0x425,0x3a5,0x371,0x3f3)](typeof _0x48588f,'string')){if('FbgXx'===_0x143061['BBeJB'])return _0x48588f;else{const _0x3dd1ba={'lsNBX':function(_0x1278b2,_0x3385d9){return _0x1278b2===_0x3385d9;},'CWPRg':function(_0x52f7dd,_0x184387){return _0x143061['VkJzd'](_0x52f7dd,_0x184387);},'NmLhy':function(_0x446f9c,_0xbe97d5,_0x2fcc92){return _0x446f9c(_0xbe97d5,_0x2fcc92);},'xInqx':_0x143061[_0x1b4c60(0x48f,0x46a,0x48f,0x48a)]};_0x34d460[_0x47983a(0x5b1,0x525,0x4e9,0x57d)][_0x47983a(0x528,0x547,0x5ad,0x50e)](_0xa0ba92=>{if(!_0xa0ba92[_0x6837b(0x539,0x494,0x4f3,0x502)])return;if(!_0xa0ba92['content']||_0x3dd1ba[_0x1e9455(0x3a3,0x3e5,0x417,0x3f9)](_0xa0ba92[_0x1e9455(0x363,0x3e2,0x45a,0x356)]['trim'](),''))return;function _0x6837b(_0x51ac20,_0x1c7bfb,_0x503257,_0x5d8ac7){return _0x47983a(_0x51ac20-0x6f,_0x1c7bfb,_0x503257-0x8e,_0x5d8ac7- -0x64);}if(_0x3dd1ba[_0x6837b(0x594,0x5eb,0x545,0x594)](_0xa0ba92[_0x1e9455(0x269,0x2bb,0x340,0x266)+'e'],_0x6837b(0x4d8,0x515,0x535,0x4b1))){if(!_0x5d7649||!_0x3dd1ba[_0x1e9455(0x279,0x2f6,0x2ca,0x318)](_0x4d114a,_0xa0ba92['triggerWor'+'ds'],_0x2b8661))return;}const _0x2ed6b6={};function _0x1e9455(_0x432907,_0x531357,_0x2871f2,_0x10c00){return _0x1b4c60(_0x432907,_0x531357-0xfd,_0x2871f2-0xd3,_0x531357- -0x141);}_0x2ed6b6[_0x6837b(0x4d1,0x4c5,0x50a,0x55e)]=_0xa0ba92[_0x6837b(0x541,0x527,0x54f,0x55e)]||_0x3dd1ba[_0x1e9455(0x389,0x322,0x332,0x286)],_0x2ed6b6[_0x6837b(0x62c,0x5b6,0x60e,0x5c3)]=_0xa0ba92[_0x6837b(0x5a0,0x65a,0x528,0x5c3)],_0x264e55[_0x6837b(0x4bf,0x48d,0x495,0x4ed)](_0x2ed6b6);});}}function _0x1b4c60(_0x5d5397,_0x260ea7,_0x329cb8,_0x26836f){return _0x45cb(_0x26836f-0x24f,_0x5d5397);}if(Array['isArray'](_0x48588f)){const _0x2928eb=[];return _0x48588f[_0x47983a(0x484,0x49a,0x4f0,0x50e)]((_0x204041,_0x1629ef)=>{function _0x30daaf(_0x3aa24f,_0x228573,_0x2856ae,_0x83b02b){return _0x1b4c60(_0x3aa24f,_0x228573-0x1dc,_0x2856ae-0x145,_0x228573- -0x331);}function _0x222d1b(_0x10c005,_0x598c31,_0x3a63dd,_0x5234a3){return _0x47983a(_0x10c005-0xa8,_0x10c005,_0x3a63dd-0xb4,_0x3a63dd- -0x5a8);}const _0x137af0={'zpDWh':_0x143061[_0x30daaf(0x41,0xcc,0x3f,0x139)],'hhQUW':function(_0x1361f6,_0x3587ca){return _0x1361f6(_0x3587ca);},'ddeLU':_0x143061[_0x222d1b(-0x11,-0xa6,-0x40,-0x36)]};if(_0x143061['QBemc'](_0x30daaf(0x1d4,0x15f,0x1bf,0x149),_0x222d1b(0xe0,0x8e,0x93,0xb))){const _0x5a5c53=_0x204041[_0x222d1b(-0x50,0x7b,0x1a,-0x76)]||_0x143061[_0x30daaf(0x141,0x1a2,0x10d,0x21e)],_0x48df2c=_0x143061[_0x30daaf(0x11d,0xfb,0x61,0xcf)](getRoleLabel,_0x5a5c53);_0x2928eb[_0x222d1b(-0x68,-0xa7,-0x57,-0x6c)](''+'‚ïê'['repeat'](-0x1365*-0x2+-0x2*-0x11af+-0x2*0x24fb)),_0x2928eb[_0x222d1b(-0xd3,0x3a,-0x57,-0x7e)]('„Äê'+_0x48df2c+'„Äë'),_0x2928eb[_0x30daaf(0x122,0x11c,0x1a5,0xaf)](''+'‚îÄ'['repeat'](0x1*-0x23e3+0x4*0x875+0x241));const _0x31a929=_0x204041[_0x222d1b(0xa0,0xff,0x7f,0xd)];if(typeof _0x31a929===_0x222d1b(-0x79,-0x116,-0x97,-0x1d)){if(_0x143061[_0x222d1b(-0x89,-0x104,-0xb1,-0x8c)](_0x143061[_0x30daaf(0xb7,0x127,0x1c3,0x119)],_0x143061[_0x222d1b(-0x5c,0x3d,0x30,-0x9)])){const _0x7dbaa4={};_0x7dbaa4[_0x222d1b(-0x8c,0x57,0x5,-0xe)]=0x1388,_0x2db1f1[_0x222d1b(0xd,-0xf5,-0x6b,-0x59)](_0x222d1b(-0xa1,0x10,-0x3a,0x60)+_0x98e393+(_0x222d1b(-0xd,-0x74,-0x71,-0x5f)+_0x222d1b(-0xca,-0x49,-0x51,0x15)),_0x137af0[_0x222d1b(-0xcc,-0x15,-0x79,-0x5e)],_0x7dbaa4);}else _0x2928eb[_0x222d1b(0x44,-0xdf,-0x57,-0xc3)](_0x31a929);}else Array['isArray'](_0x31a929)&&(_0x143061[_0x30daaf(0x10b,0x19d,0x132,0x1df)](_0x222d1b(0x1b,0x9,-0x11,-0x99),_0x143061[_0x30daaf(0x12c,0x13a,0x138,0xfe)])?_0x31a929[_0x30daaf(0xaa,0xd9,0x11b,0x136)](_0x20d9e7=>{function _0x2ac805(_0x39be25,_0x5be43a,_0x2f9ec7,_0x2a7aa0){return _0x222d1b(_0x2f9ec7,_0x5be43a-0x132,_0x39be25- -0xba,_0x2a7aa0-0xbc);}function _0x58d392(_0x16cdb9,_0x1698a9,_0x5ffcc8,_0x5edef3){return _0x30daaf(_0x16cdb9,_0x5ffcc8- -0x1b5,_0x5ffcc8-0x17b,_0x5edef3-0x4);}if(_0x143061[_0x58d392(-0x9,0x5e,0x2b,0x72)]!==_0x143061['BVZEs'])_0x137af0['hhQUW'](_0x5bbeaf,_0x58d392(-0x64,-0x4d,-0x96,-0x1e)+_0x1040ed+_0x58d392(0x91,0x29,0x1c,0x61));else{if(_0x143061[_0x2ac805(-0x6d,0x23,0x10,-0x7c)](_0x20d9e7[_0x58d392(-0x1c,-0x52,-0x5f,-0xb9)],_0x143061[_0x58d392(-0x37,-0x9e,-0x54,-0xce)])){if(_0x143061[_0x2ac805(-0x13c,-0x12c,-0x1c5,-0xc2)](_0x143061[_0x58d392(-0x8a,-0x4c,0x5,-0x83)],_0x143061[_0x58d392(0x87,-0x2c,0x5,0x5b)]))_0x2928eb[_0x58d392(-0xb1,-0xad,-0x99,0x2)](_0x20d9e7['text']||'');else{if(_0x5d7af5['message'][_0x2ac805(-0xa9,-0xdc,-0x15,-0x81)](_0x137af0[_0x2ac805(-0x8f,-0x2a,-0x3d,-0x2e)])||_0x4271fe[_0x2ac805(-0x9a,-0x118,-0xc,-0xd8)][_0x2ac805(-0xa9,-0xc7,-0x143,-0x10)](_0x2ac805(-0x118,-0x1ba,-0x1b5,-0xbb)))throw _0x56ad29;}}else{if(_0x143061[_0x2ac805(-0x8d,-0x8c,-0x88,-0x101)](_0x20d9e7['type'],_0x143061[_0x58d392(-0x1,-0x59,-0x87,-0x17)])){const _0x2be4e1=_0x20d9e7['image_url']?.['url']||'';if(_0x2be4e1[_0x58d392(-0xc0,-0x45,-0x9b,-0x9a)](_0x143061[_0x2ac805(-0x12d,-0x115,-0x10e,-0x180)])){const _0x2bd63c=_0x2be4e1['match'](/^data:([^;]+);/),_0x1e1442=_0x2bd63c?_0x2bd63c[0x1*-0x16ca+0xcb9*0x2+-0x2a7]:_0x58d392(0x67,0x1e,-0x32,-0x1b),_0x164439=_0x2be4e1[_0x2ac805(-0xa8,-0x9f,-0x112,-0x4d)](',')[0x1c7f+-0x649*0x2+-0x4*0x3fb]||'',_0x51497b=Math[_0x2ac805(-0x14e,-0xcd,-0x148,-0xb4)](_0x143061['JzUSN'](_0x143061[_0x2ac805(-0x35,-0x10,0x65,-0xbf)](_0x164439[_0x58d392(-0xaa,-0x7b,-0x6c,-0x6c)],-0x1*-0x131+-0x28d+0x15f*0x1),-0x17db+0x2d4+0x150b)/(0x21df+-0xe5e+-0xf81));_0x2928eb[_0x58d392(-0x3c,-0x123,-0x99,-0x52)](_0x58d392(-0x93,-0x32,-0x86,-0x11d)+':\x20'+_0x1e1442+',\x20Á∫¶\x20'+_0x51497b+_0x58d392(-0x57,-0xce,-0x71,-0xf1));}else _0x2928eb['push'](_0x2ac805(-0x15c,-0x15c,-0x12d,-0x18d)+_0x2be4e1+']');}}}}):_0x5a1517=''+_0x54c3e8[_0x30daaf(0x1ab,0x1c2,0x143,0x201)](_0x13729f[_0x222d1b(0xac,0x3b,0x59,0xe7)]));_0x2928eb[_0x222d1b(-0xf,-0xa5,-0x57,-0x5a)]('');}else{_0x31cafe=''+_0x559bef[_0x30daaf(0x151,0x1cc,0x1bd,0x13b)][_0x30daaf(0x1c7,0x193,0x130,0x19e)];const _0x137a97=[];if(_0x581cb7['error'][_0x30daaf(0xbe,0x156,0x116,0xc2)])_0x137a97[_0x222d1b(0x3f,-0xf4,-0x57,-0xdd)]('Á±ªÂûã:\x20'+_0x2cbc0c[_0x30daaf(0x1ab,0x1cc,0x13d,0x14b)][_0x222d1b(0x6a,0x6f,-0x1d,-0x99)]);if(_0x2702fe['error'][_0x30daaf(0x7f,0xe1,0xf5,0xa5)])_0x137a97[_0x222d1b(0x35,-0x7f,-0x57,-0x46)]('‰ª£Á†Å:\x20'+_0x5b415e[_0x222d1b(0x14,0x93,0x59,-0x3e)][_0x222d1b(-0x60,-0x112,-0x92,-0x3f)]);_0x137a97[_0x30daaf(0x181,0x149,0x182,0x13a)]>-0x47*0x68+0x1979*-0x1+0x121b*0x3&&(_0xc6b040+='\x20('+_0x137a97['join'](',\x20')+')');}}),_0x2928eb[_0x47983a(0x61c,0x634,0x546,0x5d1)]('\x0a');}if(_0x143061[_0x47983a(0x463,0x46a,0x45f,0x4f7)](typeof _0x48588f,_0x143061[_0x47983a(0x624,0x5c2,0x65e,0x5fb)])&&_0x143061[_0x47983a(0x52f,0x4dc,0x598,0x572)](_0x48588f,null)){if(_0x143061[_0x47983a(0x4f1,0x51a,0x5f3,0x581)](_0x143061[_0x1b4c60(0x46d,0x3e3,0x3ca,0x3ff)],_0x143061[_0x47983a(0x63a,0x681,0x5ad,0x605)]))return JSON['stringify'](_0x48588f,null,0x3*0x161+-0x1*0x10c9+0x12*0xb4);else{const _0x3c00a1=_0x2ab5c1[_0x21f0d7][_0x1b4c60(0x493,0x43b,0x47b,0x427)+_0x47983a(0x552,0x63c,0x5fe,0x5b1)+'s']||{},_0x306d05=_0x13bac5[_0x5738ab][_0x47983a(0x498,0x565,0x47a,0x505)+_0x1b4c60(0x451,0x439,0x4fe,0x4d9)+_0x47983a(0x5e4,0x570,0x4f0,0x56b)];return _0x3c00a1[_0x306d05]||_0x3c00a1[_0x49c76d[_0x47983a(0x524,0x54d,0x56c,0x4fd)](_0x3c00a1)[-0xc*-0xa9+0x187+0x973*-0x1]]||{};}}return _0x143061[_0x47983a(0x4cd,0x599,0x4bb,0x530)](String,_0x48588f);}export function getRoleLabel(_0x504f15){const _0x4361b0={};_0x4361b0[_0xfc4d2b(-0x11e,-0x85,-0xbd,-0xc0)]='Á≥ªÁªüÊèêÁ§∫ËØç',_0x4361b0[_0xfc4d2b(-0x205,-0x1b8,-0x229,-0x1f0)]='AIÂä©Êâã',_0x4361b0['xhwqp']=_0x128ff6(0x38c,0x340,0x379,0x3d4);const _0x40d9fe=_0x4361b0,_0x222c5f={};_0x222c5f['system']=_0x40d9fe[_0x128ff6(0x448,0x4d4,0x4cf,0x3e0)];function _0xfc4d2b(_0x52690f,_0x1138ea,_0x54f0fe,_0xce43f3){return _0x45cb(_0x1138ea- -0x364,_0x54f0fe);}_0x222c5f[_0x128ff6(0x3c6,0x3fa,0x43d,0x328)]='Áî®Êà∑',_0x222c5f['assistant']=_0x40d9fe[_0x128ff6(0x315,0x317,0x32a,0x280)],_0x222c5f[_0x128ff6(0x33e,0x2a4,0x33a,0x39f)]=_0x40d9fe[_0x128ff6(0x386,0x371,0x33b,0x375)],_0x222c5f[_0xfc4d2b(-0xe5,-0x82,0x1e,-0x11c)]='Â∑•ÂÖ∑';function _0x128ff6(_0x4abbe3,_0x7aaeea,_0x51901c,_0x4a12e8){return _0x45cb(_0x4abbe3-0x169,_0x7aaeea);}const _0x2539e7=_0x222c5f;return _0x2539e7[_0x504f15]||_0x504f15;}export function getCurrentLLMProfile(){const _0x33a8a2=extension_settings[extensionName][_0x17da2e(-0x57,-0x63,-0xe3,-0xf7)+'es']||{},_0x39c9b2=extension_settings[extensionName][_0x17da2e(-0x75,-0x8f,-0xce,-0xcd)+_0x234e84(0x619,0x638,0x6ba,0x659)];function _0x234e84(_0x4947d9,_0x2d2dcc,_0x1889f5,_0x9ee1c2){return _0x45cb(_0x4947d9-0x3c9,_0x9ee1c2);}function _0x17da2e(_0x32ebf4,_0x14038a,_0x129441,_0x33156b){return _0x45cb(_0x129441- -0x2c2,_0x33156b);}return _0x33a8a2[_0x39c9b2]||_0x33a8a2[Object[_0x17da2e(-0x166,-0x8e,-0x118,-0x10d)](_0x33a8a2)[-0x351*0x6+-0x1fc4+0x185*0x22]]||{};}export function getCurrentTestContext(){const _0x19b3b8=extension_settings[extensionName]['test_conte'+'xt_profile'+'s']||{};function _0x33c7fe(_0x5a9c2c,_0xb70673,_0x1c8a7b,_0x1a048c){return _0x45cb(_0x1c8a7b-0x6d,_0xb70673);}const _0x36e7da=extension_settings[extensionName][_0x374bcf(0x195,0x237,0x19c,0x233)+'st_context'+_0x374bcf(0x1fb,0x164,0x1a1,0x207)];function _0x374bcf(_0x3739ed,_0x423ca9,_0x155f02,_0x47d232){return _0x45cb(_0x3739ed- -0x1d,_0x155f02);}return _0x19b3b8[_0x36e7da]||_0x19b3b8[Object['keys'](_0x19b3b8)[-0x67e+-0xe1b+0x1499]]||{};}export function getEffectiveConfigForRequestType(_0x2e66f0){const _0x57b31a=extension_settings[extensionName][_0x2556e3(0x417,0x458,0x330,0x3c8)+_0x2556e3(0x2e0,0x33b,0x2b0,0x32e)+_0x2409b3(0x63,0x23,0x7b,0xc)]||{},_0x39ee9a={};_0x39ee9a[_0x2556e3(0x480,0x43d,0x403,0x3e5)+'e']='ÈªòËÆ§',_0x39ee9a[_0x2409b3(-0x96,-0x68,-0xb3,-0xa3)+_0x2556e3(0x473,0x418,0x341,0x3d4)]='ÈªòËÆ§';function _0x2409b3(_0x335420,_0x54cb34,_0x5c1c10,_0x20f166){return _0x45cb(_0x335420- -0x26d,_0x54cb34);}function _0x2556e3(_0x3fbdba,_0x1df050,_0x231161,_0x58424d){return _0x45cb(_0x58424d-0x135,_0x1df050);}const _0x5f21d1=_0x57b31a[_0x2e66f0]||_0x39ee9a,_0x5b8252=extension_settings[extensionName]['llm_profil'+'es']||{},_0x5a4e31=extension_settings[extensionName]['test_conte'+'xt_profile'+'s']||{},_0x640bc9=_0x5f21d1[_0x2409b3(0x43,0xb4,-0x33,-0x45)+'e']||'ÈªòËÆ§',_0x1dc85d=_0x5b8252[_0x640bc9]||_0x5b8252[Object[_0x2556e3(0x335,0x2ad,0x286,0x2df)](_0x5b8252)[0xe5a+0x18a3+-0x26fd]]||{},_0xa3c4c9=_0x5f21d1['context_pr'+_0x2409b3(0x32,0x1c,0x0,-0x2c)]||'ÈªòËÆ§',_0x278a0d=_0x5a4e31[_0xa3c4c9]||_0x5a4e31[Object[_0x2409b3(-0xc3,-0xfd,-0x118,-0x6c)](_0x5a4e31)[0x5d*-0x1+0x4f*-0x2a+0xd53]]||{},_0x109abd={};return _0x109abd[_0x2556e3(0x3b8,0x329,0x352,0x3c5)]=_0x1dc85d[_0x2409b3(0x23,-0x19,0x6e,0x4b)]||'',_0x109abd[_0x2409b3(-0x22,0x1d,-0x74,-0x23)]=_0x1dc85d[_0x2409b3(-0x22,-0xab,-0x98,-0x3b)]||'',_0x109abd['model']=_0x1dc85d[_0x2556e3(0x397,0x437,0x35b,0x3e1)]||'',_0x109abd[_0x2556e3(0x314,0x28c,0x373,0x30b)+'e']=_0x1dc85d[_0x2556e3(0x35c,0x31e,0x30a,0x30b)+'e']??-0x94e*-0x4+0xd7e*-0x2+-0xa3c+0.7,_0x109abd[_0x2409b3(-0x9b,-0xf8,-0x85,-0xe6)]=_0x1dc85d[_0x2556e3(0x317,0x344,0x3a7,0x307)]??-0xdb8+-0x85d*-0x2+0x301*-0x1,_0x109abd[_0x2409b3(0x27,-0x17,0xa1,0x9f)]=_0x1dc85d[_0x2556e3(0x43b,0x3dd,0x3e0,0x3c9)]??0x1c01+-0x1d6d+0x92*0x6,_0x109abd[_0x2556e3(0x3ce,0x3dd,0x357,0x3ec)]=_0x1dc85d[_0x2556e3(0x3d7,0x3c8,0x445,0x3ec)]??![],_0x109abd[_0x2409b3(0x73,0x7c,0xcc,0x10b)]=_0x278a0d,_0x109abd;}export function buildPromptForRequestType(_0x14cab6,_0x5de286=''){const _0x530a10={'VrFHh':function(_0x3a8103,_0x53325b){return _0x3a8103===_0x53325b;},'GrzGa':_0x495115(-0xde,-0x1d0,-0x16e,-0x11f),'chlNl':function(_0x486434,_0xfea5c4,_0x303ca8){return _0x486434(_0xfea5c4,_0x303ca8);},'orNQr':function(_0x3edbfb,_0x515e43){return _0x3edbfb===_0x515e43;},'SRGoo':function(_0x101811,_0x41af84){return _0x101811===_0x41af84;},'WeezY':_0x495115(-0x12d,-0x11b,-0xd3,-0x175),'psjfQ':_0x495115(-0x107,-0x14e,-0x162,-0x1d5),'LPRZo':function(_0x1a16cd,_0x1b85c1){return _0x1a16cd(_0x1b85c1);},'TKnvn':function(_0xf9860f,_0x43f81d){return _0xf9860f!==_0x43f81d;},'lCnry':_0x495115(-0x127,-0x172,-0xf9,-0x104),'pDqQd':function(_0x594873,_0x4ddf11){return _0x594873!==_0x4ddf11;},'EuNIe':_0x495115(-0xe9,-0xab,-0xb6,-0x13e),'xHTRH':_0x267d4a(0x4f7,0x566,0x5ca,0x576)},_0x36433a=extension_settings[extensionName][_0x267d4a(0x5cd,0x561,0x662,0x5f0)+_0x267d4a(0x4d3,0x4c0,0x5f3,0x556)+_0x495115(-0x6f,-0x5a,-0x60,-0x6)]||{},_0x372f4a={};_0x372f4a[_0x495115(-0x169,-0x195,-0x159,-0xe5)+_0x267d4a(0x56c,0x5cc,0x597,0x5fc)]='ÈªòËÆ§';const _0x5bf342=_0x36433a[_0x14cab6]||_0x372f4a;function _0x267d4a(_0x22e42a,_0xe6b24a,_0xe36bd8,_0x18f7b1){return _0x45cb(_0x18f7b1-0x35d,_0xe36bd8);}const _0x424430=_0x5bf342[_0x495115(-0xfa,-0xf1,-0x159,-0x140)+'ofile']||'ÈªòËÆ§',_0x2d7a87=extension_settings[extensionName]['test_conte'+_0x267d4a(0x53c,0x5c5,0x5c7,0x5bb)+'s']||{};function _0x495115(_0x541289,_0x556ce7,_0xc760a,_0x2eff5b){return _0x45cb(_0xc760a- -0x330,_0x541289);}const _0x128681=_0x2d7a87[_0x424430]||_0x2d7a87[Object[_0x267d4a(0x4a3,0x4b2,0x541,0x507)](_0x2d7a87)[0x1d*0x2a+-0x1*-0x1a9d+-0x1f5f]]||{},_0x3fa9ee=[];if(_0x128681[_0x495115(-0x18d,-0x8e,-0x106,-0x7d)]&&Array['isArray'](_0x128681[_0x267d4a(0x59a,0x5bf,0x601,0x587)])){if(_0x530a10[_0x267d4a(0x59a,0x50f,0x4ef,0x565)]===_0x267d4a(0x55b,0x613,0x522,0x5b3)){if(!_0x2731e8['enabled'])return;if(!_0x4082f8[_0x267d4a(0x685,0x673,0x6a1,0x631)]||_0x530a10[_0x267d4a(0x576,0x4fd,0x4a9,0x54c)](_0x5f4e71[_0x267d4a(0x6c1,0x5d1,0x5af,0x631)][_0x495115(0x9,0x1f,-0x65,-0xdd)](),''))return;if(_0x530a10[_0x267d4a(0x556,0x4b5,0x583,0x54c)](_0x4a2d3b[_0x495115(-0x158,-0x1de,-0x183,-0x1f2)+'e'],_0x530a10[_0x495115(-0xff,-0x1a5,-0x167,-0x192)])){if(!_0x5811ec||!_0x530a10[_0x495115(-0x11,-0xbb,-0xb4,-0xfb)](_0x19b5c3,_0x409e13['triggerWor'+'ds'],_0x47ac67))return;}const _0x172b9d={};_0x172b9d[_0x495115(-0x3c,-0x157,-0xc1,-0x147)]=_0x4f50e2[_0x267d4a(0x567,0x54f,0x5c8,0x5cc)]||_0x267d4a(0x5fc,0x575,0x562,0x5ba),_0x172b9d[_0x495115(-0x5d,-0x2a,-0x5c,0x28)]=_0x501ac9[_0x495115(0x39,0x6,-0x5c,0x41)],_0x58562e['push'](_0x172b9d);}else _0x128681['entries'][_0x267d4a(0x492,0x575,0x487,0x518)](_0xde7f68=>{if(!_0xde7f68[_0x34d034(0x58f,0x5b1,0x591,0x50e)])return;function _0x34d034(_0x3d1415,_0x195fd3,_0xdace19,_0xd3e55f){return _0x267d4a(_0x3d1415-0x199,_0x195fd3-0x21,_0xd3e55f,_0x195fd3-0x41);}if(!_0xde7f68[_0x2962d6(0x46b,0x3f3,0x4db,0x474)]||_0x530a10[_0x34d034(0x6c2,0x66f,0x5ef,0x5d8)](_0xde7f68['content']['trim'](),''))return;if(_0x530a10[_0x2962d6(0x502,0x4e8,0x505,0x46c)](_0xde7f68[_0x2962d6(0x2c4,0x2f0,0x310,0x34d)+'e'],_0x34d034(0x4e8,0x560,0x5c1,0x5e9))){if(!_0x5de286||!_0x530a10['chlNl'](checkTriggerWords,_0xde7f68[_0x2962d6(0x374,0x39c,0x3c6,0x3f7)+'ds'],_0x5de286))return;}const _0x3f53b7={};_0x3f53b7[_0x2962d6(0x388,0x49c,0x465,0x40f)]=_0xde7f68[_0x34d034(0x65f,0x60d,0x570,0x5e6)]||_0x530a10[_0x34d034(0x60a,0x64d,0x5c3,0x64c)];function _0x2962d6(_0x2285a2,_0x3a2257,_0x298c59,_0x2b4ddc){return _0x495115(_0x298c59,_0x3a2257-0xe2,_0x2b4ddc-0x4d0,_0x2b4ddc-0x1f0);}_0x3f53b7['content']=_0xde7f68['content'],_0x3fa9ee[_0x34d034(0x596,0x59c,0x56e,0x5a3)](_0x3f53b7);});}else _0x128681[_0x495115(-0x55,-0xc2,-0x92,-0x41)]&&Array[_0x495115(-0x147,-0x1db,-0x185,-0x129)](_0x128681[_0x267d4a(0x65b,0x674,0x697,0x5fb)])&&(_0x530a10[_0x267d4a(0x6c2,0x68c,0x62f,0x627)]!==_0x530a10['xHTRH']?(_0xeef358[_0x495115(-0xec,-0xdb,-0x4d,-0xe6)](),_0x503129[_0x267d4a(0x525,0x4fc,0x5e4,0x547)](_0x530a10['psjfQ'])):_0x128681[_0x267d4a(0x662,0x63d,0x669,0x5fb)][_0x267d4a(0x584,0x525,0x555,0x518)](_0x455496=>{if(_0x455496['user']&&_0x530a10[_0x1c4f7e(0x46b,0x438,0x442,0x3ab)](_0x455496[_0x4cdf25(0x1e5,0x227,0x1a5,0x118)]['trim'](),'')){if(_0x530a10[_0x4cdf25(0x127,0xbd,0x137,0x15f)](_0x530a10[_0x4cdf25(0x137,0xec,0x152,0x1d6)],_0x4cdf25(0x1bf,0x133,0x17f,0x1ae))){const _0x3a1e04={};_0x3a1e04['role']=_0x530a10[_0x4cdf25(0x265,0x233,0x1f7,0x203)],_0x3a1e04[_0x1c4f7e(0x4af,0x46e,0x4b5,0x466)]=_0x455496[_0x4cdf25(0x1c9,0x1b7,0x1a5,0x1fb)],_0x3fa9ee['push'](_0x3a1e04);}else _0x51c5ca+=_0x4e2747,_0x3f2ef3&&_0x530a10[_0x1c4f7e(0x42e,0x3f4,0x3fb,0x419)](_0x52ec3b,_0x534131);}function _0x4cdf25(_0x120ae0,_0x138e2f,_0x3dc607,_0x46c832){return _0x495115(_0x46c832,_0x138e2f-0x123,_0x3dc607-0x278,_0x46c832-0x180);}function _0x1c4f7e(_0x225bbe,_0x48440e,_0x2a6ca8,_0x1f15a9){return _0x495115(_0x225bbe,_0x48440e-0x8,_0x2a6ca8-0x511,_0x1f15a9-0x1c2);}if(_0x455496['assistant']&&_0x530a10['pDqQd'](_0x455496[_0x4cdf25(0x267,0x17c,0x20b,0x1ec)]['trim'](),'')){const _0x5a287c={};_0x5a287c[_0x4cdf25(0x235,0x135,0x1b7,0x23b)]=_0x1c4f7e(0x4df,0x445,0x4a4,0x479),_0x5a287c['content']=_0x455496[_0x4cdf25(0x1fd,0x16c,0x20b,0x173)],_0x3fa9ee[_0x4cdf25(0xf8,0x134,0x146,0x13f)](_0x5a287c);}}));const _0x118e40=_0x530a10[_0x267d4a(0x59a,0x5f9,0x576,0x577)](mergeAdjacentMessages,_0x3fa9ee),_0x609ad2=_0x530a10[_0x495115(-0x160,-0x106,-0x116,-0x1a3)](processRollPlaceholders,_0x118e40);return _0x609ad2;}const _0x3e2b4c={};_0x3e2b4c[_0x46a770(0xad,0xd2,0xbd,0x10b)]=_0x445d44(-0x195,-0x126,-0xe4,-0x148),_0x3e2b4c[_0x46a770(-0x12,0x7b,0x4a,0xb3)+'n']='ËßíËâ≤/ÊúçË£ÖËÆæËÆ°',_0x3e2b4c[_0x46a770(0x126,0x10d,0x76,0x182)+'ay']='ËßíËâ≤/ÊúçË£ÖÂ±ïÁ§∫',_0x3e2b4c[_0x46a770(0x167,0xeb,0x9f,0x15b)+'y']=_0x46a770(0x188,0x123,0x1af,0xfa);function _0x445d44(_0x15b0e3,_0xb6ac25,_0x30611d,_0xa3a149){return _0x45cb(_0xa3a149- -0x353,_0xb6ac25);}_0x3e2b4c[_0x445d44(-0x148,-0x193,-0xad,-0x120)+'n']='ÁøªËØë',_0x3e2b4c[_0x46a770(0x150,0x12b,0x147,0xb3)]=_0x445d44(-0xf5,-0x164,-0xa4,-0xc6);function _0x45cb(_0x38565a,_0x35d1c5){_0x38565a=_0x38565a-(-0xe*-0x111+0x1*0x1b37+0x40d*-0xa);const _0x233312=_0x3720();let _0x57cedc=_0x233312[_0x38565a];if(_0x45cb['qmHOky']===undefined){var _0x78dfec=function(_0x109ce8){const _0x482184='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x50b40a='',_0x4458e1='',_0x1dd91d=_0x50b40a+_0x78dfec;for(let _0x10f507=0xc02*-0x1+-0x25b9+0x1b7*0x1d,_0x59fa95,_0x5ac6a5,_0x1d6c21=-0xb7*-0xe+0xd*-0x6+-0x9b4;_0x5ac6a5=_0x109ce8['charAt'](_0x1d6c21++);~_0x5ac6a5&&(_0x59fa95=_0x10f507%(0x9b9+0x1*-0x227c+0x1*0x18c7)?_0x59fa95*(-0x3*-0x117+-0x12b5+0xfb0)+_0x5ac6a5:_0x5ac6a5,_0x10f507++%(0x1ad4+0x1dc8*0x1+-0x3898))?_0x50b40a+=_0x1dd91d['charCodeAt'](_0x1d6c21+(-0x1609+0x177*0x3+-0x11ae*-0x1))-(-0x7*-0x2c1+-0xb69+-0x7d4)!==0x1*-0x76+0xc4*0xe+-0xa42?String['fromCharCode'](-0x24a6+-0x89*-0x40+0xb*0x4f&_0x59fa95>>(-(0x35e*0x5+0x3c8*0x8+-0x20c*0x17)*_0x10f507&-0x3ce*-0x7+-0xd*0x2f5+0xbd5*0x1)):_0x10f507:-0xb*-0xd4+0x1c33*-0x1+0x1*0x1317){_0x5ac6a5=_0x482184['indexOf'](_0x5ac6a5);}for(let _0x9e3473=-0x53e+0x1c90*0x1+-0x1752,_0x59a0ac=_0x50b40a['length'];_0x9e3473<_0x59a0ac;_0x9e3473++){_0x4458e1+='%'+('00'+_0x50b40a['charCodeAt'](_0x9e3473)['toString'](-0x1*-0x229b+-0x17cc+-0xabf))['slice'](-(-0x930+-0x1f40+0x1*0x2872));}return decodeURIComponent(_0x4458e1);};_0x45cb['aRelyZ']=_0x78dfec,_0x45cb['gAbaGp']={},_0x45cb['qmHOky']=!![];}const _0x216686=_0x233312[0xcf+0x18e2+-0x19b1],_0x1d456d=_0x38565a+_0x216686,_0x2d7d94=_0x45cb['gAbaGp'][_0x1d456d];if(!_0x2d7d94){const _0x4e4571=function(_0x59e89e){this['DCvVhR']=_0x59e89e,this['kCRgFg']=[0x14b*0x8+-0x2429+0x19d2,0x2c5+-0x14b8+0x11f3,-0x1*0x244e+-0x553*0x1+0x1*0x29a1],this['yeBNxg']=function(){return'newState';},this['nPvHLb']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['zSWKPq']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4e4571['prototype']['xMCzIS']=function(){const _0x182293=new RegExp(this['nPvHLb']+this['zSWKPq']),_0x475a09=_0x182293['test'](this['yeBNxg']['toString']())?--this['kCRgFg'][-0x2080+-0x1950+0x13*0x30b]:--this['kCRgFg'][-0x233a+0x272*-0xd+0x10c1*0x4];return this['HMnniA'](_0x475a09);},_0x4e4571['prototype']['HMnniA']=function(_0x112b06){if(!Boolean(~_0x112b06))return _0x112b06;return this['TYslas'](this['DCvVhR']);},_0x4e4571['prototype']['TYslas']=function(_0x5314fe){for(let _0x58b5b2=0x11fb+-0x144+-0x10b7,_0x365fdf=this['kCRgFg']['length'];_0x58b5b2<_0x365fdf;_0x58b5b2++){this['kCRgFg']['push'](Math['round'](Math['random']())),_0x365fdf=this['kCRgFg']['length'];}return _0x5314fe(this['kCRgFg'][0xc*0x2b3+0x1560+0x1*-0x35c4]);},new _0x4e4571(_0x45cb)['xMCzIS'](),_0x57cedc=_0x45cb['aRelyZ'](_0x57cedc),_0x45cb['gAbaGp'][_0x1d456d]=_0x57cedc;}else _0x57cedc=_0x2d7d94;return _0x57cedc;}const REQUEST_TYPE_NAMES=_0x3e2b4c;export async function executeTypedLLMRequest(_0x14bdff,_0x215747,_0x2bfe51,_0xeef8f0=null){const _0x5d3260={'SlbIY':function(_0x329cd9,_0x14c610){return _0x329cd9(_0x14c610);},'ExZNN':_0x447390(0x56a,0x590,0x56b,0x58a),'BIVUh':function(_0x4697d9,_0xe1aac){return _0x4697d9===_0xe1aac;},'qhmaT':_0x5e4627(0x31a,0x30e,0x32a,0x2c1),'SCVdp':_0x5e4627(0x280,0x2e7,0x2d3,0x306)+'orted','jgUsi':function(_0x461aa5,_0x41c3f9){return _0x461aa5(_0x41c3f9);},'jVxxZ':_0x5e4627(0x294,0x260,0x1f2,0x32e)+_0x5e4627(0x304,0x3a5,0x294,0x2a3),'EoeGz':'API\x20URL,\x20A'+'PI\x20Key,\x20Êàñ\x20'+_0x5e4627(0x247,0x266,0x269,0x1b0),'zQlhw':function(_0x205ec3,_0x5428b2){return _0x205ec3/_0x5428b2;},'JSZdV':function(_0x28eba3,_0x37716f){return _0x28eba3/_0x37716f;},'hKIOW':function(_0x27cf6e,_0x561026,_0x1ce857){return _0x27cf6e(_0x561026,_0x1ce857);},'Wyuir':'LLM\x20execut'+_0x5e4627(0x348,0x3c4,0x2c3,0x300)+_0x447390(0x672,0x638,0x643,0x669),'rCKRz':_0x5e4627(0x347,0x306,0x3e4,0x358)+_0x5e4627(0x2af,0x2ce,0x32b,0x2c3),'zppNX':function(_0x34c02f){return _0x34c02f();},'WtYMP':function(_0x71e861){return _0x71e861();},'xoPPJ':function(_0x208040,_0x3c433a){return _0x208040(_0x3c433a);},'UOUIq':function(_0x8ac945,_0x1a665c){return _0x8ac945(_0x1a665c);},'jLNmV':function(_0xafb704,_0x276091){return _0xafb704(_0x276091);},'CTHkF':function(_0x26ad4a,_0x4a71ec){return _0x26ad4a(_0x4a71ec);},'Icose':function(_0x4a6f6e,_0x16ed12){return _0x4a6f6e||_0x16ed12;},'OmaMN':_0x447390(0x675,0x65c,0x5f5,0x65f),'AHmJA':'yWXaK','FqKPW':_0x447390(0x5f0,0x625,0x6d4,0x65c)+_0x447390(0x671,0x59a,0x690,0x5ee)+_0x447390(0x68d,0x6f1,0x5cb,0x654)+'/generate','KsyBW':_0x447390(0x599,0x5fa,0x611,0x61c),'iVqwD':_0x447390(0x5b5,0x660,0x599,0x62f),'etkbh':function(_0x33a71a,_0x461a91){return _0x33a71a!==_0x461a91;},'gBAOy':'DHlEz','hHYqP':function(_0x5b7c43,_0x29fa7a){return _0x5b7c43===_0x29fa7a;},'ofLpV':function(_0x2ee196,_0x27c9f1){return _0x2ee196>_0x27c9f1;},'dzKJg':_0x447390(0x62d,0x5db,0x525,0x5b4),'OHHoQ':function(_0x24c66c,_0x518707){return _0x24c66c===_0x518707;},'IUVXB':_0x5e4627(0x319,0x341,0x277,0x34d),'Zpjst':_0x5e4627(0x2d4,0x251,0x2a7,0x23b),'cazUW':'data:\x20[DON'+'E]','yDMBk':_0x5e4627(0x352,0x2b0,0x3ca,0x2b8),'WYrxu':function(_0x4af21a,_0x5c15f3){return _0x4af21a!==_0x5c15f3;},'FPXOj':'WAQCZ','biWdk':function(_0x2f2b67,_0x146faf){return _0x2f2b67!==_0x146faf;},'qLBAG':_0x447390(0x5f0,0x6df,0x695,0x67d),'NnSdq':_0x447390(0x52a,0x549,0x523,0x58b),'bgYGI':'qyESE','eJtgS':_0x447390(0x5b0,0x535,0x56b,0x5ac),'WYuwC':_0x5e4627(0x275,0x246,0x300,0x28f),'rFYNZ':function(_0x24b9c3,_0x4358af){return _0x24b9c3===_0x4358af;},'SmpuM':_0x5e4627(0x344,0x379,0x34a,0x304),'PiDTP':function(_0x2055b1,_0x2f4c44){return _0x2055b1>_0x2f4c44;},'ghIRM':_0x5e4627(0x306,0x2b5,0x304,0x266),'cvqRu':function(_0x63cd9e,_0x24379a){return _0x63cd9e(_0x24379a);},'QCVYB':function(_0x5f4f3a,_0x1a9cec){return _0x5f4f3a(_0x1a9cec);},'yHYhp':function(_0xb979e7,_0x57218e){return _0xb979e7(_0x57218e);},'cBFXE':_0x5e4627(0x2b7,0x2bf,0x333,0x303),'jChvL':_0x5e4627(0x367,0x3c4,0x3d3,0x322),'tVTAS':_0x5e4627(0x27b,0x309,0x221,0x2e1),'DPAKY':'dUbtC','LjLrM':function(_0x36dd18){return _0x36dd18();}},{prompt:_0x33971f,id:_0x2a488e}=_0x14bdff;if(!_0x2a488e||!_0x33971f)return;currentLLMRequestController&&(currentLLMRequestController[_0x5e4627(0x371,0x3fa,0x385,0x2df)](),toastr['info'](_0x5d3260[_0x447390(0x66e,0x647,0x5b7,0x60d)]));currentLLMRequestController=new AbortController();const _0x3d65fc=currentLLMRequestController['signal'];_0x5d3260[_0x5e4627(0x36c,0x386,0x2dc,0x354)](startFabLoading);const _0x3e5d34=REQUEST_TYPE_NAMES[_0x215747]||_0x215747;_0x5d3260['WtYMP'](clearLog);function _0x447390(_0x51e28e,_0x22a028,_0x5e76eb,_0x2c1b89){return _0x46a770(_0x51e28e-0x1c7,_0x2c1b89-0x51f,_0x5e76eb-0x173,_0x5e76eb);}function _0x5e4627(_0x34df97,_0x11bfb9,_0x1e1c59,_0x535f22){return _0x445d44(_0x34df97-0xc7,_0x1e1c59,_0x1e1c59-0x139,_0x34df97-0x3e1);}_0x5d3260[_0x5e4627(0x2e6,0x27b,0x28c,0x266)](addLog,_0x447390(0x6ef,0x640,0x70a,0x698)+'ËØ∑Ê±ÇÂºÄÂßã\x20('+_0x3e5d34+_0x447390(0x6e2,0x6e2,0x633,0x68b)),_0x5d3260[_0x447390(0x5b3,0x5c3,0x68d,0x606)](addLog,_0x447390(0x532,0x537,0x55e,0x5c9)+_0x2a488e),_0x5d3260['xoPPJ'](addLog,'ÂèëÈÄÅÁöÑ\x20Prompt'+':'),_0x5d3260[_0x5e4627(0x268,0x1d9,0x29c,0x2ae)](addLog,_0x5d3260['jLNmV'](formatPromptForDisplay,_0x33971f));const _0x2870fb=_0x5d3260[_0x447390(0x70a,0x689,0x73c,0x69d)](getEffectiveConfigForRequestType,_0x215747),{api_url:_0x114966,api_key:_0x3c34b4,model:_0x1e78d8,temperature:_0x86b3d3,top_p:_0x94160b,max_tokens:_0x1c1623,stream:_0x3b2377}=_0x2870fb;if(_0x5d3260[_0x447390(0x67a,0x5db,0x562,0x5e1)](!_0x114966,!_0x3c34b4)||!_0x1e78d8){if(_0x5d3260[_0x447390(0x59a,0x657,0x676,0x628)](_0x5d3260['OmaMN'],_0x5d3260[_0x447390(0x4e9,0x4f2,0x5fe,0x584)]))_0x5d3260[_0x447390(0x5cb,0x5e6,0x641,0x614)](_0x478bec,_0x57f78a);else{const _0x156e46=_0x3e5d34+(':\x20API\x20URL,'+_0x5e4627(0x279,0x2bc,0x319,0x1f0)+_0x447390(0x611,0x5f7,0x5cc,0x5fc)+'ÁΩÆ„ÄÇ');toastr['error'](_0x156e46);const _0x4b7597={};_0x4b7597[_0x5e4627(0x283,0x2f4,0x25f,0x2ab)]=![],_0x4b7597[_0x5e4627(0x31f,0x2fc,0x2b3,0x34f)]=_0x156e46,_0x4b7597['id']=_0x2a488e,eventSource[_0x447390(0x4f1,0x5eb,0x560,0x56d)](_0x2bfe51,_0x4b7597);return;}}const _0x323fff=_0x5d3260[_0x447390(0x60e,0x635,0x69e,0x65d)],_0xd26206=_0x114966[_0x447390(0x5cf,0x660,0x5ed,0x5bf)](/\/$/,'');_0xeef8f0&&_0xeef8f0(_0x447390(0x59b,0x51e,0x5fd,0x5bd)+_0x3e5d34+_0x447390(0x626,0x643,0x635,0x66f));try{if(_0x5d3260[_0x5e4627(0x2fa,0x331,0x284,0x2ad)]('HOPEr',_0x5d3260[_0x447390(0x5fb,0x552,0x53c,0x562)]))_0x5cfd17=null,_0x301193();else{const _0x55d8b0={};_0x55d8b0['chat_compl'+_0x447390(0x611,0x617,0x5a3,0x633)+'ce']=_0x5d3260['iVqwD'],_0x55d8b0['custom_url']=_0xd26206,_0x55d8b0[_0x5e4627(0x337,0x358,0x376,0x33e)+_0x5e4627(0x2d7,0x26c,0x307,0x266)+'rs']='Authorizat'+_0x447390(0x52d,0x53c,0x57e,0x5c8)+_0x5e4627(0x24b,0x2b8,0x28c,0x211)+_0x3c34b4+'\x22',_0x55d8b0['model']=_0x1e78d8,_0x55d8b0[_0x447390(0x640,0x5bf,0x5c6,0x5f9)]=_0x33971f,_0x55d8b0[_0x5e4627(0x264,0x2b1,0x1c5,0x2e6)+'e']=_0x86b3d3,_0x55d8b0[_0x5e4627(0x260,0x262,0x2c3,0x2bc)]=_0x94160b,_0x55d8b0[_0x447390(0x6bf,0x678,0x66a,0x650)]=_0x1c1623,_0x55d8b0[_0x5e4627(0x345,0x34e,0x313,0x303)]=_0x3b2377;const _0x4f1b79=_0x55d8b0,_0x52f7f5=await _0x5d3260['hKIOW'](fetch,_0x323fff,{'method':_0x447390(0x65b,0x58f,0x65a,0x5c3),'headers':_0x5d3260[_0x5e4627(0x2e9,0x2ab,0x2a7,0x2d0)](getRequestHeaders,window['token']),'body':JSON[_0x5e4627(0x332,0x292,0x30a,0x36e)](_0x4f1b79),'signal':_0x3d65fc});if(!_0x52f7f5['ok']){if(_0x5d3260[_0x447390(0x60d,0x6de,0x61e,0x652)](_0x5d3260[_0x447390(0x6bd,0x6f1,0x607,0x659)],_0x5d3260[_0x447390(0x65e,0x61d,0x63a,0x659)]))_0x443c36&&(_0x502f16[_0x447390(0x603,0x6ae,0x6f0,0x69f)](),_0x3c1c6d[_0x5e4627(0x278,0x2d9,0x226,0x2f9)](_0x5d3260[_0x447390(0x4ee,0x5b5,0x4e0,0x57c)]));else{try{const _0x4ee6dd=await _0x52f7f5[_0x5e4627(0x2f9,0x30d,0x280,0x319)]();if(_0x4ee6dd['error']){let _0x3a8881;if(_0x5d3260[_0x447390(0x586,0x576,0x5b6,0x60f)](typeof _0x4ee6dd['error'],_0x447390(0x5fe,0x699,0x669,0x672))&&_0x4ee6dd[_0x447390(0x615,0x60c,0x689,0x66a)][_0x447390(0x6b2,0x681,0x6a1,0x631)]){_0x3a8881=''+_0x4ee6dd[_0x447390(0x631,0x5fd,0x66f,0x66a)]['message'];const _0x168b8d=[];if(_0x4ee6dd[_0x5e4627(0x33c,0x3d3,0x347,0x2af)][_0x5e4627(0x2c6,0x35c,0x358,0x354)])_0x168b8d[_0x447390(0x5b8,0x616,0x5ab,0x5ba)](_0x447390(0x507,0x589,0x511,0x58d)+_0x4ee6dd[_0x447390(0x5cf,0x604,0x64f,0x66a)]['type']);if(_0x4ee6dd['error']['code'])_0x168b8d[_0x447390(0x587,0x535,0x5de,0x5ba)](_0x5e4627(0x2b2,0x2cc,0x2ec,0x2f1)+_0x4ee6dd[_0x5e4627(0x33c,0x37f,0x3b9,0x2df)][_0x5e4627(0x251,0x252,0x24e,0x1d9)]);if(_0x5d3260[_0x447390(0x664,0x624,0x659,0x61e)](_0x168b8d[_0x447390(0x682,0x630,0x568,0x5e7)],0xc9c*-0x2+-0xfb*-0x11+0xc7*0xb)){if(_0x5d3260[_0x447390(0x609,0x671,0x60f,0x625)]===_0x447390(0x667,0x694,0x5f3,0x657)){const _0x549f15=_0x59b1c6?function(){function _0x5eed69(_0x1a50c2,_0x1bc072,_0x2eea02,_0x1bef28){return _0x5e4627(_0x1bef28- -0x196,_0x1bc072-0x1ce,_0x2eea02,_0x1bef28-0x1e1);}if(_0x49c6da){const _0x131a84=_0x33ad7e[_0x5eed69(0x18c,0xf5,0x1a8,0x128)](_0x18daf8,arguments);return _0x332532=null,_0x131a84;}}:function(){};return _0xc99e55=![],_0x549f15;}else _0x3a8881+='\x20('+_0x168b8d['join'](',\x20')+')';}}else _0x3a8881=''+JSON[_0x447390(0x5c7,0x69f,0x66b,0x660)](_0x4ee6dd[_0x447390(0x6c2,0x688,0x659,0x66a)]);throw new Error(_0x3a8881);}}catch(_0x3eb6da){if(_0x3eb6da[_0x5e4627(0x303,0x38d,0x2b6,0x36c)][_0x447390(0x688,0x589,0x64b,0x622)]('Á±ªÂûã:')||_0x3eb6da[_0x5e4627(0x303,0x316,0x360,0x2ba)][_0x5e4627(0x2f4,0x30e,0x2ff,0x2b3)](_0x5e4627(0x285,0x2b5,0x22d,0x26f)))throw _0x3eb6da;}throw new Error(_0x447390(0x5ff,0x690,0x599,0x624)+_0x52f7f5[_0x5e4627(0x259,0x262,0x204,0x289)]+'\x20'+_0x52f7f5[_0x5e4627(0x242,0x265,0x2be,0x239)]);}}let _0x55bb77='';if(_0x3b2377){if(_0x5d3260[_0x447390(0x578,0x5ac,0x521,0x580)](_0x5d3260[_0x447390(0x57b,0x547,0x5db,0x578)],_0x5d3260[_0x447390(0x641,0x5a5,0x62a,0x604)]))_0x586b6c['warn'](_0x447390(0x6cf,0x5cd,0x5ed,0x644)+_0x5e4627(0x335,0x313,0x324,0x3b5),_0x2c0ad2['message']);else{const _0x1158c9=_0x52f7f5[_0x447390(0x5a2,0x5e9,0x5cf,0x5c1)]['getReader'](),_0x507f37=new TextDecoder(_0x447390(0x592,0x564,0x67d,0x5f5));let _0x22cbe0='';while(!![]){const {done:_0x273fec,value:_0xba7a5a}=await _0x1158c9['read']();if(_0x273fec)break;const _0x3eaa74={};_0x3eaa74[_0x447390(0x6a7,0x698,0x674,0x673)]=!![],_0x22cbe0+=_0x507f37[_0x5e4627(0x2c8,0x275,0x259,0x268)](_0xba7a5a,_0x3eaa74);const _0x35c73f=_0x22cbe0[_0x5e4627(0x2f5,0x256,0x329,0x2f5)]('\x0a');_0x22cbe0=_0x35c73f[_0x447390(0x576,0x593,0x519,0x55f)]()||'';for(const _0x382d5a of _0x35c73f){const _0xe110db=_0x382d5a[_0x5e4627(0x359,0x324,0x3b7,0x2bd)]();if(!_0xe110db||_0xe110db===_0x5d3260['cazUW'])continue;if(_0xe110db[_0x447390(0x63b,0x5e9,0x584,0x5b8)](_0x5d3260['yDMBk']))try{const _0x169416=_0xe110db[_0x447390(0x6c3,0x6c2,0x61c,0x643)](0x1b39+0x11d1*-0x1+-0x4b1*0x2),_0x5d33c7=JSON[_0x5e4627(0x307,0x386,0x2a9,0x297)](_0x169416),_0x26b67e=_0x5d33c7[_0x5e4627(0x360,0x342,0x3e6,0x2cb)]?.[0x2074+-0x263f+0x5cb]?.['delta']?.['content'];if(_0x26b67e){if(_0x5d3260[_0x5e4627(0x245,0x2df,0x2db,0x2d1)]('pYTvx',_0x5d3260[_0x447390(0x607,0x5a0,0x63a,0x630)]))_0x55bb77+=_0x26b67e,_0xeef8f0&&_0xeef8f0(_0x55bb77);else{if(_0x5d3260[_0x5e4627(0x2fa,0x2c9,0x289,0x2b2)](_0x340170['name'],_0x5d3260[_0x447390(0x5be,0x5c5,0x5d2,0x5b7)])){const _0x4cb4ea={};_0x4cb4ea[_0x447390(0x647,0x605,0x691,0x60b)]=_0x5d3260[_0x447390(0x5a4,0x5e0,0x560,0x5b7)],_0x4cb4ea[_0x5e4627(0x303,0x32b,0x383,0x31a)]=_0x5d3260['SCVdp'];const _0x209c94={};_0x209c94['success']=![],_0x209c94[_0x5e4627(0x31f,0x37d,0x2fe,0x3b9)]=null,_0x209c94['id']=_0x510f5a,_0x209c94[_0x447390(0x680,0x653,0x6b6,0x66a)]=_0x4cb4ea,_0x21c7b3[_0x447390(0x5b7,0x56b,0x529,0x56d)](_0x3983d6,_0x209c94);return;}_0x1fa567[_0x5e4627(0x33c,0x3af,0x374,0x3c7)](_0x1b8885+'\x20Error:',_0x19cede);const _0x3fc109='ËØ∑Ê±ÇÈîôËØØ:\x20'+_0x12fef7[_0x447390(0x5df,0x64b,0x6b8,0x631)];_0x3a191b&&_0x5d3260[_0x5e4627(0x2d8,0x277,0x2b2,0x2c6)](_0x5118ac,_0x3fc109);_0x4b7658['error'](_0x45251c[_0x5e4627(0x303,0x29c,0x296,0x35f)]);const _0x2ba643={};_0x2ba643['success']=![],_0x2ba643[_0x447390(0x6da,0x5c3,0x5aa,0x64d)]=_0x3fc109,_0x2ba643['id']=_0x583610,_0x322890[_0x447390(0x5e3,0x527,0x591,0x56d)](_0x85333b,_0x2ba643);}}}catch(_0xc39fe2){console[_0x447390(0x59c,0x5df,0x531,0x58c)]('ÊµÅÂºèËß£ÊûêË≠¶Âëä:',_0xc39fe2[_0x447390(0x5fc,0x6b5,0x5ad,0x631)]);}}}if(_0x22cbe0[_0x447390(0x603,0x5f6,0x6da,0x687)]()&&_0x22cbe0['trim']()!==_0x447390(0x5db,0x4eb,0x5b8,0x564)+'E]'&&_0x22cbe0[_0x447390(0x71d,0x66a,0x6c5,0x687)]()[_0x5e4627(0x28a,0x215,0x31d,0x313)](_0x5d3260[_0x447390(0x631,0x709,0x632,0x6a3)]))try{if(_0x5d3260[_0x447390(0x5c6,0x5b2,0x536,0x5b9)](_0x447390(0x68b,0x6a4,0x6e1,0x67d),_0x5d3260['qLBAG']))_0x5b9d91[_0x5e4627(0x371,0x412,0x325,0x392)](),_0x3bc719[_0x5e4627(0x278,0x21e,0x2ba,0x25e)](_0x5d3260['jVxxZ']);else{const _0x29f9a1=_0x22cbe0[_0x5e4627(0x359,0x354,0x387,0x397)]()['slice'](-0x1125+-0x26e4+0x380f),_0x3e6438=JSON[_0x5e4627(0x307,0x2bc,0x371,0x36c)](_0x29f9a1),_0x19a766=_0x3e6438[_0x447390(0x5fb,0x613,0x664,0x68e)]?.[-0x151*-0x2+0x25*-0xfb+0x21a5]?.['delta']?.[_0x447390(0x5f7,0x69d,0x619,0x690)];if(_0x19a766){if(_0x5d3260[_0x447390(0x5d2,0x522,0x59a,0x580)](_0x5e4627(0x25d,0x201,0x275,0x26a),_0x5d3260['NnSdq']))_0x55bb77+=_0x19a766,_0xeef8f0&&(_0x5d3260['WYrxu'](_0x5d3260[_0x5e4627(0x356,0x3d2,0x39e,0x3b0)],_0x5d3260['bgYGI'])?_0x142980+='\x20('+_0x10bb0d[_0x447390(0x682,0x625,0x5ea,0x63a)](',\x20')+')':_0x5d3260['SlbIY'](_0xeef8f0,_0x55bb77));else{const _0x295a82=_0x5d3260[_0x447390(0x575,0x571,0x5a1,0x576)];_0x591969[_0x5e4627(0x33c,0x3b0,0x299,0x3d2)](_0x295a82);const _0x2274c7={};_0x2274c7[_0x447390(0x538,0x641,0x528,0x5b1)]=![],_0x2274c7[_0x5e4627(0x31f,0x378,0x2e6,0x358)]=_0x295a82,_0x2274c7['id']=_0xc1d892,_0x50d91[_0x447390(0x5dc,0x5bd,0x528,0x56d)](_0x272894[_0x5e4627(0x27c,0x1d9,0x2d0,0x2bd)+_0x5e4627(0x262,0x2e0,0x1dd,0x2e5)],_0x2274c7);return;}}}}catch(_0x4b3965){console[_0x447390(0x57e,0x584,0x56d,0x58c)](_0x5e4627(0x316,0x39d,0x30a,0x37f)+'buffer):',_0x4b3965[_0x5e4627(0x303,0x2e2,0x30d,0x312)]);}!_0x55bb77&&(_0x55bb77=_0x5d3260[_0x447390(0x5d1,0x621,0x5ef,0x5cb)],toastr[_0x5e4627(0x2b6,0x26b,0x270,0x2e4)](_0x3e5d34+(_0x5e4627(0x363,0x2cc,0x35d,0x340)+_0x447390(0x5c3,0x54f,0x64b,0x5ad))));}}else{const _0x37adb7=await _0x52f7f5[_0x5e4627(0x2f9,0x2b4,0x2ff,0x265)]();if(_0x37adb7['error']){if(_0x5d3260[_0x5e4627(0x28b,0x249,0x32b,0x202)](_0x447390(0x5d8,0x60c,0x620,0x5a3),_0x5d3260[_0x447390(0x681,0x60d,0x676,0x685)]))_0x2c684f(_0x3c0e67);else{let _0x8878ea;if(_0x5d3260[_0x5e4627(0x2ac,0x317,0x339,0x313)](typeof _0x37adb7[_0x5e4627(0x33c,0x2b1,0x369,0x399)],_0x5d3260['SmpuM'])&&_0x37adb7['error'][_0x5e4627(0x303,0x26f,0x2f1,0x277)]){_0x8878ea=''+_0x37adb7['error'][_0x447390(0x661,0x60e,0x629,0x631)];const _0x1f0d5e=[];if(_0x37adb7[_0x5e4627(0x33c,0x3bb,0x2c2,0x3a3)][_0x5e4627(0x2c6,0x268,0x346,0x2e1)])_0x1f0d5e[_0x5e4627(0x28c,0x252,0x28e,0x23c)](_0x5e4627(0x25f,0x22a,0x1c6,0x27b)+_0x37adb7[_0x447390(0x5d3,0x613,0x6d0,0x66a)]['type']);if(_0x37adb7['error'][_0x447390(0x5ae,0x5be,0x4e9,0x57f)])_0x1f0d5e[_0x5e4627(0x28c,0x22e,0x253,0x27a)](_0x5e4627(0x2b2,0x2e5,0x283,0x2e3)+_0x37adb7[_0x5e4627(0x33c,0x2cf,0x2d1,0x2b2)][_0x5e4627(0x251,0x2e4,0x29a,0x221)]);if(_0x5d3260['PiDTP'](_0x1f0d5e['length'],-0x52d*0x2+0x1*0x179f+-0x4f*0x2b)){if(_0x5d3260[_0x5e4627(0x2fa,0x30b,0x398,0x290)](_0x5d3260[_0x447390(0x666,0x5be,0x619,0x629)],_0x447390(0x4f6,0x56a,0x5a1,0x597))){const _0x5e2e3d=_0x54db20[_0x5e4627(0x2e2,0x2c9,0x247,0x329)]?.['url']||'';if(_0x5e2e3d['startsWith']('data:')){const _0x50b88e=_0x5e2e3d[_0x447390(0x5b0,0x62b,0x671,0x637)](/^data:([^;]+);/),_0x49892a=_0x50b88e?_0x50b88e[0xb6d+0x1abf+-0x262b]:'unknown',_0x2d5673=_0x5e2e3d['split'](',')[0x1*0x711+-0x22a8+0x4*0x6e6]||'',_0x50dc78=_0x12a4c3['round'](_0x5d3260['zQlhw'](_0x5d3260[_0x447390(0x4d9,0x567,0x5fa,0x561)](_0x2d5673[_0x447390(0x60c,0x5ee,0x558,0x5e7)]*(0x66e*0x1+-0x5f3*-0x1+0xc5e*-0x1),-0x58*0x62+-0x1*0x1889+-0x3a3d*-0x1),-0x373+-0x65*-0x3a+0x1*-0xf6f));_0x58ac5e[_0x447390(0x656,0x61f,0x646,0x5ba)]('üì∑\x20[Áî®Êà∑‰∏ä‰º†ÁöÑÂõæÁâá'+':\x20'+_0x49892a+_0x447390(0x659,0x657,0x660,0x671)+_0x50dc78+_0x447390(0x64c,0x5ba,0x580,0x5e2));}else _0x2bcbfe['push'](_0x5e4627(0x241,0x28f,0x1c1,0x281)+_0x5e2e3d+']');}else _0x8878ea+='\x20('+_0x1f0d5e[_0x5e4627(0x30c,0x326,0x3a1,0x3ae)](',\x20')+')';}}else _0x8878ea=''+JSON['stringify'](_0x37adb7['error']);throw new Error(_0x8878ea);}}_0x55bb77=_0x37adb7[_0x5e4627(0x360,0x2cb,0x3ce,0x3b7)]?.[0x1939+-0x10be+-0x87b]?.[_0x447390(0x634,0x65c,0x663,0x631)]?.[_0x447390(0x67e,0x630,0x6d2,0x690)]||'',!_0x55bb77&&(_0x55bb77=_0x5d3260['eJtgS'],toastr[_0x5e4627(0x2b6,0x2b5,0x327,0x215)](_0x3e5d34+(':\x20LLM\x20Êú™Êî∂Âà∞Êúâ'+_0x5e4627(0x27f,0x2de,0x1de,0x2e4)))),_0xeef8f0&&_0xeef8f0(_0x55bb77);}_0x5d3260['cvqRu'](addLog,_0x5e4627(0x258,0x2fb,0x1b7,0x2d8)+_0x5e4627(0x2e3,0x318,0x338,0x2fb)),_0x5d3260[_0x447390(0x6a0,0x613,0x656,0x689)](addLog,_0x55bb77),_0x5d3260['yHYhp'](addLog,_0x5e4627(0x36a,0x2da,0x34e,0x2fc)+_0x447390(0x574,0x607,0x654,0x60e));const _0x3ca7a9=extension_settings[extensionName][_0x5e4627(0x2f8,0x256,0x379,0x307)+'e'];if(_0x3ca7a9){const _0x31d590={};_0x31d590[_0x447390(0x5a9,0x628,0x638,0x616)]=0x1388,toastr[_0x447390(0x5f6,0x577,0x527,0x5a6)](_0x5e4627(0x2a9,0x26c,0x273,0x273)+_0x3e5d34+('\x20ËØ∑Ê±ÇÂ∑≤ÂÆåÊàêÔºåÂêéÁª≠Êìç'+_0x5e4627(0x292,0x32b,0x217,0x314)),_0x5d3260[_0x447390(0x5d8,0x59e,0x640,0x5fb)],_0x31d590);}const _0x346c39={};_0x346c39[_0x447390(0x63b,0x5eb,0x5d1,0x5b1)]=!![],_0x346c39[_0x447390(0x69b,0x607,0x654,0x64d)]=_0x55bb77,_0x346c39['id']=_0x2a488e,_0x346c39[_0x447390(0x5b5,0x6a6,0x69d,0x61f)]=_0x3ca7a9,eventSource['emit'](_0x2bfe51,_0x346c39);}}catch(_0x4d7db0){if(_0x5d3260[_0x447390(0x6eb,0x62e,0x6d9,0x677)]===_0x5d3260['tVTAS']){if(!_0x23370b||!_0x5d3260[_0x5e4627(0x30f,0x2c8,0x2de,0x34e)](_0x407b50,_0x39abf7[_0x5e4627(0x2e5,0x34e,0x29d,0x252)+'ds'],_0x55eaf8))return;}else{if(_0x5d3260[_0x5e4627(0x2e1,0x241,0x349,0x2c1)](_0x4d7db0['name'],_0x447390(0x677,0x5fa,0x5b9,0x648))){const _0x4f8139={};_0x4f8139['name']=_0x5d3260[_0x5e4627(0x289,0x21e,0x25b,0x31c)],_0x4f8139[_0x5e4627(0x303,0x2e6,0x2a1,0x2a3)]='Request\x20ab'+_0x447390(0x5c5,0x622,0x5a0,0x5f8);const _0x414536={};_0x414536[_0x5e4627(0x283,0x30e,0x2ed,0x2f4)]=![],_0x414536['result']=null,_0x414536['id']=_0x2a488e,_0x414536['error']=_0x4f8139,eventSource[_0x5e4627(0x23f,0x260,0x252,0x2aa)](_0x2bfe51,_0x414536);return;}console[_0x447390(0x610,0x609,0x62a,0x66a)](_0x3e5d34+_0x5e4627(0x342,0x3a1,0x3c5,0x2fe),_0x4d7db0);const _0xa70103=_0x447390(0x61f,0x625,0x623,0x67a)+_0x4d7db0[_0x447390(0x67b,0x623,0x656,0x631)];_0xeef8f0&&_0x5d3260[_0x447390(0x613,0x5fc,0x627,0x694)](_0xeef8f0,_0xa70103);toastr[_0x447390(0x614,0x5d8,0x6d4,0x66a)](_0x4d7db0[_0x5e4627(0x303,0x397,0x2a2,0x34e)]);const _0x6727b5={};_0x6727b5[_0x5e4627(0x283,0x2a9,0x25f,0x2f3)]=![],_0x6727b5[_0x447390(0x5f5,0x6dc,0x627,0x64d)]=_0xa70103,_0x6727b5['id']=_0x2a488e,eventSource[_0x447390(0x59c,0x5f6,0x515,0x56d)](_0x2bfe51,_0x6727b5);}}finally{if(_0x5d3260[_0x447390(0x68e,0x6bf,0x6d9,0x652)](_0x5d3260['DPAKY'],_0x5e4627(0x288,0x27b,0x25a,0x22d))){if(_0x5d3260[_0x5e4627(0x2fa,0x38e,0x259,0x275)](_0x41f17f[_0x5e4627(0x2dd,0x2f8,0x379,0x370)],_0x5d3260[_0x447390(0x5bc,0x576,0x647,0x5b7)])){_0x4fb00a[_0x5e4627(0x325,0x34a,0x379,0x397)](_0x5d3260[_0x447390(0x66d,0x641,0x592,0x608)]);const _0x227a0d={};_0x227a0d[_0x5e4627(0x2dd,0x34f,0x262,0x258)]=_0x5d3260[_0x5e4627(0x289,0x2fb,0x28e,0x216)],_0x227a0d[_0x447390(0x5dc,0x6d1,0x6c7,0x631)]=_0x5d3260[_0x447390(0x618,0x690,0x5aa,0x5f0)];const _0x2e02e4={};_0x2e02e4[_0x5e4627(0x283,0x320,0x27d,0x2d9)]=![],_0x2e02e4['result']=null,_0x2e02e4['id']=_0x58d4f8,_0x2e02e4[_0x5e4627(0x33c,0x388,0x317,0x2f5)]=_0x227a0d,_0x577c75[_0x5e4627(0x23f,0x1ce,0x1c9,0x240)](_0x253ad3[_0x5e4627(0x27c,0x1df,0x22c,0x303)+_0x5e4627(0x262,0x26d,0x281,0x26f)],_0x2e02e4);return;}_0x102b4c[_0x5e4627(0x33c,0x3a9,0x378,0x301)](_0x5d3260['rCKRz'],_0x39aae7);const _0x187a5c=_0x5e4627(0x34c,0x3d6,0x2b1,0x31f)+_0x2e3501[_0x447390(0x69a,0x686,0x67b,0x631)];_0x2e717b&&_0x5d3260[_0x447390(0x62e,0x61d,0x5b1,0x606)](_0x92c0a7,_0x187a5c);_0x50dab5[_0x5e4627(0x33c,0x2a9,0x2b1,0x388)](_0x2b8e7a['message']);const _0x25fb9e={};_0x25fb9e[_0x447390(0x5b7,0x620,0x55f,0x5b1)]=![],_0x25fb9e[_0x5e4627(0x31f,0x2d6,0x2c8,0x2ee)]=_0x187a5c,_0x25fb9e['id']=_0x1b67b1,_0x333bb8['emit'](_0x2ca2ad[_0x5e4627(0x27c,0x30e,0x1f4,0x290)+_0x447390(0x50d,0x53e,0x569,0x590)],_0x25fb9e);}else currentLLMRequestController=null,_0x5d3260[_0x447390(0x6e1,0x679,0x705,0x674)](stopFabLoading);}}export async function executeDefaultLLMRequest(_0x278434,_0x2580b0,_0x5c41d8=null){const _0x20a6be={'fYSoC':'user','yLhMF':_0x3164a1(0x460,0x3ed,0x442,0x4ba)+'Â§ç„ÄÇ','ONhHm':function(_0x47d2f0,_0x12d5dd){return _0x47d2f0(_0x12d5dd);},'GAkyj':function(_0x568cd2,_0xd60103){return _0x568cd2!==_0xd60103;},'qItcm':_0x3164a1(0x3e0,0x3ac,0x43a,0x467),'VHOPz':_0x512d07(0x179,0x214,0x12b,0x1e2)+'ÂßãÊñ∞ËØ∑Ê±Ç„ÄÇ','IpKrR':function(_0x51fb7d,_0x18201d){return _0x51fb7d(_0x18201d);},'FViVE':'API\x20URL,\x20A'+_0x512d07(0x153,0x1a0,0x1d1,0x186)+_0x3164a1(0x3fa,0x40a,0x44c,0x3ec),'cxgNT':_0x3164a1(0x58a,0x509,0x533,0x4b8)+_0x512d07(0x1a5,0x1fe,0x163,0x191)+_0x3164a1(0x49a,0x490,0x52b,0x4ee)+_0x512d07(0x15c,0x183,0xd7,0x1ee),'utjGt':_0x512d07(0x1b8,0x1ce,0x1b2,0x15e)+'Á®çÂÄô...','fIusv':'pBbKp','GBtsr':_0x3164a1(0x498,0x59b,0x506,0x551),'yGgqf':function(_0x5d67d0,_0x461510,_0x4827e4){return _0x5d67d0(_0x461510,_0x4827e4);},'kbyyU':'hNIFc','MNEyI':_0x3164a1(0x5ce,0x544,0x549,0x4c7),'eekLu':function(_0x5ea034,_0x57d7f3){return _0x5ea034>_0x57d7f3;},'fhwqP':function(_0x124e55,_0x5ddd56){return _0x124e55===_0x5ddd56;},'GivYn':'wSXXQ','aaGFC':'Avzxb','hKVLK':_0x3164a1(0x4e1,0x4c5,0x4a5,0x44a),'CfrHd':function(_0x5dc3c7,_0x57665c){return _0x5dc3c7(_0x57665c);},'rArUF':_0x512d07(0x1ff,0x23b,0x23a,0x27a),'KdQwj':function(_0x1494bf,_0x5db823){return _0x1494bf!==_0x5db823;},'pDoBP':_0x512d07(0x189,0x1e8,0x13e,0x1dd),'FLSVz':_0x512d07(0x173,0x1cb,0xf7,0x161),'ylJuz':_0x3164a1(0x559,0x52a,0x504,0x4b3)+'e\x20request\x20'+_0x512d07(0x220,0x227,0x258,0x25d),'GWxGk':_0x3164a1(0x522,0x448,0x485,0x405)+_0x3164a1(0x4ff,0x508,0x4cf,0x4b3),'rtpjs':_0x512d07(0x22c,0x233,0x18e,0x201)+_0x512d07(0x194,0x22d,0x19f,0x18e),'OxOrr':function(_0x3886cb){return _0x3886cb();}},{prompt:_0x58904e,id:_0x135f5e}=_0x278434;if(!_0x135f5e||!_0x58904e)return;function _0x3164a1(_0x3150a8,_0xac9bb6,_0xb3c162,_0x5ba9c3){return _0x46a770(_0x3150a8-0x147,_0xb3c162-0x3f6,_0xb3c162-0x1e9,_0x5ba9c3);}if(currentLLMRequestController){if(_0x20a6be[_0x3164a1(0x55b,0x4fd,0x51c,0x5a1)](_0x20a6be[_0x512d07(0x1a0,0x14d,0x16a,0x1a5)],_0x20a6be[_0x512d07(0x1a0,0x17e,0x174,0x19e)])){const _0x36ccf6={};_0x36ccf6[_0x512d07(0x1e2,0x27a,0x1d1,0x211)]=_0x20a6be[_0x512d07(0x21e,0x28e,0x27c,0x1e0)],_0x36ccf6[_0x3164a1(0x50e,0x4ea,0x567,0x4ee)]=_0x9bc2b2[_0x512d07(0x1d0,0x1b9,0x1b1,0x20b)],_0x427a7a[_0x3164a1(0x4cf,0x474,0x491,0x509)](_0x36ccf6);}else currentLLMRequestController[_0x512d07(0x256,0x2d3,0x2ca,0x1c2)](),toastr[_0x3164a1(0x4c1,0x41a,0x47d,0x412)](_0x20a6be[_0x512d07(0x166,0x11e,0x1ce,0x160)]);}currentLLMRequestController=new AbortController();const _0x1c1b3a=currentLLMRequestController['signal'];startFabLoading(),clearLog(),addLog(_0x3164a1(0x4fa,0x4d0,0x56f,0x519)+'ÈªòËÆ§ËØ∑Ê±ÇÂºÄÂßã\x20==='+'=='),addLog(_0x512d07(0x180,0x11a,0x195,0x153)+_0x135f5e),_0x20a6be[_0x512d07(0x22f,0x2b8,0x1bd,0x1ea)](addLog,_0x3164a1(0x504,0x4ce,0x4c4,0x488)+':'),_0x20a6be[_0x3164a1(0x559,0x528,0x505,0x4d6)](addLog,formatPromptForDisplay(_0x58904e));const {api_url:_0x10ccc0,api_key:_0x55b2d3,model:_0x3f2fd0,temperature:_0x2cfe27,top_p:_0x34ae56,max_tokens:_0x13cd61}=_0x2580b0;function _0x512d07(_0x43bd9e,_0x126c66,_0x51d266,_0x1d5876){return _0x445d44(_0x43bd9e-0xfc,_0x1d5876,_0x51d266-0x1a5,_0x43bd9e-0x2c6);}if(!_0x10ccc0||!_0x55b2d3||!_0x3f2fd0){const _0x4ed2ad=_0x20a6be[_0x3164a1(0x47e,0x546,0x4e0,0x4ec)];toastr[_0x3164a1(0x574,0x5df,0x541,0x519)](_0x4ed2ad);const _0x2a18fe={};_0x2a18fe['success']=![],_0x2a18fe[_0x512d07(0x204,0x1ee,0x228,0x1ea)]=_0x4ed2ad,_0x2a18fe['id']=_0x135f5e,eventSource[_0x3164a1(0x45f,0x3f7,0x444,0x3c2)](eventNames['LLM_EXECUT'+_0x512d07(0x147,0xfd,0x124,0xfe)],_0x2a18fe);return;}const _0x5f171c=_0x20a6be[_0x512d07(0x140,0x108,0x171,0x164)],_0x553ede=_0x10ccc0['replace'](/\/$/,'');_0x5c41d8&&_0x20a6be[_0x3164a1(0x5bc,0x4ad,0x54f,0x565)](_0x5c41d8,_0x20a6be['utjGt']);try{if(_0x20a6be[_0x3164a1(0x4eb,0x4ae,0x478,0x439)]!==_0x20a6be['fIusv'])_0x41ee28(_0x2279f8);else{const _0xf26e14={};_0xf26e14[_0x3164a1(0x495,0x4e2,0x489,0x47d)+'etion_sour'+'ce']=_0x20a6be['GBtsr'],_0xf26e14[_0x3164a1(0x4a5,0x4c4,0x4da,0x475)]=_0x553ede,_0xf26e14[_0x512d07(0x21c,0x2af,0x291,0x188)+_0x3164a1(0x531,0x560,0x4dc,0x486)+'rs']='Authorizat'+_0x3164a1(0x471,0x52e,0x49f,0x427)+_0x3164a1(0x3f4,0x4d9,0x450,0x471)+_0x55b2d3+'\x22',_0xf26e14[_0x3164a1(0x4e3,0x546,0x53f,0x594)]=_0x3f2fd0,_0xf26e14[_0x512d07(0x1b0,0x228,0x183,0x1a5)]=_0x58904e,_0xf26e14['temperatur'+'e']=_0x2cfe27,_0xf26e14[_0x3164a1(0x4e5,0x48f,0x465,0x405)]=_0x34ae56,_0xf26e14[_0x512d07(0x207,0x234,0x277,0x23e)]=_0x13cd61,_0xf26e14['stream']=![];const _0x4b4ef9=_0xf26e14,_0xc92282=await _0x20a6be['yGgqf'](fetch,_0x5f171c,{'method':_0x3164a1(0x524,0x419,0x49a,0x44e),'headers':getRequestHeaders(window['token']),'body':JSON[_0x3164a1(0x5c7,0x567,0x537,0x506)](_0x4b4ef9),'signal':_0x1c1b3a}),_0x535835=await _0xc92282['json']();if(_0x535835[_0x512d07(0x221,0x1a7,0x20c,0x2aa)]){if(_0x20a6be[_0x512d07(0x258,0x1c2,0x1f1,0x2e1)]!==_0x20a6be['kbyyU'])_0x47b838[_0x512d07(0x19b,0x183,0x106,0x1d6)](_0x20a6be['yLhMF']);else{let _0x2a958e;if(typeof _0x535835[_0x3164a1(0x50c,0x566,0x541,0x53c)]===_0x20a6be['MNEyI']&&_0x535835[_0x3164a1(0x5e0,0x51b,0x541,0x5bf)][_0x512d07(0x1e8,0x1d4,0x1ac,0x19a)]){_0x2a958e=''+_0x535835['error'][_0x3164a1(0x4d1,0x594,0x508,0x55e)];const _0x67a598=[];if(_0x535835[_0x512d07(0x221,0x1f9,0x265,0x190)][_0x512d07(0x1ab,0x11b,0x1f7,0x213)])_0x67a598['push'](_0x512d07(0x144,0x1c3,0xd1,0x1db)+_0x535835[_0x512d07(0x221,0x22f,0x29f,0x1d6)][_0x3164a1(0x4f9,0x45f,0x4cb,0x46b)]);if(_0x535835['error']['code'])_0x67a598[_0x512d07(0x171,0x11a,0x1a4,0x1a1)]('‰ª£Á†Å:\x20'+_0x535835[_0x512d07(0x221,0x29c,0x234,0x1d1)][_0x3164a1(0x3e7,0x3b4,0x456,0x4a5)]);_0x20a6be['eekLu'](_0x67a598[_0x512d07(0x19e,0x207,0x12e,0x1f4)],0x1515+0x231b+-0x706*0x8)&&(_0x2a958e+='\x20('+_0x67a598[_0x512d07(0x1f1,0x18d,0x228,0x263)](',\x20')+')');}else _0x20a6be[_0x512d07(0x156,0xec,0x1f4,0x1c4)](_0x20a6be['GivYn'],_0x20a6be[_0x512d07(0x249,0x1cc,0x28e,0x2c3)])?_0x2a958e=''+JSON[_0x3164a1(0x5b6,0x4b7,0x537,0x553)](_0x535835['error']):(_0x4ab4fa=_0x512d07(0x163,0x1f7,0x16c,0x15b),_0x2d678e['warning'](_0x42f76a+(_0x512d07(0x248,0x281,0x2da,0x250)+_0x3164a1(0x4d6,0x48f,0x484,0x4c5))));throw new Error(_0x2a958e);}}if(!_0xc92282['ok'])throw new Error(_0x3164a1(0x487,0x56f,0x4fb,0x537)+_0xc92282[_0x512d07(0x13e,0x133,0x145,0x116)]+'\x20'+_0xc92282['statusText']);const _0x483ec0=_0x535835[_0x3164a1(0x588,0x566,0x565,0x5c4)]?.[0x7d0+0x17*0x3b+-0xd1d]?.['message']?.['content']||'';!_0x483ec0&&(_0x20a6be[_0x3164a1(0x501,0x5a3,0x51c,0x4c6)](_0x20a6be[_0x3164a1(0x57b,0x4c9,0x553,0x538)],_0x20a6be[_0x512d07(0x195,0x107,0x127,0x203)])?toastr['warning'](_0x20a6be['yLhMF']):(_0x8e4559+=_0x115031,_0x26fee2&&_0x20a6be[_0x3164a1(0x4ce,0x4ac,0x505,0x474)](_0x2ee5ca,_0x47034b)));_0x5c41d8&&_0x5c41d8(_0x483ec0);_0x20a6be[_0x512d07(0x1e5,0x19a,0x1f6,0x1c3)](addLog,_0x3164a1(0x4c0,0x4cd,0x45d,0x4c1)+_0x3164a1(0x4c7,0x4f1,0x4e8,0x583)),addLog(_0x483ec0),_0x20a6be[_0x512d07(0x238,0x20a,0x1f0,0x1da)](addLog,_0x512d07(0x24f,0x263,0x2a4,0x2a1)+_0x3164a1(0x507,0x567,0x4e5,0x4ce));const _0x6ae243={};_0x6ae243[_0x3164a1(0x4ef,0x3f1,0x488,0x3ec)]=!![],_0x6ae243[_0x3164a1(0x4ce,0x5a1,0x524,0x53c)]=_0x483ec0,_0x6ae243['id']=_0x135f5e,eventSource[_0x3164a1(0x414,0x485,0x444,0x43d)](eventNames[_0x512d07(0x161,0x112,0x1e9,0x183)+_0x3164a1(0x46a,0x436,0x467,0x4fb)],_0x6ae243);}}catch(_0x239861){if(_0x20a6be[_0x3164a1(0x3d7,0x409,0x476,0x45d)](_0x239861[_0x3164a1(0x4a9,0x497,0x4e2,0x45b)],_0x20a6be['rArUF'])){if(_0x20a6be['KdQwj'](_0x20a6be[_0x512d07(0x12b,0x9e,0xbe,0x156)],_0x20a6be[_0x3164a1(0x5d9,0x4f9,0x55a,0x5e3)])){console[_0x3164a1(0x561,0x4f1,0x52a,0x529)](_0x20a6be[_0x3164a1(0x439,0x42b,0x4aa,0x497)]);const _0x209022={};_0x209022[_0x3164a1(0x4f0,0x48e,0x4e2,0x470)]=_0x20a6be[_0x512d07(0x1b1,0x232,0x1ac,0x171)],_0x209022[_0x512d07(0x1e8,0x15c,0x18b,0x161)]=_0x20a6be[_0x3164a1(0x48d,0x57c,0x52c,0x4af)];const _0x82766e={};_0x82766e[_0x3164a1(0x3f8,0x3ea,0x488,0x430)]=![],_0x82766e[_0x3164a1(0x571,0x56d,0x524,0x522)]=null,_0x82766e['id']=_0x135f5e,_0x82766e[_0x512d07(0x221,0x2ae,0x2a8,0x22f)]=_0x209022,eventSource[_0x512d07(0x124,0x10d,0xce,0xe3)](eventNames['LLM_EXECUT'+'E_RESPONSE'],_0x82766e);return;}else throw _0x1253c3;}console['error'](_0x20a6be['rtpjs'],_0x239861);const _0x3fd382=_0x512d07(0x231,0x29a,0x1ff,0x193)+_0x239861[_0x3164a1(0x54d,0x4a8,0x508,0x499)];_0x5c41d8&&_0x20a6be[_0x3164a1(0x483,0x578,0x505,0x561)](_0x5c41d8,_0x3fd382);toastr[_0x512d07(0x221,0x224,0x218,0x1a3)](_0x239861['message']);const _0x197b1c={};_0x197b1c[_0x512d07(0x168,0x1a2,0x192,0x1da)]=![],_0x197b1c[_0x3164a1(0x4ee,0x497,0x524,0x4bd)]=_0x3fd382,_0x197b1c['id']=_0x135f5e,eventSource[_0x3164a1(0x3f5,0x437,0x444,0x44c)](eventNames[_0x512d07(0x161,0x1b8,0x1c4,0xe9)+'E_RESPONSE'],_0x197b1c);}finally{currentLLMRequestController=null,_0x20a6be[_0x3164a1(0x494,0x51d,0x4f7,0x56a)](stopFabLoading);}}export function createGetPromptHandler(_0x286445,_0x529c70){const _0x467ead={'BKdag':function(_0x5805e7,_0x62e847){return _0x5805e7(_0x62e847);}};return function(_0x45a917){const {id:_0xbde8e}=_0x45a917;if(!_0xbde8e)return;const _0x2092eb=REQUEST_TYPE_NAMES[_0x286445]||_0x286445;console[_0x3c832b(0x489,0x4bb,0x50a,0x542)](_0x3c832b(0x4ec,0x5f8,0x559,0x575)+'\x20Êî∂Âà∞'+_0x2092eb+(_0x45d933(0x3e,-0x2f,-0x30,-0x8)+_0x45d933(-0xbc,-0x2c,-0x5d,-0x6f))+_0xbde8e+')');const _0x443590=_0x467ead[_0x3c832b(0x4f7,0x59d,0x532,0x4fd)](buildPromptForRequestType,_0x286445),_0x28f6b2={};function _0x3c832b(_0xd15b72,_0x1452cf,_0x382bc8,_0x481f5f){return _0x45cb(_0x382bc8-0x273,_0xd15b72);}function _0x45d933(_0x213dd6,_0x2238db,_0x44230c,_0x5a4d82){return _0x45cb(_0x213dd6- -0x29d,_0x2238db);}_0x28f6b2[_0x3c832b(0x597,0x4a7,0x530,0x567)]=_0x443590,_0x28f6b2['id']=_0xbde8e,eventSource[_0x3c832b(0x3c1,0x483,0x424,0x39b)](_0x529c70,_0x28f6b2);};}export function createExecuteHandler(_0x59075b,_0x579953,_0x20277a=null){const _0x363bcf={'mYptS':function(_0x534ca4){return _0x534ca4();}};return async function(_0x67293c){const _0x3bbab3=_0x20277a?_0x363bcf[_0x3e75a4(-0x12,0x52,0x50,0xdd)](_0x20277a):null;function _0x3e75a4(_0x218b07,_0x574c08,_0x12539f,_0x4e5949){return _0x45cb(_0x574c08- -0x1e4,_0x4e5949);}await executeTypedLLMRequest(_0x67293c,_0x59075b,_0x579953,_0x3bbab3);};}