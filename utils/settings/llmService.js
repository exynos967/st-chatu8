function _0x7fdc(_0x407a2d,_0x51b73b){_0x407a2d=_0x407a2d-(0x2330+-0x1*0x2345+0x12b);const _0x1e9d51=_0x169f();let _0x317942=_0x1e9d51[_0x407a2d];if(_0x7fdc['QZXekg']===undefined){var _0x547fd9=function(_0x1cbdfc){const _0x23cb8b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x50bc9d='',_0x313ea4='',_0x61defc=_0x50bc9d+_0x547fd9;for(let _0x3bcf78=0x16a*-0x17+-0xa*-0x221+-0x1*-0xb3c,_0x254d0b,_0x53dccb,_0xa08a36=0x1152+-0x2f6*0x5+-0x284;_0x53dccb=_0x1cbdfc['charAt'](_0xa08a36++);~_0x53dccb&&(_0x254d0b=_0x3bcf78%(0x1b69+0x1*0x22f3+0x23a*-0x1c)?_0x254d0b*(-0x1*-0x1dd1+-0x1*-0xefb+-0x1*0x2c8c)+_0x53dccb:_0x53dccb,_0x3bcf78++%(-0x1061*-0x1+-0x1*0x58d+-0xad0))?_0x50bc9d+=_0x61defc['charCodeAt'](_0xa08a36+(-0xa56+0x5*-0x2c1+0x1825))-(-0x3*0x8a9+-0x1677+0xc1f*0x4)!==-0x1ea3+0x20b3+-0x210?String['fromCharCode'](-0xebb+0x4f7+0xac3&_0x254d0b>>(-(-0xefc+0x558+-0x41*-0x26)*_0x3bcf78&-0xe9*-0x25+-0x1f09+-0x14f*0x2)):_0x3bcf78:0x12d0+-0x1ff2+0xd22*0x1){_0x53dccb=_0x23cb8b['indexOf'](_0x53dccb);}for(let _0x2cf41c=-0x22a9+0x1*0x18f3+0xe2*0xb,_0x124b42=_0x50bc9d['length'];_0x2cf41c<_0x124b42;_0x2cf41c++){_0x313ea4+='%'+('00'+_0x50bc9d['charCodeAt'](_0x2cf41c)['toString'](0x5c6+-0x39e*0x1+-0x218))['slice'](-(0x1cab+0x1ca3+-0x394c));}return decodeURIComponent(_0x313ea4);};_0x7fdc['tyHyPD']=_0x547fd9,_0x7fdc['Wtjzja']={},_0x7fdc['QZXekg']=!![];}const _0x13cf05=_0x1e9d51[0x2495+-0x1e8d+-0x608],_0x271cb8=_0x407a2d+_0x13cf05,_0x2ab92b=_0x7fdc['Wtjzja'][_0x271cb8];if(!_0x2ab92b){const _0x205495=function(_0x36e6c1){this['mWYJFk']=_0x36e6c1,this['cJMbBH']=[0x23*0x119+-0x34*0x5e+0x9a9*-0x2,-0x1*-0xd34+-0x50d+0x1*-0x827,0x1e2*-0x2+-0x1*0x1c90+0x4*0x815],this['xCyQtf']=function(){return'newState';},this['CDRXeH']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['UQlFDP']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x205495['prototype']['bTNmdW']=function(){const _0x300ba4=new RegExp(this['CDRXeH']+this['UQlFDP']),_0x39400d=_0x300ba4['test'](this['xCyQtf']['toString']())?--this['cJMbBH'][-0x1d0f+0xf65+-0x1*-0xdab]:--this['cJMbBH'][-0xd7a*0x1+0x10*0x228+0xd*-0x19e];return this['jXnCea'](_0x39400d);},_0x205495['prototype']['jXnCea']=function(_0x2347e0){if(!Boolean(~_0x2347e0))return _0x2347e0;return this['VTmvqy'](this['mWYJFk']);},_0x205495['prototype']['VTmvqy']=function(_0x2bbb00){for(let _0x59a617=0x1516*-0x1+-0x2*0x20c+0x192e,_0x560491=this['cJMbBH']['length'];_0x59a617<_0x560491;_0x59a617++){this['cJMbBH']['push'](Math['round'](Math['random']())),_0x560491=this['cJMbBH']['length'];}return _0x2bbb00(this['cJMbBH'][-0x10ed+-0xa9b+-0x8*-0x371]);},new _0x205495(_0x7fdc)['bTNmdW'](),_0x317942=_0x7fdc['tyHyPD'](_0x317942),_0x7fdc['Wtjzja'][_0x271cb8]=_0x317942;}else _0x317942=_0x2ab92b;return _0x317942;}(function(_0x5b405d,_0x463a15){const _0x499057=_0x5b405d();function _0x2258cf(_0x33aa72,_0x34f245,_0x537c55,_0x2c2083){return _0x7fdc(_0x537c55- -0x97,_0x2c2083);}function _0x5d38f0(_0x55aa4f,_0x124705,_0x199a4f,_0x451fe2){return _0x7fdc(_0x124705- -0xb2,_0x451fe2);}while(!![]){try{const _0x2ede04=parseInt(_0x5d38f0(0x207,0x170,0x110,0x1a2))/(0x1e4b+-0xdcb+0x67*-0x29)*(parseInt(_0x5d38f0(0xe6,0x10e,0x128,0xac))/(0x15b*0xe+-0x15a1+0x3*0xe3))+-parseInt(_0x2258cf(0xfd,0x10d,0xe8,0x128))/(-0x38*0x3e+-0x1468+-0x1*-0x21fb)+-parseInt(_0x5d38f0(0x1bb,0x175,0x1fd,0x10b))/(-0x42*-0x30+0x1c21+0x287d*-0x1)+parseInt(_0x5d38f0(0xfd,0x15f,0x11c,0xde))/(0x3*0x2ea+-0x1933*-0x1+-0xd*0x29c)*(parseInt(_0x2258cf(0x11c,0x58,0x8a,0xec))/(0x235d+0x1*0xa85+-0x2ddc))+-parseInt(_0x5d38f0(0x12e,0x143,0x164,0xa9))/(-0xeba+0x4a7*0x3+0x6*0x22)*(parseInt(_0x2258cf(0x185,0xb3,0x14b,0x110))/(0xdf3*0x1+-0x17*0x92+-0xcd))+parseInt(_0x2258cf(0x113,0x3d,0x83,0xa6))/(0x84+0x27+-0xa2)*(parseInt(_0x5d38f0(0x19,0x8e,0xa8,0x5b))/(-0x7*0x50e+0x200b+-0x1*-0x361))+parseInt(_0x5d38f0(0x1c6,0x163,0x17b,0x1bb))/(0x316+-0x1c6e+-0x1963*-0x1);if(_0x2ede04===_0x463a15)break;else _0x499057['push'](_0x499057['shift']());}catch(_0x245d97){_0x499057['push'](_0x499057['shift']());}}}(_0x169f,0x10030a+0x3394*-0x18+0x11ad7*0x1));const _0x1fc58a=(function(){const _0x31f269={'TRdty':function(_0x2bd9d9,_0x18d88b){return _0x2bd9d9===_0x18d88b;},'qWtYU':_0x2a77ba(0x26,-0xde,-0x6c,-0xc9),'zKWbm':_0x2a77ba(-0x18,-0xb8,-0x83,-0x111),'DkbdL':function(_0x30f302,_0x2beb2e){return _0x30f302!==_0x2beb2e;},'WlKEL':'uJQyU','VmKPq':function(_0x229bdc,_0xc04fb8){return _0x229bdc(_0xc04fb8);}};function _0x2a77ba(_0x3db1a2,_0x4f7490,_0x59ff2d,_0x46b300){return _0x7fdc(_0x59ff2d- -0x2a8,_0x46b300);}let _0x726175=!![];function _0x15beed(_0x1b6704,_0x5204d2,_0x4e786d,_0x25da06){return _0x7fdc(_0x4e786d- -0x3ca,_0x5204d2);}return function(_0x39e06c,_0x3a925c){const _0x198c37={'rHSOv':function(_0x3e2bbf,_0x596b78){return _0x31f269['VmKPq'](_0x3e2bbf,_0x596b78);}},_0x395403=_0x726175?function(){function _0x1dc5f3(_0x277353,_0x21e6e9,_0x37d6df,_0x3424b9){return _0x7fdc(_0x37d6df-0x236,_0x277353);}function _0x3da645(_0x2b54aa,_0x1e4399,_0x57a28c,_0x27c30a){return _0x7fdc(_0x27c30a- -0x1ee,_0x57a28c);}if(_0x31f269[_0x1dc5f3(0x34d,0x46a,0x3e2,0x425)](_0x31f269[_0x3da645(0xa1,-0x3c,-0x5e,0x3c)],_0x31f269[_0x3da645(-0x1f,-0x76,-0xb5,-0x89)]))return _0x3b5d3b;else{if(_0x3a925c){if(_0x31f269[_0x3da645(0x78,-0x32,0xb5,0x35)](_0x1dc5f3(0x368,0x42e,0x3b1,0x314),_0x31f269['WlKEL'])){const _0xb259ee=_0x3a925c[_0x3da645(0x69,0x20,0x1d,0x46)](_0x39e06c,arguments);return _0x3a925c=null,_0xb259ee;}else _0x198c37[_0x3da645(-0x2c,-0x90,-0x120,-0x97)](_0x245a0a,_0x1dc5f3(0x43e,0x4d0,0x45c,0x3e8)+_0x1dc5f3(0x461,0x40f,0x408,0x41a));}}}:function(){};return _0x726175=![],_0x395403;};}()),_0x32194f=_0x1fc58a(this,function(){const _0x9f3690={};_0x9f3690['ZTmVa']=_0x384aa0(0x12f,0x15c,0x1cf,0xf9)+'+$';function _0x441bb6(_0x850adb,_0x3b8a56,_0x161c3c,_0x39e6db){return _0x7fdc(_0x850adb-0x100,_0x161c3c);}function _0x384aa0(_0x16d0d7,_0x2e1a11,_0x3e52c9,_0x40abb4){return _0x7fdc(_0x2e1a11-0x26,_0x16d0d7);}const _0x39cabd=_0x9f3690;return _0x32194f[_0x384aa0(0xff,0x13f,0x1d3,0x135)]()[_0x441bb6(0x24a,0x226,0x1e9,0x2c0)](_0x39cabd[_0x441bb6(0x30a,0x351,0x3ac,0x315)])[_0x441bb6(0x219,0x1c4,0x22c,0x1c2)]()[_0x384aa0(0x1b1,0x21c,0x281,0x2ae)+'r'](_0x32194f)[_0x441bb6(0x24a,0x296,0x1e2,0x2a6)](_0x39cabd[_0x441bb6(0x30a,0x324,0x381,0x27f)]);});_0x32194f();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';let currentLLMRequestController=null;export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x3fcf7c){currentLLMRequestController=_0x3fcf7c;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){function _0x1f6324(_0x48e1ae,_0x2ae0a0,_0x8d77b4,_0x1a831c){return _0x7fdc(_0x2ae0a0-0x221,_0x48e1ae);}const _0x3ea738={};function _0x66f74a(_0x3666b6,_0x235305,_0x2a7caa,_0x1418f9){return _0x7fdc(_0x235305- -0x1be,_0x2a7caa);}_0x3ea738['gXAsQ']=_0x66f74a(-0x31,-0xa7,-0x55,-0xfe);const _0x11c5c6=_0x3ea738;currentLLMRequestController&&(currentLLMRequestController[_0x66f74a(0x3,-0x68,-0x22,-0xf0)](),toastr[_0x1f6324(0x456,0x435,0x3f2,0x490)](_0x11c5c6[_0x1f6324(0x3ee,0x40f,0x425,0x3c7)]));}export function isLLMTestMode(){function _0x4ca108(_0x4e957f,_0x20d3c9,_0x40e6c2,_0x7679f7){return _0x7fdc(_0x4e957f-0x1dc,_0x20d3c9);}return!!extension_settings[extensionName][_0x4ca108(0x36a,0x33e,0x2ee,0x3c9)+'e'];}export function formatPromptForDisplay(_0x50b747){const _0x3ce3aa={'ltegr':function(_0x4acd7c,_0x1fb69c){return _0x4acd7c===_0x1fb69c;},'AMryh':_0x40c121(0x3e3,0x2b3,0x348,0x345),'APwef':function(_0x5cddc5,_0x4d5a68){return _0x5cddc5===_0x4d5a68;},'IsWlN':'cfBqY','BrnWs':_0x40c121(0x269,0x25d,0x280,0x2aa),'NICKJ':function(_0x2cb5db,_0x39c1c1){return _0x2cb5db/_0x39c1c1;},'Lhall':function(_0x3a4fa7,_0x4f46a7){return _0x3a4fa7*_0x4f46a7;},'xYjFK':function(_0x2bef6a,_0x27d615){return _0x2bef6a!==_0x27d615;},'uVBDt':_0x5c500(0x428,0x424,0x3ba,0x38b),'tCeRv':function(_0x54b1c5,_0x448121){return _0x54b1c5(_0x448121);},'ajGYu':_0x5c500(0x3d5,0x32c,0x380,0x2ec),'Bjhaa':function(_0x44f0,_0xad99b0){return _0x44f0===_0xad99b0;},'jcEFD':_0x40c121(0x336,0x401,0x384,0x3de)};function _0x40c121(_0xdf728c,_0x18955f,_0x1c7a8d,_0x1f9ad2){return _0x7fdc(_0x1c7a8d-0x138,_0xdf728c);}if(_0x3ce3aa[_0x40c121(0x2c2,0x374,0x2fb,0x2cb)](typeof _0x50b747,_0x3ce3aa[_0x40c121(0x226,0x236,0x2bc,0x2c2)]))return _0x50b747;if(Array[_0x40c121(0x369,0x290,0x320,0x3bb)](_0x50b747)){const _0x135611=[];return _0x50b747[_0x40c121(0x23a,0x32d,0x2cb,0x324)]((_0x1244e4,_0x4828ba)=>{const _0x55cdb5=_0x1244e4[_0x31b903(0x5b5,0x550,0x630,0x5cd)]||_0x31b903(0x4a4,0x4d6,0x503,0x483);function _0xe8e6c6(_0x4ac9b5,_0x51959d,_0x23e0e8,_0x325340){return _0x40c121(_0x4ac9b5,_0x51959d-0x5b,_0x325340- -0x3a,_0x325340-0x1eb);}const _0x42c8da=_0x3ce3aa[_0x31b903(0x560,0x4c1,0x503,0x58f)](getRoleLabel,_0x55cdb5);function _0x31b903(_0x2f7343,_0x12ae43,_0x13f58b,_0x33d2cc){return _0x5c500(_0x2f7343-0x14a,_0x12ae43-0x1ac,_0x2f7343-0x1d1,_0x13f58b);}_0x135611[_0xe8e6c6(0x3f0,0x3a5,0x2b8,0x34e)](''+'‚ïê'['repeat'](0x50*-0x4+0x2320*-0x1+-0x1*-0x2492)),_0x135611['push']('„Äê'+_0x42c8da+'„Äë'),_0x135611[_0xe8e6c6(0x349,0x3c6,0x3b5,0x34e)](''+'‚îÄ'[_0x31b903(0x4b6,0x4ac,0x444,0x448)](0x604+0x9c2+-0xf94));const _0x1dcf39=_0x1244e4[_0x31b903(0x4e0,0x4f9,0x46c,0x506)];if(_0x3ce3aa[_0xe8e6c6(0x32e,0x35f,0x24a,0x2c1)](typeof _0x1dcf39,'string'))_0x135611[_0xe8e6c6(0x2f9,0x2d6,0x332,0x34e)](_0x1dcf39);else Array[_0xe8e6c6(0x298,0x2fc,0x24e,0x2e6)](_0x1dcf39)&&_0x1dcf39['forEach'](_0x895ba1=>{const _0x36cb72={};function _0xe01f2f(_0x5f37df,_0x117043,_0x3cb500,_0x1d9a60){return _0x31b903(_0x3cb500-0x27,_0x117043-0x1b4,_0x1d9a60,_0x1d9a60-0x1f4);}_0x36cb72[_0x541217(0x15a,0xaf,0xab,0xe5)]=function(_0x162e2a,_0x577613){return _0x162e2a>_0x577613;};const _0x17d896=_0x36cb72;function _0x541217(_0x10b9f4,_0x44e842,_0x5d82e0,_0x3797df){return _0xe8e6c6(_0x44e842,_0x44e842-0x116,_0x5d82e0-0x69,_0x3797df- -0x1c0);}if(_0x3ce3aa[_0x541217(0x102,0x11d,0x12b,0x101)](_0x895ba1[_0xe01f2f(0x577,0x58d,0x608,0x69c)],_0x3ce3aa[_0x541217(0x10b,0xa6,0xac,0xba)])){if(_0x3ce3aa[_0xe01f2f(0x645,0x596,0x5f2,0x555)](_0x3ce3aa['IsWlN'],_0x541217(0x158,0x78,0x6d,0xf4))){_0x59dda9=''+_0x5097cf[_0xe01f2f(0x55e,0x5f4,0x5c2,0x5c4)]['message'];const _0x4d9221=[];if(_0x98f81f[_0x541217(0x138,0x1a9,0xe2,0x151)][_0xe01f2f(0x62d,0x6a3,0x608,0x5f7)])_0x4d9221[_0xe01f2f(0x673,0x63e,0x5ff,0x694)](_0x541217(0x83,-0xf,0xe,0x8c)+_0x4d5eb2[_0x541217(0xb8,0x115,0xdf,0x151)][_0x541217(0x1a6,0x1f9,0x116,0x197)]);if(_0x458809[_0xe01f2f(0x635,0x526,0x5c2,0x62e)][_0xe01f2f(0x4b6,0x49f,0x4eb,0x4e6)])_0x4d9221[_0x541217(0x126,0x146,0x1db,0x18e)]('‰ª£Á†Å:\x20'+_0x5cdc25[_0xe01f2f(0x5eb,0x548,0x5c2,0x645)][_0x541217(0xe1,0xd9,0xb1,0x7a)]);_0x17d896[_0x541217(0xd7,0x13d,0xe7,0xe5)](_0x4d9221[_0x541217(0x6a,0xe3,0x19,0x71)],-0x697*-0x1+0x1*-0x1db3+0x171c)&&(_0x5d90fb+='\x20('+_0x4d9221[_0xe01f2f(0x649,0x5b5,0x5ad,0x5a6)](',\x20')+')');}else _0x135611[_0x541217(0x179,0x167,0x1fe,0x18e)](_0x895ba1[_0x541217(0x1b0,0xfe,0x183,0x14e)]||'');}else{if(_0x895ba1[_0xe01f2f(0x5f9,0x679,0x608,0x68c)]===_0x541217(0x19a,0x13d,0xff,0x190)){const _0x2ba5ff=_0x895ba1[_0xe01f2f(0x581,0x5e1,0x601,0x56a)]?.[_0x541217(-0x1,-0x6,0x72,0x85)]||'';if(_0x2ba5ff[_0xe01f2f(0x597,0x5af,0x55d,0x4d9)](_0x3ce3aa['BrnWs'])){const _0x1eba35=_0x2ba5ff[_0x541217(0x11c,0xfc,0x193,0x122)](/^data:([^;]+);/),_0x49f9a0=_0x1eba35?_0x1eba35[0x1*-0x49d+0xc5a+-0x7bc]:_0xe01f2f(0x495,0x512,0x4cb,0x568),_0x196159=_0x2ba5ff[_0x541217(0x119,0xdd,0xde,0x7f)](',')[-0x1*0x2e9+-0x254f+0x5bf*0x7]||'',_0x1c8b76=Math['round'](_0x3ce3aa[_0xe01f2f(0x5fd,0x614,0x607,0x5c2)](_0x3ce3aa[_0xe01f2f(0x67e,0x646,0x607,0x66a)](_0x3ce3aa[_0xe01f2f(0x4f4,0x53a,0x568,0x52d)](_0x196159[_0xe01f2f(0x566,0x512,0x4e2,0x50c)],0x2*0x8ab+0x172a+-0x287d),-0xf*-0x53+0x1*-0xee1+0xa08),0xb25+-0x15eb+0xec6));_0x135611[_0xe01f2f(0x671,0x653,0x5ff,0x5ae)](_0xe01f2f(0x544,0x5b1,0x5cc,0x5b9)+':\x20'+_0x49f9a0+_0x541217(0x180,0xf0,0xe0,0x11f)+_0x1c8b76+_0x541217(0x6d,0xf2,0x95,0xc3));}else _0x3ce3aa['xYjFK'](_0x3ce3aa[_0x541217(0x1c9,0x1b4,0x192,0x14c)],_0xe01f2f(0x562,0x629,0x5b2,0x643))?_0x30592b(_0x33110b):_0x135611[_0xe01f2f(0x57d,0x5ea,0x5ff,0x59f)]('üì∑\x20[ÂõæÁâáÈìæÊé•:\x20'+_0x2ba5ff+']');}}});_0x135611[_0xe8e6c6(0x368,0x2df,0x3d0,0x34e)]('');}),_0x135611[_0x5c500(0x454,0x456,0x3b5,0x3c4)]('\x0a');}function _0x5c500(_0x3a5f8f,_0x26e853,_0x3c8050,_0x297d00){return _0x7fdc(_0x3c8050-0x1b7,_0x297d00);}if(_0x3ce3aa[_0x40c121(0x276,0x27d,0x265,0x2d4)](typeof _0x50b747,_0x3ce3aa[_0x40c121(0x306,0x3b1,0x370,0x35e)])&&_0x50b747!==null)return JSON[_0x5c500(0x31e,0x351,0x364,0x311)](_0x50b747,null,-0x53*0x1+-0xa81+0xad6);return _0x3ce3aa['tCeRv'](String,_0x50b747);}function _0x4f21ad(_0x2b2a56,_0xd82719,_0x6bcbc8,_0x225dee){return _0x7fdc(_0x225dee-0x19d,_0x2b2a56);}export function getRoleLabel(_0x43406c){const _0x2dcab8={};_0x2dcab8['MtYXG']='Á≥ªÁªüÊèêÁ§∫ËØç';function _0x4a7399(_0xf604af,_0x38b943,_0x2129ac,_0x127274){return _0x7fdc(_0x127274- -0x28,_0xf604af);}_0x2dcab8[_0x4a7399(0x1ac,0x1d5,0x28e,0x1ee)]=_0x4a7399(0x260,0x240,0x1ff,0x1da),_0x2dcab8[_0x45b994(0xbe,0x120,0xc4,0x10b)]=_0x45b994(0x1c9,0x23d,0x250,0x1cd);const _0x3a7fab=_0x2dcab8,_0x113eec={};function _0x45b994(_0x4535fc,_0x46837f,_0x120207,_0x181b20){return _0x7fdc(_0x181b20- -0x40,_0x46837f);}_0x113eec[_0x45b994(0x1c8,0x188,0x2a7,0x21a)]=_0x3a7fab[_0x45b994(0xf6,0x132,0x1e9,0x173)],_0x113eec['user']='Áî®Êà∑',_0x113eec[_0x45b994(0x14b,0x1ee,0x15f,0x15a)]=_0x3a7fab[_0x45b994(0x1b2,0x262,0x170,0x1d6)],_0x113eec[_0x45b994(0x1ac,0xe8,0x18c,0x140)]=_0x3a7fab[_0x45b994(0x151,0x99,0x193,0x10b)],_0x113eec[_0x4a7399(0x1b3,0x1da,0x259,0x208)]='Â∑•ÂÖ∑';const _0x296556=_0x113eec;return _0x296556[_0x43406c]||_0x43406c;}export function getCurrentLLMProfile(){function _0x4d8de2(_0x16b825,_0x2f6c3a,_0x3aff72,_0x248399){return _0x7fdc(_0x2f6c3a-0x1f4,_0x16b825);}const _0x3d6de8=extension_settings[extensionName][_0x4d8de2(0x3e6,0x3e1,0x41e,0x35c)+'es']||{},_0x2a96da=extension_settings[extensionName][_0x4d8de2(0x3b5,0x406,0x494,0x364)+_0x173e72(0x4e7,0x4d8,0x443,0x471)];function _0x173e72(_0x5ac565,_0x259979,_0x401c57,_0x525301){return _0x7fdc(_0x259979-0x302,_0x5ac565);}return _0x3d6de8[_0x2a96da]||_0x3d6de8[Object[_0x173e72(0x484,0x472,0x4f3,0x496)](_0x3d6de8)[0x106f*0x2+0x56*-0x11+-0x1b28]]||{};}export function getCurrentTestContext(){const _0x5a20ef=extension_settings[extensionName]['test_conte'+_0x58caa3(0x1ba,0x1c7,0x22a,0x201)+'s']||{};function _0x58caa3(_0x4032f8,_0x1c1db3,_0x26c539,_0x525a10){return _0x7fdc(_0x4032f8- -0x29,_0x26c539);}const _0x289971=extension_settings[extensionName]['current_te'+_0x58caa3(0x175,0x1ba,0x151,0x17c)+'_profile'];function _0x3fc59a(_0x178d57,_0x325688,_0x187fe4,_0x4613ff){return _0x7fdc(_0x187fe4- -0x3e,_0x325688);}return _0x5a20ef[_0x289971]||_0x5a20ef[Object['keys'](_0x5a20ef)[-0xec0+0xbc*0x2f+-0x13c4]]||{};}export function getEffectiveConfigForRequestType(_0xb59976){const _0x5bf37b=extension_settings[extensionName][_0x1db653(-0x237,-0x1b0,-0x1d2,-0x19a)+_0x965e07(0x42e,0x34c,0x3ee,0x359)+_0x965e07(0x492,0x3dd,0x3f0,0x34e)]||{},_0x51847c={};_0x51847c[_0x965e07(0x4e0,0x494,0x45d,0x460)+'e']='ÈªòËÆ§',_0x51847c[_0x1db653(-0x13e,-0x1b1,-0x1cb,-0x141)+_0x965e07(0x3c2,0x3ea,0x38c,0x2fe)]='ÈªòËÆ§';const _0x5459c7=_0x5bf37b[_0xb59976]||_0x51847c;function _0x965e07(_0x4de6f2,_0x519d2b,_0x3372bf,_0x2735fc){return _0x7fdc(_0x3372bf-0x26d,_0x2735fc);}const _0x413ddb=extension_settings[extensionName]['llm_profil'+'es']||{},_0x4f07d1=extension_settings[extensionName][_0x965e07(0x4f5,0x425,0x4b1,0x538)+_0x965e07(0x4e2,0x40e,0x450,0x3f3)+'s']||{},_0x142321=_0x5459c7[_0x965e07(0x409,0x3d9,0x45d,0x475)+'e']||'ÈªòËÆ§',_0x2a7c87=_0x413ddb[_0x142321]||_0x413ddb[Object['keys'](_0x413ddb)[0x2239+0x169*-0x5+-0xd96*0x2]]||{},_0x399cd6=_0x5459c7[_0x1db653(-0x112,-0x1c1,-0x128,-0x141)+_0x965e07(0x303,0x400,0x38c,0x412)]||'ÈªòËÆ§',_0x539a44=_0x4f07d1[_0x399cd6]||_0x4f07d1[Object[_0x1db653(-0x157,-0x190,-0x119,-0x1a1)](_0x4f07d1)[0x274*-0x2+-0x8f*0x43+0x2a55]]||{};function _0x1db653(_0x15ead7,_0x51d2c2,_0x1a9fb4,_0x1c07b8){return _0x7fdc(_0x1c07b8- -0x311,_0x1a9fb4);}const _0x41463e={};return _0x41463e[_0x1db653(-0x185,-0xb7,-0x70,-0xf9)]=_0x2a7c87['api_url']||'',_0x41463e[_0x965e07(0x48e,0x4e6,0x44b,0x3bb)]=_0x2a7c87[_0x965e07(0x3b9,0x49d,0x44b,0x4ba)]||'',_0x41463e['model']=_0x2a7c87[_0x1db653(-0x141,-0x133,-0x1ab,-0x138)]||'',_0x41463e['temperatur'+'e']=_0x2a7c87['temperatur'+'e']??-0x1af8+-0x251a+0x2009*0x2+0.7,_0x41463e[_0x1db653(-0x164,-0x142,-0x17f,-0x119)]=_0x2a7c87[_0x965e07(0x4f2,0x4da,0x465,0x4af)]??-0x1b7c+-0x232+0x1daf,_0x41463e[_0x1db653(-0x19c,-0xdf,-0x8a,-0x11a)]=_0x2a7c87[_0x1db653(-0xcb,-0x167,-0x1ba,-0x11a)]??-0x128*-0x1f+-0x1*-0x1eca+-0x40a2*0x1,_0x41463e['stream']=_0x2a7c87[_0x965e07(0x4e6,0x4f0,0x453,0x41a)]??![],_0x41463e[_0x965e07(0x309,0x32f,0x393,0x3e4)]=_0x539a44,_0x41463e;}export function buildPromptForRequestType(_0x1ec2ee,_0x439a87=''){function _0x41690e(_0x44bad0,_0x27ba5a,_0x327652,_0x130727){return _0x7fdc(_0x27ba5a- -0x1b0,_0x44bad0);}const _0x5155c7={'NGGxT':_0x41690e(0xd8,0x3b,0x32,-0xb),'EEGzI':function(_0x223aae,_0x13e127){return _0x223aae===_0x13e127;},'AjDHm':'AbortError','htMJm':_0x41690e(0xa3,0x55,0x96,0x83)+_0x41690e(0x81,0x21,0x54,0x99),'xxYXl':function(_0x453012,_0x294096){return _0x453012(_0x294096);},'ZVCiu':function(_0x5b074d,_0x1c47b8){return _0x5b074d===_0x1c47b8;},'aOUrf':'HRHko','ArkiQ':_0x41690e(0x121,0x86,0x38,0xc7),'zTifl':function(_0x1afe88,_0x500e01,_0x3ed3e7){return _0x1afe88(_0x500e01,_0x3ed3e7);},'DFYyy':_0x41690e(-0x27,0x8,0x80,0x9d),'GfcBJ':function(_0x6863e9,_0x25b477){return _0x6863e9!==_0x25b477;},'yZadJ':_0x41690e(0x6,0x2f,0xa3,-0x28),'YAMLO':function(_0x1260ec,_0xddea15){return _0x1260ec!==_0xddea15;},'XNejT':_0x41690e(0x82,-0x16,-0xa0,0x64),'RbArD':'yEKaK','kgWAw':_0x41690e(0x2e,0x35,0x3b,0x14)},_0x2ea4e5=extension_settings[extensionName][_0x3e5569(0x26e,0x205,0x24c,0x1d6)+_0x41690e(-0xa5,-0x2f,0x68,-0x1d)+'figs']||{},_0x1c7d29={};_0x1c7d29[_0x41690e(0x8c,0x20,0x21,0x88)+'ofile']='ÈªòËÆ§';const _0xea3e69=_0x2ea4e5[_0x1ec2ee]||_0x1c7d29,_0x53d2ef=_0xea3e69[_0x3e5569(0x2ee,0x339,0x2a5,0x241)+_0x3e5569(0x237,0x26d,0x1f4,0x26d)]||'ÈªòËÆ§',_0x263eb0=extension_settings[extensionName][_0x41690e(0x8e,0x94,0xea,0xdf)+_0x3e5569(0x2d6,0x2d6,0x2b8,0x24b)+'s']||{},_0xa5d6a1=_0x263eb0[_0x53d2ef]||_0x263eb0[Object[_0x41690e(-0x46,-0x40,0x34,-0x23)](_0x263eb0)[-0x119e+-0xf1*-0x3+-0x7*-0x21d]]||{},_0x13110c=[];if(_0xa5d6a1[_0x41690e(0x9a,0x24,0x6d,0x45)]&&Array[_0x3e5569(0x307,0x33a,0x2bd,0x274)](_0xa5d6a1[_0x41690e(-0x15,0x24,-0x24,0xa4)]))_0xa5d6a1['entries'][_0x41690e(-0xaa,-0x1d,-0x91,0x61)](_0x3fa254=>{function _0x4f040f(_0x342fc1,_0x4d14b5,_0x52d9a5,_0x2361a6){return _0x3e5569(_0x342fc1-0x57,_0x342fc1,_0x4d14b5- -0x101,_0x2361a6-0xc4);}function _0x3f331e(_0x4b0fa5,_0x561434,_0x118fc8,_0xd9e402){return _0x41690e(_0x561434,_0x118fc8-0x574,_0x118fc8-0x19c,_0xd9e402-0x10e);}if(_0x5155c7[_0x4f040f(0x25f,0x1ce,0x248,0x165)](_0x5155c7[_0x4f040f(0x1a4,0x12d,0x1ae,0xc2)],_0x5155c7[_0x4f040f(0x177,0x214,0x1db,0x19a)])){const _0x552838={};_0x552838['timeOut']=0x1388,_0xe73641[_0x4f040f(0x1ca,0x1e8,0x26e,0x242)]('„ÄêÊµãËØïÊ®°Âºè„Äë'+_0x56cbe1+(_0x3f331e(0x4f2,0x588,0x530,0x49e)+_0x3f331e(0x5fd,0x59a,0x569,0x585)),_0x5155c7['NGGxT'],_0x552838);}else{if(!_0x3fa254['enabled'])return;if(!_0x3fa254['content']||_0x3fa254[_0x3f331e(0x51c,0x4ab,0x51c,0x550)][_0x4f040f(0x1e2,0x156,0x17c,0x1f0)]()==='')return;if(_0x3fa254[_0x4f040f(0x145,0x118,0x11d,0x1af)+'e']===_0x4f040f(0x147,0x103,0xdc,0x185)){if(!_0x439a87||!_0x5155c7[_0x3f331e(0x4a8,0x46a,0x4f0,0x4ee)](checkTriggerWords,_0x3fa254[_0x4f040f(0x189,0x19e,0x1ee,0x241)+'ds'],_0x439a87)){if(_0x5155c7['ZVCiu'](_0x5155c7[_0x3f331e(0x51b,0x536,0x52a,0x59f)],_0x5155c7[_0x3f331e(0x4ff,0x594,0x52a,0x5b5)]))return;else{if(_0x5155c7['EEGzI'](_0x1750c6[_0x4f040f(0x20c,0x21c,0x1e9,0x294)],_0x3f331e(0x4de,0x548,0x4e8,0x559))){_0x214541[_0x3f331e(0x5f3,0x553,0x581,0x525)](_0x3cec9a+(_0x3f331e(0x64e,0x5a7,0x615,0x698)+_0x4f040f(0xf7,0x123,0x17c,0x1bd)));const _0x23684b={};_0x23684b[_0x3f331e(0x56e,0x56a,0x60c,0x5b8)]=_0x5155c7[_0x3f331e(0x5cb,0x537,0x541,0x4b6)],_0x23684b['message']=_0x5155c7[_0x4f040f(0x163,0x18e,0x1c0,0x106)];const _0x164403={};_0x164403['success']=![],_0x164403[_0x4f040f(0x1a9,0x15f,0x159,0x12b)]=null,_0x164403['id']=_0x595993,_0x164403[_0x4f040f(0x1ef,0x1e7,0x225,0x1dd)]=_0x23684b,_0x51c847[_0x3f331e(0x50d,0x53e,0x56d,0x56a)](_0x24cb1b,_0x164403);return;}_0x1e77d1[_0x4f040f(0x1a1,0x1e7,0x1d2,0x268)](_0x512faa+_0x4f040f(0x111,0x1ae,0x135,0x149),_0x2ac824);const _0x116da3=_0x4f040f(0xd0,0x129,0xd2,0xa5)+_0x3b1fcb['message'];_0x114d06&&_0x5155c7[_0x3f331e(0x586,0x614,0x573,0x4fe)](_0x2a708c,_0x116da3);_0x42ab3e[_0x4f040f(0x1ae,0x1e7,0x214,0x224)](_0x5c789e[_0x3f331e(0x57c,0x564,0x4f6,0x4ed)]);const _0x43e38e={};_0x43e38e[_0x3f331e(0x586,0x489,0x524,0x538)]=![],_0x43e38e[_0x4f040f(0x111,0x15f,0xe5,0xe4)]=_0x116da3,_0x43e38e['id']=_0x2059d6,_0x2343fe[_0x4f040f(0xef,0x17d,0x104,0x1ec)](_0xc17ae2,_0x43e38e);}}}const _0x4b9192={};_0x4b9192[_0x4f040f(0x1be,0x201,0x208,0x295)]=_0x3fa254[_0x3f331e(0x596,0x56b,0x5f1,0x649)]||'user',_0x4b9192[_0x4f040f(0x149,0x12c,0xac,0x166)]=_0x3fa254[_0x4f040f(0x159,0x12c,0x14b,0x13c)],_0x13110c['push'](_0x4b9192);}});else _0xa5d6a1[_0x41690e(0x2b,0x1f,0xba,0xa6)]&&Array[_0x3e5569(0x2ef,0x279,0x2bd,0x2fd)](_0xa5d6a1[_0x41690e(-0x5e,0x1f,-0x55,0xa2)])&&_0xa5d6a1[_0x3e5569(0x2fc,0x2b0,0x2a4,0x238)][_0x41690e(-0x28,-0x1d,-0xb2,0x6d)](_0x5f4f6d=>{function _0x336c90(_0x2e5cdb,_0x585bf3,_0x3c9ce6,_0x344256){return _0x41690e(_0x3c9ce6,_0x344256-0x22d,_0x3c9ce6-0x9f,_0x344256-0x93);}function _0x2e302b(_0x3e2f36,_0x374440,_0x1ce3bd,_0x30c65a){return _0x41690e(_0x374440,_0x3e2f36-0x30c,_0x1ce3bd-0xf2,_0x30c65a-0x110);}if(_0x5155c7[_0x2e302b(0x304,0x36d,0x298,0x32f)](_0x5155c7[_0x336c90(0x2a0,0x1ff,0x1e1,0x23f)],_0x5155c7['RbArD'])){if(_0x5f4f6d[_0x2e302b(0x33b,0x3c9,0x303,0x2b7)]&&_0x5155c7[_0x336c90(0x199,0x1ee,0x183,0x19a)](_0x5f4f6d[_0x336c90(0x2da,0x2b9,0x21a,0x25c)][_0x336c90(0x192,0x16f,0x18f,0x1ff)](),'')){const _0x205fa1={};_0x205fa1[_0x336c90(0x30b,0x25c,0x32a,0x2aa)]=_0x5155c7['yZadJ'],_0x205fa1[_0x336c90(0x1b9,0x1f1,0x19c,0x1d5)]=_0x5f4f6d[_0x336c90(0x221,0x25d,0x269,0x25c)],_0x13110c[_0x336c90(0x247,0x2d9,0x24b,0x2cd)](_0x205fa1);}if(_0x5f4f6d[_0x2e302b(0x2f6,0x2dd,0x2d1,0x347)]&&_0x5f4f6d['assistant'][_0x2e302b(0x2de,0x308,0x262,0x2c3)]()!==''){if(_0x5155c7[_0x336c90(0x11c,0x15b,0x13b,0x19a)](_0x5155c7[_0x2e302b(0x2ee,0x36b,0x32b,0x26e)],_0x5155c7[_0x2e302b(0x2ee,0x298,0x323,0x2a3)])){if(_0x350e1a[_0x2e302b(0x33b,0x300,0x386,0x33f)]&&_0x5155c7[_0x336c90(0x20a,0x2cd,0x2d0,0x2a6)](_0x1e9eb8[_0x2e302b(0x33b,0x33f,0x37f,0x30d)][_0x336c90(0x224,0x1da,0x294,0x1ff)](),'')){const _0x3c1ba4={};_0x3c1ba4[_0x336c90(0x2e9,0x2d3,0x2c8,0x2aa)]=_0x5155c7['yZadJ'],_0x3c1ba4[_0x2e302b(0x2b4,0x290,0x269,0x29c)]=_0x2263e4[_0x336c90(0x24f,0x1f4,0x205,0x25c)],_0x3a1ffa[_0x336c90(0x350,0x22c,0x26c,0x2cd)](_0x3c1ba4);}if(_0x1726b7['assistant']&&_0x5155c7['YAMLO'](_0x95a260['assistant']['trim'](),'')){const _0xfb12c3={};_0xfb12c3[_0x2e302b(0x389,0x3f0,0x367,0x40e)]=_0x5155c7[_0x336c90(0x162,0x272,0x251,0x1d0)],_0xfb12c3[_0x2e302b(0x2b4,0x338,0x344,0x262)]=_0xa321b8['assistant'],_0x446b36['push'](_0xfb12c3);}}else{const _0x521e60={};_0x521e60['role']=_0x5155c7[_0x2e302b(0x2af,0x26a,0x2d4,0x32e)],_0x521e60[_0x2e302b(0x2b4,0x218,0x2b9,0x26f)]=_0x5f4f6d[_0x336c90(0x229,0x2b6,0x283,0x217)],_0x13110c[_0x336c90(0x346,0x2d1,0x2cf,0x2cd)](_0x521e60);}}}else{if(_0xa1c17e){const _0xfca2de=_0x231272[_0x336c90(0x2b0,0x2c1,0x271,0x2b1)](_0x1ee218,arguments);return _0x173fa2=null,_0xfca2de;}}});function _0x3e5569(_0xdf0012,_0x14dbae,_0x1477c3,_0x1d2ae8){return _0x7fdc(_0x1477c3-0xd5,_0x14dbae);}const _0x227e23=mergeAdjacentMessages(_0x13110c),_0x8882d9=_0x5155c7[_0x3e5569(0x219,0x2ea,0x284,0x208)](processRollPlaceholders,_0x227e23);return _0x8882d9;}const _0x24a269={};_0x24a269['image_gen']='Ê≠£ÊñáÂõæÁâáÁîüÊàê',_0x24a269[_0x4f21ad(0x342,0x24a,0x280,0x2d5)+'n']=_0x1a0c5d(0x2e1,0x35c,0x32e,0x3a1);function _0x1a0c5d(_0x45f820,_0x374065,_0x3a968d,_0x27916d){return _0x7fdc(_0x3a968d-0x16f,_0x45f820);}_0x24a269[_0x1a0c5d(0x231,0x327,0x2a0,0x2a2)+'ay']=_0x4f21ad(0x2c2,0x254,0x31d,0x2d4),_0x24a269[_0x4f21ad(0x266,0x244,0x34a,0x2c4)+'y']=_0x1a0c5d(0x338,0x27a,0x2d6,0x266),_0x24a269[_0x1a0c5d(0x33a,0x33c,0x368,0x3f6)+'n']='ÁøªËØë',_0x24a269[_0x1a0c5d(0x339,0x3a4,0x36e,0x3a9)]=_0x1a0c5d(0x2d5,0x324,0x321,0x27f);const REQUEST_TYPE_NAMES=_0x24a269;export async function executeTypedLLMRequest(_0x5e6b2e,_0xaa721,_0x1d49f5,_0x17dcd6=null){const _0x6daed1={'CaMti':function(_0x3c54f3,_0x4f91ce){return _0x3c54f3===_0x4f91ce;},'FvHBZ':_0x5cd995(0x495,0x4ce,0x4e5,0x4c0)+_0xb28fbe(0x579,0x589,0x613,0x5f1)+'aborted.','wbjCq':_0x5cd995(0x417,0x357,0x3e5,0x3a2),'bPEvC':function(_0xa89a00,_0x5183c6){return _0xa89a00(_0x5183c6);},'yNnNQ':function(_0x4ad984,_0x28dc14){return _0x4ad984(_0x28dc14);},'aVzSP':function(_0x39acee,_0x56b5e5){return _0x39acee(_0x56b5e5);},'ViCrr':function(_0x5d0f58,_0x35315f){return _0x5d0f58===_0x35315f;},'ATPNQ':_0x5cd995(0x55a,0x4e5,0x50d,0x4b9),'lbcXA':function(_0x52f194,_0x28d4e5){return _0x52f194>_0x28d4e5;},'YZzOO':function(_0x40713c,_0x25e34f){return _0x40713c===_0x25e34f;},'BZDjv':function(_0x3faa54,_0x44c715){return _0x3faa54>_0x44c715;},'uBTca':function(_0x1a15ab,_0x1811a6){return _0x1a15ab||_0x1811a6;},'HNypw':_0xb28fbe(0x51c,0x541,0x4d5,0x4e9)+'ÂßãÊñ∞ËØ∑Ê±Ç„ÄÇ','wrclY':function(_0x5acbfb){return _0x5acbfb();},'xwYnw':function(_0x5475a6){return _0x5475a6();},'foskV':function(_0x5b6fa9,_0x241268){return _0x5b6fa9(_0x241268);},'Lacox':function(_0x2ca548,_0x25be9b){return _0x2ca548(_0x25be9b);},'eKWMA':function(_0x314a3d,_0x3731b9){return _0x314a3d(_0x3731b9);},'UbFDh':function(_0x7f50bb,_0x26491e){return _0x7f50bb(_0x26491e);},'JAkgF':'custom','iRxIU':function(_0x16ae18,_0xeae8f3,_0x398be7){return _0x16ae18(_0xeae8f3,_0x398be7);},'dOSJX':_0x5cd995(0x370,0x467,0x3f5,0x3f9),'WdpQq':'zjeaW','GKSxi':_0x5cd995(0x56b,0x509,0x516,0x54b),'BtlbN':_0x5cd995(0x562,0x56b,0x50f,0x4fd),'YrOQv':function(_0x2b5b42,_0x11b2c0){return _0x2b5b42===_0x11b2c0;},'SofbX':_0x5cd995(0x405,0x3e3,0x45d,0x4b5),'HshXe':'uWoQj','UXkeL':function(_0x3c764c,_0x2cca13){return _0x3c764c!==_0x2cca13;},'qauRB':_0x5cd995(0x4fb,0x4f0,0x4a8,0x425),'urGCg':function(_0x4669b4,_0x4a886e){return _0x4669b4===_0x4a886e;},'saoDw':_0xb28fbe(0x4c2,0x504,0x494,0x499),'cSwao':_0xb28fbe(0x479,0x461,0x504,0x3e1),'wDpYS':_0x5cd995(0x3dd,0x49f,0x41c,0x467),'OBGyv':function(_0x1abe08,_0xaff83b){return _0x1abe08===_0xaff83b;},'XyrSt':_0x5cd995(0x3a1,0x4b3,0x41f,0x465),'biPvs':_0x5cd995(0x4bf,0x419,0x450,0x463),'KpBDb':_0x5cd995(0x459,0x566,0x4e1,0x54d),'fYYFZ':'data:\x20[DON'+'E]','QlwKA':'data:\x20','aaZme':_0x5cd995(0x469,0x50d,0x4b2,0x54e),'zuvCg':function(_0x1a9f3d,_0x34688d){return _0x1a9f3d!==_0x34688d;},'lAECe':_0x5cd995(0x3df,0x45d,0x458,0x47e)+_0xb28fbe(0x4e2,0x501,0x4df,0x53e),'EtgiX':_0xb28fbe(0x4c6,0x442,0x55b,0x508),'SUeIu':function(_0x4261d9,_0x5e039a){return _0x4261d9===_0x5e039a;},'RbgDC':_0xb28fbe(0x4e7,0x550,0x483,0x54f),'YAGvS':_0x5cd995(0x537,0x489,0x502,0x4f9),'aZeOM':function(_0x1c5920,_0x38e844){return _0x1c5920===_0x38e844;},'OoIbh':_0x5cd995(0x3b6,0x3e9,0x407,0x3a1),'gBvSF':_0xb28fbe(0x48d,0x4f4,0x4d8,0x493),'ifGCb':'mrmOY','uChfq':function(_0x182767,_0x3e2b74){return _0x182767(_0x3e2b74);},'ZvSKU':function(_0x1d9e11,_0x57c7f4){return _0x1d9e11(_0x57c7f4);},'FiSqL':_0x5cd995(0x522,0x4d3,0x4ac,0x513),'yWJtF':function(_0x53fa40,_0x15ca7a){return _0x53fa40!==_0x15ca7a;},'TRGPz':_0xb28fbe(0x4b4,0x438,0x4af,0x422),'IhSIX':_0x5cd995(0x546,0x499,0x4c6,0x500)+_0x5cd995(0x420,0x43a,0x492,0x4d7),'JojbN':'IaRxh'},{prompt:_0x20f74f,id:_0x224d9d}=_0x5e6b2e;if(_0x6daed1[_0x5cd995(0x39a,0x421,0x3f6,0x39a)](!_0x224d9d,!_0x20f74f))return;currentLLMRequestController&&(currentLLMRequestController[_0x5cd995(0x42f,0x45a,0x417,0x410)](),toastr[_0xb28fbe(0x550,0x563,0x5e4,0x504)](_0x6daed1[_0xb28fbe(0x508,0x4a0,0x512,0x56e)]));currentLLMRequestController=new AbortController();const _0x36d592=currentLLMRequestController[_0xb28fbe(0x504,0x4d1,0x4a0,0x4a8)];_0x6daed1['wrclY'](startFabLoading);const _0x4f320d=REQUEST_TYPE_NAMES[_0xaa721]||_0xaa721;console['log'](_0xb28fbe(0x58f,0x57f,0x560,0x604)+_0x5cd995(0x530,0x566,0x508,0x55a)+_0x4f320d+_0xb28fbe(0x56a,0x510,0x4f0,0x573)+_0x224d9d+')',_0x20f74f),_0x6daed1[_0x5cd995(0x413,0x458,0x464,0x453)](clearLog),_0x6daed1[_0x5cd995(0x525,0x4dd,0x49d,0x4ac)](addLog,'=====\x20LLM\x20'+'ËØ∑Ê±ÇÂºÄÂßã\x20('+_0x4f320d+')\x20====='),_0x6daed1[_0x5cd995(0x516,0x575,0x4db,0x496)](addLog,_0xb28fbe(0x45a,0x3de,0x3fd,0x48f)+_0x224d9d),_0x6daed1[_0x5cd995(0x441,0x455,0x44a,0x452)](addLog,_0xb28fbe(0x4de,0x4d4,0x536,0x527)+':'),_0x6daed1[_0xb28fbe(0x56f,0x5b6,0x511,0x4d4)](addLog,_0x6daed1[_0xb28fbe(0x4fd,0x51b,0x4fd,0x504)](formatPromptForDisplay,_0x20f74f));const _0x3a8d86=getEffectiveConfigForRequestType(_0xaa721),{api_url:_0x3be001,api_key:_0x56d02a,model:_0x43bbc7,temperature:_0x53c8d7,top_p:_0x24f6ad,max_tokens:_0x2cd3d9,stream:_0x1be404}=_0x3a8d86;if(_0x6daed1['uBTca'](!_0x3be001,!_0x56d02a)||!_0x43bbc7){const _0x19dfaa=_0x4f320d+(_0xb28fbe(0x457,0x49a,0x446,0x476)+_0xb28fbe(0x4c9,0x4f8,0x501,0x51f)+'Êàñ\x20Model\x20Êú™ÈÖç'+'ÁΩÆ„ÄÇ');toastr[_0x5cd995(0x4cf,0x4ed,0x4d4,0x43c)](_0x19dfaa);const _0x8e6410={};_0x8e6410[_0x5cd995(0x475,0x3ba,0x421,0x43d)]=![],_0x8e6410[_0xb28fbe(0x4c7,0x532,0x42a,0x503)]=_0x19dfaa,_0x8e6410['id']=_0x224d9d,eventSource[_0x5cd995(0x3ed,0x4cf,0x46a,0x3e5)](_0x1d49f5,_0x8e6410);return;}const _0xbcad3f=_0xb28fbe(0x48c,0x3f2,0x442,0x469)+_0x5cd995(0x4e7,0x44f,0x48f,0x523)+_0xb28fbe(0x553,0x542,0x528,0x508)+_0xb28fbe(0x49e,0x4f5,0x4fa,0x50d),_0x3e0f63=_0x3be001[_0xb28fbe(0x519,0x59b,0x54a,0x51d)](/\/$/,'');_0x17dcd6&&_0x6daed1[_0xb28fbe(0x4c5,0x53c,0x4f7,0x423)](_0x17dcd6,'Ê≠£Âú®Â§ÑÁêÜ\x20'+_0x4f320d+'\x20ËØ∑Ê±ÇÔºåËØ∑Á®çÂÄô...');function _0x5cd995(_0x4eb4de,_0x30e7ec,_0x5cb053,_0x65f3eb){return _0x4f21ad(_0x4eb4de,_0x30e7ec-0x94,_0x5cb053-0x164,_0x5cb053-0x124);}function _0xb28fbe(_0x56faae,_0x188a13,_0xf48df4,_0x514967){return _0x1a0c5d(_0xf48df4,_0x188a13-0xf8,_0x56faae-0x1cd,_0x514967-0x41);}try{const _0x515a3a={};_0x515a3a[_0x5cd995(0x554,0x4a4,0x4f3,0x500)+_0x5cd995(0x50e,0x470,0x4ad,0x433)+'ce']=_0x6daed1[_0x5cd995(0x43f,0x440,0x420,0x422)],_0x515a3a[_0xb28fbe(0x49d,0x496,0x468,0x53b)]=_0x3e0f63,_0x515a3a[_0xb28fbe(0x4ba,0x50e,0x4f5,0x503)+_0x5cd995(0x4b0,0x47a,0x487,0x491)+'rs']=_0x5cd995(0x488,0x47f,0x47f,0x47e)+_0xb28fbe(0x52e,0x571,0x4b9,0x54f)+_0xb28fbe(0x489,0x431,0x40b,0x518)+_0x56d02a+'\x22',_0x515a3a[_0xb28fbe(0x515,0x56b,0x581,0x51e)]=_0x43bbc7,_0x515a3a[_0x5cd995(0x477,0x3d3,0x465,0x41e)]=_0x20f74f,_0x515a3a['temperatur'+'e']=_0x53c8d7,_0x515a3a[_0xb28fbe(0x534,0x534,0x5ae,0x512)]=_0x24f6ad,_0x515a3a[_0xb28fbe(0x533,0x526,0x5c4,0x553)]=_0x2cd3d9,_0x515a3a[_0x5cd995(0x53d,0x4f5,0x4a7,0x466)]=_0x1be404;const _0x1669ce=_0x515a3a,_0xc9e209=await _0x6daed1['iRxIU'](fetch,_0xbcad3f,{'method':_0x6daed1['dOSJX'],'headers':_0x6daed1[_0x5cd995(0x490,0x578,0x4f4,0x537)](getRequestHeaders,window['token']),'body':JSON['stringify'](_0x1669ce),'signal':_0x36d592});if(!_0xc9e209['ok']){if('PkYTs'===_0x6daed1['WdpQq']){let _0x24d81b;if(_0x6daed1[_0xb28fbe(0x4dd,0x484,0x441,0x482)](typeof _0x189040[_0xb28fbe(0x54f,0x4e4,0x5c7,0x53e)],_0xb28fbe(0x588,0x5f6,0x50b,0x4ff))&&_0x368fe7['error'][_0x5cd995(0x41e,0x433,0x3f3,0x3f8)]){_0x24d81b=''+_0x52bd68[_0x5cd995(0x4a8,0x45b,0x4d4,0x54a)][_0xb28fbe(0x46e,0x47e,0x491,0x4ac)];const _0x33ba5b=[];if(_0x34e20d[_0x5cd995(0x557,0x508,0x4d4,0x552)][_0x5cd995(0x4fa,0x4f5,0x51a,0x482)])_0x33ba5b[_0xb28fbe(0x58c,0x521,0x608,0x5fc)]('Á±ªÂûã:\x20'+_0x4b3dc[_0xb28fbe(0x54f,0x51a,0x573,0x539)][_0x5cd995(0x4e5,0x561,0x51a,0x527)]);if(_0x3fca92['error'][_0x5cd995(0x3d1,0x3ed,0x3fd,0x380)])_0x33ba5b[_0xb28fbe(0x58c,0x5da,0x570,0x620)](_0x5cd995(0x56f,0x5aa,0x50a,0x563)+_0x3d3501['error'][_0x5cd995(0x39c,0x3f9,0x3fd,0x403)]);_0x33ba5b[_0x5cd995(0x37c,0x46c,0x3f4,0x3e3)]>0x1*-0x2b6+0x52d*-0x5+0x1c97&&(_0x24d81b+='\x20('+_0x33ba5b['join'](',\x20')+')');}else _0x24d81b=''+_0x5441d7[_0xb28fbe(0x4e9,0x561,0x467,0x55d)](_0x533f45[_0xb28fbe(0x54f,0x4b1,0x5d6,0x577)]);throw new _0x5468dc(_0x24d81b);}else{try{if(_0x6daed1[_0x5cd995(0x4b3,0x4ff,0x518,0x57b)]===_0x6daed1[_0xb28fbe(0x593,0x530,0x5d6,0x5e9)]){const _0x161264=await _0xc9e209[_0xb28fbe(0x4c3,0x43e,0x562,0x507)]();if(_0x161264[_0xb28fbe(0x54f,0x545,0x5d4,0x518)]){if(_0x6daed1[_0xb28fbe(0x4a7,0x41b,0x408,0x42d)](_0x6daed1['BtlbN'],_0x6daed1[_0xb28fbe(0x4d1,0x45f,0x4fc,0x431)])){let _0x221b4a;if(_0x6daed1[_0xb28fbe(0x46c,0x3dd,0x48a,0x3eb)](typeof _0x161264[_0xb28fbe(0x54f,0x5ae,0x516,0x557)],_0x5cd995(0x4f4,0x59b,0x50d,0x46b))&&_0x161264[_0xb28fbe(0x54f,0x586,0x50c,0x576)][_0x5cd995(0x490,0x448,0x3f3,0x350)]){if(_0x6daed1[_0xb28fbe(0x4a5,0x469,0x478,0x4d5)](_0x6daed1[_0xb28fbe(0x538,0x520,0x50c,0x5cf)],_0x6daed1[_0xb28fbe(0x490,0x3f4,0x4da,0x4a0)])){const _0x4e1dfe=_0x5cd995(0x442,0x442,0x48c,0x3ea)+_0xb28fbe(0x548,0x5ea,0x56d,0x53b)+'Model\x20Êú™ÈÖçÁΩÆ„ÄÇ';_0x443797[_0xb28fbe(0x54f,0x55a,0x5d3,0x586)](_0x4e1dfe);const _0x467f94={};_0x467f94[_0x5cd995(0x409,0x465,0x421,0x462)]=![],_0x467f94[_0xb28fbe(0x4c7,0x4c4,0x4a9,0x549)]=_0x4e1dfe,_0x467f94['id']=_0x2e91cd,_0x1a9ebd['emit'](_0x45c404[_0x5cd995(0x496,0x4fe,0x4da,0x527)+_0xb28fbe(0x4b0,0x416,0x438,0x465)],_0x467f94);return;}else{_0x221b4a=''+_0x161264[_0x5cd995(0x575,0x54d,0x4d4,0x51c)][_0x5cd995(0x47a,0x3ff,0x3f3,0x47c)];const _0x387ae3=[];if(_0x161264[_0x5cd995(0x495,0x544,0x4d4,0x4b4)][_0x5cd995(0x4cb,0x4b8,0x51a,0x59d)])_0x387ae3[_0xb28fbe(0x58c,0x5f3,0x54d,0x55f)]('Á±ªÂûã:\x20'+_0x161264['error'][_0xb28fbe(0x595,0x57e,0x55b,0x57b)]);if(_0x161264[_0x5cd995(0x54c,0x4f8,0x4d4,0x480)]['code'])_0x387ae3[_0x5cd995(0x575,0x4a8,0x511,0x528)](_0xb28fbe(0x585,0x4ef,0x563,0x5d0)+_0x161264[_0x5cd995(0x507,0x466,0x4d4,0x4a8)]['code']);_0x6daed1[_0x5cd995(0x454,0x451,0x498,0x4a6)](_0x387ae3['length'],0x35a+-0x134b*0x1+0xff1)&&(_0x221b4a+='\x20('+_0x387ae3[_0xb28fbe(0x53a,0x5b5,0x4d8,0x5d6)](',\x20')+')');}}else{if(_0x6daed1[_0xb28fbe(0x4d5,0x458,0x47c,0x4ee)](_0x6daed1[_0x5cd995(0x354,0x37b,0x3e4,0x421)],_0x6daed1[_0xb28fbe(0x45f,0x4a2,0x490,0x4a0)])){_0x375636[_0x5cd995(0x4c2,0x3f5,0x47e,0x490)](_0x6daed1[_0x5cd995(0x3fb,0x4b0,0x432,0x446)]);const _0x326d93={};_0x326d93[_0xb28fbe(0x584,0x626,0x547,0x608)]=_0x6daed1[_0x5cd995(0x352,0x3f8,0x3ec,0x453)],_0x326d93[_0x5cd995(0x377,0x43f,0x3f3,0x3f2)]='Request\x20ab'+_0x5cd995(0x3f7,0x4d2,0x492,0x415);const _0x2a8d0f={};_0x2a8d0f['success']=![],_0x2a8d0f['result']=null,_0x2a8d0f['id']=_0x30aaec,_0x2a8d0f['error']=_0x326d93,_0x3f71e5[_0x5cd995(0x4bd,0x3d9,0x46a,0x46d)](_0x2a566b[_0x5cd995(0x4c3,0x52c,0x4da,0x44e)+_0xb28fbe(0x4b0,0x4e4,0x486,0x438)],_0x2a8d0f);return;}else _0x221b4a=''+JSON[_0xb28fbe(0x4e9,0x515,0x567,0x4fe)](_0x161264['error']);}throw new Error(_0x221b4a);}else _0x45bef7+=_0x35a696,_0xc47c24&&_0x6daed1[_0x5cd995(0x46f,0x50c,0x471,0x4a1)](_0x325d09,_0x3a8c4c);}}else _0x6daed1[_0x5cd995(0x405,0x41d,0x482,0x45a)](_0x374688,_0x1c2fa9);}catch(_0x4abd94){if(_0x6daed1[_0x5cd995(0x3d8,0x458,0x424,0x492)](_0x6daed1[_0x5cd995(0x4f1,0x4b3,0x472,0x4ea)],_0x6daed1[_0xb28fbe(0x55b,0x5ab,0x4e3,0x4f0)]))_0x6daed1[_0x5cd995(0x458,0x547,0x4c1,0x43a)](_0x15a4c9,_0x3d22be);else{if(_0x4abd94[_0x5cd995(0x3e7,0x466,0x3f3,0x44e)][_0xb28fbe(0x4e6,0x580,0x4df,0x52e)](_0xb28fbe(0x57e,0x583,0x55f,0x510))||_0x4abd94[_0xb28fbe(0x46e,0x49f,0x476,0x48f)][_0x5cd995(0x509,0x46d,0x46b,0x431)](_0x6daed1[_0xb28fbe(0x4b2,0x44c,0x429,0x4af)]))throw _0x4abd94;}}throw new Error(_0x5cd995(0x3df,0x4cb,0x47d,0x4ff)+_0xc9e209[_0xb28fbe(0x461,0x4be,0x3fc,0x3ea)]+'\x20'+_0xc9e209[_0x5cd995(0x40e,0x4be,0x49c,0x3fb)]);}}let _0x555a11='';if(_0x1be404){if(_0x6daed1[_0xb28fbe(0x590,0x5a1,0x51d,0x544)](_0x6daed1[_0x5cd995(0x450,0x40e,0x42f,0x41d)],_0x6daed1[_0x5cd995(0x434,0x492,0x3ff,0x3c5)]))throw new _0x5bc65b(_0x5cd995(0x51c,0x4c1,0x47d,0x436)+_0x3b18ea['status']+'\x20'+_0x3dd7b1[_0xb28fbe(0x517,0x559,0x4d1,0x5a1)]);else{const _0x113402=_0xc9e209[_0x5cd995(0x540,0x4fa,0x4ab,0x546)]['getReader'](),_0x16526e=new TextDecoder(_0x6daed1['KpBDb']);let _0x4c058f='';while(!![]){const {done:_0x186e7b,value:_0x4cbd3f}=await _0x113402['read']();if(_0x186e7b)break;const _0x2bfbb4={};_0x2bfbb4[_0x5cd995(0x490,0x49b,0x4a7,0x514)]=!![],_0x4c058f+=_0x16526e[_0xb28fbe(0x4a0,0x4fd,0x52a,0x4df)](_0x4cbd3f,_0x2bfbb4);const _0x1f1022=_0x4c058f['split']('\x0a');_0x4c058f=_0x1f1022[_0xb28fbe(0x55a,0x53d,0x4c3,0x54a)]()||'';for(const _0x45481c of _0x1f1022){const _0x595a81=_0x45481c[_0x5cd995(0x4ad,0x3e4,0x443,0x4ab)]();if(!_0x595a81||_0x595a81===_0x6daed1[_0x5cd995(0x57f,0x4d2,0x4fb,0x4a8)])continue;if(_0x595a81['startsWith'](_0x6daed1['QlwKA']))try{const _0x40296c=_0x595a81[_0xb28fbe(0x475,0x4af,0x431,0x47c)](-0x1662+0x1*0x9c5+-0x5*-0x287),_0x16b810=JSON[_0xb28fbe(0x496,0x474,0x420,0x4b8)](_0x40296c),_0x5cf8d0=_0x16b810['choices']?.[-0x1fb8+0x17ee+0x1*0x7ca]?.[_0x5cd995(0x46a,0x456,0x4b0,0x44a)]?.[_0xb28fbe(0x494,0x4de,0x422,0x437)];_0x5cf8d0&&(_0x555a11+=_0x5cf8d0,_0x17dcd6&&_0x17dcd6(_0x555a11));}catch(_0x3631f0){console[_0xb28fbe(0x4d4,0x48b,0x46f,0x4e5)](_0x6daed1['aaZme'],_0x3631f0['message']);}}}if(_0x4c058f[_0xb28fbe(0x4be,0x4c7,0x469,0x4fd)]()&&_0x6daed1[_0x5cd995(0x528,0x551,0x500,0x558)](_0x4c058f[_0xb28fbe(0x4be,0x487,0x483,0x4f8)](),_0xb28fbe(0x498,0x46f,0x4ff,0x473)+'E]')&&_0x4c058f['trim']()['startsWith'](_0x6daed1['QlwKA']))try{const _0x5b20cd=_0x4c058f[_0xb28fbe(0x4be,0x43b,0x50d,0x534)]()['slice'](-0x31*-0x67+-0x84*-0x31+-0x1*0x2cf5),_0x4f492d=JSON['parse'](_0x5b20cd),_0x194cf0=_0x4f492d['choices']?.[-0x148a*-0x1+0x1409*0x1+-0x2893]?.[_0xb28fbe(0x52b,0x4e6,0x535,0x5cb)]?.[_0xb28fbe(0x494,0x458,0x4e3,0x4c0)];_0x194cf0&&(_0x555a11+=_0x194cf0,_0x17dcd6&&_0x6daed1['eKWMA'](_0x17dcd6,_0x555a11));}catch(_0x3f0ae1){console['warn'](_0x6daed1[_0x5cd995(0x440,0x3f1,0x45e,0x498)],_0x3f0ae1[_0xb28fbe(0x46e,0x461,0x497,0x47c)]);}!_0x555a11&&(_0x555a11=_0x6daed1[_0xb28fbe(0x571,0x593,0x5a1,0x4e4)],toastr[_0x5cd995(0x49f,0x52a,0x4b5,0x504)](_0x4f320d+(_0x5cd995(0x3d9,0x3f9,0x3eb,0x485)+_0x5cd995(0x47e,0x370,0x3fc,0x395))));}}else{const _0x1aa59b=await _0xc9e209[_0xb28fbe(0x4c3,0x50e,0x4bf,0x526)]();if(_0x1aa59b[_0xb28fbe(0x54f,0x5e1,0x52b,0x5b2)]){if(_0x6daed1[_0xb28fbe(0x52f,0x5b5,0x56f,0x53f)](_0x6daed1[_0xb28fbe(0x575,0x537,0x503,0x5cf)],_0x6daed1[_0xb28fbe(0x481,0x3ff,0x406,0x3ff)])){let _0xd53b5b;if(_0x6daed1[_0x5cd995(0x490,0x48a,0x42c,0x491)](typeof _0x25188c[_0x5cd995(0x4b4,0x52e,0x4d4,0x46e)],_0x6daed1[_0xb28fbe(0x4dc,0x50b,0x57d,0x4a4)])&&_0x2c0c53[_0xb28fbe(0x54f,0x4f3,0x57f,0x56f)][_0x5cd995(0x3f2,0x451,0x3f3,0x3a3)]){_0xd53b5b=''+_0x3f90cd[_0x5cd995(0x48b,0x505,0x4d4,0x4a8)][_0xb28fbe(0x46e,0x4c7,0x441,0x47e)];const _0xab0637=[];if(_0x91085c[_0xb28fbe(0x54f,0x4ef,0x518,0x590)][_0xb28fbe(0x595,0x528,0x5d4,0x593)])_0xab0637['push'](_0xb28fbe(0x48a,0x46c,0x46a,0x438)+_0x4ed781[_0x5cd995(0x4d4,0x477,0x4d4,0x4d7)][_0xb28fbe(0x595,0x58d,0x54c,0x62b)]);if(_0x5e3949['error'][_0xb28fbe(0x478,0x44d,0x409,0x490)])_0xab0637['push'](_0x5cd995(0x584,0x503,0x50a,0x4f8)+_0x43250e[_0x5cd995(0x4c4,0x515,0x4d4,0x461)][_0xb28fbe(0x478,0x4e2,0x3f0,0x473)]);_0x6daed1['lbcXA'](_0xab0637[_0x5cd995(0x387,0x42b,0x3f4,0x486)],0xad9*0x3+0x8a2+0x292d*-0x1)&&(_0xd53b5b+='\x20('+_0xab0637[_0x5cd995(0x47a,0x485,0x4bf,0x442)](',\x20')+')');}else _0xd53b5b=''+_0x3c33e8['stringify'](_0x40ddce[_0x5cd995(0x53c,0x50b,0x4d4,0x576)]);throw new _0x176be8(_0xd53b5b);}else{let _0x45683a;if(_0x6daed1[_0xb28fbe(0x568,0x512,0x5a9,0x4f9)](typeof _0x1aa59b[_0x5cd995(0x572,0x448,0x4d4,0x4c1)],_0x6daed1[_0x5cd995(0x485,0x407,0x461,0x4a6)])&&_0x1aa59b[_0xb28fbe(0x54f,0x5cb,0x582,0x511)][_0xb28fbe(0x46e,0x47b,0x426,0x483)]){_0x45683a=''+_0x1aa59b['error'][_0x5cd995(0x37d,0x405,0x3f3,0x441)];const _0xf23e5a=[];if(_0x1aa59b['error'][_0x5cd995(0x588,0x4c0,0x51a,0x512)])_0xf23e5a[_0xb28fbe(0x58c,0x5c2,0x500,0x534)]('Á±ªÂûã:\x20'+_0x1aa59b[_0x5cd995(0x4b4,0x536,0x4d4,0x54c)][_0xb28fbe(0x595,0x59d,0x55c,0x543)]);if(_0x1aa59b[_0xb28fbe(0x54f,0x561,0x4db,0x5d3)][_0x5cd995(0x3cf,0x459,0x3fd,0x3e2)])_0xf23e5a[_0xb28fbe(0x58c,0x5aa,0x507,0x52a)](_0x5cd995(0x4b2,0x488,0x50a,0x558)+_0x1aa59b[_0x5cd995(0x460,0x45e,0x4d4,0x4b1)][_0xb28fbe(0x478,0x4b9,0x482,0x400)]);if(_0xf23e5a[_0x5cd995(0x409,0x46d,0x3f4,0x363)]>-0x6a1*-0x5+0x6cf+-0x27f4){if(_0x6daed1[_0xb28fbe(0x55d,0x5a7,0x5c6,0x5f8)]!==_0x6daed1[_0xb28fbe(0x55d,0x557,0x58c,0x56e)]){let _0x5d326a;if(_0x6daed1['YZzOO'](typeof _0x1fa4f8['error'],_0x6daed1[_0xb28fbe(0x4dc,0x53c,0x485,0x4f2)])&&_0x3de15d[_0x5cd995(0x49b,0x515,0x4d4,0x53b)][_0xb28fbe(0x46e,0x44b,0x433,0x47b)]){_0x5d326a=''+_0x11e486['error'][_0xb28fbe(0x46e,0x46e,0x3e9,0x43e)];const _0x241652=[];if(_0x3b37af[_0xb28fbe(0x54f,0x58d,0x57d,0x5cb)][_0xb28fbe(0x595,0x506,0x535,0x5e3)])_0x241652[_0xb28fbe(0x58c,0x598,0x4fc,0x61c)](_0x5cd995(0x4a6,0x413,0x40f,0x471)+_0xf3e0f7[_0x5cd995(0x464,0x4be,0x4d4,0x490)][_0xb28fbe(0x595,0x5fd,0x533,0x59e)]);if(_0xdb8897['error'][_0x5cd995(0x3bb,0x3ac,0x3fd,0x363)])_0x241652[_0x5cd995(0x508,0x52b,0x511,0x4cf)](_0xb28fbe(0x585,0x56f,0x557,0x5a0)+_0xab789d[_0xb28fbe(0x54f,0x571,0x55e,0x56f)][_0x5cd995(0x47f,0x452,0x3fd,0x3aa)]);_0x6daed1[_0x5cd995(0x4b8,0x523,0x50b,0x53b)](_0x241652[_0x5cd995(0x3da,0x439,0x3f4,0x477)],-0x139*0x17+0x100*0x1f+-0x2e1)&&(_0x5d326a+='\x20('+_0x241652[_0xb28fbe(0x53a,0x53d,0x500,0x4c7)](',\x20')+')');}else _0x5d326a=''+_0x59cbdb[_0xb28fbe(0x4e9,0x4ae,0x587,0x538)](_0x49d9dd[_0x5cd995(0x539,0x4f1,0x4d4,0x4ce)]);throw new _0x19fbff(_0x5d326a);}else _0x45683a+='\x20('+_0xf23e5a[_0xb28fbe(0x53a,0x580,0x4de,0x534)](',\x20')+')';}}else _0x45683a=''+JSON[_0xb28fbe(0x4e9,0x4ec,0x4d1,0x4a8)](_0x1aa59b[_0x5cd995(0x559,0x49e,0x4d4,0x4ed)]);throw new Error(_0x45683a);}}_0x555a11=_0x1aa59b[_0x5cd995(0x444,0x4d5,0x4c8,0x4fc)]?.[-0x5a*0x16+-0x20ba+0x2876]?.[_0xb28fbe(0x46e,0x46d,0x46d,0x3ec)]?.[_0xb28fbe(0x494,0x4ef,0x4cf,0x4c4)]||'';if(!_0x555a11){if(_0x6daed1[_0x5cd995(0x42f,0x3f3,0x45a,0x402)](_0x6daed1[_0x5cd995(0x438,0x439,0x45c,0x4a8)],_0x6daed1[_0x5cd995(0x37d,0x490,0x404,0x497)]))_0x555a11='Êú™Êî∂Âà∞ÊúâÊïàÂõûÂ§ç„ÄÇ',toastr[_0xb28fbe(0x530,0x53a,0x50a,0x556)](_0x4f320d+(_0x5cd995(0x40c,0x3a0,0x3eb,0x3ee)+_0x5cd995(0x359,0x3f5,0x3fc,0x3c1)));else{const _0x1197b1=_0x1cbdfc[_0x23cb8b][_0xb28fbe(0x4b3,0x468,0x528,0x555)+_0x5cd995(0x494,0x406,0x442,0x453)+_0x5cd995(0x41c,0x49e,0x444,0x4b7)]||{},_0x5e648e={};_0x5e648e[_0x5cd995(0x4d7,0x47b,0x4b1,0x456)+'e']='ÈªòËÆ§',_0x5e648e[_0x5cd995(0x41d,0x52f,0x491,0x4e3)+'ofile']='ÈªòËÆ§';const _0x29ae8b=_0x1197b1[_0x50bc9d]||_0x5e648e,_0x57e22a=_0x313ea4[_0x61defc][_0x5cd995(0x472,0x441,0x4ae,0x426)+'es']||{},_0x13d7d0=_0x3bcf78[_0x254d0b]['test_conte'+_0xb28fbe(0x51f,0x5b2,0x4da,0x504)+'s']||{},_0x3098cd=_0x29ae8b[_0x5cd995(0x49c,0x4ee,0x4b1,0x43c)+'e']||'ÈªòËÆ§',_0x54c9db=_0x57e22a[_0x3098cd]||_0x57e22a[_0x53dccb[_0x5cd995(0x3d3,0x455,0x431,0x4bd)](_0x57e22a)[-0x16*-0xce+-0x1*0x1b69+0x1*0x9b5]]||{},_0x2b4f14=_0x29ae8b[_0x5cd995(0x410,0x51e,0x491,0x47b)+_0x5cd995(0x433,0x446,0x3e0,0x384)]||'ÈªòËÆ§',_0x7bbefc=_0x13d7d0[_0x2b4f14]||_0x13d7d0[_0xa08a36[_0x5cd995(0x439,0x4cc,0x431,0x49b)](_0x13d7d0)[0x175d*-0x1+-0x25e0+-0x3d3d*-0x1]]||{},_0x4c962b={};return _0x4c962b['api_url']=_0x54c9db['api_url']||'',_0x4c962b[_0xb28fbe(0x51a,0x511,0x516,0x49f)]=_0x54c9db['api_key']||'',_0x4c962b[_0xb28fbe(0x515,0x510,0x4d3,0x54f)]=_0x54c9db[_0x5cd995(0x511,0x4a7,0x49a,0x439)]||'',_0x4c962b[_0x5cd995(0x498,0x39f,0x3fb,0x3fb)+'e']=_0x54c9db[_0xb28fbe(0x476,0x47a,0x512,0x467)+'e']??-0x1*0x75a+0x2*-0x319+-0x484*-0x3+0.7,_0x4c962b[_0x5cd995(0x4e0,0x43f,0x4b9,0x4d4)]=_0x54c9db['top_p']??-0x33*-0x9e+-0x26ec+-0x773*-0x1,_0x4c962b[_0xb28fbe(0x533,0x52a,0x511,0x565)]=_0x54c9db['max_tokens']??-0x17cf+0x247+-0xbc4*-0x2,_0x4c962b['stream']=_0x54c9db[_0x5cd995(0x4b2,0x497,0x4a7,0x52f)]??![],_0x4c962b[_0xb28fbe(0x462,0x3f4,0x412,0x434)]=_0x7bbefc,_0x4c962b;}}_0x17dcd6&&_0x17dcd6(_0x555a11);}_0x6daed1[_0x5cd995(0x34f,0x394,0x3d7,0x435)](addLog,_0x5cd995(0x4a1,0x443,0x4ca,0x42b)+'\x20ÂõûÂ§ç\x20-----'),_0x6daed1[_0x5cd995(0x43b,0x4f5,0x4c1,0x488)](addLog,_0x555a11),_0x6daed1[_0x5cd995(0x49b,0x49c,0x4ec,0x470)](addLog,_0xb28fbe(0x4db,0x4f9,0x4a9,0x485)+_0x5cd995(0x37e,0x38e,0x3e3,0x37a));const _0x3731db=extension_settings[extensionName][_0x5cd995(0x405,0x4dc,0x44f,0x400)+'e'];if(_0x3731db){const _0x200b06={};_0x200b06[_0x5cd995(0x567,0x4cc,0x517,0x5a8)]=0x1388,toastr[_0x5cd995(0x4c2,0x554,0x4d5,0x562)]('„ÄêÊµãËØïÊ®°Âºè„Äë'+_0x4f320d+(_0xb28fbe(0x4a8,0x473,0x4b7,0x529)+_0x5cd995(0x439,0x453,0x466,0x406)),_0x6daed1[_0xb28fbe(0x45c,0x477,0x3c2,0x4d5)],_0x200b06);}const _0x4576bf={};_0x4576bf[_0xb28fbe(0x49c,0x4d1,0x49c,0x513)]=!![],_0x4576bf[_0xb28fbe(0x4c7,0x569,0x4c4,0x44f)]=_0x555a11,_0x4576bf['id']=_0x224d9d,_0x4576bf[_0xb28fbe(0x589,0x609,0x5cc,0x572)]=_0x3731db,eventSource[_0x5cd995(0x4c7,0x4f8,0x46a,0x473)](_0x1d49f5,_0x4576bf);}catch(_0x3b7e93){if(_0x6daed1['yWJtF'](_0x6daed1['TRGPz'],_0x5cd995(0x460,0x4be,0x4be,0x455))){if(_0x6daed1['CaMti'](_0x3b7e93[_0x5cd995(0x4ca,0x46a,0x509,0x497)],_0x6daed1[_0x5cd995(0x3ed,0x415,0x3ec,0x3a7)])){console[_0x5cd995(0x481,0x44d,0x47e,0x4ad)](_0x4f320d+(_0xb28fbe(0x58d,0x60b,0x4f3,0x62e)+_0x5cd995(0x39b,0x3ac,0x410,0x48c)));const _0x5bb2f2={};_0x5bb2f2['name']=_0x6daed1[_0x5cd995(0x40b,0x369,0x3ec,0x41a)],_0x5bb2f2['message']=_0x6daed1['IhSIX'];const _0x3c24bf={};_0x3c24bf[_0x5cd995(0x469,0x456,0x421,0x388)]=![],_0x3c24bf[_0x5cd995(0x3e5,0x449,0x44c,0x3fa)]=null,_0x3c24bf['id']=_0x224d9d,_0x3c24bf[_0x5cd995(0x48b,0x4d5,0x4d4,0x4ef)]=_0x5bb2f2,eventSource[_0xb28fbe(0x4e5,0x4e5,0x561,0x52e)](_0x1d49f5,_0x3c24bf);return;}console[_0xb28fbe(0x54f,0x4df,0x5a7,0x5d0)](_0x4f320d+'\x20Error:',_0x3b7e93);const _0x7091a5=_0x5cd995(0x3f2,0x3da,0x416,0x3a8)+_0x3b7e93[_0xb28fbe(0x46e,0x425,0x40a,0x3d3)];_0x17dcd6&&_0x17dcd6(_0x7091a5);toastr['error'](_0x3b7e93[_0xb28fbe(0x46e,0x510,0x3d5,0x41b)]);const _0x2f88a4={};_0x2f88a4[_0xb28fbe(0x49c,0x3fb,0x461,0x469)]=![],_0x2f88a4['result']=_0x7091a5,_0x2f88a4['id']=_0x224d9d,eventSource[_0x5cd995(0x480,0x47a,0x46a,0x3f8)](_0x1d49f5,_0x2f88a4);}else _0x4a1ed1=''+_0x62ddd6[_0x5cd995(0x3d4,0x4b6,0x46e,0x465)](_0x3cca66[_0x5cd995(0x448,0x4eb,0x4d4,0x458)]);}finally{if(_0x6daed1[_0x5cd995(0x428,0x426,0x462,0x453)](_0x6daed1['JojbN'],_0x5cd995(0x413,0x3da,0x40a,0x380)))currentLLMRequestController=null,stopFabLoading();else return!!_0x1033e5;}}function _0x169f(){const _0x2c1d3d=['kcGOlISPkYKRkq','6kEs6iMYl+ACJEIJHEwXLEEKUG','y2HHCL9KzxnPzW','C2XPy2u','DgvTCgvYyxr1CG','5Pwi5zUE5Asn44cc','y29Kzq','yLPht3O','yMLqDNm','5AEl5PAW6k+35Rgc44cc','mtq4mtu4mdbMvNPszxq','C3bSAxq','sNbPruC','Awzhq2i','DhjPz2DLCK1Vza','wufhDLm','Dxr5C2G','DxjS','zgf0ytO','swfsEgG','C2vHCMnO','sNfhELe','vKnesKu','zxiG','57g75z6loIa','yM9YDgvKlG','l2fWAs9IywnRzq','tNrMBLu','ywjVCNrLzc4','we5LALq','shnOwgu','6k+35Rgc6zsz6k+VoIa','ywjVCNq','CKHtt3y','y29UDgvUDa','yu9vCMy','CgfYC2u','5lUJ56cboG','zgf0ytOGw0rptG','zLbPwMi','rhnqs2K','sKfRz0y','C3vJy2vZCW','y3vZDg9Tx3vYBa','l2DLBMvYyxrL','Dxjhq2C','zgvJB2rL','EKTxyM0','rezzExK','6kEs6iMYl+ACJEIJHEs/RUAuUq','vLz4AeC','wxjpuxy','B0rwuM8','vMLdCNi','ioIVT+AXGUw3SUwUJoAiKo+8JowqJUE7REAtJq','ioAuTUwiScbmte0G5OMN6kgm','whLYu3q','y3vZDg9T','A2v5CW','rNziqLO','AM5Isvi','ioAuTUwiSa','rv9srvnqt05trq','rM5xsgW','D0rWwvm','BgXTx3jLCxvLCW','vLzSA2i','ANPQA0W','y0Hit0i','DLrzu3O','qu1YEwG','qwPesg0','y3vZDg9Tx2LUyW','mZCXmda0ovLzzfbSrG','zNvUy3rPB24','Df90ExbLx2nVBG','DhjPBq','zMLNCW','ywPhwxu','s0jD','y3PqwM0','ANnVBG','teXnioACQUAuTUwiSoACIEAvIowBNG','zuTxtue','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','CMvZDwX0','sfryDvC','iefqssblzxKSia','BgXTvgvZDe1Vza','v2D5Afq','5O+q56s66k+n6i635y+w6k+35RgcicHj','zw5HyMXLza','A2DxqxC','zM9YrwfJAa','u1zQvNa','qNrSyK4','qLjoCgy','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','D2fYBG','vvHRzuW','yxnZAxn0yw50','z0j2u0y','shnpExy','Beffq2u','C3rFy29UDgv4Da','pt09pt0GteXnia','qvrqtLe','q2fnDgK','5y+r6ycb55QeifbYB21WDa','EhDzBNC','BwvZC2fNzxm','5l2C5BEY6lEZ6l+h44cc','yNvMzMvYktO','rhL2uKe','ruvhEKK','zw1PDa','Aw5JBhvKzxm','u29wz0O','vfjKDhK','C3rYAw5NAwz5','C3rHCNrZv2L0Aa','EhHzwgW','yLbfDKm','C2fVrhC','vgfN5l+U5Ps5','txrzweC','iowBNUwKJsaTls0Tlq','AMrxA0y','A2HZtKy','ChjVBxb0','uK14zMe','tgHHBgW','AhrnsM0','r3j5v2e','6k+35Rgc5AsX6lsLoIa','Bg9N','qxv0Ag9YAxPHDa','6kEs6iMYl+ACJEIJHEIUVUIUOq','mM9XAKnVBW','Eu5UtLe','uMjbCKq','BhrLz3i','qM5sCwW','C2fmveK','BhvKzv9OzwfKzq','vvbZy0O','C2LNBMfS','C3rYAw5N','DhjPz2DLCLDVCG','qvbjifvstcWGqq','se55ChC','vgrhtKC','BMrZl2nOyxqTyW','AgLZDg9YEq','y29UDgv4Df9WCG','B3j0zwq','56In5yczlI4U','u3f1Cu0','zw50CMLLCW','v2PLweC','Bv9WCM9MAwXL','BgjJwee','DenLuNy','Bw9KzwW','ievYCM9YoG','C3rHDhvZvgv4Da','zM9ZA1y','CMvWBgfJzq','yxbPx2TLEq','DxnLCG','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','lcdNUQyG','ndaYnhrnCg1LvG','EhrFChjVzMLSzq','Bwf0y2G','yNDlBuK','C3rYzwfT','EgjKs3a','AxnbCNjHEq','z1blD3O','yM9KEq','5Rwl6k+v5QIH5BYp5O+q56s6','zxrPB25FC291CG','BgXTx3bYB2zPBa','z1HbC1e','zgvSDge','yxbPx3bYB2zPBa','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','Aw9UoIaIqMvHCG','u1vLsxu','D2fYBMLUzW','mte0otrdvLDLwum','y29UC3rYDwn0BW','Bwf4x3rVA2vUCW','Dg9Wx3a','DhjHBNnSyxrPBW','wLzdAxu','6k+35RgcicHjrdOG','u29MyLG','rKPdzK8','AM9PBG','DgfNx21VzgLMEq','yvz6u1a','v1zsAKi','quNLIQNMIyS','AeT0y00','AgfRChy','uMvXDwvZDcbHyG','B1zny0y','y2HVAwnLCW','6BUy6k6K6k+35Rgc5BYa5AElid09pq','cI0Tls0TieXmtq','wLrTvMe','AhHtCgu','ueKGs2v5lcdMIjyG','5yE95PwW6lcd55sO','Dvzcrhq','tw9KzwWG5PYQ6ywn572U44cc','Dgv4Da','mtbbAfzOuhC','y3vYCMvUDf9SBa','zxjYB3i','Aw5MBW','nZmYndm2mwn5rerAva','BMnyuey','B21WBgv0Aw9UCW','yxbPx3vYBa','teXnx0vyrunvva','tgfJB3G','yLj5vvi','txbvEwS','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','Cg9W','y1n3yw8','DxrMltG','t29jyMG','mteXnJeZouXwy29gDq','rgTIzeW','teXnigv4zwn1Da','rMXzvMO','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','mJu0mZGXnNjMwMn6uG','t2rABNq','r2zJqKO','CvD0wvu','wNzts1u','yvPLt00','CM9Szq','ioIVT+AXGIaOsuq6ia','sMzQBe8','Dg9VBa','CNztsvi','y2HHDf9JB21WBa','vwjgrgG','yxbWBhK','rxrNAvG','uuTpwvm','zsbfCNjVCJO','AMnfrKq','uMjNrem','zLLzrLO','rxPcwfa','vfH3z2C','zsbYzxf1zxn0ia','C2zHDw8','ENv2q2C','qxjRAve','v3LRvLu','57g75z6loG','qvb3zwy','DgvZDf9JB250zq','B0TAzgu','u3nLA1O','ioAuTUwiSca','BMfTzq','5lUJ56cboIa','qLPeANy','Dg9Rzw4','B2jQzwn0','DgvZDe1Vzgu','quD3Cg4','qvjZsK0','ChvZAa','ihjLCxvLC3qGyq','Aw1Hz2vFDxjS','C3qTy2HHDhu4oG','t0jhExy','EK9YwwW','DgLTzu91Da','r0TtEgK','tKLds0O','DhLWzq','C3LZDgvT','DunOzNe','teXnioIVT+AXGUw3SUs4REATOUoaGG','twXtyMq','Dg9tDhjPBMC','oufnqwfwta','oIbbueKGvvjmla','Dw5RBM93BG','wufnte8','6k+35RgcieLeoIa','B2zPBgu','rMLtCuW','nZe5ntC0q01RvePV','6k+35Rgc5A6m5OIqid09pt09','Cwf1uKi','qwjVCNrfCNjVCG','C3rHDhvZ','y29UDgv4Da','y2HHCL9TB2rPzG','u210Aha','qKPou1m','oIbmte0G5PYQ5Ps25yIW5PYj','D2jQq3e','ELrPzMW','qMPOywe','CMvWzwf0','DhjPz2DLCG','wvP6t08','y2HHCL9KAxnWBa','BwvZC2fNzq','BgvUz3rO','ue9tva','Dujuy2e'];_0x169f=function(){return _0x2c1d3d;};return _0x169f();}export async function executeDefaultLLMRequest(_0x31e57a,_0x4f0c29,_0x5f5b7a=null){const _0x3d72e1={'jzjkL':'user','MlSbd':_0xbef287(-0xa7,-0x88,-0x1a,-0xb2)+_0x770d69(0x410,0x44a,0x3ab,0x3f7),'JpiEG':function(_0x3beff1,_0x4940b3){return _0x3beff1===_0x4940b3;},'WVRjB':'AbortError','HTXuW':_0xbef287(0x3a,-0x7f,0xb,-0x17)+_0xbef287(0x62,0x2a,-0x29,-0x2d),'jnbIR':'LLM\x20Execut'+_0xbef287(0xaf,0x92,0x3d,0x95),'TdGNG':function(_0x4cd708,_0x12ef1b){return _0x4cd708||_0x12ef1b;},'fPiZb':function(_0x535dd2){return _0x535dd2();},'SVjVp':function(_0x3c6256,_0x524f68){return _0x3c6256(_0x524f68);},'SsekZ':function(_0x2cd6a3,_0x21de29){return _0x2cd6a3(_0x21de29);},'sfauo':function(_0x5849fa,_0x4f4ec7){return _0x5849fa(_0x4f4ec7);},'FrHEV':function(_0x2973cb,_0x2321f6){return _0x2973cb||_0x2321f6;},'bRyUR':function(_0x4019dc,_0x51422d){return _0x4019dc===_0x51422d;},'JfjlO':_0xbef287(-0xc3,-0x8b,-0x45,-0xe3),'gPKwz':_0x770d69(0x49c,0x453,0x4c6,0x4e4)+'PI\x20Key,\x20Êàñ\x20'+_0x770d69(0x4e0,0x4ae,0x4bc,0x557),'oVMcF':_0x770d69(0x421,0x41c,0x3ae,0x433)+'nds/chat-c'+_0xbef287(0x86,0x3c,0x1d,-0x66)+_0x770d69(0x433,0x3dc,0x461,0x4c4),'gjcOU':_0xbef287(-0x34,-0x64,-0xd1,-0x78),'SquqM':function(_0x2a9a47,_0x36d5e3){return _0x2a9a47(_0x36d5e3);},'EzBXP':_0x770d69(0x440,0x494,0x3c5,0x3bb),'hxSpe':function(_0x30a543,_0x4c3ed0,_0x25ae28){return _0x30a543(_0x4c3ed0,_0x25ae28);},'XqBiY':_0xbef287(-0x7c,-0x7c,-0xc6,-0x15a),'Smthp':function(_0x538963,_0x1f953b){return _0x538963===_0x1f953b;},'VVxhG':_0xbef287(0x32,0x2b,-0x3f,-0xc4),'BRNpf':function(_0x4af56e,_0x5f19d5){return _0x4af56e>_0x5f19d5;},'xVsKf':'cHHOB','qCoWn':'zXYEm','VCDJE':function(_0x1f144b,_0x19712b){return _0x1f144b===_0x19712b;},'OdZnt':_0xbef287(0x51,-0x91,-0x33,-0xae),'oKZde':_0x770d69(0x459,0x40a,0x472,0x420)+'Â§ç„ÄÇ','rvSIR':function(_0x5f2a16,_0x5bdfe3){return _0x5f2a16(_0x5bdfe3);},'WjeXG':'cQGJL','BnRql':_0xbef287(0x21,0x5e,0x55,0x88),'aoEbc':_0xbef287(0x52,-0x55,0x2a,0x3d)+_0x770d69(0x50e,0x57c,0x556,0x52a)+_0xbef287(-0xf4,-0xdc,-0xa8,-0x98)},{prompt:_0x4e808b,id:_0x15250e}=_0x31e57a;if(_0x3d72e1[_0xbef287(0x76,0x3e,-0x2d,-0x30)](!_0x15250e,!_0x4e808b))return;currentLLMRequestController&&(currentLLMRequestController[_0xbef287(-0xc7,-0xd2,-0xa4,-0x6b)](),toastr['info'](_0x3d72e1[_0x770d69(0x3e9,0x3ec,0x380,0x455)]));currentLLMRequestController=new AbortController();const _0x272ed7=currentLLMRequestController[_0x770d69(0x499,0x42a,0x505,0x489)];_0x3d72e1[_0xbef287(-0x109,-0xbf,-0x9d,-0xa3)](startFabLoading),console[_0xbef287(-0xb5,-0x1b,-0x3d,-0xb8)](_0x770d69(0x524,0x4f3,0x4d6,0x556)+_0x770d69(0x43e,0x412,0x460,0x487)+_0x770d69(0x4cc,0x471,0x448,0x47d)+_0x15250e+')',_0x4e808b),clearLog(),_0x3d72e1[_0xbef287(-0xe,0x35,-0x66,-0xc2)](addLog,'=====\x20LLM\x20'+_0xbef287(-0x1e,0x97,0xe,0x9d)+'=='),_0x3d72e1[_0xbef287(0xc6,0xdc,0x4c,-0x15)](addLog,_0x770d69(0x3ef,0x415,0x43a,0x479)+_0x15250e),_0x3d72e1['sfauo'](addLog,_0xbef287(0xb,-0xdc,-0x58,0x16)+':'),_0x3d72e1[_0xbef287(-0x5,-0x69,-0x66,-0xaa)](addLog,_0x3d72e1[_0x770d69(0x50f,0x568,0x492,0x574)](formatPromptForDisplay,_0x4e808b));const {api_url:_0x57e147,api_key:_0x2d5b26,model:_0x2263c5,temperature:_0x492a3e,top_p:_0x1f0c0e,max_tokens:_0x443e3a}=_0x4f0c29;if(_0x3d72e1['FrHEV'](!_0x57e147,!_0x2d5b26)||!_0x2263c5){if(_0x3d72e1[_0x770d69(0x4ec,0x4f5,0x522,0x572)]('jdWkF',_0x3d72e1[_0xbef287(0x2e,0xb8,0x35,0xca)])){const _0x5574a1=_0x3d72e1[_0x770d69(0x4ba,0x4f3,0x48a,0x506)];toastr[_0xbef287(-0x3d,0x93,0x19,0x3c)](_0x5574a1);const _0x3bf2fd={};_0x3bf2fd[_0x770d69(0x431,0x4a0,0x41a,0x3f4)]=![],_0x3bf2fd['result']=_0x5574a1,_0x3bf2fd['id']=_0x15250e,eventSource[_0xbef287(0x34,0x4d,-0x51,-0x74)](eventNames['LLM_EXECUT'+_0x770d69(0x445,0x418,0x4d6,0x3cd)],_0x3bf2fd);return;}else{if(!_0x5aa7b2[_0xbef287(-0x38,-0xc6,-0x69,-0x5c)])return;if(!_0x51e240[_0x770d69(0x429,0x3c0,0x492,0x3bb)]||_0x23071b[_0xbef287(-0xbe,-0x7d,-0xa2,-0xd2)][_0xbef287(-0xed,-0x68,-0x78,0x1e)]()==='')return;if(_0x4693bf[_0x770d69(0x415,0x482,0x3b1,0x398)+'e']==='trigger'){if(!_0x4f56b5||!_0x305824(_0x5f288c[_0xbef287(0x2e,-0xd0,-0x30,-0x70)+'ds'],_0xcc02))return;}const _0x2d2744={};_0x2d2744[_0xbef287(-0x4e,0x6b,0x33,-0x13)]=_0x195278[_0x770d69(0x4fe,0x470,0x4e3,0x498)]||_0x3d72e1[_0xbef287(0x18,-0x54,-0x81,-0x8f)],_0x2d2744[_0x770d69(0x429,0x3b0,0x3c6,0x48e)]=_0x5edaf2['content'],_0x3cf8b5[_0x770d69(0x521,0x552,0x546,0x543)](_0x2d2744);}}const _0x5da961=_0x3d72e1[_0xbef287(0x1b,0x5,0xc,0x5f)];function _0x770d69(_0x30ebca,_0x57b2cd,_0x300e7a,_0x526754){return _0x4f21ad(_0x526754,_0x57b2cd-0x182,_0x300e7a-0x6d,_0x30ebca-0x134);}const _0x409110=_0x57e147[_0xbef287(0x4b,-0x44,-0x1d,-0xb6)](/\/$/,'');function _0xbef287(_0x23bc50,_0x28c0a5,_0x461bfa,_0x2d66f0){return _0x4f21ad(_0x28c0a5,_0x28c0a5-0x93,_0x461bfa-0x94,_0x461bfa- -0x397);}_0x5f5b7a&&(_0x3d72e1['gjcOU']!==_0x770d69(0x3fa,0x419,0x484,0x383)?(_0x4f8cac='Êú™Êî∂Âà∞ÊúâÊïàÂõûÂ§ç„ÄÇ',_0x40df1b['warning'](_0x50c1b4+(_0xbef287(-0xe3,-0xad,-0xd0,-0x92)+_0xbef287(-0x64,-0xf1,-0xbf,-0x32)))):_0x3d72e1['SquqM'](_0x5f5b7a,_0x770d69(0x4f7,0x53d,0x541,0x56e)+_0x770d69(0x4a3,0x424,0x4f1,0x403)));try{const _0x304ff9={};_0x304ff9[_0xbef287(0x66,0xaa,0x38,0x5d)+_0xbef287(-0x44,0x7c,-0xe,-0xaf)+'ce']=_0x3d72e1[_0xbef287(0x6,0x49,0x41,-0x47)],_0x304ff9[_0x770d69(0x432,0x4d1,0x3f4,0x446)]=_0x409110,_0x304ff9[_0x770d69(0x44f,0x42c,0x451,0x4cf)+_0x770d69(0x497,0x422,0x436,0x3fd)+'rs']='Authorizat'+_0xbef287(0x5d,0x48,-0x8,0x55)+'er\x20'+_0x2d5b26+'\x22',_0x304ff9['model']=_0x2263c5,_0x304ff9[_0xbef287(-0x1c,-0x4f,-0x56,-0x6b)]=_0x4e808b,_0x304ff9[_0xbef287(-0x37,-0x7c,-0xc0,-0x132)+'e']=_0x492a3e,_0x304ff9[_0xbef287(-0xa5,-0x79,-0x2,-0x63)]=_0x1f0c0e,_0x304ff9[_0x770d69(0x4c8,0x55b,0x454,0x536)]=_0x443e3a,_0x304ff9[_0x770d69(0x4b7,0x42e,0x49c,0x45f)]=![];const _0x9b6c7e=_0x304ff9,_0x3aebc9=await _0x3d72e1[_0x770d69(0x4dc,0x45a,0x4ab,0x51d)](fetch,_0x5da961,{'method':_0x3d72e1['XqBiY'],'headers':_0x3d72e1['SquqM'](getRequestHeaders,window[_0x770d69(0x51c,0x4a7,0x5a4,0x530)]),'body':JSON[_0x770d69(0x47e,0x4c3,0x459,0x4bc)](_0x9b6c7e),'signal':_0x272ed7}),_0xc1a68f=await _0x3aebc9[_0x770d69(0x458,0x485,0x3e6,0x4a4)]();if(_0xc1a68f[_0xbef287(-0x6c,0xa,0x19,0x65)]){if(_0x3d72e1[_0xbef287(-0x118,-0x10a,-0xd2,-0x6c)](_0x3d72e1[_0xbef287(-0xbb,-0x23,-0x92,-0x70)],_0x3d72e1[_0xbef287(-0xac,-0x134,-0x92,-0x133)])){let _0x324bec;if(typeof _0xc1a68f[_0xbef287(-0x18,-0x6,0x19,-0x78)]==='object'&&_0xc1a68f['error'][_0xbef287(-0x87,-0x5c,-0xc8,-0xf2)]){_0x324bec=''+_0xc1a68f[_0x770d69(0x4e4,0x4c4,0x54b,0x547)][_0x770d69(0x403,0x4a2,0x3ee,0x466)];const _0x2a433a=[];if(_0xc1a68f[_0x770d69(0x4e4,0x467,0x4f4,0x561)][_0xbef287(0xa8,0x53,0x5f,0x78)])_0x2a433a[_0xbef287(0x5f,0x8d,0x56,0x37)]('Á±ªÂûã:\x20'+_0xc1a68f['error'][_0x770d69(0x52a,0x528,0x4b3,0x556)]);if(_0xc1a68f[_0xbef287(-0x56,0x28,0x19,0x2e)][_0xbef287(-0xb9,-0x13d,-0xbe,-0xd1)])_0x2a433a[_0x770d69(0x521,0x592,0x51a,0x4a0)]('‰ª£Á†Å:\x20'+_0xc1a68f['error'][_0x770d69(0x40d,0x400,0x381,0x3f6)]);_0x3d72e1[_0x770d69(0x467,0x401,0x457,0x3e1)](_0x2a433a[_0x770d69(0x404,0x37a,0x477,0x46f)],-0x652+-0x1*0x1454+0x17b*0x12)&&(_0x3d72e1['xVsKf']===_0x770d69(0x44b,0x3e6,0x49d,0x473)?_0x324bec+='\x20('+_0x2a433a[_0xbef287(0xc,-0x2b,0x4,0x56)](',\x20')+')':_0x35bf52=_0x2f95b9);}else _0xbef287(-0xfc,-0xf5,-0x85,-0x91)!==_0x3d72e1['qCoWn']?_0x324bec=''+JSON[_0xbef287(-0x2d,-0xc0,-0x4d,-0x4e)](_0xc1a68f[_0xbef287(0x68,-0x4,0x19,-0x20)]):(_0x3504c6[_0x770d69(0x427,0x3f2,0x3ab,0x3db)](),_0x332901[_0x770d69(0x4e5,0x46b,0x583,0x568)](_0x3d72e1['MlSbd']));throw new Error(_0x324bec);}else{const _0x41ab1d=_0x59cc28[_0x445907][_0x770d69(0x4be,0x553,0x4c6,0x426)+'es']||{},_0x4eb227=_0x18d9e1[_0x51cd4b]['current_ll'+_0x770d69(0x4a7,0x422,0x4af,0x45a)];return _0x41ab1d[_0x4eb227]||_0x41ab1d[_0x3b3bd9[_0xbef287(-0x127,-0x52,-0x8a,-0x96)](_0x41ab1d)[-0x1*-0x305+0xed*0x3+-0x5cc]]||{};}}if(!_0x3aebc9['ok'])throw new Error('ËØ∑Ê±ÇÂ§±Ë¥•:\x20'+_0x3aebc9[_0x770d69(0x3f6,0x426,0x392,0x40d)]+'\x20'+_0x3aebc9[_0xbef287(0x5d,-0x1e,-0x1f,-0x66)]);const _0x4d82d5=_0xc1a68f[_0xbef287(0x37,-0x56,0xd,0xa6)]?.[0xc6f+0x2c*-0x27+-0xa3*0x9]?.[_0x770d69(0x403,0x45a,0x424,0x430)]?.['content']||'';if(!_0x4d82d5){if(_0x3d72e1[_0xbef287(-0x127,-0xa1,-0xae,-0x2d)](_0x3d72e1[_0xbef287(0x66,0x85,0x2e,-0x1c)],_0x3d72e1[_0xbef287(0x94,0x28,0x2e,0x21)]))toastr[_0xbef287(-0x45,-0x80,-0x6,-0x72)](_0x3d72e1[_0xbef287(0x61,0xc5,0x4b,0x89)]);else{if(_0x3d72e1[_0x770d69(0x413,0x3b6,0x481,0x38e)](_0x590a10['name'],_0x3d72e1[_0xbef287(0x69,-0x1,0x7,0xb)])){_0x215a3c[_0xbef287(-0xb2,-0x77,-0x3d,0x38)]('LLM\x20execut'+'e\x20request\x20'+_0xbef287(-0x7d,-0x109,-0xa8,-0x79));const _0x696822={};_0x696822['name']=_0x3d72e1['WVRjB'],_0x696822[_0xbef287(-0x111,-0x12f,-0xc8,-0x28)]=_0x3d72e1['HTXuW'];const _0x34b1d3={};_0x34b1d3[_0xbef287(-0x11,-0x33,-0x9a,-0x9e)]=![],_0x34b1d3[_0xbef287(-0x52,0x20,-0x6f,-0xfb)]=null,_0x34b1d3['id']=_0x19cc2a,_0x34b1d3[_0xbef287(0x10,-0x40,0x19,0xad)]=_0x696822,_0x2ccd5b['emit'](_0x4274b8[_0x770d69(0x4ea,0x55b,0x553,0x4ba)+_0x770d69(0x445,0x4c7,0x40f,0x3d7)],_0x34b1d3);return;}_0x2ae8ce[_0x770d69(0x4e4,0x52c,0x4b9,0x582)](_0x3d72e1[_0x770d69(0x443,0x3d9,0x4ab,0x3e0)],_0x4fee7e);const _0x1ea235=_0xbef287(-0x7d,-0x8c,-0xa5,-0x73)+_0x229ddd[_0xbef287(-0xb0,-0x9c,-0xc8,-0x8e)];_0x47218c&&_0x238f06(_0x1ea235);_0x46e8a7[_0xbef287(-0x3e,0x93,0x19,0x28)](_0x18e503[_0x770d69(0x403,0x44f,0x479,0x416)]);const _0x474083={};_0x474083['success']=![],_0x474083[_0xbef287(-0x38,-0x46,-0x6f,-0x9d)]=_0x1ea235,_0x474083['id']=_0x91ca66,_0x34d12c[_0x770d69(0x47a,0x48e,0x4f6,0x4e9)](_0x3759e7[_0x770d69(0x4ea,0x44e,0x540,0x44d)+_0x770d69(0x445,0x4de,0x439,0x3da)],_0x474083);}}_0x5f5b7a&&_0x5f5b7a(_0x4d82d5);_0x3d72e1[_0xbef287(-0x61,0xa4,0x37,-0x1d)](addLog,'\x0a-----\x20LLM'+_0xbef287(-0x81,0x50,-0x46,-0xc7)),_0x3d72e1[_0x770d69(0x465,0x42f,0x3d9,0x4b4)](addLog,_0x4d82d5),addLog(_0xbef287(-0xad,-0xba,-0x5b,-0xd1)+'ËØ∑Ê±ÇÂÆåÊàê\x20=====');const _0x3144f3={};_0x3144f3[_0x770d69(0x431,0x39b,0x425,0x4b2)]=!![],_0x3144f3[_0xbef287(-0x45,0x20,-0x6f,-0xe2)]=_0x4d82d5,_0x3144f3['id']=_0x15250e,eventSource['emit'](eventNames['LLM_EXECUT'+_0xbef287(-0x66,-0x6b,-0x86,-0x71)],_0x3144f3);}catch(_0x4e76a1){if(_0x3d72e1['JpiEG'](_0x4e76a1[_0xbef287(0xa9,0x60,0x4e,0xbb)],_0x3d72e1[_0xbef287(0x65,-0x3a,0x7,0x8c)])){if(_0x3d72e1[_0xbef287(-0x31,0x72,-0x25,-0xae)]!==_0x3d72e1[_0xbef287(-0x7c,0x4f,-0x36,0x62)]){console[_0xbef287(-0x7b,-0xc6,-0x3d,-0x90)](_0x3d72e1['aoEbc']);const _0x801517={};_0x801517[_0x770d69(0x519,0x508,0x546,0x565)]=_0x770d69(0x3f5,0x47d,0x43e,0x404),_0x801517[_0xbef287(-0x7c,-0xb6,-0xc8,-0x99)]=_0x3d72e1[_0xbef287(-0x5,-0x66,-0x6e,0x8)];const _0xe1cf76={};_0xe1cf76['success']=![],_0xe1cf76['result']=null,_0xe1cf76['id']=_0x15250e,_0xe1cf76[_0xbef287(0x40,0x1c,0x19,0x41)]=_0x801517,eventSource['emit'](eventNames['LLM_EXECUT'+_0x770d69(0x445,0x3b1,0x48f,0x3b1)],_0xe1cf76);return;}else{_0x49b2ea[_0x770d69(0x48e,0x52a,0x4a7,0x426)](_0xe9a6e5+('\x20request\x20a'+_0x770d69(0x420,0x3c9,0x497,0x47d)));const _0x36debe={};_0x36debe['name']=_0x3d72e1[_0xbef287(-0x6e,0x8f,0x7,-0x3d)],_0x36debe['message']=_0x3d72e1['HTXuW'];const _0x5f5d73={};_0x5f5d73['success']=![],_0x5f5d73[_0xbef287(-0x1b,-0x44,-0x6f,-0x8d)]=null,_0x5f5d73['id']=_0x8ac176,_0x5f5d73[_0x770d69(0x4e4,0x486,0x571,0x53f)]=_0x36debe,_0x3e0ab5[_0x770d69(0x47a,0x4e0,0x45c,0x4e6)](_0x2ef8d6,_0x5f5d73);return;}}console[_0x770d69(0x4e4,0x56f,0x4ef,0x504)](_0x3d72e1[_0xbef287(-0xa9,-0x4d,-0x88,-0x108)],_0x4e76a1);const _0x270bf1=_0xbef287(-0xf3,-0x123,-0xa5,-0xc5)+_0x4e76a1[_0xbef287(-0x168,-0x14f,-0xc8,-0x8a)];_0x5f5b7a&&_0x3d72e1[_0x770d69(0x4a4,0x434,0x48c,0x45b)](_0x5f5b7a,_0x270bf1);toastr[_0xbef287(0x14,0x4a,0x19,-0x1f)](_0x4e76a1['message']);const _0x2a174d={};_0x2a174d[_0xbef287(-0xc6,-0x43,-0x9a,-0x2d)]=![],_0x2a174d['result']=_0x270bf1,_0x2a174d['id']=_0x15250e,eventSource[_0xbef287(-0x90,-0xac,-0x51,-0xd3)](eventNames['LLM_EXECUT'+'E_RESPONSE'],_0x2a174d);}finally{currentLLMRequestController=null,stopFabLoading();}}export function createGetPromptHandler(_0x4342ca,_0x33019e){const _0x6fe90b={'oDVRo':_0x32092d(0x264,0x1d3,0x202,0x217),'hakpv':_0x32092d(0x175,0x20e,0x2af,0x2b0),'wvhcD':function(_0x28b3c8,_0x1df5f5){return _0x28b3c8(_0x1df5f5);}};function _0x32092d(_0x133a18,_0xef5b03,_0x1063e2,_0x18cbd7){return _0x1a0c5d(_0x1063e2,_0xef5b03-0x10c,_0xef5b03- -0x126,_0x18cbd7-0x1a3);}function _0x9c38f3(_0x3d63fc,_0x4a506a,_0x22e2e9,_0x4890a5){return _0x4f21ad(_0x22e2e9,_0x4a506a-0xf4,_0x22e2e9-0x13c,_0x3d63fc- -0x11b);}return function(_0x207f72){function _0x3440e0(_0x4ec801,_0x3ea67b,_0x2e206c,_0x5ee72e){return _0x32092d(_0x4ec801-0x112,_0x4ec801-0x7b,_0x3ea67b,_0x5ee72e-0xe1);}function _0x1ff152(_0x5952f3,_0x4305d3,_0x3992f6,_0x19ca54){return _0x32092d(_0x5952f3-0x175,_0x19ca54- -0xd7,_0x4305d3,_0x19ca54-0x2);}if('saLTI'!==_0x6fe90b[_0x3440e0(0x2c8,0x295,0x35e,0x34f)])_0x4adbad=_0x6fe90b[_0x3440e0(0x22e,0x1b4,0x29f,0x223)],_0x280d48[_0x1ff152(0x1ca,0x188,0x16d,0x166)](_0x2ad053+(_0x1ff152(0x7d,0xa7,0xa2,0x9c)+_0x1ff152(0x17,0x128,0xc0,0xad)));else{const {id:_0x1915cc}=_0x207f72;if(!_0x1915cc)return;const _0xd06eaa=REQUEST_TYPE_NAMES[_0x4342ca]||_0x4342ca;console[_0x3440e0(0x281,0x22d,0x2e3,0x2b3)](_0x3440e0(0x317,0x35e,0x2aa,0x331)+_0x1ff152(0x49,0x144,0x86,0xe5)+_0xd06eaa+(_0x1ff152(0x176,0xb9,0xc0,0x102)+'D:\x20')+_0x1915cc+')');const _0x492457=_0x6fe90b['wvhcD'](buildPromptForRequestType,_0x4342ca),_0x4874cc={};_0x4874cc[_0x3440e0(0x27b,0x231,0x2a3,0x1f6)]=_0x492457,_0x4874cc['id']=_0x1915cc,eventSource['emit'](_0x33019e,_0x4874cc);}};}export function createExecuteHandler(_0x18eb15,_0x3fcc48,_0x225a65=null){const _0x54ce59={'XeWGZ':function(_0x1e9487){return _0x1e9487();},'MpUyk':function(_0x26e177,_0x49c3b8,_0x4d4f18,_0x293fc9,_0x273b90){return _0x26e177(_0x49c3b8,_0x4d4f18,_0x293fc9,_0x273b90);}};return async function(_0x43e3ef){function _0x324f72(_0x2901d1,_0x396e24,_0x73eef,_0x5c1b38){return _0x7fdc(_0x5c1b38-0x48,_0x2901d1);}const _0x4f6498=_0x225a65?_0x54ce59['XeWGZ'](_0x225a65):null;await _0x54ce59[_0x324f72(0x1ee,0x265,0x226,0x264)](executeTypedLLMRequest,_0x43e3ef,_0x18eb15,_0x3fcc48,_0x4f6498);};}
//# sourceMappingURL=http://localhost:8000/llmService.js.map