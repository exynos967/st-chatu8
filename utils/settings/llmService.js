(function(_0xe6c622,_0x1f5b64){function _0x39fb24(_0x2c9c96,_0xa213ff,_0x438c66,_0x479dee){return _0xc235(_0xa213ff-0x103,_0x438c66);}const _0x5a08bc=_0xe6c622();function _0x48e625(_0x541c85,_0xb1b731,_0xeadfa,_0x1c021d){return _0xc235(_0x1c021d- -0x8b,_0xeadfa);}while(!![]){try{const _0x209742=parseInt(_0x48e625(0xdb,0xcb,0xc9,0x100))/(-0x9b9+-0x2662*0x1+0x301c)+parseInt(_0x48e625(0x17d,0xb5,0x173,0xd0))/(-0x18d5+-0xe0*-0x1a+-0x5*-0x6b)+-parseInt(_0x48e625(0x26,0x115,0x13,0xb1))/(-0xa4*-0x5+0x329*0x1+-0x65a)*(parseInt(_0x39fb24(0x345,0x2f0,0x29d,0x24d))/(-0x208d+0x2*-0x2e8+-0xccb*-0x3))+-parseInt(_0x39fb24(0x278,0x276,0x2d1,0x2dc))/(0xb*-0x7d+0x118d*0x1+-0x11b*0xb)+parseInt(_0x48e625(0x156,0xa7,0x1a7,0x154))/(0x19d6+0x7d1+-0x21a1)+-parseInt(_0x39fb24(0x30f,0x303,0x2d8,0x26d))/(-0x95*0x2f+0x1*0x1131+-0x1*-0xa31)*(-parseInt(_0x39fb24(0x247,0x236,0x1e1,0x22e))/(0x2*0x92+0x27b+-0x397))+-parseInt(_0x39fb24(0x29a,0x2cf,0x2c0,0x281))/(-0x1f*0x11f+0x1a*0x14b+0x12c);if(_0x209742===_0x1f5b64)break;else _0x5a08bc['push'](_0x5a08bc['shift']());}catch(_0x281958){_0x5a08bc['push'](_0x5a08bc['shift']());}}}(_0x2918,0x2513d+0xcb*0x6df+-0x48389));const _0x43de02=(function(){let _0x3409ba=!![];return function(_0x5399f9,_0x23c270){const _0x3276ee=_0x3409ba?function(){function _0x7908f1(_0x285911,_0xcb7ce2,_0x13ea95,_0xd525b5){return _0xc235(_0xd525b5-0x1f5,_0x13ea95);}if(_0x23c270){const _0x3ea32a=_0x23c270[_0x7908f1(0x360,0x2fe,0x2e2,0x2f0)](_0x5399f9,arguments);return _0x23c270=null,_0x3ea32a;}}:function(){};return _0x3409ba=![],_0x3276ee;};}()),_0xb097da=_0x43de02(this,function(){function _0x4a3644(_0xa54fe5,_0x3c9d69,_0x1a2ff3,_0x3fb20e){return _0xc235(_0xa54fe5- -0x377,_0x3fb20e);}function _0x15523d(_0x109468,_0x3f3fdc,_0x29c313,_0x2b3ba0){return _0xc235(_0x2b3ba0- -0xa9,_0x29c313);}const _0x170f2b={};_0x170f2b[_0x15523d(0x4c,0x74,-0x6,0x9b)]=_0x4a3644(-0x1e2,-0x1c8,-0x1ca,-0x208)+'+$';const _0x45afe7=_0x170f2b;return _0xb097da[_0x4a3644(-0x22f,-0x1bc,-0x214,-0x2ca)]()['search'](_0x45afe7[_0x15523d(0xa9,0xd2,0x7,0x9b)])[_0x4a3644(-0x22f,-0x1a5,-0x1f1,-0x2d0)]()['constructo'+'r'](_0xb097da)[_0x15523d(0x1c5,0x107,0xf8,0x129)](_0x45afe7[_0x15523d(0x9d,0xf2,-0x12,0x9b)]);});_0xb097da();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';function _0x247e3c(_0x61e575,_0x35832d,_0x27cda6,_0x2c6e16){return _0xc235(_0x2c6e16-0x247,_0x61e575);}import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';function _0xc235(_0x1c5287,_0x201f66){_0x1c5287=_0x1c5287-(-0xec1*-0x1+-0x3*0x17a+-0x98a);const _0x3e0131=_0x2918();let _0x4e12d3=_0x3e0131[_0x1c5287];if(_0xc235['ElBoda']===undefined){var _0x1fd939=function(_0x49ae18){const _0x5bb103='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x40d8a7='',_0x2c53fe='',_0xd634d0=_0x40d8a7+_0x1fd939;for(let _0x3d69a2=0xf64+0x189+-0x10ed,_0x5604b6,_0x3b05f5,_0x3934d6=-0xd9*-0x14+-0x1*-0x191d+-0x2a11;_0x3b05f5=_0x49ae18['charAt'](_0x3934d6++);~_0x3b05f5&&(_0x5604b6=_0x3d69a2%(-0x1*0x236b+-0xfef+-0x5*-0xa46)?_0x5604b6*(-0x1*0x1b65+0x1*0x226d+-0x6c8)+_0x3b05f5:_0x3b05f5,_0x3d69a2++%(0x67*0x47+-0x1*-0x1f2a+-0x3bb7))?_0x40d8a7+=_0xd634d0['charCodeAt'](_0x3934d6+(-0x94b+0x1a75*-0x1+0x23ca))-(-0x1f6d+-0xb73+0x2aea)!==0x22d0+-0x1fe7*0x1+0x1*-0x2e9?String['fromCharCode'](0x892*-0x1+0x29*-0xc5+-0x26*-0x115&_0x5604b6>>(-(-0x430+-0x4d*-0x39+-0xcf3*0x1)*_0x3d69a2&-0xd*0x4b+-0x820+0xbf5)):_0x3d69a2:0xa08+-0x5ba*-0x2+-0x157c){_0x3b05f5=_0x5bb103['indexOf'](_0x3b05f5);}for(let _0x324ecf=0x109f*0x1+0x9*0x2f3+-0x11*0x28a,_0x2c15d3=_0x40d8a7['length'];_0x324ecf<_0x2c15d3;_0x324ecf++){_0x2c53fe+='%'+('00'+_0x40d8a7['charCodeAt'](_0x324ecf)['toString'](-0x453+0x81*-0x41+0x2524*0x1))['slice'](-(-0x1b71+0xd4e+0x47*0x33));}return decodeURIComponent(_0x2c53fe);};_0xc235['sNImwH']=_0x1fd939,_0xc235['jOejRb']={},_0xc235['ElBoda']=!![];}const _0x4709c4=_0x3e0131[0x222d+0xf66+-0x3193],_0x43e32a=_0x1c5287+_0x4709c4,_0x518ed8=_0xc235['jOejRb'][_0x43e32a];if(!_0x518ed8){const _0x2d0992=function(_0x467095){this['hogdwq']=_0x467095,this['QPlQCX']=[-0x1ef8+-0x1e6f+0x3d68,0x649*-0x3+0x89*-0x13+0x1d06,-0x13b4*0x1+-0x7b*0x3d+0x3103],this['pvLGeT']=function(){return'newState';},this['GPHKMZ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['gblJhS']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2d0992['prototype']['KKUcUH']=function(){const _0x13811c=new RegExp(this['GPHKMZ']+this['gblJhS']),_0x146d8=_0x13811c['test'](this['pvLGeT']['toString']())?--this['QPlQCX'][-0x24c+-0x243c+0x2689]:--this['QPlQCX'][-0x594+-0x5*0x617+-0x1*-0x2407];return this['FgFoVV'](_0x146d8);},_0x2d0992['prototype']['FgFoVV']=function(_0x549aa8){if(!Boolean(~_0x549aa8))return _0x549aa8;return this['WxjUKI'](this['hogdwq']);},_0x2d0992['prototype']['WxjUKI']=function(_0x182ee0){for(let _0x5b9d58=-0x9*0x44f+-0xa6+-0x276d*-0x1,_0x257d36=this['QPlQCX']['length'];_0x5b9d58<_0x257d36;_0x5b9d58++){this['QPlQCX']['push'](Math['round'](Math['random']())),_0x257d36=this['QPlQCX']['length'];}return _0x182ee0(this['QPlQCX'][0xa60+-0x47e+-0x5e2]);},new _0x2d0992(_0xc235)['KKUcUH'](),_0x4e12d3=_0xc235['sNImwH'](_0x4e12d3),_0xc235['jOejRb'][_0x43e32a]=_0x4e12d3;}else _0x4e12d3=_0x518ed8;return _0x4e12d3;}import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';import{taskQueue,TaskType,TaskStatus}from'../taskQueue.js';let currentLLMRequestController=null;const llmTaskControllers=new Map();eventSource['on'](_0x247e3c(0x45b,0x34a,0x35c,0x3e8)+_0x247e3c(0x4ca,0x4f0,0x428,0x44d)+_0x3b85c3(0x198,0x118,0x19e,0xed),({taskId:_0x45d8ca})=>{const _0x40b263={};_0x40b263['yEBxx']=function(_0x77b56,_0x27bc97){return _0x77b56!==_0x27bc97;};function _0x558c33(_0x43b38f,_0x3087a1,_0x9b7fe9,_0x1b6daa){return _0x3b85c3(_0x43b38f-0x14e,_0x1b6daa- -0x7b,_0x9b7fe9-0x1a6,_0x9b7fe9);}_0x40b263['LvpUS']=_0x558c33(0x9e,0x31,0x33,0x8e);const _0x4ef399=_0x40b263;function _0x3de614(_0x2a7a7b,_0x3c96d5,_0x4ab92b,_0x1486c6){return _0x247e3c(_0x3c96d5,_0x3c96d5-0x58,_0x4ab92b-0x34,_0x2a7a7b- -0xe8);}const _0x4dab2a=llmTaskControllers[_0x3de614(0x255,0x200,0x2fd,0x2c9)](_0x45d8ca);if(_0x4dab2a){if(_0x4ef399['yEBxx'](_0x4ef399['LvpUS'],_0x4ef399[_0x3de614(0x2f1,0x2ab,0x31a,0x281)])){const _0x2e2939=_0x43e32a[_0x518ed8][_0x3de614(0x295,0x224,0x257,0x290)+'es']||{},_0x48e725=_0x49ae18[_0x5bb103][_0x3de614(0x23b,0x1b8,0x1f5,0x1f5)+'m_profile'];return _0x2e2939[_0x48e725]||_0x2e2939[_0x40d8a7[_0x3de614(0x354,0x2d8,0x3c2,0x315)](_0x2e2939)[-0x2a*0x1+-0x1688+0x5*0x48a]]||{};}else _0x4dab2a[_0x558c33(0x68,0x93,0x2a,0x39)](),llmTaskControllers[_0x3de614(0x369,0x365,0x34f,0x30e)](_0x45d8ca),console['log']('[LLM]\x20‰ªªÂä°Â∑≤Âèñ'+_0x558c33(-0x83,-0x36,-0xe3,-0x63)+_0x45d8ca);}});export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x255635){currentLLMRequestController=_0x255635;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x4a7ea8={};function _0x2259cf(_0x5b2a00,_0x198bef,_0x585fc7,_0x1e4e67){return _0x3b85c3(_0x5b2a00-0x37,_0x585fc7-0x149,_0x585fc7-0xa1,_0x5b2a00);}_0x4a7ea8[_0xda060(0x173,0x214,0x1a1,0x134)]=_0xda060(0x135,0x121,0xce,0x1d4)+_0x2259cf(0x27d,0x29b,0x209,0x174),_0x4a7ea8[_0xda060(0x27b,0x217,0x302,0x294)]=function(_0x3aedbd,_0x3855fa){return _0x3aedbd!==_0x3855fa;};function _0xda060(_0xf1604f,_0x1ccfa8,_0x46420f,_0x5c98bb){return _0x247e3c(_0x46420f,_0x1ccfa8-0x87,_0x46420f-0x167,_0xf1604f- -0x1dc);}_0x4a7ea8['TclCq']='fhMnT',_0x4a7ea8['FzTLH']=_0x2259cf(0xcc,0x6d,0x111,0x99),_0x4a7ea8[_0x2259cf(0x1e4,0x206,0x1ad,0x1dc)]=_0x2259cf(0x216,0x1f5,0x21d,0x2c5);const _0x555708=_0x4a7ea8;currentLLMRequestController&&(_0x555708[_0xda060(0x27b,0x2e7,0x1fb,0x2ea)](_0x555708[_0x2259cf(0x213,0x1cb,0x1a7,0x110)],_0x555708[_0x2259cf(0x18c,0x19e,0x1f5,0x159)])?(currentLLMRequestController['abort'](),toastr[_0xda060(0x1db,0x1e7,0x251,0x21c)](_0x555708['EuqTi'])):(_0x2c961f['abort'](),_0x5be9d3[_0xda060(0x1db,0x25a,0x168,0x1dd)](_0x555708['ePpGr'])));}export function formatPromptForDisplay(_0x13fcd6){const _0x20be26={};_0x20be26[_0x244381(0x274,0x203,0x27a,0x287)]='data:',_0x20be26[_0x4b247d(0x303,0x2ba,0x273,0x280)]=function(_0x93cc3f,_0x31d037){return _0x93cc3f===_0x31d037;},_0x20be26[_0x244381(0x203,0x1a3,0x1e8,0x17d)]='text',_0x20be26['NFagV']=_0x244381(0x20b,0x1fd,0x1de,0x200),_0x20be26['iEBQt']=function(_0x4cfa98,_0x4218b7){return _0x4cfa98!==_0x4218b7;},_0x20be26[_0x4b247d(0x360,0x307,0x391,0x288)]=_0x244381(0x199,0x17c,0x1ca,0x218),_0x20be26[_0x244381(0x273,0x27c,0x289,0x302)]=_0x244381(0x38d,0x3a6,0x304,0x2a0),_0x20be26[_0x4b247d(0x2c6,0x2cc,0x271,0x2c2)]=function(_0x5a536e,_0x3616ec){return _0x5a536e/_0x3616ec;};function _0x4b247d(_0x5e946a,_0x3dae2c,_0x57bfce,_0x12d458){return _0x247e3c(_0x57bfce,_0x3dae2c-0xa6,_0x57bfce-0x110,_0x3dae2c- -0x8d);}_0x20be26[_0x244381(0x1d2,0x1bd,0x1ea,0x14f)]=function(_0x5ee2f1,_0x3d8a3f){return _0x5ee2f1*_0x3d8a3f;},_0x20be26[_0x4b247d(0x305,0x30c,0x329,0x2fa)]=function(_0x3e3134,_0x5b14b5){return _0x3e3134!==_0x5b14b5;},_0x20be26[_0x4b247d(0x37b,0x3a9,0x389,0x306)]='vDGyV',_0x20be26[_0x4b247d(0x372,0x385,0x33b,0x3f5)]=function(_0x16028d,_0x4aed09){return _0x16028d>_0x4aed09;},_0x20be26[_0x4b247d(0x397,0x330,0x35d,0x326)]=_0x4b247d(0x3e5,0x378,0x420,0x2cd),_0x20be26[_0x244381(0x236,0x1ea,0x243,0x29b)]=function(_0x3f86cf,_0x5d5089){return _0x3f86cf===_0x5d5089;},_0x20be26[_0x244381(0x26b,0x325,0x2e5,0x2d1)]='string',_0x20be26[_0x244381(0x1fb,0x201,0x1b1,0x198)]=_0x244381(0x26d,0x25d,0x29e,0x279),_0x20be26[_0x4b247d(0x372,0x3be,0x377,0x3d6)]=_0x4b247d(0x26f,0x2f3,0x349,0x2a8),_0x20be26[_0x244381(0x2bc,0x2e7,0x2fa,0x2a0)]=function(_0x10bbe2,_0x1ac465){return _0x10bbe2===_0x1ac465;},_0x20be26[_0x244381(0x26c,0x172,0x1ed,0x1ee)]='KAXWZ';function _0x244381(_0x1f464e,_0x56cc73,_0x4e3cde,_0x5b998c){return _0x3b85c3(_0x1f464e-0xe6,_0x4e3cde-0x1ef,_0x4e3cde-0x5d,_0x56cc73);}_0x20be26[_0x4b247d(0x2a6,0x298,0x281,0x211)]=function(_0x5ad20d,_0x3b04b1){return _0x5ad20d===_0x3b04b1;},_0x20be26[_0x4b247d(0x297,0x288,0x31f,0x249)]=_0x244381(0x202,0x2ba,0x252,0x271);const _0x5afdb3=_0x20be26;if(_0x5afdb3['AdrJc'](typeof _0x13fcd6,_0x5afdb3['zuiKf'])){if(_0x5afdb3[_0x4b247d(0x28a,0x2c1,0x2a0,0x25a)]===_0x5afdb3[_0x244381(0x269,0x143,0x1ed,0x239)])return _0x13fcd6;else{const _0x1fe26d=_0x425ee0[_0x244381(0x171,0x221,0x1de,0x1e1)]?.[_0x244381(0x34e,0x2f4,0x2ba,0x274)]||'';if(_0x1fe26d[_0x4b247d(0x3ee,0x3d4,0x439,0x3aa)](_0x5afdb3['wRrDG'])){const _0x2cfe80=_0x1fe26d[_0x244381(0x341,0x38c,0x2ee,0x31b)](/^data:([^;]+);/),_0x37ffb4=_0x2cfe80?_0x2cfe80[-0x2*0x4c6+0x1369*-0x1+-0x16*-0x151]:'unknown',_0xb35832=_0x1fe26d[_0x244381(0x177,0x1d2,0x1e7,0x200)](',')[-0x1058+0x8*0x212+-0x37]||'',_0x4e10cd=_0x1de8cd[_0x244381(0x2e6,0x228,0x260,0x285)](_0xb35832['length']*(-0x1385+0xe6c+0x51c)/(-0x28f+-0xc7*0x2f+0x1*0x271c)/(-0x26fa+-0x277*-0xb+0xfdd));_0x17a483[_0x244381(0x26f,0x28e,0x1fe,0x1ad)](_0x244381(0x28b,0x262,0x232,0x271)+':\x20'+_0x37ffb4+_0x4b247d(0x342,0x387,0x337,0x394)+_0x4e10cd+_0x244381(0x2c7,0x24c,0x22b,0x1cb));}else _0xbea175[_0x244381(0x1b4,0x1a4,0x1fe,0x267)](_0x4b247d(0x40c,0x37b,0x31e,0x417)+_0x1fe26d+']');}}if(Array['isArray'](_0x13fcd6)){const _0x14f91a=[];return _0x13fcd6[_0x244381(0x1fb,0x203,0x21b,0x290)]((_0xbc1dca,_0x187f7e)=>{const _0x29ab88={'ICkKu':function(_0x3d4fa3,_0x2b68de){function _0x440dc4(_0x542195,_0x233468,_0x343c41,_0x737b9){return _0xc235(_0x737b9- -0x1f3,_0x233468);}return _0x5afdb3[_0x440dc4(-0x32,-0x9d,0x1e,-0x28)](_0x3d4fa3,_0x2b68de);}};function _0x3164e0(_0x1a6ebb,_0x3407cc,_0x30abbd,_0x41fcc1){return _0x4b247d(_0x1a6ebb-0x44,_0x1a6ebb- -0x29e,_0x30abbd,_0x41fcc1-0x5b);}const _0x5c3d7d=_0xbc1dca[_0x3164e0(0x4c,0x3f,0xc0,0xa4)]||_0x5afdb3[_0x5c2ecd(0x321,0x3c0,0x36d,0x356)],_0x3fced1=getRoleLabel(_0x5c3d7d);function _0x5c2ecd(_0xf3f7a7,_0xec46f9,_0x5ec0ba,_0x41f3d6){return _0x4b247d(_0xf3f7a7-0x13d,_0x5ec0ba-0x3d,_0xec46f9,_0x41f3d6-0xa0);}_0x14f91a[_0x3164e0(0x34,0x5a,0x87,-0x5e)](''+'‚ïê'['repeat'](0x145f+0x26f*0x3+-0x1b7a)),_0x14f91a[_0x5c2ecd(0x3b5,0x342,0x30f,0x263)]('„Äê'+_0x3fced1+'„Äë'),_0x14f91a['push'](''+'‚îÄ'[_0x3164e0(0x11f,0x146,0x98,0x7c)](0x5*0x242+0xc92+-0x17aa));const _0xd82bae=_0xbc1dca[_0x5c2ecd(0x301,0x363,0x362,0x383)];if(_0x5afdb3['iSIMP'](typeof _0xd82bae,_0x5afdb3['zuiKf']))_0x14f91a[_0x5c2ecd(0x34c,0x273,0x30f,0x35c)](_0xd82bae);else Array[_0x3164e0(0x1a,-0x49,0x59,0xc6)](_0xd82bae)&&(_0x5afdb3['efuWC'](_0x5afdb3[_0x3164e0(-0x19,-0x3c,-0x7,-0x3c)],_0x5afdb3['puNns'])?_0xd82bae[_0x3164e0(0x51,-0x59,-0x3f,0x60)](_0x424355=>{function _0x2f637c(_0x3c29ad,_0x31e673,_0x2c1396,_0x55280a){return _0x5c2ecd(_0x3c29ad-0x1d6,_0x55280a,_0x2c1396- -0x535,_0x55280a-0x1e3);}function _0xe7d5ef(_0x32f6fd,_0x12233a,_0x3fd66a,_0x2658e7){return _0x3164e0(_0x3fd66a- -0x200,_0x12233a-0x16d,_0x12233a,_0x2658e7-0x125);}if(_0x5afdb3['jdinx'](_0x424355[_0x2f637c(-0x2e4,-0x229,-0x25f,-0x2fa)],_0x5afdb3[_0xe7d5ef(-0x200,-0x24b,-0x1e2,-0x24f)]))_0x14f91a['push'](_0x424355[_0x2f637c(-0x2ec,-0x1f9,-0x251,-0x2fc)]||'');else{if(_0x5afdb3[_0x2f637c(-0x25c,-0x2e9,-0x23e,-0x2c3)](_0x424355[_0x2f637c(-0x26a,-0x228,-0x25f,-0x2ed)],_0x5afdb3[_0x2f637c(-0x2b2,-0x2a8,-0x257,-0x23e)])){const _0x11b250=_0x424355[_0x2f637c(-0x21a,-0x2ab,-0x246,-0x26e)]?.[_0xe7d5ef(-0x75,-0x75,-0x110,-0xa0)]||'';if(_0x11b250[_0x2f637c(-0x173,-0xb4,-0x124,-0x1a1)](_0x5afdb3['wRrDG'])){if(_0x5afdb3[_0x2f637c(-0x17e,-0x236,-0x1f5,-0x284)](_0x5afdb3[_0xe7d5ef(-0x1a2,-0x11e,-0x197,-0xed)],_0x5afdb3[_0x2f637c(-0x1bf,-0x145,-0x19b,-0x16f)])){const _0x50fb59=_0x11b250['match'](/^data:([^;]+);/),_0x34c387=_0x50fb59?_0x50fb59[0x1e90+0x9d+-0x1f2c]:_0xe7d5ef(-0x1bb,-0xbe,-0x126,-0x1ce),_0x1c423a=_0x11b250['split'](',')[-0x2a*0xa1+-0xeb7*0x1+-0x195*-0x1a]||'',_0x45fcdb=Math[_0xe7d5ef(-0x1e3,-0x20b,-0x16a,-0x1c5)](_0x5afdb3['KiLAn'](_0x5afdb3[_0x2f637c(-0x22a,-0x1fd,-0x22c,-0x244)](_0x5afdb3['IwXYi'](_0x1c423a[_0xe7d5ef(-0x16a,-0xb9,-0x111,-0x70)],0x1*0x20a7+0x581*0x7+-0x1*0x472b),0xd03*-0x1+-0x15f6+0xd*0x2b1),0x115*-0x3+0x1*-0xd67+-0x14a6*-0x1));_0x14f91a['push'](_0xe7d5ef(-0x1d4,-0x147,-0x198,-0x14e)+':\x20'+_0x34c387+_0xe7d5ef(-0x144,-0x183,-0x117,-0xb4)+_0x45fcdb+_0xe7d5ef(-0x1f8,-0x1d2,-0x19f,-0x1ac));}else{_0x187e1=''+_0x436fdb['error'][_0xe7d5ef(-0x19d,-0x188,-0x1d1,-0x27b)];const _0x4ff5dc=[];if(_0x437ce4['error'][_0xe7d5ef(-0x273,-0x1ad,-0x205,-0x1d4)])_0x4ff5dc[_0x2f637c(-0x2b6,-0x17b,-0x226,-0x1b6)]('Á±ªÂûã:\x20'+_0x1e9ea4[_0x2f637c(-0x1fd,-0x237,-0x190,-0x212)]['type']);if(_0x42eb3a[_0xe7d5ef(-0x11d,-0x169,-0x136,-0x179)]['code'])_0x4ff5dc[_0xe7d5ef(-0x272,-0x253,-0x1cc,-0x253)](_0xe7d5ef(-0x14b,-0xd4,-0x14a,-0xb4)+_0x42faa9[_0x2f637c(-0x116,-0x1d3,-0x190,-0x141)][_0x2f637c(-0x1b3,-0xaf,-0x156,-0x1f0)]);_0x29ab88[_0xe7d5ef(-0x195,-0x16d,-0x1a2,-0x152)](_0x4ff5dc[_0xe7d5ef(-0x65,-0xc0,-0x111,-0x168)],-0x1274+0xe5a+-0xe*-0x4b)&&(_0xb87924+='\x20('+_0x4ff5dc[_0x2f637c(-0x160,-0x1db,-0x1d5,-0x1e8)](',\x20')+')');}}else{if(_0x5afdb3['efuWC'](_0x5afdb3[_0xe7d5ef(-0x134,-0x12b,-0xf5,-0xbc)],_0x2f637c(-0x24c,-0x219,-0x1de,-0x1cd))){const _0x31310a={};_0x31310a[_0xe7d5ef(-0x108,-0x1bf,-0x115,-0x14f)]=_0x2f637c(-0x1dd,-0x1bc,-0x167,-0x113),_0x31310a[_0xe7d5ef(-0x1e7,-0x1b8,-0x158,-0xf5)]='Áî®Êà∑',_0x31310a['assistant']=_0x2f637c(-0x26f,-0x189,-0x1f3,-0x238),_0x31310a['function']='ÂáΩÊï∞Ë∞ÉÁî®',_0x31310a[_0x2f637c(-0x142,-0x1a8,-0x1e7,-0x25d)]='Â∑•ÂÖ∑';const _0x1b2501=_0x31310a;return _0x1b2501[_0xb49d58]||_0x1a0740;}else _0x14f91a[_0x2f637c(-0x1cb,-0x276,-0x226,-0x1e5)]('üì∑\x20[ÂõæÁâáÈìæÊé•:\x20'+_0x11b250+']');}}}}):(_0x394a1f+=_0x341f50,_0x5e0d39&&_0x37b616(_0x339c09)));_0x14f91a[_0x5c2ecd(0x2c6,0x398,0x30f,0x267)]('');}),_0x14f91a[_0x244381(0x28e,0x1d4,0x24f,0x2c9)]('\x0a');}if(_0x5afdb3[_0x4b247d(0x265,0x298,0x308,0x301)](typeof _0x13fcd6,_0x5afdb3[_0x244381(0x1bb,0x242,0x1b4,0x1dd)])&&_0x5afdb3[_0x244381(0x26e,0x1a2,0x238,0x21a)](_0x13fcd6,null))return JSON[_0x244381(0x248,0x31d,0x2f3,0x332)](_0x13fcd6,null,0x109f+0x1*0x16cf+-0x276c);return String(_0x13fcd6);}function _0x2918(){const _0x24066a=['D2fYBG','rdOG','5AEl5PAW6k+35Rgc44cc','zwPRDfG','yKn1Dwe','mZC1ntaXnKLlzeTuAq','lcdNUQyG','tMHUA1a','C3LZDgvT','vgHSDwG','y3vXwMi','C2vHCMnO','BgvUz3rO','DxjS','t2LNtey','qMflAMK','57o757UF5O+q56s66k+n','ChjVBxb0','Bwf4x3rVA2vUCW','z2v0uMvHzgvY','teXnigv4zwn1Da','6k+35RgcieLeoIa','teXnioIVT+AXGUw3SUs4REATOUoaGG','s2L4vMS','mJeXmdm4mevpv2XSBq','yNLWyxnZx3bYBW','teXnioACQUAuTUwiSoACIEAvIowBNG','teXnx0vyrunvva','DuzoywK','q3zbzeG','DhjPz2DLCLDVCG','ievYCM9YoG','zxrPB25FC291CG','y29Kzq','B2jMB0G','qxv0Ag9YAxPHDa','B21WBgv0Aw9UCW','qw13A2O','mtjduefpwKe','DhjPBq','yNDqAKu','BwrIrfK','suHrCMC','BwvYEgS','m3WWFdr8mNWX','r21QBKy','A2v5CW','wLbdufy','teXn','y2HHCL9TB2rPzG','D1HPuKC','ue9tva','DxbKyxrLu3rHDa','B2zPBgu','Buvrzwe','DNf3BNu','ENvPs2y','mJaZseHOALfU','Bw9KzwW','qMvHCMvYia','CMvWzwf0','ChvoBNm','5lUJ56cboG','y2fUy2vSx2XSBq','x3bYB2zPBgu','Bwf0y2G','s2L1zwq','zgvSzxrL','suroruq','Bej6zfm','C3rYAw5NAwz5','u0Pur3O','Bg9N','qNDlv1K','5O+q56s66k+n6i635y+w6k+35RgcicHj','zgHUuw4','yNvMzMvYktO','qwrYsMm','y29UC3rYDwn0BW','q1Djzwe','y3vYCMvUDf90zq','BMf3B3i','EwXzwhy','C3rHCNrZv2L0Aa','DvfHuNm','qMPxExe','Df90ExbLx2nVBG','zu9Os2u','v1vhzNG','wMT1BLq','x3rHC2S','yKX0uNC','ten3yNO','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','u0LWy24','Dw1ryva','thHSAwi','svDNCwu','y2HVAwnLCW','BNjwvhK','D1P2rvO','ChfItuq','BMfTzq','zxr2AM4','y3vZDg9T','l2DLBMvYyxrL','B3j0zwq','ANnVBG','Dg9Wx3a','C3Ljr0O','q0foq0vmteve','y3vYCMvUDf9SBa','yNDusg4','tM1TzMe','DhLWzq','rhHjwuy','zgf0ytOGw0rptG','q2rhzey','rg91u1G','sK5xBMm','zgzjBwC','txDOqMm','tKzHz1y','BMfXvwe','y3vZDg9Tx2LUyW','C3rHDhvZ','DfjOtKm','sNPhD2K','Dgv4Da','6kEs6iMYl+ACJEIJHEs/RUAuUq','qvbjifvstcWGqq','Aw9U','vwXisKi','s2zstLy','ELDzrKC','seX5C2m','CMvWBgfJzq','z2v0','zxiG','Aw1Hz2vFDxjS','uLf2y1q','wfHhrey','yxbWBhK','B3Hsrhm','yxnZAxn0yw50','AxnbCNjHEq','qwjVCNrfCNjVCG','AMrPBNG','C3bSAxq','DuDRtLG','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','sxDywwK','yM9KEq','y29TCgXLDgvuyq','ze53tu4','zvbWr3i','teXniev4zwn1Da','Ee5cwfG','6k+35Rgc5AsX6lsLoIa','DKvMuwO','rKrLuhG','BMr2z0y','C3rHDhvZvgv4Da','wfHMr3m','Dg9Rzw4','s2Lmqw4','BwvZC2fNzq','l3yXlW','AgLZDg9YEq','wg5Ku2G','ywrKvgfZAW','ChvZAa','Aw5JBhvKzxm','BvPUBva','rxHdChm','tLnqvxq','CMvZDwX0','CMvHza','AevTq2e','yxbPx3bYB2zPBa','5RAioIa','DgP1wuC','y3Duu2G','6kEs6iMYl+ACJEIJHEwXLEEKUG','Cu5lBhK','ioAuTUwiSa','y2HHDf9JB21WBa','y29UDgv4Da','ru91uuu','v2HZsNu','y29UDgv4Df9WCG','l2nOyxqVy29TCa','ENDpve0','zgf0ytOG','DwP2sha','CM9Szq','wfPoy08','CxLJtwG','oti5nJHIBwPZswm','BxHTAhi','zM9YrwfJAa','BgXTx3bYB2zPBa','C3vJy2vZCW','s2TWs0m','vhbxre4','wgfhsfi','C3rYzwfT','mZi3mJmXquzitLrU','y3vZDg9Tx3vYBa','5Q2J5PAh5zU+54Mh55sF5OIq','DhjHBNnSyxrPBW','seX1r1m','uLvotKLorW','sunRs3u','iowBNUwKJsaTls0Tlq','DhHpC0W','s0jD','D2fYBMLUzW','Cg9W','Dg9tDhjPBMC','Auvcuxq','yufNsKO','quNLIQNMIyS','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','tfftDgi','uLn2uxu','zw5KC1DPDgG','AgLkuum','5OIwie1VzgvSioACQUMfJq','zwz1v0m','v3Djz1a','q29UDgvUDc1uEq','C2LNBMfS','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','Dg9VBa','q1DezvK','zgvJB2rL','sLfXuhy','nZK1ode2zNjlwefq','zw1PDa','Avnjtva','ugHYD1O','l2fWAs9IywnRzq','DKrhEvy','AvvODuW','q2PeDei','wez5wwG','D2zQwLe','BwvZC2fNzxm','C21Zt2q','vgnSq3e','s3z0zLC','AM9PBG','BfPNwu8','y29UDgvUDa','B2jQzwn0','rxvXvgK','B1joCNi','uMr1u1a','Aw5MBW','6k+35Rgc5A6m5OIqid09pt09','yxLfz3C','mtq4ntiYmgvmB0HKEG','DhjPz2DLCG','BMrZl2nOyxqTyW','wgLOEMe','DgvTCgvYyxr1CG','De1xzvu','r0TLvKe','CM91BMq','pt09pt0GteXnia','teXnoIa','DgfNx21VzgLMEq','6kEs6iMYl+ACJEIJHEIUVUIUOq','BgXTx3jLCxvLCW','nhW1Fdn8mhWYFa','EgviBeC','zNvUy3rPB24','r1HNwNq','CgfYC2u','C3qTy2HHDhu4oG','5Pwi5zUE5Asn44cc','s2fwB0C','DM5oqLO','Aw9UoIaIqMvHCG','yxbPx3vYBa','mty3otGXrfjnDxbM','DxnLCG','57g75z6loIa','zMLNCW','AgjKEvy','6k+35Rgc6zsz6k+VoIa','vgfN5l+U5Ps5','thzWvvm','ug5ICNC','D1jYreC','kcGOlISPkYKRkq','se15D2W','iefqssblzxKSia','yxbWBgLJyxrPBW','zgvSDge','5lUJ56cboIa','r1DZvMC','z0T1tK4','zsbYzxf1zxn0ia','Be1us0K','qvzJB3K','s1LHr0m','C3rFy2HHDhu4xW','Bgv0Aw9UCW','Ahzxywi','q1LgDMS','svzRuxy','rKTVuwy','EhrFChjVzMLSzq','rw1nywq','C2XPy2u','DgvZDf9JB250zq','rv9srvnqt05trq','oIbmte0G5PYQ5Ps25yIW5PYj','Cxzvuu8','zxjYB3i','yLnqB3a','ywLRA08','5y+r6ycb55QeifbYB21WDa','ueKGs2v5lcdMIjyG','cI0Tls0TieXmtq','zfDADhe','rNPuteG','t1zVyuS','vu1WBfu','uu1msvK','BLfcA2K','oIbbueKGvvjmla','5Q2J5zYO5Ase55cgia','BI9QC29U','ywjVCNq','Dw5RBM93BG','zw50CMLLCW','l3yX','8j+tTYbB5zU+54Mh6zo+5O6LoIa','yxbPx2TLEq','zsbfCNjVCJO','57g75z6loG','y2HHCL9KzxnPzW','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG'];_0x2918=function(){return _0x24066a;};return _0x2918();}export function getRoleLabel(_0x260274){const _0x29623f={};function _0x3cba9f(_0x30353c,_0x14c6e5,_0x5a4155,_0x1fcb92){return _0x3b85c3(_0x30353c-0x62,_0x30353c- -0x1fb,_0x5a4155-0xb7,_0x5a4155);}_0x29623f['XZNcO']=_0x3e1b05(0x414,0x2e0,0x37c,0x38a);function _0x3e1b05(_0x75a775,_0x2e1752,_0xe7a25,_0x4b5b2a){return _0x247e3c(_0x2e1752,_0x2e1752-0x1d2,_0xe7a25-0x14b,_0x4b5b2a- -0x94);}_0x29623f[_0x3cba9f(-0x1e8,-0x163,-0x1b4,-0x24c)]=_0x3e1b05(0x28a,0x2c8,0x3a0,0x2fe),_0x29623f['aikkO']='ÂáΩÊï∞Ë∞ÉÁî®';const _0xe8732=_0x29623f,_0x19bbbb={};_0x19bbbb[_0x3cba9f(-0x135,-0xf8,-0x188,-0xe3)]=_0xe8732[_0x3e1b05(0x36a,0x31b,0x2ff,0x2e4)],_0x19bbbb[_0x3e1b05(0x366,0x31d,0x3a5,0x33f)]='Áî®Êà∑',_0x19bbbb[_0x3cba9f(-0x207,-0x25a,-0x23f,-0x1e4)]=_0xe8732['NSPUt'],_0x19bbbb[_0x3e1b05(0x2cb,0x355,0x297,0x335)]=_0xe8732[_0x3e1b05(0x2d3,0x35a,0x2c0,0x363)],_0x19bbbb['tool']='Â∑•ÂÖ∑';const _0x57c5c4=_0x19bbbb;return _0x57c5c4[_0x260274]||_0x260274;}export function getCurrentLLMProfile(){const _0x3b3d7b=extension_settings[extensionName][_0x2703ee(0x1c,0x72,-0x39,-0xdd)+'es']||{};function _0x2703ee(_0x5c3c84,_0x59c1f4,_0x3579fa,_0x4d7234){return _0x247e3c(_0x4d7234,_0x59c1f4-0x174,_0x3579fa-0x69,_0x3579fa- -0x3b6);}const _0x305293=extension_settings[extensionName]['current_ll'+'m_profile'];return _0x3b3d7b[_0x305293]||_0x3b3d7b[Object['keys'](_0x3b3d7b)[-0x125b+0x1*-0x469+0x16c4]]||{};}export function getCurrentTestContext(){function _0x16af15(_0x27bc7d,_0x23108a,_0x40e0e8,_0x334d5d){return _0x3b85c3(_0x27bc7d-0x84,_0x334d5d- -0xa0,_0x40e0e8-0x69,_0x27bc7d);}const _0x1d2654=extension_settings[extensionName][_0x16af15(0x1c,0x20,-0x2e,0x1)+_0x16af15(0x8d,-0x8d,-0x8d,-0x2)+'s']||{};function _0x158701(_0xe16999,_0xfe910b,_0x1b75f0,_0x14dd47){return _0x247e3c(_0xe16999,_0xfe910b-0x199,_0x1b75f0-0xea,_0x14dd47- -0x35e);}const _0x57ddd1=extension_settings[extensionName][_0x158701(0xd9,0xe4,0x56,0x100)+'st_context'+_0x158701(0x125,0x76,0xf7,0xf0)];return _0x1d2654[_0x57ddd1]||_0x1d2654[Object[_0x158701(0x16c,0x98,0x178,0xde)](_0x1d2654)[-0xc74+-0x230b+-0x9*-0x547]]||{};}export function getEffectiveConfigForRequestType(_0xd33250){function _0x2e2838(_0x2f8ea5,_0x436145,_0x1f8725,_0x1aaa96){return _0x247e3c(_0x2f8ea5,_0x436145-0x1b8,_0x1f8725-0x171,_0x1aaa96- -0x211);}const _0xfb83bc=extension_settings[extensionName]['llm_reques'+_0x133fa7(-0x32,-0x72,-0x81,0x22)+_0x2e2838(0x195,0x159,0x18e,0x1c4)]||{},_0x278f1c={};_0x278f1c[_0x2e2838(0x124,0xcc,0x1fb,0x156)+'e']='ÈªòËÆ§',_0x278f1c['context_pr'+'ofile']='ÈªòËÆ§';const _0x1ef7ef=_0xfb83bc[_0xd33250]||_0x278f1c,_0x780c5f=extension_settings[extensionName][_0x133fa7(-0x1fe,-0x159,-0x160,-0x1fe)+'es']||{},_0x495577=extension_settings[extensionName][_0x2e2838(0x16b,0x14b,0x1a8,0x1e0)+_0x2e2838(0x260,0x27b,0x236,0x1dd)+'s']||{},_0x414cb7=_0x1ef7ef[_0x2e2838(0x146,0xe7,0x166,0x156)+'e']||'ÈªòËÆ§',_0x488a8c=_0x780c5f[_0x414cb7]||_0x780c5f[Object['keys'](_0x780c5f)[0x24b*-0x1+0x3ca+0x1*-0x17f]]||{},_0x9ec335=_0x1ef7ef[_0x133fa7(-0x1f2,-0x164,-0x116,-0x102)+_0x133fa7(-0x7,-0x93,0x1,-0x133)]||'ÈªòËÆ§',_0x49a172=_0x495577[_0x9ec335]||_0x495577[Object[_0x133fa7(-0x85,-0x9a,-0xf4,-0x4c)](_0x495577)[-0x1ec6+0x18b*0xb+0x1*0xdcd]]||{},_0xf1268={};_0xf1268[_0x133fa7(-0x7b,-0x105,-0xdc,-0x193)]=_0x488a8c[_0x133fa7(-0x140,-0x105,-0x73,-0x15a)]||'',_0xf1268[_0x2e2838(0x1c3,0x262,0x212,0x1f8)]=_0x488a8c[_0x133fa7(-0xb6,-0xcd,-0x11e,-0x58)]||'',_0xf1268[_0x133fa7(0x14,-0x8e,-0xcf,-0xbc)]=_0x488a8c['model']||'',_0xf1268[_0x133fa7(-0x105,-0x118,-0x1a0,-0x188)+'e']=_0x488a8c[_0x133fa7(-0x9e,-0x118,-0x1b2,-0x182)+'e']??-0x2482+-0x1*-0x879+0x1c09+0.7,_0xf1268[_0x133fa7(-0x1bb,-0x1b6,-0x1d5,-0x161)]=_0x488a8c[_0x2e2838(0x170,0x173,0x17c,0x10f)]??-0x241a+0x26ce+0x1*-0x2b3,_0xf1268[_0x2e2838(0x213,0x29f,0x250,0x20f)]=_0x488a8c[_0x133fa7(-0x10a,-0xb6,-0x12a,-0x6a)]??-0x1088+0x26a0+-0x1418,_0xf1268[_0x2e2838(0x1c3,0x1d9,0x1c5,0x171)]=_0x488a8c['stream']??![];function _0x133fa7(_0x599b47,_0x4bf84c,_0x366285,_0x244f99){return _0x247e3c(_0x599b47,_0x4bf84c-0x8c,_0x366285-0xc9,_0x4bf84c- -0x4d6);}return _0xf1268[_0x133fa7(-0xbb,-0xaf,-0x86,-0x10f)+'xy']=_0x488a8c[_0x133fa7(-0xd,-0xaf,-0x6,-0x99)+'xy']??![],_0xf1268['context']=_0x49a172,_0xf1268;}export function buildPromptForRequestType(_0x168eb9,_0x4f414b=''){const _0x15b735={'yELlj':function(_0xa98995,_0x245116){return _0xa98995===_0x245116;},'tnHxt':_0x36cabc(0x7a,-0x14,0x1c,0x2c),'JCvOi':function(_0x5784dc,_0x2994a0,_0x554fe7){return _0x5784dc(_0x2994a0,_0x554fe7);},'KYaGC':'user','XXGDF':function(_0xca4507,_0x18d034){return _0xca4507!==_0x18d034;},'HLysc':_0x222e2c(0x34f,0x3e5,0x3a9,0x3ab),'nQBki':function(_0x41c4d3,_0x220967,_0x171ae9){return _0x41c4d3(_0x220967,_0x171ae9);},'EOuQE':function(_0xca691a,_0x4db67a){return _0xca691a===_0x4db67a;},'xNBXX':_0x36cabc(-0x39,0x91,0x37,0x9b)},_0x5efc6a=extension_settings[extensionName][_0x36cabc(-0x49,-0x26,0x27,-0x6)+_0x36cabc(0x94,0x59,0xc5,0x1b)+_0x222e2c(0x3e0,0x43e,0x338,0x443)]||{},_0x4c7789={};function _0x36cabc(_0x29c533,_0x567c0c,_0x1de628,_0x1a6026){return _0x247e3c(_0x567c0c,_0x567c0c-0x1a2,_0x1de628-0x1e0,_0x1de628- -0x39f);}_0x4c7789['context_pr'+'ofile']='ÈªòËÆ§';const _0x21eda6=_0x5efc6a[_0x168eb9]||_0x4c7789;function _0x222e2c(_0x45386b,_0x22529e,_0x574749,_0x388ab9){return _0x247e3c(_0x574749,_0x22529e-0x52,_0x574749-0xc7,_0x45386b-0xb);}const _0x3ef7e4=_0x21eda6['context_pr'+'ofile']||'ÈªòËÆ§',_0x31cdf6=extension_settings[extensionName]['test_conte'+_0x222e2c(0x3f9,0x35b,0x3e7,0x399)+'s']||{},_0x5be248=_0x31cdf6[_0x3ef7e4]||_0x31cdf6[Object[_0x36cabc(0x43,0xe0,0x9d,0x116)](_0x31cdf6)[0xa8c+-0x5a4+0x274*-0x2]]||{},_0x3247c8=[];if(_0x5be248[_0x222e2c(0x411,0x47a,0x3e1,0x49a)]&&Array['isArray'](_0x5be248['entries']))_0x5be248[_0x222e2c(0x411,0x3b2,0x481,0x376)][_0x222e2c(0x387,0x3c4,0x42f,0x2ff)](_0x33cf4a=>{if(!_0x33cf4a['enabled'])return;if(!_0x33cf4a[_0x575a1d(0x3d3,0x44b,0x34a,0x3f3)]||_0x15b735['yELlj'](_0x33cf4a[_0x575a1d(0x3d3,0x328,0x3dc,0x3fc)]['trim'](),''))return;if(_0x33cf4a['triggerMod'+'e']===_0x15b735['tnHxt']){if(!_0x4f414b||!_0x15b735['JCvOi'](checkTriggerWords,_0x33cf4a[_0x575a1d(0x44d,0x405,0x420,0x453)+'ds'],_0x4f414b))return;}function _0x243b3c(_0x5b78a3,_0xc9cabf,_0x582c1b,_0x85a0fd){return _0x36cabc(_0x5b78a3-0x3,_0x5b78a3,_0x582c1b-0x49e,_0x85a0fd-0x107);}function _0x575a1d(_0x4bace7,_0x39f06f,_0x3a932a,_0x1173c0){return _0x222e2c(_0x4bace7-0x16,_0x39f06f-0xa4,_0x3a932a,_0x1173c0-0x117);}const _0x59e315={};_0x59e315['role']=_0x33cf4a['role']||_0x15b735[_0x575a1d(0x408,0x3e2,0x4b1,0x400)],_0x59e315[_0x243b3c(0x422,0x449,0x4b1,0x549)]=_0x33cf4a[_0x575a1d(0x3d3,0x428,0x3c7,0x444)],_0x3247c8[_0x243b3c(0x4de,0x406,0x45e,0x409)](_0x59e315);});else{if(_0x5be248[_0x36cabc(-0x97,-0xa6,-0x43,-0x19)]&&Array[_0x222e2c(0x350,0x3a7,0x3bf,0x2a7)](_0x5be248['history'])){if(_0x15b735[_0x36cabc(-0x23,-0x6c,-0x2f,0xf)](_0x15b735[_0x222e2c(0x35c,0x333,0x38b,0x406)],_0x15b735['xNBXX']))_0x5be248[_0x36cabc(-0x63,0x69,-0x43,-0x1d)][_0x36cabc(-0x79,0x11,-0x23,0xb)](_0x166999=>{if(_0x166999[_0x26c366(-0x26d,-0x1ff,-0x1c1,-0x264)]&&_0x15b735[_0x4a9fe4(-0x174,-0x1e9,-0x20e,-0x254)](_0x166999[_0x4a9fe4(-0x117,-0x157,-0x103,-0x133)][_0x4a9fe4(-0x175,-0xf5,-0x118,-0x14a)](),'')){const _0x28a33e={};_0x28a33e[_0x4a9fe4(-0x217,-0x1b3,-0x1e5,-0x1f9)]=_0x15b735['KYaGC'],_0x28a33e['content']=_0x166999[_0x4a9fe4(-0x150,-0x157,-0x11f,-0x1ad)],_0x3247c8[_0x26c366(-0x1a3,-0x271,-0x235,-0x2c5)](_0x28a33e);}function _0x26c366(_0x2d7389,_0x8ba08a,_0x2933bf,_0x4081d2){return _0x222e2c(_0x2933bf- -0x59f,_0x8ba08a-0x1c1,_0x2d7389,_0x4081d2-0x64);}function _0x4a9fe4(_0x43bc07,_0xb9ce15,_0x29db5b,_0x5f54fd){return _0x222e2c(_0xb9ce15- -0x535,_0xb9ce15-0x1ed,_0x5f54fd,_0x5f54fd-0x85);}if(_0x166999[_0x4a9fe4(-0x200,-0x1e6,-0x251,-0x15d)]&&_0x15b735[_0x26c366(-0x216,-0x1cf,-0x253,-0x23d)](_0x166999[_0x4a9fe4(-0x23e,-0x1e6,-0x28b,-0x19e)][_0x4a9fe4(-0x6a,-0xf5,-0x82,-0x131)](),'')){const _0x3bfdf3={};_0x3bfdf3[_0x4a9fe4(-0x1e1,-0x1b3,-0x1a8,-0x168)]=_0x15b735[_0x4a9fe4(-0x232,-0x1ef,-0x204,-0x203)],_0x3bfdf3[_0x4a9fe4(-0x1fb,-0x178,-0x14f,-0x1d8)]=_0x166999[_0x26c366(-0x22d,-0x2fd,-0x250,-0x1e3)],_0x3247c8[_0x4a9fe4(-0x1ac,-0x1cb,-0x167,-0x1c2)](_0x3bfdf3);}});else{if(!_0x2c5686||!_0x15b735[_0x36cabc(0x4d,-0xf,0x61,0xa)](_0x535f8b,_0x4dccab[_0x222e2c(0x437,0x3e3,0x40d,0x3aa)+'ds'],_0x4673e5))return;}}}const _0x40edd5=mergeAdjacentMessages(_0x3247c8),_0x2fa115=processRollPlaceholders(_0x40edd5);return _0x2fa115;}const _0x3de90e={};_0x3de90e['image_gen']=_0x247e3c(0x2f2,0x3d2,0x375,0x385),_0x3de90e[_0x247e3c(0x3c8,0x407,0x3cd,0x40c)+'n']=_0x3b85c3(0xf0,0x75,0x2f,0x33),_0x3de90e['char_displ'+'ay']=_0x3b85c3(-0x59,0x1b,-0x84,-0x2),_0x3de90e[_0x3b85c3(0xe8,0xef,0x154,0x143)+'y']=_0x247e3c(0x3c3,0x3bf,0x2d6,0x335),_0x3de90e[_0x247e3c(0x30b,0x35c,0x302,0x386)+'n']='ÁøªËØë',_0x3de90e[_0x247e3c(0x34b,0x414,0x464,0x3c4)]=_0x247e3c(0x473,0x330,0x382,0x3d8);const REQUEST_TYPE_NAMES=_0x3de90e;function _0x3b85c3(_0x5aac60,_0xbd79d8,_0x27ff0a,_0x203971){return _0xc235(_0xbd79d8- -0x109,_0x203971);}export async function executeTypedLLMRequest(_0x5e7aa4,_0x5f448a,_0x4e5d23,_0x394c09=null){const _0x544505={'NhnkP':function(_0x4d21bb,_0x478698){return _0x4d21bb(_0x478698);},'OigLF':function(_0x4fe89a,_0x398906){return _0x4fe89a(_0x398906);},'XXfGs':function(_0x1f62f1,_0xc7fee8){return _0x1f62f1>_0xc7fee8;},'CWDeY':function(_0x34957b,_0x67144b){return _0x34957b(_0x67144b);},'vqwnu':function(_0x23e511,_0x251bf8){return _0x23e511===_0x251bf8;},'KkpKC':_0x104b2b(0x255,0x366,0x245,0x2ea),'LCwbz':_0x104b2b(0x2c7,0x38d,0x33a,0x313)+'+$','oxRDs':function(_0x40f6cb,_0x45e8fb){return _0x40f6cb||_0x45e8fb;},'mdbDY':function(_0x105ea2){return _0x105ea2();},'hHHkb':function(_0x588635){return _0x588635();},'DouSX':function(_0x5ae127,_0x4495af){return _0x5ae127(_0x4495af);},'ylYXv':function(_0x307e53,_0xee54b9){return _0x307e53(_0xee54b9);},'ZPCPV':function(_0x496eab,_0x147bb9){return _0x496eab||_0x147bb9;},'bwTHn':function(_0x317fda,_0x12fcb5){return _0x317fda!==_0x12fcb5;},'KfRNV':_0x2e8443(-0x79,-0x10e,-0xa9,-0xf1),'naqUa':function(_0x2a6be6,_0x334db7){return _0x2a6be6===_0x334db7;},'nawor':_0x104b2b(0x32b,0x34f,0x2eb,0x2a3),'IHQrg':_0x2e8443(-0x1fb,-0x1f3,-0x17a,-0x1cd),'umQaP':_0x104b2b(0x21d,0x2b0,0x283,0x292),'dfImg':_0x2e8443(-0xb0,-0x4d,-0xe5,-0xc5),'KvtfW':function(_0x43c5d2,_0x1710a8){return _0x43c5d2+_0x1710a8;},'xsZvI':_0x2e8443(-0x76,-0x130,-0x87,-0x102),'XFyYh':_0x104b2b(0x2f5,0x262,0x2cf,0x2dd)+'nds/chat-c'+_0x2e8443(-0x2b,-0xbd,-0x5c,-0xd4)+_0x2e8443(-0x206,-0x158,-0x171,-0x1fc),'UMplU':'custom','OVoaK':function(_0x564e70,_0x40cf25){return _0x564e70(_0x40cf25);},'uDbyG':function(_0x44d1e0,_0x545b70){return _0x44d1e0===_0x545b70;},'BjWyq':'mVtDX','zSwXn':function(_0x3686c5,_0x4d9f45,_0x5d230c){return _0x3686c5(_0x4d9f45,_0x5d230c);},'cwTSh':_0x2e8443(-0x42,0x40,-0x4d,0x31),'IVkQv':_0x2e8443(0x16,0xf,-0x69,-0xc7),'lBzdS':function(_0x21e06f,_0x3cc84e){return _0x21e06f===_0x3cc84e;},'smsOd':function(_0x50ba32,_0x11916a){return _0x50ba32>_0x11916a;},'syIGJ':_0x104b2b(0x430,0x40d,0x3fa,0x383),'YiUZk':_0x104b2b(0x325,0x26e,0x2fb,0x298),'FDePx':'MtzHX','tjuYG':function(_0x5883d6,_0x4f5609){return _0x5883d6===_0x4f5609;},'JzGwi':_0x104b2b(0x1fb,0x1dd,0x2a2,0x25f)+'E]','hiJQC':_0x2e8443(-0xff,-0xbb,-0x119,-0x130),'ExCps':function(_0x26898e,_0x58d33d){return _0x26898e(_0x58d33d);},'NlYOG':_0x2e8443(-0x112,-0x198,-0xf1,-0x136),'wdMMg':function(_0x33e25d,_0x176e47){return _0x33e25d!==_0x176e47;},'IDNED':'bNTEA','GKeVA':_0x104b2b(0x36e,0x282,0x306,0x301),'iUhuL':function(_0x59ce6f,_0x540cb8){return _0x59ce6f===_0x540cb8;},'CvAdH':_0x2e8443(-0xe4,-0x66,-0xac,-0x9a),'zwOTM':function(_0x4f145b,_0x2b3d02){return _0x4f145b!==_0x2b3d02;},'ndvgF':_0x104b2b(0x2f7,0x25e,0x1ec,0x281)+_0x2e8443(-0x70,-0xda,-0x34,-0x2),'WhsJu':function(_0x4b6f2b,_0x580b3b){return _0x4b6f2b===_0x580b3b;},'OfRyz':_0x104b2b(0x244,0x28c,0x239,0x294),'gzJFT':_0x2e8443(-0x2f,-0x10,-0x55,0x3e),'qvUQO':function(_0xc2d88,_0x469e55){return _0xc2d88===_0x469e55;},'RSvQu':_0x104b2b(0x29e,0x1ce,0x206,0x271),'dWZtq':_0x2e8443(-0x13c,-0xf6,-0x14e,-0x178),'oOWzL':_0x104b2b(0x321,0x29a,0x2de,0x2ad),'CWIea':'Êú™Êî∂Âà∞ÊúâÊïàÂõûÂ§ç„ÄÇ','GmjnF':function(_0x24de9d,_0xa6250d){return _0x24de9d(_0xa6250d);},'Pnbrw':function(_0x11d116,_0x4c1b23){return _0x11d116(_0x4c1b23);},'tMWeU':function(_0xf596bd,_0x34fad0){return _0xf596bd(_0x34fad0);},'UWcPe':_0x2e8443(-0x1d8,-0x1e2,-0x175,-0x1b2),'KaVoG':'wLutj','CYFvk':_0x2e8443(-0x126,-0xf8,-0x148,-0x1f4),'FKoQf':function(_0x4da0ba,_0x1c493a){return _0x4da0ba!==_0x1c493a;},'HMywl':'MFutQ','HLuGS':'Request\x20ab'+_0x104b2b(0x1d5,0x221,0x217,0x255),'XaGHR':_0x2e8443(-0xe8,0xb,-0x9f,-0x10f),'obfoH':function(_0x21cc48,_0x1c7c89){return _0x21cc48===_0x1c7c89;},'wfjZQ':'bmKvh','PhrwZ':function(_0x853f5a){return _0x853f5a();}},{prompt:_0x54050d,id:_0x10c21a}=_0x5e7aa4;if(_0x544505[_0x104b2b(0x2cb,0x1f5,0x2d3,0x27a)](!_0x10c21a,!_0x54050d))return;currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr['info'](_0x2e8443(-0x20e,-0x203,-0x17d,-0x153)+_0x2e8443(-0x50,-0xf1,-0x7e,-0x9d)));currentLLMRequestController=new AbortController();const _0x5e1f5e=currentLLMRequestController[_0x104b2b(0x2cc,0x33d,0x2ba,0x2d3)],_0xe5214d=currentLLMRequestController,_0x2bd7a4=REQUEST_TYPE_NAMES[_0x5f448a]||_0x5f448a,_0x3f66a1={};_0x3f66a1['name']=_0x2e8443(-0x153,-0xfd,-0xcb,-0x2c)+_0x2bd7a4,_0x3f66a1[_0x104b2b(0x282,0x290,0x23b,0x25d)]=TaskType[_0x104b2b(0x30a,0x3da,0x397,0x375)],_0x3f66a1[_0x2e8443(-0x1c,0x23,-0x6f,0x1b)]=_0x10c21a;function _0x2e8443(_0x460aaf,_0x178ba6,_0x5e6256,_0x50ccaa){return _0x247e3c(_0x460aaf,_0x178ba6-0x67,_0x5e6256-0x6f,_0x5e6256- -0x48e);}const _0x4a1763=taskQueue[_0x104b2b(0x2cd,0x24c,0x314,0x295)](_0x3f66a1);llmTaskControllers['set'](_0x4a1763,currentLLMRequestController),taskQueue[_0x2e8443(-0x1e,0xb,-0x4c,0x25)+'us'](_0x4a1763,TaskStatus[_0x2e8443(-0xa8,-0x5f,-0x106,-0x157)]),_0x544505[_0x2e8443(-0xd5,0x1e,-0x57,-0xac)](startFabLoading);let _0x388214=![];_0x544505['hHHkb'](clearLog),_0x544505[_0x104b2b(0x33b,0x33e,0x385,0x34c)](addLog,_0x104b2b(0x2eb,0x2a1,0x2ac,0x2f9)+'ËØ∑Ê±ÇÂºÄÂßã\x20('+_0x2bd7a4+')\x20====='),_0x544505[_0x2e8443(-0x17a,-0x11e,-0x164,-0x117)](addLog,_0x104b2b(0x2ae,0x2c3,0x3f6,0x35a)+_0x10c21a),_0x544505[_0x2e8443(-0x15a,-0x144,-0x164,-0x13f)](addLog,_0x104b2b(0x360,0x3ae,0x39f,0x32f)+':');function _0x104b2b(_0x5a308d,_0x1f5e4c,_0xfd7639,_0x536627){return _0x247e3c(_0x1f5e4c,_0x1f5e4c-0x19,_0xfd7639-0x1cf,_0x536627- -0xc9);}_0x544505[_0x104b2b(0x29e,0x1e3,0x1c2,0x261)](addLog,_0x544505[_0x2e8443(-0x106,-0x1c,-0x79,-0x9)](formatPromptForDisplay,_0x54050d));const _0x12adaa=_0x544505[_0x104b2b(0x3d7,0x38c,0x411,0x397)](getEffectiveConfigForRequestType,_0x5f448a),{api_url:_0xad463d,api_key:_0x4a6af2,model:_0x563d51,temperature:_0x2f7418,top_p:_0x356df7,max_tokens:_0x5612f4,stream:_0x214ca0,bypass_proxy:_0x56524c}=_0x12adaa;if(_0x544505[_0x2e8443(-0xee,-0xd5,-0x51,-0x85)](!_0xad463d,!_0x4a6af2)||!_0x563d51){if(_0x544505[_0x104b2b(0x293,0x28a,0x1c4,0x25b)](_0x544505[_0x104b2b(0x290,0x244,0x2ad,0x270)],_0x544505[_0x2e8443(-0xcd,-0x100,-0x155,-0x1ff)]))_0x544505[_0x104b2b(0x36b,0x3d2,0x36f,0x34c)](_0x2414e3,_0x2e8443(-0x6,-0x123,-0x8c,-0x1b)+_0x1384f3+_0x2e8443(-0x9e,-0x11,-0x81,0x28));else{const _0x1e0450=_0x2bd7a4+(_0x104b2b(0x2a8,0x3b5,0x393,0x338)+_0x2e8443(-0x37,-0x3,-0xb0,-0x17)+_0x2e8443(-0x60,-0x128,-0xf6,-0x18b)+'ÁΩÆ„ÄÇ');toastr[_0x104b2b(0x34e,0x2fd,0x2be,0x32c)](_0x1e0450);const _0x5c2da7={};_0x5c2da7[_0x2e8443(-0x14f,-0x193,-0x110,-0x11a)]=![],_0x5c2da7[_0x104b2b(0x23f,0x202,0x337,0x29b)]=_0x1e0450,_0x5c2da7['id']=_0x10c21a,eventSource['emit'](_0x4e5d23,_0x5c2da7);return;}}const _0x597e7d=_0xad463d[_0x104b2b(0x2d0,0x28d,0x208,0x273)](/\/$/,'');let _0x24725b,_0x3c1a45,_0x2c4829;if(_0x56524c){_0x24725b=_0x597e7d+(_0x2e8443(-0x76,-0xbc,-0x11b,-0x7a)+_0x2e8443(-0xf7,-0x108,-0xa5,-0xb4));const _0x45cd7c={};_0x45cd7c[_0x2e8443(-0x13c,-0xab,-0xf3,-0xbd)+'pe']=_0x2e8443(-0x72,-0x77,-0xaf,-0x3e)+'n/json',_0x45cd7c[_0x2e8443(-0x1d,-0x107,-0x5d,-0x6c)+_0x2e8443(-0x1d2,-0x14b,-0x157,-0x148)]=_0x2e8443(0x41,0x4a,-0x45,-0x1b)+_0x4a6af2,_0x3c1a45=_0x45cd7c;const _0x40c9b7={};_0x40c9b7[_0x104b2b(0x3aa,0x369,0x3e3,0x37f)]=_0x563d51,_0x40c9b7['messages']=_0x54050d,_0x40c9b7['temperatur'+'e']=_0x2f7418,_0x40c9b7['top_p']=_0x356df7,_0x40c9b7['max_tokens']=_0x5612f4,_0x40c9b7[_0x2e8443(-0x14f,-0x10f,-0x10c,-0xad)]=_0x214ca0,_0x2c4829=_0x40c9b7;}else{if(_0x544505[_0x2e8443(-0x166,-0x1b1,-0x15f,-0xf9)](_0x544505[_0x104b2b(0x439,0x431,0x3b5,0x396)],_0x544505[_0x2e8443(-0xd2,-0xc7,-0x56,-0x42)]))return!!_0x44a8bf;else{let _0x1a5f6a=_0x597e7d;!_0x1a5f6a[_0x104b2b(0x2d3,0x26f,0x2c6,0x2cd)](_0x104b2b(0x2fb,0x2bc,0x3cc,0x33e))&&!_0x1a5f6a[_0x2e8443(-0x173,-0xc0,-0x12e,-0x94)](_0x544505[_0x104b2b(0x1f1,0x29b,0x256,0x24a)])&&(_0x544505[_0x2e8443(-0x186,-0x112,-0x15f,-0xc9)](_0x544505[_0x104b2b(0x2ea,0x1d9,0x2e2,0x263)],_0x544505[_0x104b2b(0x205,0x1bd,0x1ed,0x263)])?_0x1a5f6a=_0x544505[_0x104b2b(0x303,0x264,0x35b,0x2e6)](_0x1a5f6a,_0x544505['xsZvI']):_0x506967=''+_0x9e1960[_0x104b2b(0x322,0x369,0x32b,0x38b)](_0x46fdcf[_0x104b2b(0x348,0x2bc,0x372,0x32c)]));_0x1a5f6a=_0x1a5f6a['replace'](/\/v1\/$/,_0x104b2b(0x2b5,0x2cf,0x2db,0x33e)),_0x24725b=_0x544505[_0x104b2b(0x2da,0x35b,0x31e,0x2e1)],_0x3c1a45=getRequestHeaders(window[_0x104b2b(0x2ce,0x24b,0x30b,0x28f)]);const _0x38af28={};_0x38af28['chat_compl'+_0x104b2b(0x309,0x3a4,0x3ad,0x365)+'ce']=_0x544505[_0x104b2b(0x3c5,0x2e6,0x392,0x335)],_0x38af28[_0x2e8443(-0x1b0,-0x197,-0x10a,-0x93)]=_0x1a5f6a,_0x38af28[_0x2e8443(-0x1f5,-0x1ec,-0x15e,-0x1e2)+'lude_heade'+'rs']=_0x2e8443(-0xf,-0xdb,-0x5d,-0xb4)+'ion:\x20\x22Bear'+_0x2e8443(-0xc1,-0x198,-0x150,-0xb6)+_0x4a6af2+'\x22',_0x38af28[_0x2e8443(0x61,-0x13,-0x46,0x1b)]=_0x563d51,_0x38af28[_0x2e8443(-0x104,-0xb7,-0xe2,-0x142)]=_0x54050d,_0x38af28[_0x104b2b(0x37f,0x2cd,0x27b,0x2f5)+'e']=_0x2f7418,_0x38af28['top_p']=_0x356df7,_0x38af28['max_tokens']=_0x5612f4,_0x38af28[_0x104b2b(0x332,0x2b1,0x2e2,0x2b9)]=_0x214ca0,_0x2c4829=_0x38af28;}}_0x394c09&&_0x544505[_0x104b2b(0x328,0x34a,0x3c6,0x334)](_0x394c09,_0x104b2b(0x2e0,0x337,0x354,0x339)+_0x2bd7a4+_0x104b2b(0x38f,0x2a7,0x30e,0x344));try{if(_0x544505['uDbyG'](_0x544505[_0x2e8443(-0x92,-0x8d,-0x2b,0x33)],'eXoCy'))return function(_0x40083d){const {id:_0x49d61b}=_0x40083d;if(!_0x49d61b)return;const _0x328282=_0x41e18d[_0x36c4fa]||_0x20ae21;_0xcecd69[_0x4db9cb(-0x168,-0xe7,-0x18e,-0x160)](_0x4db9cb(-0x201,-0x1a4,-0x218,-0x1ae)+_0x4db9cb(-0x1cb,-0x1d0,-0x277,-0x1fe)+_0x328282+(_0x120ce2(-0x15f,-0x154,-0xff,-0xd0)+_0x120ce2(-0x1a8,-0x162,-0x1e4,-0x11b))+_0x49d61b+')');const _0xf61438=_0x544505[_0x4db9cb(-0x11d,-0x13b,-0x1c8,-0x266)](_0x2af882,_0x4de28a),_0x717940={};_0x717940['prompt']=_0xf61438,_0x717940['id']=_0x49d61b;function _0x120ce2(_0x1afc63,_0x148092,_0x5a378d,_0x18cd56){return _0x104b2b(_0x1afc63-0x2f,_0x18cd56,_0x5a378d-0xc2,_0x1afc63- -0x4ee);}function _0x4db9cb(_0x33d991,_0x45ce89,_0x37ac16,_0x39b9f9){return _0x2e8443(_0x33d991,_0x45ce89-0xf1,_0x37ac16- -0x156,_0x39b9f9-0x19a);}_0x3e5133['emit'](_0x2f4762,_0x717940);};else{const _0xcc13e6=await _0x544505['zSwXn'](fetch,_0x24725b,{'method':_0x544505[_0x2e8443(-0x138,-0xd0,-0x124,-0x7a)],'headers':_0x3c1a45,'body':JSON[_0x104b2b(0x36b,0x36c,0x34e,0x38b)](_0x2c4829),'signal':_0x5e1f5e});if(!_0xcc13e6['ok']){try{if(_0x104b2b(0x3e3,0x427,0x422,0x39e)!==_0x544505[_0x2e8443(-0x124,-0xbe,-0xa2,-0xd1)]){const _0x57a499=await _0xcc13e6[_0x2e8443(-0xe0,-0x173,-0x16f,-0x199)]();if(_0x57a499[_0x2e8443(-0x1,0x10,-0x99,-0xbb)]){let _0x357947;if(_0x544505[_0x104b2b(0x2fc,0x409,0x360,0x38a)](typeof _0x57a499[_0x104b2b(0x37b,0x305,0x2c8,0x32c)],_0x544505[_0x2e8443(-0x112,-0x161,-0x10f,-0x12e)])&&_0x57a499['error'][_0x2e8443(-0x17e,-0x1b2,-0x134,-0x18d)]){_0x357947=''+_0x57a499[_0x104b2b(0x3a7,0x329,0x290,0x32c)][_0x2e8443(-0x18d,-0x174,-0x134,-0xb3)];const _0x20fafd=[];if(_0x57a499[_0x104b2b(0x348,0x373,0x330,0x32c)][_0x104b2b(0x268,0x1b4,0x21d,0x25d)])_0x20fafd[_0x2e8443(-0xac,-0x83,-0x12f,-0x1ca)]('Á±ªÂûã:\x20'+_0x57a499['error']['type']);if(_0x57a499['error'][_0x104b2b(0x357,0x409,0x3f5,0x366)])_0x20fafd['push'](_0x104b2b(0x26c,0x379,0x3a0,0x318)+_0x57a499[_0x2e8443(-0x21,-0x17,-0x99,-0xa0)][_0x2e8443(-0x51,-0x27,-0x5f,-0xd1)]);_0x544505[_0x2e8443(-0xc4,-0xc2,-0xe1,-0x94)](_0x20fafd[_0x104b2b(0x37f,0x360,0x2d6,0x351)],0x17*0x171+0x90+0x1*-0x21b7)&&(_0x357947+='\x20('+_0x20fafd[_0x2e8443(-0x129,-0x170,-0xde,-0x132)](',\x20')+')');}else _0x357947=''+JSON[_0x2e8443(0x4b,-0x8c,-0x3a,-0xc4)](_0x57a499[_0x104b2b(0x3a0,0x2d8,0x334,0x32c)]);throw new Error(_0x357947);}}else{let _0x1d6ba9;if(typeof _0x28e119['error']===_0x2e8443(-0x73,-0x3f,-0xdb,-0x56)&&_0x12593b[_0x2e8443(-0x23,-0xcb,-0x99,-0x11c)][_0x104b2b(0x2d5,0x326,0x231,0x291)]){_0x1d6ba9=''+_0x399831[_0x2e8443(-0x5b,-0x40,-0x99,-0x38)]['message'];const _0x2678bf=[];if(_0x3c6eb9[_0x104b2b(0x32a,0x2af,0x377,0x32c)][_0x2e8443(-0x107,-0x118,-0x168,-0x162)])_0x2678bf[_0x104b2b(0x330,0x320,0x328,0x296)]('Á±ªÂûã:\x20'+_0x5d89a8['error'][_0x2e8443(-0xc5,-0x1d1,-0x168,-0x133)]);if(_0x17e7d3[_0x2e8443(-0xe4,-0xd8,-0x99,-0x10e)][_0x104b2b(0x2ed,0x391,0x379,0x366)])_0x2678bf[_0x104b2b(0x2b2,0x27a,0x27b,0x296)]('‰ª£Á†Å:\x20'+_0x1ca7c9[_0x104b2b(0x325,0x3d7,0x2cb,0x32c)][_0x2e8443(-0x62,-0xb0,-0x5f,0x36)]);_0x544505[_0x104b2b(0x31e,0x215,0x2ef,0x28e)](_0x2678bf[_0x104b2b(0x361,0x384,0x2b5,0x351)],-0x8bc+-0x36f*0x1+-0x59*-0x23)&&(_0x1d6ba9+='\x20('+_0x2678bf[_0x2e8443(-0x112,-0xd4,-0xde,-0x16a)](',\x20')+')');}else _0x1d6ba9=''+_0x63d6[_0x104b2b(0x41d,0x3b5,0x316,0x38b)](_0x1e8f82['error']);throw new _0x398373(_0x1d6ba9);}}catch(_0x2d0f71){if(_0x2d0f71[_0x104b2b(0x228,0x2e3,0x275,0x291)]['includes'](_0x2e8443(-0xf8,-0x71,-0x83,-0xff))||_0x2d0f71[_0x2e8443(-0x137,-0x1a3,-0x134,-0x1a6)][_0x104b2b(0x232,0x262,0x1ef,0x297)](_0x544505[_0x104b2b(0x28b,0x1b7,0x249,0x258)])){if(_0x544505['YiUZk']===_0x544505[_0x2e8443(-0xda,-0x1c9,-0x13a,-0x11e)]){const _0x339513=_0x5f0bad[_0x3743eb][_0x104b2b(0x39f,0x26f,0x35c,0x2fd)+_0x104b2b(0x364,0x318,0x354,0x39b)+_0x104b2b(0x384,0x26f,0x28c,0x30c)]||{},_0x25fe3e={};_0x25fe3e[_0x104b2b(0x2b1,0x293,0x303,0x29e)+'e']='ÈªòËÆ§',_0x25fe3e[_0x2e8443(-0x11a,-0x18a,-0x11c,-0x166)+_0x2e8443(-0x63,-0x94,-0x4b,-0xc3)]='ÈªòËÆ§';const _0x36f666=_0x339513[_0x329eaf]||_0x25fe3e,_0x1b42ca=_0x26aa4d[_0x1b9d46][_0x2e8443(-0x160,-0x1a5,-0x111,-0x151)+'es']||{},_0xf57b16=_0x2eff65[_0x2e988d][_0x104b2b(0x372,0x2f3,0x339,0x328)+'xt_profile'+'s']||{},_0x2c126b=_0x36f666[_0x104b2b(0x297,0x231,0x2a3,0x29e)+'e']||'ÈªòËÆ§',_0x170b42=_0x1b42ca[_0x2c126b]||_0x1b42ca[_0x194172[_0x2e8443(0x31,-0x7a,-0x52,0x8)](_0x1b42ca)[0x52e+0x116d+0x9*-0x283]]||{},_0x2ac951=_0x36f666[_0x104b2b(0x26b,0x246,0x2d7,0x2a9)+_0x2e8443(-0x45,0x34,-0x4b,0x2)]||'ÈªòËÆ§',_0x22b620=_0xf57b16[_0x2ac951]||_0xf57b16[_0x172b24[_0x2e8443(-0xae,-0xcc,-0x52,-0x27)](_0xf57b16)[0x193+-0x1bfa+0x2ef*0x9]]||{},_0x48d502={};return _0x48d502[_0x104b2b(0x32d,0x2db,0x305,0x308)]=_0x170b42['api_url']||'',_0x48d502[_0x2e8443(-0xdf,-0x55,-0x85,0x4)]=_0x170b42[_0x104b2b(0x2a5,0x373,0x3e4,0x340)]||'',_0x48d502[_0x104b2b(0x3f3,0x355,0x41a,0x37f)]=_0x170b42[_0x2e8443(0x56,-0x1b,-0x46,0x37)]||'',_0x48d502['temperatur'+'e']=_0x170b42[_0x104b2b(0x25d,0x2c4,0x344,0x2f5)+'e']??-0x2c5*0x1+-0x1*0x189d+0x2bd*0xa+0.7,_0x48d502[_0x104b2b(0x278,0x267,0x23b,0x257)]=_0x170b42[_0x104b2b(0x1cb,0x2aa,0x1d9,0x257)]??0xe32+-0x1f71+0x1140,_0x48d502['max_tokens']=_0x170b42[_0x2e8443(-0x62,-0xef,-0x6e,-0xa0)]??-0x1878*0x1+-0x23db+0xc77*0x5,_0x48d502[_0x104b2b(0x329,0x328,0x2b1,0x2b9)]=_0x170b42[_0x104b2b(0x2d9,0x247,0x324,0x2b9)]??![],_0x48d502['bypass_pro'+'xy']=_0x170b42[_0x104b2b(0x2e5,0x31d,0x3ac,0x35e)+'xy']??![],_0x48d502[_0x104b2b(0x26c,0x230,0x21f,0x2a6)]=_0x22b620,_0x48d502;}else throw _0x2d0f71;}}throw new Error(_0x2e8443(-0x1cf,-0x1c5,-0x13c,-0x1b5)+_0xcc13e6[_0x2e8443(-0xfa,-0x1bf,-0x15d,-0x1a4)]+'\x20'+_0xcc13e6[_0x104b2b(0x2f0,0x2cf,0x1e2,0x28d)]);}let _0x9e4a87='';if(_0x214ca0){const _0x5b5a00=_0xcc13e6[_0x2e8443(-0xe0,-0xbe,-0x142,-0x180)][_0x2e8443(-0xcd,0x3f,-0x6d,-0x3e)](),_0x576b0c=new TextDecoder('utf-8');let _0x1447f9='';while(!![]){const {done:_0xd464e4,value:_0x36aab5}=await _0x5b5a00[_0x2e8443(-0x148,-0x85,-0x129,-0x159)]();if(_0xd464e4)break;const _0xa71aec={};_0xa71aec[_0x104b2b(0x361,0x27c,0x29a,0x2b9)]=!![],_0x1447f9+=_0x576b0c[_0x104b2b(0x2aa,0x23f,0x350,0x2d7)](_0x36aab5,_0xa71aec);const _0xf0873c=_0x1447f9[_0x104b2b(0x2a8,0x220,0x216,0x27f)]('\x0a');_0x1447f9=_0xf0873c[_0x104b2b(0x330,0x361,0x355,0x2c5)]()||'';for(const _0x566bb4 of _0xf0873c){const _0x2203dd=_0x566bb4[_0x2e8443(0x7,-0x53,-0x59,0x17)]();if(!_0x2203dd||_0x544505[_0x104b2b(0x200,0x303,0x203,0x2a0)](_0x2203dd,_0x544505[_0x104b2b(0x1ed,0x259,0x1db,0x26a)]))continue;if(_0x2203dd[_0x2e8443(-0x11,-0xd7,-0x2d,-0xa8)](_0x544505[_0x104b2b(0x246,0x22a,0x354,0x2ce)]))try{const _0x5f5944=_0x2203dd[_0x2e8443(-0xc,-0x1e,-0x9e,-0x12c)](0x1190+0xa7*0xb+-0x18b7),_0x29b7b7=JSON[_0x2e8443(-0x165,-0xa5,-0xc3,-0x96)](_0x5f5944),_0x4d6645=_0x29b7b7[_0x104b2b(0x1e3,0x26e,0x220,0x24d)]?.[-0x351*-0x6+0x2b*0x2b+-0x1b1f]?.['delta']?.[_0x104b2b(0x255,0x2c9,0x275,0x2e9)];_0x4d6645&&(_0x9e4a87+=_0x4d6645,_0x394c09&&_0x544505[_0x2e8443(-0x13d,-0xbc,-0x12c,-0x16b)](_0x394c09,_0x9e4a87));}catch(_0x34a9c6){console[_0x104b2b(0x2ab,0x3b8,0x3d0,0x345)](_0x544505['NlYOG'],_0x34a9c6[_0x2e8443(-0xae,-0x194,-0x134,-0xc5)]);}}}if(_0x1447f9['trim']()&&_0x544505['wdMMg'](_0x1447f9['trim'](),_0x544505['JzGwi'])&&_0x1447f9[_0x104b2b(0x418,0x2fb,0x2de,0x36c)]()[_0x104b2b(0x34d,0x311,0x43e,0x398)](_0x544505['hiJQC']))try{if(_0x544505[_0x2e8443(-0x18c,-0x1ae,-0x125,-0x1ca)](_0x544505[_0x2e8443(-0x80,-0x8,-0x3c,-0x2e)],_0x544505[_0x2e8443(-0xb2,-0x15f,-0xce,-0x16c)]))_0x544505[_0x104b2b(0x371,0x254,0x2dc,0x2d6)](_0x3ee23b,_0x54556c);else{const _0x39b853=_0x1447f9[_0x104b2b(0x2dc,0x342,0x3f5,0x36c)]()[_0x2e8443(-0xf8,-0x11a,-0x9e,-0x52)](0x1*-0x23de+0x10a+0x22da),_0x25f6ea=JSON['parse'](_0x39b853),_0x9f6cb=_0x25f6ea[_0x2e8443(-0x21c,-0x18a,-0x178,-0x1b7)]?.[0x916*-0x2+0x18b3*-0x1+0x1b7*0x19]?.[_0x2e8443(-0x20,-0xf6,-0xae,-0x4e)]?.['content'];_0x9f6cb&&(_0x544505[_0x104b2b(0x37f,0x268,0x274,0x2df)](_0x544505[_0x104b2b(0x33d,0x30a,0x32f,0x362)],_0x544505[_0x104b2b(0x2d5,0x30d,0x34e,0x362)])?(_0x9e4a87+=_0x9f6cb,_0x394c09&&(_0x544505[_0x2e8443(-0x15b,-0x105,-0x11a,-0x15e)]('cyUdT',_0x104b2b(0x1ed,0x2b2,0x2f5,0x26f))?_0x394c09(_0x9e4a87):_0x58cffd[_0x104b2b(0x33a,0x2b4,0x269,0x296)](_0x104b2b(0x2e0,0x382,0x2c6,0x33f)+_0x1f1689+']'))):_0x1d27c8+='\x20('+_0x57b1f4[_0x104b2b(0x34e,0x37e,0x2ad,0x2e7)](',\x20')+')');}}catch(_0x2cfbd3){console['warn'](_0x544505[_0x104b2b(0x2de,0x253,0x30b,0x28c)],_0x2cfbd3[_0x104b2b(0x31b,0x2a4,0x208,0x291)]);}!_0x9e4a87&&(_0x9e4a87='Êú™Êî∂Âà∞ÊúâÊïàÂõûÂ§ç„ÄÇ',toastr[_0x104b2b(0x257,0x241,0x272,0x2c4)](_0x2bd7a4+(_0x104b2b(0x35b,0x2a5,0x35f,0x32a)+'ÊïàÂõûÂ§ç„ÄÇ')));}else{if(_0x544505[_0x104b2b(0x238,0x2e3,0x2b8,0x2a8)](_0x544505['OfRyz'],_0x544505['gzJFT']))_0x381aef=''+_0x245211['stringify'](_0x27dd59['error']);else{const _0x4d35d3=await _0xcc13e6['json']();if(_0x4d35d3['error']){let _0x491bde;if(_0x544505[_0x2e8443(-0x80,-0xf5,-0x9a,-0x24)](typeof _0x4d35d3[_0x104b2b(0x2fb,0x280,0x372,0x32c)],_0x544505['KkpKC'])&&_0x4d35d3[_0x104b2b(0x386,0x2c5,0x306,0x32c)]['message']){if(_0x544505[_0x2e8443(-0x189,-0x7d,-0xf9,-0x1a1)]!==_0x104b2b(0x266,0x2fb,0x2a3,0x271)){let _0x39e813;if(_0x544505[_0x104b2b(0x3f6,0x2ec,0x3cb,0x37c)](typeof _0x18550b['error'],_0x544505[_0x2e8443(-0x194,-0x74,-0x10f,-0x6c)])&&_0x24653b[_0x2e8443(-0x10c,-0x122,-0x99,-0xbc)][_0x104b2b(0x1f4,0x2aa,0x200,0x291)]){_0x39e813=''+_0x1dfaab['error']['message'];const _0x8326f6=[];if(_0x296c01['error'][_0x104b2b(0x2aa,0x283,0x2ad,0x25d)])_0x8326f6[_0x2e8443(-0xc5,-0xc5,-0x12f,-0x10d)]('Á±ªÂûã:\x20'+_0x27ec23['error'][_0x2e8443(-0x11a,-0x1d6,-0x168,-0x212)]);if(_0x1600d4[_0x2e8443(-0x100,-0xc6,-0x99,0x5)][_0x104b2b(0x309,0x2e7,0x2f5,0x366)])_0x8326f6[_0x104b2b(0x320,0x31a,0x340,0x296)](_0x2e8443(-0x67,-0x33,-0xad,-0x97)+_0x2e2df5['error'][_0x104b2b(0x3fc,0x312,0x38f,0x366)]);_0x544505[_0x104b2b(0x2e5,0x274,0x238,0x28e)](_0x8326f6[_0x2e8443(-0xdc,-0x93,-0x74,-0x27)],0x12ad+0x5*-0x793+0x2*0x999)&&(_0x39e813+='\x20('+_0x8326f6[_0x2e8443(-0xbc,-0x8f,-0xde,-0x131)](',\x20')+')');}else _0x39e813=''+_0x4fdde4[_0x104b2b(0x400,0x3da,0x433,0x38b)](_0xa41f83[_0x104b2b(0x35f,0x36c,0x3b6,0x32c)]);throw new _0x576816(_0x39e813);}else{_0x491bde=''+_0x4d35d3['error'][_0x104b2b(0x2de,0x266,0x22c,0x291)];const _0x3c6a98=[];if(_0x4d35d3[_0x104b2b(0x299,0x2b2,0x315,0x32c)]['type'])_0x3c6a98['push'](_0x2e8443(-0x15c,-0x44,-0xba,-0xa0)+_0x4d35d3[_0x104b2b(0x3b2,0x340,0x2c4,0x32c)][_0x104b2b(0x299,0x2b2,0x254,0x25d)]);if(_0x4d35d3[_0x2e8443(-0x8f,-0x131,-0x99,-0x78)][_0x104b2b(0x323,0x3a4,0x33e,0x366)])_0x3c6a98['push'](_0x2e8443(-0x4,-0x14c,-0xad,-0x159)+_0x4d35d3[_0x2e8443(-0x10b,-0x122,-0x99,-0x11)]['code']);_0x544505['XXfGs'](_0x3c6a98['length'],-0x1*-0x11c3+0x4*0x45d+-0x2337)&&(_0x491bde+='\x20('+_0x3c6a98[_0x104b2b(0x35c,0x26f,0x257,0x2e7)](',\x20')+')');}}else _0x544505[_0x2e8443(-0xc8,-0xa2,-0x11a,-0xe1)](_0x544505[_0x104b2b(0x2b9,0x29d,0x364,0x332)],_0x544505['oOWzL'])?_0x491bde=''+JSON[_0x2e8443(0x4d,-0x91,-0x3a,-0x30)](_0x4d35d3[_0x2e8443(-0x54,-0xcf,-0x99,-0x2b)]):_0x5903fa+='\x20('+_0x2c2846['join'](',\x20')+')';throw new Error(_0x491bde);}_0x9e4a87=_0x4d35d3[_0x2e8443(-0x182,-0x13a,-0x178,-0xed)]?.[0x5*0x309+0x2*0x95f+0x1*-0x21eb]?.[_0x104b2b(0x1f0,0x248,0x2e9,0x291)]?.[_0x104b2b(0x296,0x380,0x264,0x2e9)]||'',!_0x9e4a87&&(_0x9e4a87=_0x544505[_0x2e8443(-0x60,-0x24,-0x31,0xe)],toastr[_0x104b2b(0x33d,0x244,0x219,0x2c4)](_0x2bd7a4+(':\x20LLM\x20Êú™Êî∂Âà∞Êúâ'+_0x104b2b(0x387,0x3a4,0x34c,0x304)))),_0x394c09&&_0x544505[_0x104b2b(0x3ad,0x419,0x3ba,0x372)](_0x394c09,_0x9e4a87);}}_0x544505[_0x2e8443(-0x94,-0x37,-0xb4,-0x107)](addLog,_0x104b2b(0x391,0x2e3,0x395,0x331)+_0x2e8443(-0x173,-0x5a,-0x104,-0x1ac)),_0x544505[_0x2e8443(-0x10d,-0xe7,-0xcf,-0x67)](addLog,_0x9e4a87),_0x544505[_0x104b2b(0x250,0x23a,0x2cb,0x261)](addLog,'=====\x20LLM\x20'+_0x104b2b(0x2b5,0x27d,0x242,0x2ef)),taskQueue[_0x104b2b(0x2be,0x30e,0x28f,0x284)+'sk'](_0x4a1763,!![]),llmTaskControllers[_0x104b2b(0x378,0x41a,0x3fd,0x388)](_0x4a1763);const _0x1b08d3={};_0x1b08d3[_0x2e8443(-0x1b5,-0x13e,-0x110,-0xd0)]=!![],_0x1b08d3[_0x104b2b(0x226,0x346,0x2af,0x29b)]=_0x9e4a87,_0x1b08d3['id']=_0x10c21a,_0x1b08d3['testMode']=![],eventSource['emit'](_0x4e5d23,_0x1b08d3);}}catch(_0x11682b){if(_0x544505['UWcPe']!==_0x544505[_0x2e8443(-0xf4,-0xe9,-0xc0,-0x128)]){if(_0x11682b[_0x2e8443(-0x1e6,-0xef,-0x174,-0x133)]===_0x544505[_0x2e8443(-0xb,-0x150,-0xa3,-0x14a)]){if(_0x544505[_0x2e8443(-0x14b,-0xbe,-0xa1,-0x57)](_0x2e8443(-0xce,0xc,-0x77,-0xc8),_0x544505[_0x104b2b(0x285,0x28d,0x361,0x314)])){const _0x2a7c9f=_0x2e8443(-0x4a,-0xff,-0x54,-0xa4)[_0x2e8443(-0xb1,-0x171,-0x146,-0x1bb)]('|');let _0x5bd6ab=-0x9e9+-0x224b+0x2c34;while(!![]){switch(_0x2a7c9f[_0x5bd6ab++]){case'0':taskQueue['updateStat'+'us'](_0x4a1763,TaskStatus[_0x2e8443(-0x219,-0x11a,-0x16c,-0x13e)]);continue;case'1':return;case'2':const _0x438a0c={};_0x438a0c[_0x2e8443(-0xdd,-0xe3,-0x174,-0x1dc)]=_0x544505[_0x2e8443(-0xfa,-0xfb,-0xa3,-0x123)],_0x438a0c[_0x2e8443(-0x135,-0x124,-0x134,-0x9a)]=_0x544505[_0x2e8443(-0x108,-0xa6,-0x107,-0xfb)];const _0x16cb2e={};_0x16cb2e[_0x104b2b(0x2c2,0x2f7,0x23c,0x2b5)]=![],_0x16cb2e[_0x104b2b(0x220,0x2f8,0x20f,0x29b)]=null,_0x16cb2e['id']=_0x10c21a,_0x16cb2e[_0x2e8443(-0xd0,-0x131,-0x99,-0x126)]=_0x438a0c,eventSource['emit'](_0x4e5d23,_0x16cb2e);continue;case'3':_0x388214=!![];continue;case'4':llmTaskControllers[_0x104b2b(0x42f,0x3d9,0x433,0x388)](_0x4a1763);continue;}break;}}else return _0x2f94b1[_0x2e8443(-0x101,-0x136,-0xff,-0xea)]()[_0x2e8443(-0x8e,-0x48,-0x75,-0x4d)](iiUnhS['LCwbz'])['toString']()[_0x104b2b(0x3b7,0x373,0x355,0x393)+'r'](_0x59b67e)[_0x2e8443(-0x1f,0x26,-0x75,0x35)](iiUnhS[_0x104b2b(0x2cd,0x2e8,0x247,0x247)]);}console['error'](_0x2bd7a4+_0x2e8443(-0x61,-0x55,-0x61,-0xb6),_0x11682b);const _0x44ca25=_0x2e8443(-0x104,-0x131,-0xb7,-0x84)+_0x11682b['message'];_0x394c09&&_0x394c09(_0x44ca25);toastr[_0x104b2b(0x3cd,0x3c2,0x320,0x32c)](_0x11682b[_0x2e8443(-0x1a3,-0x190,-0x134,-0x167)]),taskQueue[_0x104b2b(0x1eb,0x2d6,0x321,0x284)+'sk'](_0x4a1763,![]),llmTaskControllers[_0x104b2b(0x3ca,0x3af,0x40d,0x388)](_0x4a1763);const _0x2aaf0d={};_0x2aaf0d[_0x2e8443(-0x10e,-0xa5,-0x110,-0xc7)]=![],_0x2aaf0d[_0x2e8443(-0x185,-0xc8,-0x12a,-0xcb)]=_0x44ca25,_0x2aaf0d['id']=_0x10c21a,eventSource[_0x104b2b(0x308,0x34d,0x2a8,0x2da)](_0x4e5d23,_0x2aaf0d);}else _0x206c7a+='\x20('+_0x248b71[_0x104b2b(0x320,0x251,0x302,0x2e7)](',\x20')+')';}finally{if(currentLLMRequestController===_0xe5214d){if(_0x544505[_0x104b2b(0x30d,0x2ea,0x29b,0x2a8)](_0x104b2b(0x386,0x291,0x382,0x326),_0x544505[_0x2e8443(-0x8b,-0x1ac,-0x10d,-0x176)]))currentLLMRequestController=null;else return _0x4a6251;}if(!_0x388214||_0x544505[_0x2e8443(-0x1e8,-0x1be,-0x15f,-0x16a)](currentLLMRequestController,null)){if(_0x544505[_0x2e8443(-0x10a,0x34,-0x5e,-0x62)](_0x544505['wfjZQ'],_0x544505[_0x104b2b(0x276,0x2b9,0x355,0x2e2)]))_0x544505[_0x2e8443(-0xe5,-0xa0,-0xe9,-0x64)](stopFabLoading);else return _0x43fa22;}}}export async function executeDefaultLLMRequest(_0x592d75,_0x4e6d01,_0x392aff=null){const _0x2f1279={'WUGfx':_0xddd9c3(0x26a,0x17f,0x1ee,0x279)+_0xddd9c3(0x200,0x1f4,0x212,0x18f),'SJTGz':function(_0x396a2a,_0x401057){return _0x396a2a||_0x401057;},'mEQea':_0x21e995(-0x30d,-0x1bd,-0x261,-0x279)+_0xddd9c3(0x1be,0x288,0x21f,0x282),'mxmhr':function(_0x487087){return _0x487087();},'aAgJJ':function(_0x47ebd7,_0x25165e){return _0x47ebd7(_0x25165e);},'WwIgP':function(_0x2770ad,_0x365e6b){return _0x2770ad||_0x365e6b;},'MwhBc':function(_0x50d73d,_0xe3bf1a){return _0x50d73d??_0xe3bf1a;},'AVcoy':function(_0x2b5fe2,_0x22ca32){return _0x2b5fe2!==_0x22ca32;},'vnNBZ':_0x21e995(-0x1a9,-0x2af,-0x240,-0x2be),'RduSP':_0xddd9c3(0x18f,0x1e7,0x216,0x21a),'oRNrr':function(_0x3708fe,_0x4aeaef){return _0x3708fe+_0x4aeaef;},'oYWfD':_0x21e995(-0x1bf,-0x1db,-0x256,-0x2f5),'uFNai':_0x21e995(-0x1e6,-0x1d9,-0x13f,-0x1b0),'YvDuG':function(_0x23c3e2,_0x25a1e8){return _0x23c3e2(_0x25a1e8);},'ayEgw':'Ê≠£Âú®Â§ÑÁêÜÂ§ñÈÉ®ËØ∑Ê±ÇÔºåËØ∑'+'Á®çÂÄô...','DxIYF':function(_0x46c353,_0x2e5eca,_0x306348){return _0x46c353(_0x2e5eca,_0x306348);},'lZgYO':'POST','JQqPv':_0xddd9c3(0x20a,0x14c,0x1c2,0x1c3),'cuqZb':_0xddd9c3(0x2c5,0x1b8,0x237,0x293)+'Â§ç„ÄÇ','wXiRG':function(_0x2b82ef,_0x5c2dc8){return _0x2b82ef(_0x5c2dc8);},'qycMh':function(_0x273777,_0x4d1a41){return _0x273777(_0x4d1a41);},'RLvLd':function(_0x27d270,_0x1fb48a){return _0x27d270(_0x1fb48a);},'UwPBl':function(_0x543e9c,_0x213241){return _0x543e9c===_0x213241;},'hEmCa':_0x21e995(-0x28e,-0x231,-0x22c,-0x1e9),'etvjn':_0x21e995(-0x14d,-0x144,-0x1ab,-0x23a)+'1','bLtRw':'Request\x20ab'+_0x21e995(-0x1d8,-0x1f2,-0x254,-0x23e),'nrVTy':_0x21e995(-0xb2,-0x183,-0x150,-0x1ae)+_0x21e995(-0xef,-0x1ee,-0x18e,-0x1ab)+'aborted.','JVUvV':_0x21e995(-0x17f,-0x25a,-0x222,-0x1b1)+_0xddd9c3(0x223,0x29b,0x219,0x1b1),'bSPop':function(_0x27189f,_0x2362aa){return _0x27189f===_0x2362aa;}},{prompt:_0x349c54,id:_0x2a11a0}=_0x592d75;if(_0x2f1279[_0x21e995(-0x17a,-0x1c5,-0x11d,-0xde)](!_0x2a11a0,!_0x349c54))return;currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr[_0x21e995(-0x216,-0x268,-0x1bb,-0x230)](_0x2f1279[_0x21e995(-0x85,-0x1d7,-0x12e,-0x1c6)]));currentLLMRequestController=new AbortController();const _0x9a164e=currentLLMRequestController[_0x21e995(-0x278,-0x1c8,-0x1d6,-0x177)],_0x43aefc=currentLLMRequestController,_0x23f6d4={};_0x23f6d4[_0xddd9c3(0x18a,0xdf,0x129,0xbf)]='LLM:\x20Â§ñÈÉ®ËØ∑Ê±Ç',_0x23f6d4['type']=TaskType['LLM'],_0x23f6d4[_0xddd9c3(0x2af,0x2cd,0x22e,0x290)]=_0x2a11a0;const _0x2182b7=taskQueue[_0x21e995(-0x298,-0x2a2,-0x214,-0x1df)](_0x23f6d4);llmTaskControllers['set'](_0x2182b7,currentLLMRequestController),taskQueue[_0xddd9c3(0x249,0x2b4,0x251,0x250)+'us'](_0x2182b7,TaskStatus['RUNNING']);function _0xddd9c3(_0x423240,_0x508d9a,_0x422f7c,_0x3bcb67){return _0x3b85c3(_0x423240-0x37,_0x422f7c-0x15f,_0x422f7c-0x185,_0x423240);}_0x2f1279['mxmhr'](startFabLoading);let _0x225975=![];_0x2f1279['mxmhr'](clearLog),_0x2f1279['aAgJJ'](addLog,_0x21e995(-0x22a,-0x1c2,-0x1b0,-0x225)+'ÈªòËÆ§ËØ∑Ê±ÇÂºÄÂßã\x20==='+'=='),_0x2f1279[_0x21e995(-0x1c7,-0x146,-0x1e1,-0x1cb)](addLog,_0xddd9c3(0x1c6,0x18e,0x232,0x2ae)+_0x2a11a0),addLog(_0x21e995(-0x21c,-0xd3,-0x17a,-0x1a3)+':'),_0x2f1279[_0xddd9c3(0x18b,0x238,0x1a0,0x139)](addLog,formatPromptForDisplay(_0x349c54));const {api_url:_0x2b2159,api_key:_0x3a040c,model:_0x2f82e9,temperature:_0x12c5b7,top_p:_0x33c1f6,max_tokens:_0x37e765,stream:_0x5c6ed1,bypass_proxy:_0x35d0a1}=_0x4e6d01;if(_0x2f1279[_0xddd9c3(0x130,0x171,0x1a9,0x1a2)](!_0x2b2159,!_0x3a040c)||!_0x2f82e9){const _0x7e72e=_0xddd9c3(0x170,0x182,0x145,0xc8)+_0x21e995(-0x147,-0x100,-0x179,-0x1e5)+'Model\x20Êú™ÈÖçÁΩÆ„ÄÇ';toastr['error'](_0x7e72e);const _0x2f344f={};_0x2f344f[_0x21e995(-0x19b,-0x1f0,-0x1f4,-0x1a5)]=![],_0x2f344f[_0xddd9c3(0x170,0x1b1,0x173,0x1ed)]=_0x7e72e,_0x2f344f['id']=_0x2a11a0,eventSource[_0x21e995(-0x262,-0x13c,-0x1cf,-0x1e4)](eventNames['LLM_EXECUT'+'E_RESPONSE'],_0x2f344f);return;}const _0x30b21b=_0x2b2159[_0x21e995(-0x211,-0x1cd,-0x236,-0x276)](/\/$/,'');function _0x21e995(_0xd8aa6e,_0x1df3e5,_0x170992,_0x2a59fe){return _0x3b85c3(_0xd8aa6e-0xf9,_0x170992- -0x222,_0x170992-0xa8,_0x1df3e5);}let _0x3e5b8e,_0x30fe1e,_0x1fe4a5;if(_0x35d0a1){_0x3e5b8e=_0x30b21b+(_0xddd9c3(0x1cd,0xe2,0x182,0x1ac)+'letions');const _0x899855={};_0x899855[_0xddd9c3(0x1d1,0x130,0x1aa,0x14b)+'pe']=_0x2f1279[_0xddd9c3(0x291,0x208,0x275,0x2d8)],_0x899855[_0xddd9c3(0x1db,0x25d,0x240,0x2b4)+_0xddd9c3(0x178,0x115,0x146,0x1ca)]='Bearer\x20'+_0x3a040c,_0x30fe1e=_0x899855,_0x1fe4a5={'model':_0x2f82e9,'messages':_0x349c54,'temperature':_0x12c5b7,'top_p':_0x33c1f6,'max_tokens':_0x37e765,'stream':_0x2f1279[_0xddd9c3(0x14c,0x1e5,0x13c,0xe5)](_0x5c6ed1,![])};}else{if(_0x2f1279[_0x21e995(-0x19b,-0x1a7,-0x18c,-0x12a)](_0x2f1279[_0xddd9c3(0x27a,0x179,0x1de,0x15f)],_0x2f1279[_0x21e995(-0x247,-0x1f3,-0x1a3,-0x214)])){_0x495a2f=_0x200f6a+(_0xddd9c3(0x11f,0x1a6,0x182,0x1f1)+_0x21e995(-0x188,-0x233,-0x189,-0x10e));const _0x514220={};_0x514220[_0xddd9c3(0x12e,0x1da,0x1aa,0x159)+'pe']=_0x2f1279[_0xddd9c3(0x28d,0x24e,0x275,0x298)],_0x514220[_0x21e995(-0x1a4,-0xa1,-0x141,-0x1a8)+_0x21e995(-0x2b5,-0x2e1,-0x23b,-0x234)]='Bearer\x20'+_0x426f54,_0x54a694=_0x514220;const _0x36ded5={};_0x36ded5['model']=_0x5e2d2f,_0x36ded5[_0x21e995(-0x182,-0x16f,-0x1c6,-0x12d)]=_0x3b22b8,_0x36ded5[_0x21e995(-0x19e,-0x16a,-0x1b4,-0x21f)+'e']=_0x96e8cf,_0x36ded5[_0xddd9c3(0x140,0xa2,0x12f,0x90)]=_0x24f88f,_0x36ded5['max_tokens']=_0x42c4e4,_0x36ded5[_0x21e995(-0x1b8,-0x21a,-0x1f0,-0x18a)]=_0x3e396e,_0xad86ce=_0x36ded5;}else{let _0x134f66=_0x30b21b;!_0x134f66[_0x21e995(-0x18b,-0x17e,-0x1dc,-0x190)](_0x2f1279[_0x21e995(-0x168,-0x14f,-0x1bc,-0x1f5)])&&!_0x134f66[_0x21e995(-0x1c4,-0x1f0,-0x212,-0x258)](_0xddd9c3(0xf1,0x215,0x16a,0x1a6))&&(_0x134f66=_0x2f1279[_0xddd9c3(0x179,0x250,0x1c4,0x11f)](_0x134f66,_0x2f1279[_0xddd9c3(0x17c,0x136,0x1c5,0x11c)]));_0x134f66=_0x134f66[_0xddd9c3(0x10c,0x135,0x14b,0x1e0)](/\/v1\/$/,_0x21e995(-0x163,-0x1a9,-0x16b,-0xe9)),_0x3e5b8e=_0x21e995(-0x18b,-0x14d,-0x1cc,-0x137)+_0xddd9c3(0x239,0x207,0x1cb,0x133)+_0xddd9c3(0x2ba,0x2c2,0x241,0x22d)+_0xddd9c3(0x104,0x188,0x12c,0x144),_0x30fe1e=getRequestHeaders(window['token']);const _0x1b82e9={};_0x1b82e9[_0x21e995(-0x258,-0x1c0,-0x204,-0x1ab)+'etion_sour'+'ce']=_0x2f1279['oYWfD'],_0x1b82e9[_0x21e995(-0x1b7,-0x225,-0x1ee,-0x18a)]=_0x134f66,_0x1b82e9[_0xddd9c3(0x195,0xa4,0x13f,0xc2)+'lude_heade'+'rs']=_0x21e995(-0xcc,-0x11c,-0x141,-0x187)+_0x21e995(-0x15f,-0x145,-0x1a2,-0x1b2)+_0xddd9c3(0xfd,0x1a6,0x14d,0xaf)+_0x3a040c+'\x22',_0x1b82e9[_0xddd9c3(0x2e6,0x243,0x257,0x283)]=_0x2f82e9,_0x1b82e9[_0xddd9c3(0x175,0x171,0x1bb,0x1f8)]=_0x349c54,_0x1b82e9[_0xddd9c3(0x195,0x151,0x1cd,0x22b)+'e']=_0x12c5b7,_0x1b82e9[_0x21e995(-0x29f,-0x1f1,-0x252,-0x272)]=_0x33c1f6,_0x1b82e9[_0x21e995(-0xee,-0x140,-0x152,-0xfc)]=_0x37e765,_0x1b82e9[_0x21e995(-0x249,-0x239,-0x1f0,-0x150)]=![],_0x1fe4a5=_0x1b82e9;}}if(_0x392aff){if(_0x2f1279[_0xddd9c3(0x202,0x295,0x239,0x18e)]!=='wYAAN')_0x2f1279['YvDuG'](_0x392aff,_0x2f1279[_0x21e995(-0x15b,-0x191,-0x1b9,-0x221)]);else throw new _0xc240df('ËØ∑Ê±ÇÂ§±Ë¥•:\x20'+_0x1e3b6b['status']+'\x20'+_0x5499a2[_0xddd9c3(0x1af,0x12a,0x165,0x123)]);}try{const _0x3e0beb=await _0x2f1279[_0x21e995(-0x2bb,-0x1c2,-0x24b,-0x267)](fetch,_0x3e5b8e,{'method':_0x2f1279[_0x21e995(-0x165,-0x18a,-0x1c1,-0x15f)],'headers':_0x30fe1e,'body':JSON[_0x21e995(-0xc3,-0xf9,-0x11e,-0x72)](_0x1fe4a5),'signal':_0x9a164e}),_0x2cc23a=await _0x3e0beb[_0xddd9c3(0x82,0x10f,0x12e,0x1a8)]();if(_0x2cc23a[_0xddd9c3(0x260,0x21c,0x204,0x20e)]){let _0x2447d0;if(typeof _0x2cc23a[_0x21e995(-0x1db,-0x18f,-0x17d,-0x18d)]===_0x2f1279[_0x21e995(-0x1fd,-0x260,-0x1d1,-0x16c)]&&_0x2cc23a[_0x21e995(-0x1e1,-0x169,-0x17d,-0xd2)]['message']){_0x2447d0=''+_0x2cc23a[_0x21e995(-0x19b,-0x17d,-0x17d,-0x1af)][_0x21e995(-0x1c4,-0x269,-0x218,-0x262)];const _0xbbd288=[];if(_0x2cc23a[_0xddd9c3(0x29e,0x15a,0x204,0x1be)]['type'])_0xbbd288[_0xddd9c3(0x1b8,0x211,0x16e,0x18f)](_0xddd9c3(0x212,0x255,0x1e3,0x154)+_0x2cc23a['error'][_0xddd9c3(0x172,0x108,0x135,0x1d1)]);if(_0x2cc23a['error'][_0xddd9c3(0x2b2,0x299,0x23e,0x197)])_0xbbd288[_0xddd9c3(0x1ca,0x10a,0x16e,0x205)](_0x21e995(-0x1f7,-0x131,-0x191,-0x1a6)+_0x2cc23a[_0x21e995(-0x11e,-0xfa,-0x17d,-0x12d)][_0x21e995(-0x9c,-0x11b,-0x143,-0x107)]);_0xbbd288['length']>0x1e83+-0x26d*0x6+-0xff5&&(_0x2447d0+='\x20('+_0xbbd288[_0x21e995(-0x1b7,-0x24d,-0x1c2,-0x11e)](',\x20')+')');}else _0x2447d0=''+JSON[_0x21e995(-0x118,-0x172,-0x11e,-0x1c0)](_0x2cc23a[_0x21e995(-0xe2,-0x1cc,-0x17d,-0x1a2)]);throw new Error(_0x2447d0);}if(!_0x3e0beb['ok'])throw new Error('ËØ∑Ê±ÇÂ§±Ë¥•:\x20'+_0x3e0beb[_0xddd9c3(0x18a,0xc3,0x140,0x17a)]+'\x20'+_0x3e0beb[_0xddd9c3(0xef,0x12d,0x165,0x15d)]);const _0x27e691=_0x2cc23a[_0xddd9c3(0x88,0x85,0x125,0x1d0)]?.[0xab*-0x34+0x52a*0x3+-0x66a*-0x3]?.[_0xddd9c3(0x15c,0x13c,0x169,0x193)]?.['content']||'';!_0x27e691&&toastr[_0x21e995(-0x261,-0x232,-0x1e5,-0x268)](_0x2f1279[_0x21e995(-0xc8,-0x1ff,-0x15a,-0x112)]);_0x392aff&&_0x2f1279[_0x21e995(-0xec,-0x182,-0x132,-0x1d9)](_0x392aff,_0x27e691);_0x2f1279[_0x21e995(-0x239,-0x22f,-0x1f9,-0x2a3)](addLog,_0x21e995(-0x1fc,-0xfa,-0x178,-0x1b7)+_0xddd9c3(0x1d2,0x134,0x199,0x166)),_0x2f1279['RLvLd'](addLog,_0x27e691),addLog(_0xddd9c3(0x27c,0x132,0x1d1,0x1cc)+_0x21e995(-0x13c,-0x16e,-0x1ba,-0x121)),taskQueue[_0xddd9c3(0x1a7,0xf6,0x15c,0x1dc)+'sk'](_0x2182b7,!![]),llmTaskControllers['delete'](_0x2182b7);const _0x2a6578={};_0x2a6578['success']=!![],_0x2a6578[_0xddd9c3(0x158,0x1e4,0x173,0x1de)]=_0x27e691,_0x2a6578['id']=_0x2a11a0,eventSource['emit'](eventNames['LLM_EXECUT'+_0xddd9c3(0x221,0x24f,0x201,0x215)],_0x2a6578);}catch(_0x3bcfeb){if(_0x2f1279['UwPBl'](_0x3bcfeb[_0x21e995(-0x2c1,-0x2de,-0x258,-0x244)],_0x2f1279[_0x21e995(-0x185,-0x1e2,-0x20c,-0x22d)])){const _0x5e3fb1=_0x2f1279[_0x21e995(-0x276,-0x259,-0x257,-0x20a)][_0x21e995(-0x1b4,-0x2af,-0x22a,-0x21a)]('|');let _0x4521d7=0x10e7+0x9ee+-0x1ad5;while(!![]){switch(_0x5e3fb1[_0x4521d7++]){case'0':llmTaskControllers[_0x21e995(-0x1b7,-0xa1,-0x121,-0xfa)](_0x2182b7);continue;case'1':return;case'2':const _0x394300={};_0x394300['name']='AbortError',_0x394300[_0x21e995(-0x196,-0x289,-0x218,-0x259)]=_0x2f1279[_0x21e995(-0xe6,-0x138,-0x109,-0x16b)];const _0x331df7={};_0x331df7[_0x21e995(-0x254,-0x1d1,-0x1f4,-0x14c)]=![],_0x331df7['result']=null,_0x331df7['id']=_0x2a11a0,_0x331df7[_0x21e995(-0x185,-0x196,-0x17d,-0x137)]=_0x394300,eventSource[_0xddd9c3(0x240,0x110,0x1b2,0x1a5)](eventNames[_0x21e995(-0xde,-0x114,-0x149,-0x196)+_0xddd9c3(0x173,0x231,0x201,0x20e)],_0x331df7);continue;case'3':taskQueue[_0xddd9c3(0x2ca,0x2fa,0x251,0x29b)+'us'](_0x2182b7,TaskStatus[_0x21e995(-0x1a8,-0x2b2,-0x250,-0x259)]);continue;case'4':_0x225975=!![];continue;case'5':console[_0x21e995(-0xeb,-0x191,-0x11c,-0x11b)](_0x2f1279[_0x21e995(-0x299,-0x20c,-0x25b,-0x2ff)]);continue;}break;}}console[_0x21e995(-0x1b0,-0x1bc,-0x17d,-0x196)](_0x2f1279['JVUvV'],_0x3bcfeb);const _0x36c3cd=_0x21e995(-0x212,-0x196,-0x19b,-0x175)+_0x3bcfeb[_0x21e995(-0x1b8,-0x1af,-0x218,-0x1a0)];_0x392aff&&_0x392aff(_0x36c3cd);toastr[_0xddd9c3(0x18a,0x15a,0x204,0x178)](_0x3bcfeb[_0x21e995(-0x1a3,-0x22a,-0x218,-0x1e0)]),taskQueue[_0xddd9c3(0x1cb,0x185,0x15c,0x1b8)+'sk'](_0x2182b7,![]),llmTaskControllers[_0x21e995(-0x109,-0x157,-0x121,-0x7b)](_0x2182b7);const _0x10aa19={};_0x10aa19[_0x21e995(-0x150,-0x174,-0x1f4,-0x289)]=![],_0x10aa19['result']=_0x36c3cd,_0x10aa19['id']=_0x2a11a0,eventSource['emit'](eventNames[_0xddd9c3(0x2a9,0x25a,0x238,0x2cd)+'E_RESPONSE'],_0x10aa19);}finally{_0x2f1279[_0x21e995(-0x201,-0xe4,-0x17c,-0x186)](currentLLMRequestController,_0x43aefc)&&(currentLLMRequestController=null),(!_0x225975||currentLLMRequestController===null)&&_0x2f1279[_0x21e995(-0x160,-0x19f,-0x1f7,-0x19a)](stopFabLoading);}}export function createGetPromptHandler(_0x140e2a,_0x1a15f7){function _0x5092c5(_0x2690af,_0x13fe15,_0x2f4d45,_0xda92e9){return _0x3b85c3(_0x2690af-0x149,_0x2f4d45- -0x207,_0x2f4d45-0x1d1,_0x13fe15);}const _0x1e0c28={'HMluS':'LLM\x20ËØ∑Ê±ÇÂ∑≤‰∏≠Ê≠¢„ÄÇ','ZhQFw':function(_0x129d12,_0x4fab6b){return _0x129d12===_0x4fab6b;},'xeHlG':_0x5092c5(-0x1a9,-0xa2,-0x13a,-0xbc),'uQaRs':_0xd1262b(0xcc,0xb3,0x56,0x6e),'Kiued':function(_0x3a86a5,_0x5cdde2){return _0x3a86a5(_0x5cdde2);}};function _0xd1262b(_0x29b73a,_0x5958e6,_0x2f6b33,_0x475081){return _0x3b85c3(_0x29b73a-0x1a6,_0x5958e6-0x20,_0x2f6b33-0x178,_0x2f6b33);}return function(_0x3abffc){function _0x5b17a6(_0x2cb0d3,_0x4eb023,_0x5894bf,_0x4704f5){return _0x5092c5(_0x2cb0d3-0xe9,_0x4eb023,_0x4704f5- -0xd2,_0x4704f5-0x2a);}function _0x29453a(_0x2ea366,_0x377234,_0x9f33ab,_0x484b16){return _0xd1262b(_0x2ea366-0x34,_0x484b16-0x220,_0x377234,_0x484b16-0x76);}const _0x453e7a={};_0x453e7a[_0x29453a(0x210,0x1e7,0x1ea,0x243)]=_0x1e0c28['HMluS'];const _0x4f53ad=_0x453e7a;if(_0x1e0c28['ZhQFw'](_0x1e0c28[_0x5b17a6(-0x2f8,-0x29f,-0x305,-0x261)],_0x1e0c28[_0x5b17a6(-0x20d,-0x13d,-0x11f,-0x1c7)]))_0x2e0c78&&(_0x49a472[_0x29453a(0x32a,0x365,0x2ae,0x2f4)](),_0x5a8194['info'](_0x4f53ad['vEfQj']));else{const {id:_0xb8dd83}=_0x3abffc;if(!_0xb8dd83)return;const _0x438486=REQUEST_TYPE_NAMES[_0x140e2a]||_0x140e2a;console['log']('st-chatu8:'+_0x5b17a6(-0x2d7,-0x322,-0x256,-0x2bc)+_0x438486+(_0x29453a(0x2c7,0x3ea,0x31d,0x348)+_0x29453a(0x2bd,0x286,0x344,0x2ff))+_0xb8dd83+')');const _0x21e04f=_0x1e0c28[_0x29453a(0x386,0x2e7,0x3b4,0x340)](buildPromptForRequestType,_0x140e2a),_0x23ecd8={};_0x23ecd8[_0x29453a(0x2be,0x332,0x32b,0x30f)]=_0x21e04f,_0x23ecd8['id']=_0xb8dd83,eventSource[_0x5b17a6(-0x2b1,-0x1fb,-0x2cc,-0x286)](_0x1a15f7,_0x23ecd8);}};}export function createExecuteHandler(_0x19b4fb,_0x16280e,_0x3dfec8=null){const _0x5d6e63={'ejktX':function(_0x651e19){return _0x651e19();},'CdGdF':function(_0x36012c,_0x4a02c4,_0x483c06,_0x446ace,_0xec475c){return _0x36012c(_0x4a02c4,_0x483c06,_0x446ace,_0xec475c);}};return async function(_0xd18727){function _0x221e87(_0x26d817,_0x2b7c58,_0x1fdfaa,_0x1731d8){return _0xc235(_0x1731d8-0x9a,_0x2b7c58);}function _0x57fd08(_0x2b9862,_0x570fc9,_0x23011e,_0x589390){return _0xc235(_0x2b9862-0x87,_0x23011e);}const _0x3b0632=_0x3dfec8?_0x5d6e63[_0x221e87(0x29b,0x1fb,0x2cc,0x264)](_0x3dfec8):null;await _0x5d6e63[_0x221e87(0x1d6,0x104,0x1b0,0x17c)](executeTypedLLMRequest,_0xd18727,_0x19b4fb,_0x16280e,_0x3b0632);};}