(function(_0x3ee867,_0x465c11){const _0x456c2e=_0x3ee867();function _0x5ce5c5(_0x4359c2,_0xa43ac5,_0x5d7a65,_0x5d9620){return _0x3ac3(_0xa43ac5-0x1b2,_0x5d7a65);}function _0x5f54df(_0x57aeae,_0x1f8419,_0x56b886,_0x5a2566){return _0x3ac3(_0x56b886- -0x319,_0x1f8419);}while(!![]){try{const _0xbe3773=parseInt(_0x5f54df(0xd,-0x4f,-0x65,-0xe))/(-0x34b*0x9+0x1f74+0x2*-0xe8)+-parseInt(_0x5ce5c5(0x426,0x45f,0x50a,0x3a0))/(0x228b+0x1*0x213d+-0x43c6)+-parseInt(_0x5ce5c5(0x320,0x3bd,0x400,0x32c))/(0x1d3b+0xb55+-0x288d)+-parseInt(_0x5ce5c5(0x409,0x380,0x2e3,0x405))/(-0xb2c+-0x88a*-0x1+-0x2*-0x153)*(parseInt(_0x5f54df(-0x1c6,-0xe1,-0x145,-0x1bc))/(0xcd*-0xd+-0x1fca*0x1+0x304*0xe))+parseInt(_0x5f54df(-0x122,-0x19a,-0x172,-0x13f))/(-0x4d4+0x1672+-0x1198)+parseInt(_0x5ce5c5(0x2b1,0x35e,0x3bd,0x2ea))/(-0x26f6+-0x9cc+0x30c9)+-parseInt(_0x5f54df(-0x14,-0x96,-0xb3,-0x15b))/(0x25d7*-0x1+-0x44a+0x2a29)*(-parseInt(_0x5ce5c5(0x315,0x342,0x303,0x2b7))/(-0x1*0xca1+-0x1*-0x11f7+0x1*-0x54d));if(_0xbe3773===_0x465c11)break;else _0x456c2e['push'](_0x456c2e['shift']());}catch(_0x2c9be3){_0x456c2e['push'](_0x456c2e['shift']());}}}(_0x4ca4,-0x52a*0x7+0x7d819+-0x2acce));const _0x500004=(function(){let _0x38bd1b=!![];return function(_0x1212d8,_0x288041){const _0x292cb9=_0x38bd1b?function(){function _0x55c870(_0x5975a0,_0x2c27bb,_0x495959,_0x879f6c){return _0x3ac3(_0x2c27bb- -0x22c,_0x495959);}if(_0x288041){const _0x4b66e4=_0x288041[_0x55c870(-0x8a,-0xb5,-0x51,-0xc8)](_0x1212d8,arguments);return _0x288041=null,_0x4b66e4;}}:function(){};return _0x38bd1b=![],_0x292cb9;};}()),_0x5486c5=_0x500004(this,function(){function _0x4f8435(_0x1eb8d9,_0x13d2c7,_0x2adad7,_0x480858){return _0x3ac3(_0x13d2c7-0xed,_0x1eb8d9);}const _0xf1c678={};_0xf1c678[_0x43ef90(0x5b1,0x67e,0x55f,0x5c7)]=_0x43ef90(0x448,0x3e3,0x4aa,0x48e)+'+$';const _0x1104e3=_0xf1c678;function _0x43ef90(_0x21085f,_0x39826c,_0x5d0e34,_0x4c4d53){return _0x3ac3(_0x4c4d53-0x30a,_0x5d0e34);}return _0x5486c5[_0x43ef90(0x50f,0x427,0x423,0x45a)]()[_0x43ef90(0x5fd,0x4df,0x498,0x551)]('(((.+)+)+)'+'+$')[_0x4f8435(0x23c,0x23d,0x218,0x2e6)]()[_0x43ef90(0x4c5,0x4e5,0x4f0,0x4c4)+'r'](_0x5486c5)[_0x43ef90(0x5cc,0x602,0x51a,0x551)](_0x1104e3[_0x4f8435(0x381,0x3aa,0x469,0x457)]);});_0x5486c5();function _0x3f5eaa(_0x2a3ef9,_0x2b428c,_0x1eb864,_0x154482){return _0x3ac3(_0x2b428c-0xf3,_0x2a3ef9);}import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';function _0x26ebe0(_0x595b24,_0x3014aa,_0x489b3b,_0x268e78){return _0x3ac3(_0x3014aa-0x1fe,_0x489b3b);}import{taskQueue,TaskType,TaskStatus}from'../taskQueue.js';let currentLLMRequestController=null;const llmTaskControllers=new Map();eventSource['on'](_0x26ebe0(0x486,0x3f8,0x490,0x41b)+_0x26ebe0(0x3eb,0x3ad,0x34f,0x385)+_0x3f5eaa(0x269,0x2ef,0x3ae,0x2f2),({taskId:_0x4ecbe0})=>{function _0x39d470(_0x164e97,_0x58e5e9,_0x2cfaab,_0x13505d){return _0x3f5eaa(_0x58e5e9,_0x13505d-0x198,_0x2cfaab-0x132,_0x13505d-0x1c2);}const _0x3e4f42=llmTaskControllers[_0x39d470(0x426,0x487,0x554,0x4d8)](_0x4ecbe0);function _0x40ab1e(_0x4ed4d7,_0x1089fe,_0x1404c8,_0x577add){return _0x26ebe0(_0x4ed4d7-0x31,_0x4ed4d7- -0x4dc,_0x577add,_0x577add-0x33);}_0x3e4f42&&(_0x3e4f42[_0x39d470(0x4fc,0x54e,0x45d,0x4bd)](),llmTaskControllers['delete'](_0x4ecbe0),console[_0x40ab1e(-0x2c,-0xb8,0x3b,-0x62)]('[LLM]\x20‰ªªÂä°Â∑≤Âèñ'+_0x39d470(0x4d3,0x50e,0x525,0x4fb)+_0x4ecbe0));});export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x2be5b7){currentLLMRequestController=_0x2be5b7;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x4f2e2e={};_0x4f2e2e['blonQ']='LLM\x20ËØ∑Ê±ÇÂ∑≤‰∏≠Ê≠¢„ÄÇ';const _0x3be158=_0x4f2e2e;function _0x4834a4(_0x485110,_0x229db0,_0x4ed008,_0x4671f4){return _0x26ebe0(_0x485110-0x115,_0x485110-0x84,_0x4671f4,_0x4671f4-0x9c);}function _0x1f6c69(_0x10e576,_0x3bfabf,_0x60e940,_0x26f89d){return _0x26ebe0(_0x10e576-0xc7,_0x10e576- -0x1b2,_0x26f89d,_0x26f89d-0x1cb);}currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr[_0x4834a4(0x489,0x429,0x3d5,0x508)](_0x3be158[_0x1f6c69(0x2d6,0x317,0x24a,0x2ac)]));}function _0x3ac3(_0x35e14,_0xbd221a){_0x35e14=_0x35e14-(0x437*-0x6+0xe8f*0x2+-0x4*0xa3);const _0x4f49d8=_0x4ca4();let _0x5b0b9a=_0x4f49d8[_0x35e14];if(_0x3ac3['vfNoYV']===undefined){var _0x28e6a5=function(_0x2d1d28){const _0xb29ee='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1e3826='',_0x40c4b8='',_0x4e33a8=_0x1e3826+_0x28e6a5;for(let _0x4eef11=-0x23*0x109+-0xd82+0x31bd,_0x4be23b,_0x58fe8d,_0x256fdd=-0x1*-0x174a+0x114f+-0x2899;_0x58fe8d=_0x2d1d28['charAt'](_0x256fdd++);~_0x58fe8d&&(_0x4be23b=_0x4eef11%(-0x103e+0x1*-0xddc+0x1e1e)?_0x4be23b*(-0x1*0x17b7+-0x1df7+-0x5fe*-0x9)+_0x58fe8d:_0x58fe8d,_0x4eef11++%(-0x29*0x49+0x1fe5+-0x1430))?_0x1e3826+=_0x4e33a8['charCodeAt'](_0x256fdd+(-0x1*0x1c81+-0xf*0x1a6+0x3545))-(0x1*0x1a95+0x2347*0x1+0x52*-0xc1)!==0x3*0x509+0xb57*-0x2+0x793?String['fromCharCode'](-0xd7+0x542+0xdb*-0x4&_0x4be23b>>(-(-0xa20+0x1f4*-0x2+-0x257*-0x6)*_0x4eef11&-0x1cce+0xc55+0x107f)):_0x4eef11:-0xe85+-0xdca*0x2+-0xd*-0x33d){_0x58fe8d=_0xb29ee['indexOf'](_0x58fe8d);}for(let _0x3fe098=-0xd8a+-0xe29*-0x1+-0x35*0x3,_0x2d5892=_0x1e3826['length'];_0x3fe098<_0x2d5892;_0x3fe098++){_0x40c4b8+='%'+('00'+_0x1e3826['charCodeAt'](_0x3fe098)['toString'](0x22de*-0x1+0x3b9*-0x3+0x2e19))['slice'](-(-0x1b*-0xdd+-0x2c5*-0xb+-0x35c4));}return decodeURIComponent(_0x40c4b8);};_0x3ac3['NeameQ']=_0x28e6a5,_0x3ac3['avCiEu']={},_0x3ac3['vfNoYV']=!![];}const _0x2d9a77=_0x4f49d8[0x3*0x194+0x10dd*-0x1+0xc21],_0x11019b=_0x35e14+_0x2d9a77,_0x4e0c27=_0x3ac3['avCiEu'][_0x11019b];if(!_0x4e0c27){const _0x5099bb=function(_0x4a3359){this['aZBUDX']=_0x4a3359,this['LWFWtV']=[-0x730+0x4*-0x274+0x1101,0x6cd+0x134a+0x1*-0x1a17,-0x1*0xad+-0x1420+0x14cd],this['kUWoQC']=function(){return'newState';},this['TAYBkZ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['YWnotk']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5099bb['prototype']['NLSvqK']=function(){const _0xe2de4b=new RegExp(this['TAYBkZ']+this['YWnotk']),_0x1cd6d0=_0xe2de4b['test'](this['kUWoQC']['toString']())?--this['LWFWtV'][-0x1*0x1dd8+0xbf*-0x1+0xf4c*0x2]:--this['LWFWtV'][-0xb82+-0x1*-0x981+0x1*0x201];return this['ZKAZTr'](_0x1cd6d0);},_0x5099bb['prototype']['ZKAZTr']=function(_0x3a4e76){if(!Boolean(~_0x3a4e76))return _0x3a4e76;return this['dKFaRZ'](this['aZBUDX']);},_0x5099bb['prototype']['dKFaRZ']=function(_0x15b644){for(let _0x1da296=0x1*0x401+-0x211a+0x1d19,_0xd2df51=this['LWFWtV']['length'];_0x1da296<_0xd2df51;_0x1da296++){this['LWFWtV']['push'](Math['round'](Math['random']())),_0xd2df51=this['LWFWtV']['length'];}return _0x15b644(this['LWFWtV'][-0x1a9c*0x1+0x1*0x1f94+-0x4f8]);},new _0x5099bb(_0x3ac3)['NLSvqK'](),_0x5b0b9a=_0x3ac3['NeameQ'](_0x5b0b9a),_0x3ac3['avCiEu'][_0x11019b]=_0x5b0b9a;}else _0x5b0b9a=_0x4e0c27;return _0x5b0b9a;}export function isLLMTestMode(){function _0x948c41(_0x286c69,_0x34f9d1,_0x1bccdd,_0x44af1b){return _0x3f5eaa(_0x34f9d1,_0x286c69- -0xbd,_0x1bccdd-0x94,_0x44af1b-0x10d);}return!!extension_settings[extensionName][_0x948c41(0x272,0x23d,0x261,0x2b8)+'e'];}export function formatPromptForDisplay(_0x584c6a){function _0x1479a4(_0xaef9cd,_0x33eae0,_0x3f55a9,_0x496e8c){return _0x3f5eaa(_0xaef9cd,_0x496e8c- -0xe6,_0x3f55a9-0x1bb,_0x496e8c-0xcf);}const _0x5e6991={'epDUs':function(_0x2fadfb,_0x122ac0){return _0x2fadfb===_0x122ac0;},'mbaqH':function(_0xba39a8){return _0xba39a8();},'ZkUTR':function(_0xd03b0a,_0x50775c){return _0xd03b0a===_0x50775c;},'vlwtv':_0x46aff3(-0x24d,-0x24b,-0x1b5,-0x14d),'axKPa':function(_0x345f95,_0x2c5bd0){return _0x345f95!==_0x2c5bd0;},'Htiyj':_0x46aff3(-0x2c,-0x56,-0xbc,-0x80),'xIdeX':_0x46aff3(-0x1d9,-0x173,-0x1b9,-0x226),'mxyDh':_0x1479a4(0x1c9,0x1c7,0x1d3,0x159),'vBnXm':_0x1479a4(0x270,0x241,0x1d6,0x1d5),'AfWzp':function(_0x239fe6,_0x3e32d7){return _0x239fe6/_0x3e32d7;},'godmR':_0x1479a4(0x213,0xfc,0x13c,0x18f),'uVZJx':_0x46aff3(-0x24e,-0x239,-0x22d,-0x2a7),'hYfkZ':function(_0x257d0f,_0x1e11e8){return _0x257d0f(_0x1e11e8);},'PhYNq':_0x1479a4(0x2e4,0x353,0x2cd,0x2c4),'DKQlF':function(_0x56ec34,_0x323bf7){return _0x56ec34===_0x323bf7;},'IJYvh':function(_0x4e1a69,_0x1b3c42){return _0x4e1a69!==_0x1b3c42;},'eIzin':function(_0x5dbe11,_0x11f9ce){return _0x5dbe11===_0x11f9ce;},'yCQKj':'object','lIuYD':function(_0x680917,_0x330259){return _0x680917(_0x330259);}};if(_0x5e6991['DKQlF'](typeof _0x584c6a,_0x5e6991[_0x46aff3(-0x1b8,-0x11f,-0x10c,-0x58)]))return _0x584c6a;if(Array['isArray'](_0x584c6a)){if(_0x5e6991[_0x46aff3(-0x164,-0x13d,-0x1e5,-0x12c)](_0x46aff3(-0x149,-0x232,-0x193,-0x1d7),_0x1479a4(0x154,0x24d,0x1ba,0x1f8)))_0x3f3a0d===_0x4c0421&&(_0x37f4ed=null),(!_0x35bbad||_0x5e6991[_0x1479a4(0x32f,0x234,0x20e,0x293)](_0x5d37aa,null))&&_0x5e6991['mbaqH'](_0x3d65d6);else{const _0x379131=[];return _0x584c6a[_0x1479a4(0x24a,0x20b,0x1f2,0x1be)]((_0x35832d,_0x3069e7)=>{const _0x526f62={'yzytj':function(_0xef3cfc,_0xff8814){function _0x335772(_0xe227a4,_0x55a62a,_0x19e814,_0x40c055){return _0x3ac3(_0x19e814-0x309,_0x55a62a);}return _0x5e6991[_0x335772(0x515,0x5a5,0x5be,0x58a)](_0xef3cfc,_0xff8814);},'TttZr':_0x5e6991['vlwtv'],'Njbzw':function(_0x50da9e,_0x5ab6cc){function _0x261f48(_0x49f829,_0x4c62cc,_0x3674cf,_0x1f147e){return _0x3ac3(_0x49f829-0x168,_0x4c62cc);}return _0x5e6991[_0x261f48(0x2be,0x271,0x25b,0x287)](_0x50da9e,_0x5ab6cc);},'oMDso':_0x5e6991[_0x543e83(-0x241,-0x1e2,-0x2c0,-0x284)],'GahFl':function(_0x2e1652,_0x6d6923){return _0x2e1652===_0x6d6923;},'mixpT':_0x5e6991['xIdeX'],'SGUgb':_0x5e6991[_0x104910(0x509,0x470,0x3c8,0x3ca)],'xeiEU':_0x5e6991['vBnXm'],'iEvWj':function(_0x1d801d,_0x3ec7bd){return _0x1d801d/_0x3ec7bd;},'PrqVA':function(_0x5f75e,_0x50875a){function _0x34e208(_0x240b27,_0x5a5540,_0x406b43,_0x4dfc53){return _0x543e83(_0x240b27,_0x5a5540-0x1d0,_0x406b43-0x38,_0x4dfc53-0x570);}return _0x5e6991[_0x34e208(0x40a,0x335,0x3e6,0x375)](_0x5f75e,_0x50875a);},'vMIGh':function(_0x2050a3,_0x5d7bfc){return _0x2050a3===_0x5d7bfc;},'WIsTn':_0x5e6991[_0x543e83(-0x2b4,-0x2a5,-0x2a8,-0x265)],'MKWic':_0x5e6991[_0x104910(0x56e,0x4b5,0x4ea,0x488)]};function _0x104910(_0x4a0e37,_0x59c537,_0x4b9b90,_0x21f08f){return _0x46aff3(_0x4a0e37,_0x59c537-0xa1,_0x59c537-0x608,_0x21f08f-0x193);}const _0x26a93f=_0x35832d['role']||_0x5e6991[_0x543e83(-0xd6,-0x14c,-0x138,-0x160)];function _0x543e83(_0x20e060,_0x1425ed,_0x4abd30,_0x51f929){return _0x1479a4(_0x20e060,_0x1425ed-0x9b,_0x4abd30-0xc2,_0x51f929- -0x3e4);}const _0x1481ca=_0x5e6991[_0x104910(0x476,0x433,0x3c8,0x39b)](getRoleLabel,_0x26a93f);_0x379131[_0x543e83(-0x232,-0x2a0,-0x1bb,-0x1eb)](''+'‚ïê'[_0x104910(0x4e8,0x4c5,0x551,0x484)](-0x22f8+-0x2*0x5d1+-0xbb3*-0x4)),_0x379131[_0x104910(0x4b3,0x476,0x40b,0x3f0)]('„Äê'+_0x1481ca+'„Äë'),_0x379131['push'](''+'‚îÄ'[_0x543e83(-0xf0,-0x20f,-0x1de,-0x19c)](0x29f*-0xd+-0x1b9b*0x1+0x3de0));const _0x5b7ef0=_0x35832d[_0x104910(0x514,0x531,0x55d,0x54a)];if(typeof _0x5b7ef0===_0x5e6991[_0x543e83(-0xc1,-0x191,-0x211,-0x165)])_0x379131[_0x104910(0x48e,0x476,0x45c,0x45a)](_0x5b7ef0);else Array[_0x543e83(-0x206,-0x25a,-0x218,-0x20b)](_0x5b7ef0)&&_0x5b7ef0['forEach'](_0x3248ca=>{function _0x1d659a(_0x460b17,_0x5c374e,_0x4285ab,_0x282254){return _0x543e83(_0x5c374e,_0x5c374e-0x164,_0x4285ab-0x146,_0x4285ab-0x35b);}function _0x390d1e(_0xdb0c66,_0x33ff83,_0x2a841f,_0x3e3126){return _0x543e83(_0xdb0c66,_0x33ff83-0x162,_0x2a841f-0x3c,_0x33ff83-0x299);}if(_0x526f62[_0x390d1e(0x1be,0x183,0x218,0x1e4)](_0x3248ca['type'],_0x526f62[_0x1d659a(0xe3,0x193,0x11f,0xf9)])){if(_0x526f62[_0x1d659a(0x206,0x1b4,0x1de,0x121)](_0x526f62[_0x390d1e(0x172,0x10c,0x1b2,0xf8)],'nWpNk'))_0x379131['push'](_0x3248ca[_0x390d1e(0xea,0x8b,0x10f,0x5c)]||'');else{if(_0x14958c){const _0x39526c=_0x238990[_0x390d1e(0xcc,0x39,0x84,-0x69)](_0x55bb97,arguments);return _0x1d18f8=null,_0x39526c;}}}else{if(_0x526f62['GahFl'](_0x3248ca['type'],_0x526f62['mixpT'])){const _0x2278f2=_0x3248ca[_0x390d1e(0x7b,0x87,0x11c,0x6f)]?.[_0x1d659a(0x194,0x10b,0x112,0xae)]||'';if(_0x2278f2[_0x390d1e(0x119,0x84,0xfd,-0x1c)](_0x526f62[_0x390d1e(0x15b,0xd4,0x146,0x145)])){const _0x4e4b7e=_0x2278f2[_0x390d1e(0x170,0xb5,0x137,0x9e)](/^data:([^;]+);/),_0x49d17e=_0x4e4b7e?_0x4e4b7e[-0xd21+0x242f+-0x170d]:_0x526f62['xeiEU'],_0x4124d7=_0x2278f2[_0x1d659a(0x18b,0xa7,0x153,0xf8)](',')[0x9fc+0x984+-0x137f]||'',_0x54a652=Math[_0x1d659a(0x1c4,0x2ae,0x232,0x1ca)](_0x526f62[_0x390d1e(0x10a,0x94,0x127,0x75)](_0x526f62[_0x390d1e(0xd8,0x1f,-0xa0,0x55)](_0x4124d7[_0x1d659a(0x253,0x1b1,0x1ef,0x1e1)]*(-0x19ae+-0x2072*-0x1+0xd*-0x85),0x4*-0x966+0x3*-0xa5e+-0xa*-0x6df),0x67*0x54+-0xaaa+-0x1322));_0x379131['push'](_0x1d659a(0x99,0x1cd,0x131,0xb5)+':\x20'+_0x49d17e+_0x390d1e(0x61,0xc2,0xfe,0x14)+_0x54a652+_0x390d1e(0xf5,0x14e,0x1ea,0x18e));}else{if(_0x526f62[_0x390d1e(0xb8,0xc7,0x32,0x168)](_0x526f62[_0x390d1e(0x148,0x13e,0x99,0x167)],_0x526f62[_0x390d1e(0x18e,0x138,0xef,0x1be)])){const _0x180f13=_0x26bb53?function(){function _0x3fab92(_0x67c5a3,_0x5b141c,_0x3639d3,_0xee7461){return _0x390d1e(_0xee7461,_0x3639d3- -0x50,_0x3639d3-0x24,_0xee7461-0x34);}if(_0x2736f5){const _0x2a5eff=_0x2e0835[_0x3fab92(-0x29,0xb,-0x17,-0x91)](_0x1964f3,arguments);return _0x3b35cb=null,_0x2a5eff;}}:function(){};return _0x325b57=![],_0x180f13;}else _0x379131['push'](_0x1d659a(0x1e6,0x1ab,0x1d7,0x186)+_0x2278f2+']');}}}});_0x379131[_0x543e83(-0x171,-0x170,-0x22e,-0x1eb)]('');}),_0x379131[_0x46aff3(-0x21c,-0x2bc,-0x235,-0x29d)]('\x0a');}}function _0x46aff3(_0x178c5b,_0x4fb102,_0x2465a8,_0x57019c){return _0x3f5eaa(_0x178c5b,_0x2465a8- -0x471,_0x2465a8-0x41,_0x57019c-0x1aa);}if(_0x5e6991[_0x1479a4(0x188,0x26c,0x17a,0x1fd)](typeof _0x584c6a,_0x5e6991[_0x1479a4(0x1a5,0x160,0x1e5,0x1a0)])&&_0x5e6991[_0x46aff3(-0x1ad,-0x294,-0x1e5,-0x27a)](_0x584c6a,null))return JSON[_0x1479a4(0x145,0x1a3,0x252,0x1ee)](_0x584c6a,null,0x4d*-0x4f+-0x2677+0x3e3c*0x1);return _0x5e6991['lIuYD'](String,_0x584c6a);}export function getRoleLabel(_0x497d7a){const _0xf2a14f={};_0xf2a14f[_0x4998ba(0x3ce,0x27b,0x32d,0x37c)]='Á≥ªÁªüÊèêÁ§∫ËØç';function _0x4998ba(_0x1ac43f,_0x1cd326,_0x5bd593,_0x2f6756){return _0x3f5eaa(_0x2f6756,_0x5bd593-0xad,_0x5bd593-0x1a2,_0x2f6756-0x17c);}_0xf2a14f[_0x4998ba(0x337,0x3b2,0x31a,0x269)]='ÂáΩÊï∞Ë∞ÉÁî®';const _0x3c05b8=_0xf2a14f;function _0x18142b(_0x22997d,_0x2e0c41,_0x14ce98,_0x2df916){return _0x26ebe0(_0x22997d-0x5,_0x22997d- -0x127,_0x2e0c41,_0x2df916-0xfa);}const _0x4c51a8={};_0x4c51a8[_0x18142b(0x2fb,0x2fe,0x35c,0x268)]=_0x3c05b8['ZqbHM'],_0x4c51a8['user']='Áî®Êà∑',_0x4c51a8[_0x18142b(0x2ac,0x24c,0x349,0x2da)]=_0x4998ba(0x393,0x4a5,0x43a,0x3d8),_0x4c51a8[_0x4998ba(0x32d,0x2b3,0x36b,0x2b4)]=_0x3c05b8[_0x18142b(0x251,0x305,0x244,0x21a)],_0x4c51a8['tool']='Â∑•ÂÖ∑';const _0x66cc17=_0x4c51a8;return _0x66cc17[_0x497d7a]||_0x497d7a;}export function getCurrentLLMProfile(){function _0x237445(_0x162397,_0x2cdfe0,_0x32fa9c,_0x20fa9e){return _0x26ebe0(_0x162397-0x186,_0x32fa9c-0x83,_0x20fa9e,_0x20fa9e-0x14e);}const _0x25d00e=extension_settings[extensionName][_0x1b2ca9(-0xac,-0x6e,-0x12b,-0xb6)+'es']||{},_0xd30c0f=extension_settings[extensionName][_0x1b2ca9(-0x33,-0x7f,-0x113,-0x9d)+_0x237445(0x4ae,0x4d8,0x465,0x4eb)];function _0x1b2ca9(_0x1caaa5,_0x295c2b,_0x18827f,_0xe82ae5){return _0x3f5eaa(_0x1caaa5,_0xe82ae5- -0x3a6,_0x18827f-0xac,_0xe82ae5-0x7c);}return _0x25d00e[_0xd30c0f]||_0x25d00e[Object[_0x1b2ca9(0x32,0x74,0x2d,-0x36)](_0x25d00e)[0x1575+0xcf+-0x1644]]||{};}export function getCurrentTestContext(){function _0x485117(_0x520658,_0x17dbec,_0xa1fa9f,_0xa6d3e0){return _0x26ebe0(_0x520658-0x118,_0x17dbec-0xeb,_0x520658,_0xa6d3e0-0x16a);}function _0x2bddba(_0x37dad9,_0x505858,_0x26fe4f,_0x1d7ec4){return _0x26ebe0(_0x37dad9-0x135,_0x1d7ec4- -0x599,_0x37dad9,_0x1d7ec4-0x197);}const _0x4fb14f=extension_settings[extensionName][_0x485117(0x5b9,0x506,0x569,0x4df)+'xt_profile'+'s']||{},_0x4e3593=extension_settings[extensionName][_0x485117(0x3e7,0x45e,0x476,0x4d4)+_0x2bddba(-0xea,-0xda,-0xa2,-0x150)+'_profile'];return _0x4fb14f[_0x4e3593]||_0x4fb14f[Object[_0x2bddba(-0xd0,-0x7e,-0x12f,-0x11e)](_0x4fb14f)[0xe85+-0x1bad+0xd28]]||{};}export function getEffectiveConfigForRequestType(_0x1eaa9a){function _0x2b1f65(_0x28e621,_0x143e4a,_0x1b874e,_0x2a5d70){return _0x3f5eaa(_0x143e4a,_0x28e621- -0x3cb,_0x1b874e-0x4,_0x2a5d70-0x9e);}const _0xe6f66f=extension_settings[extensionName][_0x53923e(0x117,0x179,0x158,0xc9)+_0x2b1f65(-0x7c,-0xaa,0x26,-0x35)+_0x2b1f65(-0x147,-0x151,-0xf5,-0x1f6)]||{},_0x11bd7e={};_0x11bd7e['api_profil'+'e']='ÈªòËÆ§';function _0x53923e(_0x2ccc11,_0x1ae2d7,_0x82e915,_0x4e4436){return _0x3f5eaa(_0x2ccc11,_0x4e4436- -0x17f,_0x82e915-0x1ec,_0x4e4436-0x2);}_0x11bd7e[_0x2b1f65(-0x102,-0x65,-0xef,-0x133)+_0x53923e(0x212,0x134,0x275,0x1e1)]='ÈªòËÆ§';const _0x1e2058=_0xe6f66f[_0x1eaa9a]||_0x11bd7e,_0x458bb9=extension_settings[extensionName][_0x2b1f65(-0xdb,-0x54,-0x1e,-0x39)+'es']||{},_0x46016c=extension_settings[extensionName][_0x53923e(0x22e,0x119,0xfe,0x191)+'xt_profile'+'s']||{},_0x21fa73=_0x1e2058[_0x53923e(0x213,0x285,0x242,0x213)+'e']||'ÈªòËÆ§',_0x2567de=_0x458bb9[_0x21fa73]||_0x458bb9[Object[_0x53923e(0x1d7,0x139,0x157,0x1f1)](_0x458bb9)[0x1c1c+-0x9a9*0x1+-0x1*0x1273]]||{},_0x49a63d=_0x1e2058[_0x53923e(0xb6,0x1c7,0x1f0,0x14a)+'ofile']||'ÈªòËÆ§',_0x54a853=_0x46016c[_0x49a63d]||_0x46016c[Object[_0x53923e(0x26f,0x19a,0x203,0x1f1)](_0x46016c)[0x1edb+-0x229e+0x3c3]]||{},_0x5495e8={};return _0x5495e8['api_url']=_0x2567de['api_url']||'',_0x5495e8['api_key']=_0x2567de[_0x2b1f65(-0x169,-0x1e5,-0xe9,-0x101)]||'',_0x5495e8[_0x53923e(0x17f,0x7b,0x16a,0xc6)]=_0x2567de[_0x2b1f65(-0x186,-0x217,-0x184,-0x244)]||'',_0x5495e8[_0x53923e(0x1df,0x26c,0x206,0x1db)+'e']=_0x2567de['temperatur'+'e']??0x118c+-0x1841+-0x65*-0x11+0.7,_0x5495e8[_0x2b1f65(-0x153,-0xd0,-0x1c6,-0xb1)]=_0x2567de['top_p']??0x1*-0xfb5+0x3*-0xb56+0x31b8,_0x5495e8[_0x2b1f65(-0x5d,0x1f,-0x56,-0xd7)]=_0x2567de[_0x53923e(0x277,0x279,0x21a,0x1ef)]??-0x7bd+-0x1d2*-0x5+0xa3,_0x5495e8['stream']=_0x2567de[_0x2b1f65(-0x57,0x4b,-0x2,0x4f)]??![],_0x5495e8['bypass_pro'+'xy']=_0x2567de[_0x2b1f65(-0x17f,-0x1e5,-0x231,-0x16c)+'xy']??![],_0x5495e8[_0x2b1f65(-0x13b,-0x1bc,-0x93,-0x159)]=_0x54a853,_0x5495e8;}export function buildPromptForRequestType(_0x27cfe8,_0x578e78=''){const _0x158af4={'WSLCH':_0x5cc524(0x1fd,0x19e,0x1ea,0x152)+_0x5cc524(0x1ec,0x1c2,0x14a,0x1a7),'SxEmO':function(_0x310fcc,_0x2d8f70){return _0x310fcc===_0x2d8f70;},'UxRiW':function(_0x3ae331,_0x39a498){return _0x3ae331===_0x39a498;},'uagUj':_0x5cc524(0x132,0x7f,0xa3,0x1f3),'shfZI':'user','kpAlY':_0x5947bb(0x49,0x67,0xcc,0x6b)+_0x5cc524(0x1a8,0x197,0x246,0x236),'eHZxJ':function(_0x5c27e3,_0x5868ef){return _0x5c27e3(_0x5868ef);},'EhRqz':function(_0x34253f,_0x3ea8ed){return _0x34253f===_0x3ea8ed;},'WRNWA':_0x5cc524(0x234,0x2e5,0x2c1,0x1b7)+'1','UnSMP':_0x5cc524(0x26d,0x229,0x23b,0x2dd)+'orted','uWyGq':_0x5947bb(-0x2f,0x120,0x7e,0xdf)+_0x5947bb(0x7b,0x12f,0x11f,0x1a4),'dXxGz':function(_0x2ee98c,_0x54f35a){return _0x2ee98c!==_0x54f35a;},'tFXji':_0x5cc524(0x24f,0x21a,0x203,0x259),'vrcGZ':_0x5cc524(0x217,0x1e6,0x2c8,0x237),'Vmwhz':function(_0x19153a,_0x227aa5){return _0x19153a!==_0x227aa5;},'tjGZG':function(_0x45ebab,_0x46d67a){return _0x45ebab===_0x46d67a;},'XmeAI':_0x5cc524(0x186,0x102,0xd4,0x172),'OqCat':_0x5947bb(0x82,0x1b1,0x10b,0x5c),'VbNlP':_0x5947bb(0xbc,0x15a,0xa6,0x3e),'bteKQ':_0x5947bb(0x118,0xec,0xd4,0x24)};function _0x5947bb(_0x54779d,_0x3b17b5,_0x1d1737,_0x49dc3a){return _0x26ebe0(_0x54779d-0x101,_0x1d1737- -0x2c8,_0x54779d,_0x49dc3a-0x198);}const _0x335ec0=extension_settings[extensionName]['llm_reques'+_0x5947bb(0x106,0x153,0x192,0x191)+_0x5947bb(0x124,0x53,0xc7,0x10f)]||{},_0x589b04={};_0x589b04[_0x5cc524(0x17c,0xd0,0x1b4,0xc4)+_0x5cc524(0x213,0x178,0x244,0x206)]='ÈªòËÆ§';const _0x1b714c=_0x335ec0[_0x27cfe8]||_0x589b04,_0x326e41=_0x1b714c[_0x5947bb(0x146,0x9c,0x10c,0xf6)+_0x5947bb(0xe9,0x191,0x1a3,0xf9)]||'ÈªòËÆ§',_0x2194c7=extension_settings[extensionName]['test_conte'+_0x5947bb(0x178,0x166,0x110,0x11e)+'s']||{},_0x5d00a4=_0x2194c7[_0x326e41]||_0x2194c7[Object[_0x5947bb(0x1c4,0x1bc,0x1b3,0x244)](_0x2194c7)[-0xeca+0xdb5+0x115*0x1]]||{},_0x29adbb=[];if(_0x5d00a4['entries']&&Array[_0x5947bb(0x108,0xe7,0x102,0xce)](_0x5d00a4[_0x5cc524(0x1d7,0x26b,0x21e,0x147)]))_0x158af4[_0x5cc524(0x256,0x267,0x27a,0x1b2)](_0x158af4['VbNlP'],_0x158af4[_0x5947bb(0x136,0x1f9,0x16b,0x1fa)])?_0x5d00a4[_0x5cc524(0x1d7,0x274,0x158,0x27c)]['forEach'](_0x5e3420=>{const _0x1e073f={};function _0x36e67c(_0x567133,_0x2424fd,_0x2b10cb,_0x5e235c){return _0x5cc524(_0x2424fd-0x1d0,_0x567133,_0x2b10cb-0x7a,_0x5e235c-0x12);}_0x1e073f[_0x1dc53d(0x4ab,0x4c4,0x422,0x4d2)]=_0x158af4['WSLCH'];const _0x306364=_0x1e073f;function _0x1dc53d(_0x34c1db,_0x5e211a,_0x18ccc7,_0x262a2a){return _0x5cc524(_0x34c1db-0x2ec,_0x5e211a,_0x18ccc7-0x29,_0x262a2a-0x145);}if(!_0x5e3420[_0x36e67c(0x396,0x3a4,0x2f3,0x3e3)])return;if(!_0x5e3420['content']||_0x158af4[_0x1dc53d(0x542,0x5a5,0x56d,0x4df)](_0x5e3420[_0x1dc53d(0x539,0x4bb,0x537,0x57f)][_0x36e67c(0x38f,0x318,0x3ab,0x2b4)](),''))return;if(_0x158af4[_0x1dc53d(0x542,0x56a,0x49f,0x4ba)](_0x5e3420[_0x1dc53d(0x44d,0x394,0x3d1,0x4f0)+'e'],_0x36e67c(0x3f5,0x3be,0x2ff,0x393))){if(!_0x578e78||!checkTriggerWords(_0x5e3420[_0x36e67c(0x450,0x3d5,0x31a,0x384)+'ds'],_0x578e78)){if(_0x158af4[_0x36e67c(0x419,0x43e,0x4d4,0x47c)](_0x158af4[_0x36e67c(0x2f0,0x39d,0x370,0x37d)],_0x158af4[_0x1dc53d(0x4b9,0x478,0x3fa,0x52b)]))return;else _0x30dd81(_0x306364[_0x36e67c(0x39d,0x38f,0x2d5,0x34b)]);}}const _0x95f27c={};_0x95f27c[_0x1dc53d(0x4a2,0x49f,0x41e,0x3e4)]=_0x5e3420[_0x1dc53d(0x4a2,0x4e5,0x4b6,0x4c4)]||_0x158af4[_0x1dc53d(0x43a,0x41b,0x3ef,0x3f2)],_0x95f27c['content']=_0x5e3420['content'],_0x29adbb[_0x1dc53d(0x47e,0x41e,0x441,0x49b)](_0x95f27c);}):(_0x10280e[_0x5947bb(0x1d7,0x188,0x168,0x1d6)](),_0x402c59[_0x5cc524(0x1ad,0x189,0x12a,0x1f7)](_0x158af4[_0x5cc524(0x1a7,0x150,0x107,0x248)]));else{if(_0x5d00a4[_0x5947bb(0xdc,0x1a,0x9d,0x9e)]&&Array[_0x5947bb(0xd0,0xfc,0x102,0x8c)](_0x5d00a4[_0x5947bb(0x70,0x13e,0x9d,0x5f)])){if(_0x158af4[_0x5cc524(0x15c,0x1bb,0x14f,0x14c)]===_0x5cc524(0x144,0x12c,0xca,0x1d2))_0x5d00a4[_0x5947bb(0x19,0x4b,0x9d,0xfc)][_0x5cc524(0x157,0x194,0x190,0x99)](_0x57580e=>{const _0xa4f29f={'muSsm':function(_0x98d93a,_0x38eba6){return _0x158af4['eHZxJ'](_0x98d93a,_0x38eba6);},'zwoFM':_0x37e311(-0x32,0x84,-0xdd,-0x9d),'XYpki':function(_0x1b3008,_0x4ab5a6){function _0x1f7fe6(_0x3e5538,_0x30b42a,_0x4bc383,_0x482ad5){return _0x37e311(_0x3e5538-0x34b,_0x30b42a,_0x4bc383-0x139,_0x482ad5-0xbd);}return _0x158af4[_0x1f7fe6(0x400,0x3ed,0x472,0x40b)](_0x1b3008,_0x4ab5a6);},'qvoIl':_0x158af4[_0x38b410(-0x2,-0x7d,0x38,0x0)],'Ffesv':_0x37e311(-0x61,-0xb8,0x23,-0xd1),'pBLPY':_0x158af4[_0x38b410(-0x8e,-0xe7,-0x16b,-0x56)],'UWPed':_0x158af4['uWyGq']};if(_0x57580e[_0x37e311(0xe9,0x74,0xce,0x13d)]&&_0x158af4[_0x38b410(-0x56,-0xb4,-0x12,-0x25)](_0x57580e[_0x38b410(-0xb4,-0x4f,-0x106,-0xaa)][_0x38b410(-0xb7,-0x168,-0xd3,-0x1a9)](),'')){if(_0x158af4[_0x38b410(-0x99,-0x83,-0x124,-0xd2)](_0x158af4['tFXji'],_0x158af4['vrcGZ'])){_0x5eb054=_0x38b410(-0xf8,-0x50,-0x54,-0x104)+_0x37e311(-0x4f,0x13,-0x55,-0x21)+'ompletions'+_0x37e311(0x66,-0x26,0x3a,0x69),_0x1e5fba=_0xa4f29f[_0x37e311(0xbe,0x12a,0x4c,0xe8)](_0x23d92e,_0x54481d[_0x38b410(-0xa8,-0x47,0x66,-0xea)]);const _0x16e917={};_0x16e917[_0x38b410(-0x72,-0x92,-0x9e,0x23)+_0x37e311(-0x19,-0x34,-0xa6,0x5a)+'ce']=_0xa4f29f['zwoFM'],_0x16e917[_0x37e311(0xa7,0x89,0x1,0x36)]=_0x28fac3,_0x16e917[_0x38b410(-0x15b,-0xe5,-0x7a,-0x5f)+_0x38b410(-0x62,-0xca,-0x84,-0x174)+'rs']='Authorizat'+'ion:\x20\x22Bear'+_0x37e311(-0x2d,0x6d,0x16,0x60)+_0x135681+'\x22',_0x16e917[_0x37e311(-0x80,-0x36,-0xe1,-0x7c)]=_0x28940f,_0x16e917[_0x37e311(-0x49,-0x3d,-0x4d,0x71)]=_0x5becf5,_0x16e917['temperatur'+'e']=_0x3d59d9,_0x16e917[_0x37e311(-0x4d,-0x9,-0x76,-0x33)]=_0x39a5d3,_0x16e917[_0x37e311(0xa9,0x12b,0xe4,0x10a)]=_0x2176b6,_0x16e917['stream']=_0x4636d1,_0x159cfe=_0x16e917;}else{const _0x356dba={};_0x356dba[_0x38b410(-0x5b,-0xfa,-0x16a,-0x9a)]=_0x158af4['shfZI'],_0x356dba[_0x37e311(0xd5,0x7c,0x56,0x121)]=_0x57580e[_0x37e311(0xe9,0xa7,0x190,0x10e)],_0x29adbb[_0x37e311(0x1a,0x7d,0x68,0x9f)](_0x356dba);}}function _0x38b410(_0x3e2da1,_0x312cf6,_0x1c2032,_0x2bccd0){return _0x5cc524(_0x312cf6- -0x2b0,_0x2bccd0,_0x1c2032-0x187,_0x2bccd0-0x1e9);}function _0x37e311(_0x46eaec,_0xf33d13,_0x384667,_0x1bedf4){return _0x5cc524(_0x46eaec- -0x178,_0xf33d13,_0x384667-0x129,_0x1bedf4-0x10a);}if(_0x57580e[_0x38b410(-0x1ac,-0x135,-0x17f,-0x107)]&&_0x158af4['Vmwhz'](_0x57580e[_0x37e311(0x3,0xb,0xe,0x82)][_0x37e311(-0x30,-0x22,0x13,-0xe3)](),'')){if(_0x158af4[_0x37e311(-0x12,-0x13,0x2a,-0x56)](_0x158af4[_0x37e311(0xcf,0xb8,0x8e,0x4a)],_0x158af4[_0x37e311(0xcf,0x102,0x11a,0x34)])){const _0x48323c={};_0x48323c[_0x37e311(0x3e,0xde,0x1c,0xed)]=_0x158af4[_0x38b410(-0x89,-0x76,-0x1d,-0x72)],_0x48323c[_0x38b410(-0xaa,-0x63,-0xd5,0x9)]=_0x57580e[_0x37e311(0x3,-0x45,0xbf,0x30)],_0x29adbb['push'](_0x48323c);}else{if(_0xa4f29f[_0x37e311(-0x14,0x7c,-0xb5,0x32)](_0x81902a[_0x37e311(0xa3,0xe5,0x85,-0xa)],_0x38b410(-0xf7,-0x199,-0xf2,-0x251))){const _0x573517=_0xa4f29f[_0x37e311(-0x4b,0x5c,-0x8e,-0xed)][_0x38b410(-0x1c5,-0x13b,-0xf8,-0x17c)]('|');let _0x1522e5=0x2*-0xeb+-0x1*-0xcc7+-0xaf1;while(!![]){switch(_0x573517[_0x1522e5++]){case'0':_0x83ac6[_0x38b410(-0x5d,-0x58,-0xa,0x22)](_0x38b410(-0xd1,-0x44,0x35,-0xe5)+_0x38b410(-0xcd,-0x5b,-0x113,-0xce)+_0x38b410(-0x139,-0x10b,-0x12d,-0x160));continue;case'1':return;case'2':_0x563c91[_0x37e311(0x86,0xd8,0x9,0x2d)](_0x435284);continue;case'3':_0x2543fa[_0x37e311(-0x6f,-0x9,0x7,-0x87)+'us'](_0x266b94,_0x18f1ca[_0x37e311(0x5b,-0x64,0x1f,-0x4c)]);continue;case'4':_0x5b07b7=!![];continue;case'5':const _0xbe68e6={};_0xbe68e6[_0x37e311(0xa3,0x10b,0x13f,0x101)]=_0xa4f29f[_0x38b410(-0xf2,-0xc6,-0x15b,-0x5d)],_0xbe68e6[_0x37e311(-0x88,-0x4d,-0x80,-0x12d)]=_0xa4f29f[_0x38b410(-0x8a,-0x112,-0x116,-0xf4)];const _0x2a030c={};_0x2a030c[_0x37e311(0x9,0xd,0x8b,0x71)]=![],_0x2a030c['result']=null,_0x2a030c['id']=_0x3723ca,_0x2a030c[_0x38b410(-0x1e8,-0x18d,-0x10a,-0x16e)]=_0xbe68e6,_0xc5fac9[_0x37e311(0x38,-0x1d,0x18,-0x31)](_0x193d5a[_0x38b410(-0x1b1,-0x1bf,-0x1fe,-0x18b)+_0x37e311(0x97,0xbf,0x110,0xf2)],_0x2a030c);continue;}break;}}_0x4ccc8a['error'](_0xa4f29f[_0x38b410(0x50,-0x6a,-0x7,-0x25)],_0x373d77);const _0x11b5ae=_0x38b410(-0x165,-0x1ae,-0x240,-0x132)+_0x2a17ea[_0x38b410(-0x127,-0x1c0,-0x22c,-0x1c1)];_0x328e27&&_0x5375ed(_0x11b5ae);_0x6effcd['error'](_0x42cfe7[_0x37e311(-0x88,0x2e,-0x126,-0x35)]),_0x4551f0[_0x38b410(-0xcd,-0x178,-0x1be,-0xdf)+'sk'](_0x57c860,![]),_0xc6dd63[_0x37e311(0x86,0x87,0x31,0xe8)](_0x454f98);const _0x560104={};_0x560104[_0x37e311(0x9,-0x42,0xa4,0xc2)]=![],_0x560104[_0x37e311(-0x68,-0x92,-0x10f,-0x70)]=_0x11b5ae,_0x560104['id']=_0x43dd77,_0x14fb8b[_0x38b410(-0x123,-0x100,-0x82,-0x175)](_0x3807dc['LLM_EXECUT'+_0x38b410(-0x160,-0xa1,-0x125,-0x90)],_0x560104);}}});else throw new _0x23dd2b('ËØ∑Ê±ÇÂ§±Ë¥•:\x20'+_0x82a5b3[_0x5947bb(0x212,0x142,0x1ef,0x283)]+'\x20'+_0x4d445e[_0x5cc524(0x125,0xf2,0x12b,0xc1)]);}}function _0x5cc524(_0xd9a9c2,_0x4b9ed7,_0x44eba4,_0x4918e2){return _0x3f5eaa(_0x4b9ed7,_0xd9a9c2- -0x14d,_0x44eba4-0x19b,_0x4918e2-0x125);}const _0x5705c4=_0x158af4[_0x5947bb(0xe0,0x186,0xd2,0x12)](mergeAdjacentMessages,_0x29adbb),_0x20864b=processRollPlaceholders(_0x5705c4);return _0x20864b;}const _0x5d571a={};_0x5d571a['image_gen']=_0x3f5eaa(0x364,0x2a6,0x27c,0x229),_0x5d571a['char_desig'+'n']=_0x26ebe0(0x352,0x362,0x30a,0x2bc),_0x5d571a[_0x26ebe0(0x44d,0x3e5,0x4a3,0x3f7)+'ay']=_0x26ebe0(0x3f0,0x3ec,0x3f6,0x4a0),_0x5d571a[_0x3f5eaa(0x2fd,0x345,0x369,0x3cb)+'y']=_0x3f5eaa(0x255,0x2ec,0x327,0x36c),_0x5d571a[_0x3f5eaa(0x3d3,0x338,0x39f,0x3d5)+'n']='ÁøªËØë',_0x5d571a[_0x26ebe0(0x3dd,0x374,0x3d8,0x2c4)]=_0x3f5eaa(0x31e,0x27e,0x297,0x20e);const REQUEST_TYPE_NAMES=_0x5d571a;export async function executeTypedLLMRequest(_0x567a20,_0x17e5b8,_0x2d5c23,_0x2c5109=null){const _0x201571={'LyUtr':_0x49e877(0x340,0x2e2,0x3e9,0x351),'hnNWK':_0x2533c2(0x4c4,0x4a9,0x423,0x47a),'lAned':'data:','ZfYaz':_0x2533c2(0x44b,0x3fb,0x47a,0x3cd),'koSZq':function(_0x374070,_0x2bb03e){return _0x374070/_0x2bb03e;},'SGCpN':function(_0xf818f6,_0x2e90ff){return _0xf818f6*_0x2e90ff;},'LlXCN':_0x49e877(0x34d,0x3be,0x2b3,0x347),'ZRyDL':_0x49e877(0x4b1,0x473,0x3e5,0x3f4),'hpDKX':function(_0x3a4127,_0x538751){return _0x3a4127/_0x538751;},'ECHrp':function(_0x344eb7,_0x421486){return _0x344eb7/_0x421486;},'Fxjkq':function(_0x276cee,_0x10438c){return _0x276cee*_0x10438c;},'FoOgF':function(_0x55b34a,_0x27fd87){return _0x55b34a(_0x27fd87);},'Yxkpn':_0x2533c2(0x53e,0x5d4,0x4f3,0x5b8),'vXIVC':function(_0x221601,_0x351b55){return _0x221601!==_0x351b55;},'HfOjY':function(_0x146632,_0x920590){return _0x146632(_0x920590);},'uEeOB':function(_0x55a137,_0x5f437f){return _0x55a137||_0x5f437f;},'AKcIJ':function(_0x4a3c35,_0x3090c4){return _0x4a3c35===_0x3090c4;},'UrPVX':_0x49e877(0x2c9,0x3cf,0x3ab,0x320),'wgsGJ':'uuaQR','EIAru':function(_0x4d40d4){return _0x4d40d4();},'zkdys':function(_0x38a8eb,_0x30ac40){return _0x38a8eb(_0x30ac40);},'flMRN':function(_0x2375bb,_0x23727b){return _0x2375bb(_0x23727b);},'kBZtn':function(_0x2d3e96,_0x215328){return _0x2d3e96(_0x215328);},'Ijute':function(_0x41987d,_0x358a2b){return _0x41987d||_0x358a2b;},'MSpAs':_0x49e877(0x417,0x4d2,0x4a6,0x425),'XBOOp':_0x2533c2(0x45b,0x4a9,0x4e5,0x476)+_0x2533c2(0x472,0x4e0,0x3f5,0x408),'mjWRR':function(_0x237d6b,_0x3b8abb){return _0x237d6b!==_0x3b8abb;},'fObUZ':'pVtvL','WNvaq':'custom','Aywzs':function(_0x1b400f,_0x30a869){return _0x1b400f(_0x30a869);},'eLEod':function(_0x591a68,_0x2a9c92){return _0x591a68===_0x2a9c92;},'RXPcE':_0x49e877(0x2e3,0x2a6,0x30a,0x331),'KfzWz':function(_0x1abd5f,_0x11e3ac,_0x4e2ed2){return _0x1abd5f(_0x11e3ac,_0x4e2ed2);},'fnWeX':'POST','ZbuUj':_0x49e877(0x381,0x3a7,0x3e7,0x342),'VRLlK':_0x49e877(0x394,0x349,0x3e0,0x3fa),'WICGD':'bzCHC','ydtBC':'cNBwz','ButID':function(_0x5e976d,_0x2bccd7){return _0x5e976d===_0x2bccd7;},'ugvFf':_0x49e877(0x3af,0x408,0x3c8,0x409),'nOIRU':function(_0x7665f,_0x401427){return _0x7665f>_0x401427;},'ahOMP':'AzEFV','lROJY':function(_0x575cd0,_0x24094b){return _0x575cd0===_0x24094b;},'XYwkR':'WVKAf','hwKSL':_0x2533c2(0x3ee,0x456,0x4a3,0x481),'ADPyC':'utf-8','ESlrl':_0x2533c2(0x4f1,0x48d,0x54d,0x48b),'kGStN':_0x49e877(0x371,0x30c,0x387,0x35a),'SBbLe':function(_0x3a7ccf,_0x46a99f){return _0x3a7ccf===_0x46a99f;},'qfAbm':'data:\x20[DON'+'E]','vWJEu':function(_0x1b55ed,_0x4f5cb2){return _0x1b55ed!==_0x4f5cb2;},'ToLFk':_0x2533c2(0x418,0x40c,0x422,0x422),'ogGlH':function(_0x2279fd,_0x476de8){return _0x2279fd(_0x476de8);},'rFNln':_0x2533c2(0x437,0x4cd,0x4ca,0x3c5),'vXSNc':function(_0x3d5a4d,_0x191276){return _0x3d5a4d!==_0x191276;},'kdnwR':_0x49e877(0x37a,0x45e,0x415,0x40b),'KMNev':function(_0x25705a,_0x3d924b){return _0x25705a!==_0x3d924b;},'EQFoU':_0x2533c2(0x41a,0x368,0x3c0,0x42c),'oClll':_0x49e877(0x426,0x434,0x3ea,0x405)+_0x49e877(0x422,0x426,0x3a4,0x42e),'nYBQw':function(_0x20924d,_0x5923f4){return _0x20924d===_0x5923f4;},'ANCgs':function(_0x3f457d,_0xb6d352){return _0x3f457d(_0xb6d352);},'dcwTJ':function(_0x2d1457,_0x369293){return _0x2d1457(_0x369293);},'UhrjD':function(_0x4350f8,_0x115f89){return _0x4350f8(_0x115f89);},'efuvt':function(_0x181ddb,_0x383deb){return _0x181ddb(_0x383deb);},'myKfg':_0x2533c2(0x3f4,0x3f5,0x464,0x3c3),'nCWPC':_0x2533c2(0x52e,0x5d8,0x4e3,0x538),'HRFRw':_0x2533c2(0x54a,0x5fa,0x5a5,0x5af)+_0x2533c2(0x481,0x4cf,0x41e,0x40e),'bZbob':function(_0x144795,_0x70bf47){return _0x144795===_0x70bf47;},'LyBrq':'dZBqr','FsxJk':function(_0x4202f3){return _0x4202f3();}},{prompt:_0x1dd7e7,id:_0x5cfd88}=_0x567a20;if(_0x201571['uEeOB'](!_0x5cfd88,!_0x1dd7e7))return;if(currentLLMRequestController){if(_0x201571[_0x49e877(0x314,0x3b2,0x2c9,0x33c)](_0x201571[_0x49e877(0x2e1,0x368,0x3cc,0x350)],_0x201571['wgsGJ'])){if(_0x49da01[_0x2533c2(0x3cd,0x324,0x36e,0x40d)][_0x49e877(0x35a,0x3f1,0x450,0x3be)](_0x201571[_0x2533c2(0x4b2,0x41c,0x54f,0x4b0)])||_0x229d1e[_0x2533c2(0x3cd,0x3df,0x48b,0x46f)][_0x49e877(0x30e,0x475,0x332,0x3be)](_0x201571[_0x49e877(0x458,0x3ae,0x361,0x3a5)]))throw _0x176216;}else currentLLMRequestController['abort'](),toastr['info'](_0x2533c2(0x419,0x416,0x412,0x4c1)+_0x49e877(0x3ef,0x35b,0x339,0x374));}currentLLMRequestController=new AbortController();const _0x3ec8bc=currentLLMRequestController[_0x2533c2(0x440,0x4b8,0x424,0x4e8)],_0x16e5e3=currentLLMRequestController,_0x5a6615=REQUEST_TYPE_NAMES[_0x17e5b8]||_0x17e5b8,_0x4dc15a={};_0x4dc15a[_0x2533c2(0x4f8,0x521,0x495,0x508)]=_0x49e877(0x379,0x2e0,0x340,0x2fc)+_0x5a6615,_0x4dc15a[_0x49e877(0x240,0x2d8,0x2cd,0x2bf)]=TaskType[_0x2533c2(0x4d8,0x444,0x4b7,0x513)],_0x4dc15a['prompt']=_0x5cfd88;const _0x2b6675=taskQueue[_0x2533c2(0x45a,0x505,0x45b,0x3ac)](_0x4dc15a);llmTaskControllers[_0x49e877(0x3ec,0x28d,0x3c0,0x32e)](_0x2b6675,currentLLMRequestController),taskQueue['updateStat'+'us'](_0x2b6675,TaskStatus[_0x2533c2(0x44a,0x3a3,0x4aa,0x4b9)]),startFabLoading();let _0x3bfaf1=![];_0x201571[_0x2533c2(0x4ab,0x409,0x4ca,0x44f)](clearLog),_0x201571['zkdys'](addLog,_0x2533c2(0x496,0x4f4,0x3f6,0x43c)+_0x2533c2(0x4e4,0x55b,0x501,0x4ff)+_0x5a6615+_0x49e877(0x274,0x3b8,0x310,0x301)),_0x201571[_0x2533c2(0x3da,0x36d,0x3ea,0x3de)](addLog,_0x2533c2(0x4b9,0x53e,0x450,0x553)+_0x5cfd88),addLog(_0x49e877(0x3f8,0x382,0x372,0x418)+':');function _0x2533c2(_0x492646,_0x5cbfff,_0x24e0dd,_0x2a5306){return _0x3f5eaa(_0x2a5306,_0x492646-0x190,_0x24e0dd-0x13f,_0x2a5306-0x19f);}_0x201571[_0x49e877(0x2c9,0x2ac,0x2e4,0x2f2)](addLog,_0x201571[_0x49e877(0x26d,0x2a8,0x2b9,0x2cc)](formatPromptForDisplay,_0x1dd7e7));const _0x90eedc=_0x201571['FoOgF'](getEffectiveConfigForRequestType,_0x17e5b8),{api_url:_0x381cec,api_key:_0x4266ec,model:_0x4bd49c,temperature:_0x496416,top_p:_0x3debc3,max_tokens:_0x3660c1,stream:_0x4fdb89,bypass_proxy:_0x3a0d70}=_0x90eedc;if(_0x201571['Ijute'](!_0x381cec,!_0x4266ec)||!_0x4bd49c){if(_0x201571[_0x49e877(0x23c,0x348,0x366,0x2c0)](_0x201571[_0x2533c2(0x4a1,0x4ae,0x425,0x561)],_0x49e877(0x380,0x42f,0x398,0x381))){const _0x354eba=_0x5a6615+(_0x2533c2(0x4a2,0x424,0x432,0x462)+_0x2533c2(0x460,0x50c,0x3cf,0x504)+'Êàñ\x20Model\x20Êú™ÈÖç'+'ÁΩÆ„ÄÇ');toastr[_0x2533c2(0x400,0x475,0x3df,0x402)](_0x354eba);const _0x5c74df={};_0x5c74df[_0x49e877(0x3cd,0x3ea,0x34c,0x34d)]=![],_0x5c74df[_0x49e877(0x2ad,0x284,0x38c,0x2dc)]=_0x354eba,_0x5c74df['id']=_0x5cfd88,eventSource[_0x49e877(0x36d,0x403,0x3de,0x37c)](_0x2d5c23,_0x5c74df);return;}else{const _0x4157c0=_0x1c8ffc[_0x2533c2(0x448,0x4e4,0x48d,0x3f4)]?.['url']||'';if(_0x4157c0[_0x2533c2(0x445,0x40b,0x4fa,0x454)](_0x201571['lAned'])){const _0x7aaca=_0x4157c0[_0x2533c2(0x476,0x4b0,0x473,0x3ba)](/^data:([^;]+);/),_0xe69f3d=_0x7aaca?_0x7aaca[-0x406+-0x1*0x49b+-0x41*-0x22]:_0x201571[_0x2533c2(0x43a,0x4f5,0x40f,0x4da)],_0x245e53=_0x4157c0[_0x49e877(0x3a5,0x333,0x306,0x341)](',')[0xcf1+0x200e+-0x1bb*0x1a]||'',_0x311375=_0x2edce6[_0x2533c2(0x531,0x4d3,0x4d2,0x59d)](_0x201571[_0x2533c2(0x4ef,0x4ff,0x490,0x42f)](_0x201571['koSZq'](_0x201571['SGCpN'](_0x245e53[_0x2533c2(0x4ee,0x535,0x44d,0x4b2)],-0x1162+-0x253b+0x36a0),0x2665+-0x1*-0x7cf+-0x2e30),0x26bc+0x5c4+-0x2880));_0x17207e[_0x49e877(0x378,0x2a1,0x41a,0x35e)](_0x2533c2(0x430,0x49c,0x440,0x4ed)+':\x20'+_0xe69f3d+',\x20Á∫¶\x20'+_0x311375+'KB]');}else _0x497a66[_0x2533c2(0x46f,0x491,0x417,0x409)]('üì∑\x20[ÂõæÁâáÈìæÊé•:\x20'+_0x4157c0+']');}}const _0x4d4254=_0x381cec[_0x2533c2(0x48b,0x423,0x3ed,0x491)](/\/$/,'');let _0x5e0936,_0x58c8f9,_0x19b275;function _0x49e877(_0x19f191,_0x4acc38,_0xbfc813,_0x4db3c5){return _0x3f5eaa(_0x19f191,_0x4db3c5-0x7f,_0xbfc813-0x1c2,_0x4db3c5-0x136);}if(_0x3a0d70){_0x5e0936=_0x4d4254+('/chat/comp'+_0x49e877(0x482,0x474,0x44d,0x3c2));const _0x522ee2={};_0x522ee2[_0x49e877(0x324,0x404,0x40b,0x3dc)+'pe']=_0x201571[_0x2533c2(0x45c,0x50e,0x47d,0x461)],_0x522ee2['Authorizat'+_0x49e877(0x28a,0x2a3,0x35f,0x327)]=_0x2533c2(0x41d,0x377,0x3b9,0x36b)+_0x4266ec,_0x58c8f9=_0x522ee2;const _0x478847={};_0x478847[_0x49e877(0x271,0x27f,0x22b,0x2c4)]=_0x4bd49c,_0x478847['messages']=_0x1dd7e7,_0x478847[_0x49e877(0x3f5,0x344,0x46b,0x3d9)+'e']=_0x496416,_0x478847[_0x49e877(0x25c,0x327,0x2cb,0x2f7)]=_0x3debc3,_0x478847[_0x2533c2(0x4fe,0x559,0x518,0x4e3)]=_0x3660c1,_0x478847['stream']=_0x4fdb89,_0x19b275=_0x478847;}else{if(_0x201571[_0x49e877(0x428,0x339,0x444,0x3af)](_0x49e877(0x270,0x324,0x2f8,0x2ea),_0x201571[_0x49e877(0x39a,0x441,0x460,0x3c0)])){const _0x10b0cd={};_0x10b0cd['role']=_0x201571[_0x2533c2(0x474,0x49c,0x513,0x3f5)],_0x10b0cd[_0x2533c2(0x52a,0x587,0x5ab,0x5bd)]=_0x3a4179['assistant'],_0x1e1810['push'](_0x10b0cd);}else{_0x5e0936=_0x2533c2(0x53d,0x50f,0x497,0x533)+_0x2533c2(0x406,0x39d,0x40f,0x445)+_0x49e877(0x4c7,0x495,0x3ac,0x423)+_0x2533c2(0x4bb,0x40e,0x487,0x46b),_0x58c8f9=getRequestHeaders(window[_0x49e877(0x39e,0x481,0x3d6,0x435)]);const _0x46f428={};_0x46f428[_0x49e877(0x3c4,0x3fa,0x345,0x3ea)+_0x2533c2(0x43c,0x461,0x498,0x460)+'ce']=_0x201571[_0x2533c2(0x49d,0x4d3,0x44a,0x4b1)],_0x46f428[_0x2533c2(0x4fc,0x520,0x55b,0x4dc)]=_0x4d4254,_0x46f428[_0x2533c2(0x4a8,0x554,0x48c,0x4ab)+'lude_heade'+'rs']='Authorizat'+'ion:\x20\x22Bear'+_0x49e877(0x2ce,0x25d,0x31f,0x317)+_0x4266ec+'\x22',_0x46f428[_0x2533c2(0x3d5,0x444,0x3bc,0x3f6)]=_0x4bd49c,_0x46f428[_0x49e877(0x327,0x379,0x36c,0x2fb)]=_0x1dd7e7,_0x46f428[_0x49e877(0x3f1,0x496,0x3fb,0x3d9)+'e']=_0x496416,_0x46f428[_0x2533c2(0x408,0x3eb,0x43a,0x3fb)]=_0x3debc3,_0x46f428[_0x2533c2(0x4fe,0x468,0x55f,0x54f)]=_0x3660c1,_0x46f428[_0x2533c2(0x504,0x532,0x572,0x473)]=_0x4fdb89,_0x19b275=_0x46f428;}}_0x2c5109&&_0x201571[_0x2533c2(0x51f,0x504,0x552,0x507)](_0x2c5109,_0x49e877(0x48a,0x3e7,0x495,0x3f0)+_0x5a6615+_0x49e877(0x458,0x3b4,0x444,0x3bb));try{if(_0x201571[_0x49e877(0x281,0x30a,0x25f,0x2c1)](_0x201571[_0x2533c2(0x4e3,0x517,0x503,0x496)],_0x201571['RXPcE'])){const _0x4394d3=await _0x201571['KfzWz'](fetch,_0x5e0936,{'method':_0x201571[_0x2533c2(0x417,0x44b,0x46d,0x408)],'headers':_0x58c8f9,'body':JSON[_0x49e877(0x301,0x38a,0x2ed,0x353)](_0x19b275),'signal':_0x3ec8bc});if(!_0x4394d3['ok']){if(_0x201571[_0x49e877(0x288,0x22b,0x21d,0x2c1)]('WmUVQ',_0x201571[_0x2533c2(0x3ec,0x378,0x40e,0x429)])){try{if(_0x201571[_0x49e877(0x38a,0x410,0x438,0x3af)](_0x201571[_0x49e877(0x364,0x2ac,0x325,0x2ed)],_0x201571[_0x49e877(0x348,0x2c6,0x383,0x316)])){const _0x31d048=await _0x4394d3[_0x2533c2(0x542,0x5ff,0x51d,0x4f8)]();if(_0x31d048[_0x49e877(0x25b,0x368,0x250,0x2ef)]){if(_0x201571[_0x49e877(0x399,0x3b8,0x381,0x3fd)]===_0x49e877(0x3c2,0x3c2,0x3c1,0x3da)){_0x5fbc92=''+_0x98e3aa[_0x49e877(0x298,0x26f,0x2bf,0x2ef)][_0x2533c2(0x3cd,0x471,0x439,0x45c)];const _0x22a9f4=[];if(_0x5e8abc[_0x2533c2(0x400,0x4aa,0x3e8,0x4a7)][_0x2533c2(0x3d0,0x436,0x363,0x3eb)])_0x22a9f4[_0x2533c2(0x46f,0x40f,0x4a3,0x424)](_0x49e877(0x2ff,0x254,0x23d,0x2e0)+_0x3a51ef['error'][_0x2533c2(0x3d0,0x3ff,0x35c,0x34d)]);if(_0x307b88[_0x2533c2(0x400,0x47e,0x3a0,0x35d)][_0x49e877(0x330,0x409,0x442,0x3cb)])_0x22a9f4[_0x2533c2(0x46f,0x3bb,0x437,0x478)](_0x49e877(0x3a1,0x467,0x3e3,0x408)+_0x274262[_0x2533c2(0x400,0x430,0x379,0x35a)][_0x49e877(0x362,0x370,0x434,0x3cb)]);_0x22a9f4[_0x49e877(0x497,0x484,0x49e,0x3dd)]>0x2550+0x567+-0x2ab7&&(_0x22a2ea+='\x20('+_0x22a9f4['join'](',\x20')+')');}else{let _0x325453;if(_0x201571[_0x49e877(0x465,0x367,0x370,0x416)](typeof _0x31d048['error'],_0x201571['ugvFf'])&&_0x31d048['error'][_0x49e877(0x34d,0x355,0x2b0,0x2bc)]){_0x325453=''+_0x31d048['error']['message'];const _0x53de7b=[];if(_0x31d048['error'][_0x49e877(0x2a2,0x319,0x308,0x2bf)])_0x53de7b[_0x49e877(0x2ec,0x374,0x3b4,0x35e)](_0x49e877(0x24c,0x2a1,0x2bf,0x2e0)+_0x31d048[_0x49e877(0x319,0x340,0x319,0x2ef)]['type']);if(_0x31d048['error'][_0x2533c2(0x4dc,0x453,0x437,0x448)])_0x53de7b[_0x2533c2(0x46f,0x428,0x3b9,0x4e0)](_0x49e877(0x35c,0x3e6,0x445,0x408)+_0x31d048['error'][_0x49e877(0x31e,0x34f,0x3c1,0x3cb)]);_0x201571[_0x2533c2(0x3e4,0x47e,0x444,0x3d0)](_0x53de7b[_0x49e877(0x3e6,0x3a1,0x31e,0x3dd)],-0x161*0x1+-0x761+0x8c2)&&(_0x325453+='\x20('+_0x53de7b['join'](',\x20')+')');}else _0x325453=''+JSON['stringify'](_0x31d048[_0x49e877(0x2ec,0x274,0x35b,0x2ef)]);throw new Error(_0x325453);}}}else return _0x1f0d7a;}catch(_0xc03d01){if(_0x201571[_0x2533c2(0x3d2,0x474,0x437,0x3a4)](_0x201571[_0x2533c2(0x449,0x4e3,0x416,0x509)],_0x201571[_0x2533c2(0x449,0x411,0x4bc,0x43c)])){if(_0xc03d01[_0x49e877(0x31f,0x24b,0x284,0x2bc)][_0x2533c2(0x4cf,0x4bc,0x4a9,0x4ac)](_0x201571['LyUtr'])||_0xc03d01[_0x2533c2(0x3cd,0x434,0x43c,0x38c)][_0x2533c2(0x4cf,0x444,0x455,0x429)](_0x201571[_0x49e877(0x3d7,0x421,0x3f8,0x3a5)]))throw _0xc03d01;}else{const _0x2bbfed=_0x17c2ad[_0x451cb9][_0x2533c2(0x3d8,0x491,0x3e7,0x3b6)+'t_type_con'+'figs']||{},_0x143afb={};_0x143afb[_0x49e877(0x443,0x448,0x3ef,0x411)+'e']='ÈªòËÆ§',_0x143afb['context_pr'+'ofile']='ÈªòËÆ§';const _0x3c80f0=_0x2bbfed[_0x476f0e]||_0x143afb,_0x4a6254=_0x5dc260[_0x3e4260]['llm_profil'+'es']||{},_0x2b2541=_0x1e26ef[_0x470d1b]['test_conte'+_0x2533c2(0x45d,0x4db,0x3ec,0x4d1)+'s']||{},_0x288a4f=_0x3c80f0[_0x2533c2(0x522,0x5bd,0x4b4,0x598)+'e']||'ÈªòËÆ§',_0x3d45de=_0x4a6254[_0x288a4f]||_0x4a6254[_0x37fbd6['keys'](_0x4a6254)[-0x527+-0xf36+0x145d]]||{},_0x46d1e6=_0x3c80f0[_0x2533c2(0x459,0x460,0x420,0x4ef)+'ofile']||'ÈªòËÆ§',_0x4cba98=_0x2b2541[_0x46d1e6]||_0x2b2541[_0x3bf7b0[_0x49e877(0x3a0,0x497,0x40d,0x3ef)](_0x2b2541)[0x16e5+0x21*-0xfb+0x976]]||{},_0x4c77e6={};return _0x4c77e6[_0x49e877(0x3a0,0x381,0x44a,0x3a6)]=_0x3d45de[_0x49e877(0x3de,0x39f,0x3af,0x3a6)]||'',_0x4c77e6['api_key']=_0x3d45de['api_key']||'',_0x4c77e6[_0x49e877(0x32e,0x32b,0x349,0x2c4)]=_0x3d45de[_0x49e877(0x210,0x378,0x2aa,0x2c4)]||'',_0x4c77e6['temperatur'+'e']=_0x3d45de['temperatur'+'e']??0x3cc+-0x16b2+0x12e6+0.7,_0x4c77e6[_0x2533c2(0x408,0x469,0x3d2,0x4bb)]=_0x3d45de['top_p']??-0x15a*-0x8+0x40+0x13*-0x95,_0x4c77e6[_0x49e877(0x43b,0x3f9,0x497,0x3ed)]=_0x3d45de[_0x2533c2(0x4fe,0x5a6,0x486,0x5b1)]??0x2*0x81c+0x1fc*0x5+0xf*-0x19c,_0x4c77e6[_0x2533c2(0x504,0x535,0x582,0x49d)]=_0x3d45de[_0x2533c2(0x504,0x494,0x49d,0x45c)]??![],_0x4c77e6['bypass_pro'+'xy']=_0x3d45de[_0x49e877(0x254,0x21a,0x249,0x2cb)+'xy']??![],_0x4c77e6[_0x2533c2(0x420,0x3f7,0x434,0x466)]=_0x4cba98,_0x4c77e6;}}throw new Error(_0x49e877(0x2f8,0x27f,0x338,0x2df)+_0x4394d3[_0x49e877(0x465,0x41d,0x4d5,0x42b)]+'\x20'+_0x4394d3[_0x49e877(0x2ab,0x245,0x2da,0x2f1)]);}else _0x1a659a=_0x201571[_0x49e877(0x3b7,0x3a5,0x35d,0x386)],_0x3d27f5['warning'](_0x1f55e6+(':\x20LLM\x20Êú™Êî∂Âà∞Êúâ'+_0x49e877(0x38a,0x3bc,0x3fd,0x407)));}let _0x47d046='';if(_0x4fdb89){if(_0x201571[_0x2533c2(0x4c5,0x4c4,0x4d5,0x4da)](_0x201571['XYwkR'],_0x201571['hwKSL'])){const _0x5c9000=_0x56460b[_0x2533c2(0x476,0x45d,0x535,0x451)](/^data:([^;]+);/),_0x278483=_0x5c9000?_0x5c9000[-0x200b+0xa06+0xb03*0x2]:_0x201571[_0x2533c2(0x43a,0x37c,0x4e3,0x443)],_0xe9c2be=_0x5b0bda[_0x49e877(0x384,0x318,0x379,0x341)](',')[0x1346+0x1ab6+-0x2dfb]||'',_0x1cce47=_0x21a4f6[_0x2533c2(0x531,0x4af,0x4e1,0x523)](_0x201571[_0x2533c2(0x506,0x5b8,0x532,0x537)](_0x201571[_0x2533c2(0x508,0x55f,0x46b,0x4a5)](_0x201571[_0x49e877(0x44b,0x3ac,0x34b,0x39c)](_0xe9c2be['length'],-0xf8d+-0x7dd+0x176d),0x371+0xd4+-0x441*0x1),0x167*-0x1b+0xb36+0x1ea7));_0x3b49e5[_0x2533c2(0x46f,0x3b4,0x517,0x515)](_0x2533c2(0x430,0x48e,0x3bd,0x3cd)+':\x20'+_0x278483+',\x20Á∫¶\x20'+_0x1cce47+_0x2533c2(0x50f,0x5c7,0x48e,0x4b9));}else{const _0x544986=_0x4394d3['body'][_0x49e877(0x420,0x448,0x40d,0x3d7)](),_0x38e09f=new TextDecoder(_0x201571[_0x2533c2(0x3e9,0x3ce,0x366,0x37c)]);let _0x259bca='';while(!![]){if(_0x201571[_0x49e877(0x411,0x3f2,0x44a,0x3ac)]!==_0x201571[_0x49e877(0x2c6,0x308,0x2b4,0x324)]){const {done:_0x5967f5,value:_0x555106}=await _0x544986[_0x49e877(0x293,0x305,0x386,0x2f3)]();if(_0x5967f5)break;const _0x3d87be={};_0x3d87be[_0x2533c2(0x504,0x598,0x48e,0x5be)]=!![],_0x259bca+=_0x38e09f['decode'](_0x555106,_0x3d87be);const _0x4faa67=_0x259bca[_0x49e877(0x303,0x392,0x283,0x341)]('\x0a');_0x259bca=_0x4faa67['pop']()||'';for(const _0x559afd of _0x4faa67){const _0x4e17dd=_0x559afd[_0x2533c2(0x425,0x3b6,0x415,0x498)]();if(!_0x4e17dd||_0x201571[_0x49e877(0x388,0x370,0x350,0x36d)](_0x4e17dd,_0x201571[_0x49e877(0x460,0x3cf,0x442,0x403)]))continue;if(_0x4e17dd[_0x49e877(0x2e3,0x2f5,0x2d1,0x334)](_0x2533c2(0x49f,0x403,0x511,0x432)))try{const _0x3d0a8d=_0x4e17dd[_0x49e877(0x48a,0x421,0x39e,0x3e5)](-0x3*0xaab+-0x58e+-0x42d*-0x9),_0x3abf9e=JSON[_0x2533c2(0x520,0x52d,0x542,0x4e3)](_0x3d0a8d),_0xd7f423=_0x3abf9e[_0x2533c2(0x4af,0x4b7,0x527,0x4a3)]?.[-0x23ea+-0x21*-0xa1+-0xf29*-0x1]?.[_0x49e877(0x474,0x3cf,0x386,0x3f6)]?.[_0x49e877(0x390,0x41f,0x35e,0x419)];_0xd7f423&&(_0x201571[_0x2533c2(0x454,0x4cf,0x401,0x397)](_0x201571[_0x49e877(0x427,0x437,0x419,0x3e1)],_0x201571[_0x49e877(0x46a,0x361,0x45f,0x3e1)])?_0x4336e2=null:(_0x47d046+=_0xd7f423,_0x2c5109&&_0x201571[_0x2533c2(0x50c,0x44f,0x513,0x4df)](_0x2c5109,_0x47d046)));}catch(_0xa09294){console[_0x49e877(0x307,0x2cc,0x27a,0x2d0)](_0x201571[_0x2533c2(0x4e5,0x565,0x42e,0x584)],_0xa09294[_0x49e877(0x312,0x34a,0x287,0x2bc)]);}}}else{const _0x3c00db={'jJGUA':function(_0x2e25a6,_0x56661e){function _0x7aca24(_0x179217,_0x5aff0c,_0x57cd4d,_0x103c8a){return _0x49e877(_0x57cd4d,_0x5aff0c-0x143,_0x57cd4d-0xab,_0x103c8a- -0x70);}return _0x201571[_0x7aca24(0x2ec,0x2e8,0x234,0x26e)](_0x2e25a6,_0x56661e);}};return function(_0x269b58){const {id:_0x5b0d3c}=_0x269b58;if(!_0x5b0d3c)return;const _0x941638=_0x2dfe60[_0x227f72]||_0x17c5c2;_0x590346[_0x4d2e36(0xcc,0xe0,0x156,0x121)]('st-chatu8:'+'\x20Êî∂Âà∞'+_0x941638+(_0x4d2e36(0xff,-0x3d,0x2f,0x72)+_0x3d4c48(-0x8e,-0xef,-0x18d,-0x111))+_0x5b0d3c+')');function _0x3d4c48(_0x28da50,_0x2617df,_0x3f29ff,_0x1c684b){return _0x2533c2(_0x2617df- -0x61a,_0x2617df-0x195,_0x3f29ff-0x5,_0x28da50);}const _0x36ce3b=_0x3c00db[_0x3d4c48(-0xc6,-0xf2,-0x10a,-0xe9)](_0x6cec45,_0x41e632),_0x16421f={};_0x16421f[_0x4d2e36(0xed,0xcf,0xa3,0x134)]=_0x36ce3b,_0x16421f['id']=_0x5b0d3c;function _0x4d2e36(_0x520fa4,_0x37fd78,_0x14cdce,_0x3836fd){return _0x2533c2(_0x3836fd- -0x414,_0x37fd78-0x1de,_0x14cdce-0x1c8,_0x520fa4);}_0xa1eda9[_0x4d2e36(0x45,0xb0,0xb0,0x79)](_0x46c9c0,_0x16421f);};}}if(_0x259bca[_0x49e877(0x2af,0x259,0x36a,0x314)]()&&_0x201571['vXSNc'](_0x259bca[_0x2533c2(0x425,0x3f3,0x3f7,0x4c9)](),_0x201571[_0x49e877(0x38a,0x3d5,0x42f,0x403)])&&_0x259bca['trim']()[_0x2533c2(0x445,0x43a,0x3a3,0x49f)](_0x2533c2(0x49f,0x3f7,0x3e2,0x520))){if(_0x201571[_0x2533c2(0x42d,0x4bf,0x4d0,0x404)]==='bfCPW')try{const _0x2a6272=_0x259bca['trim']()[_0x49e877(0x399,0x435,0x492,0x3e5)](0x17*-0x191+0x73f*0x3+0xe50),_0x1362d4=JSON['parse'](_0x2a6272),_0x10bdf8=_0x1362d4[_0x49e877(0x37f,0x3f1,0x433,0x39e)]?.[-0x175*-0x1+-0x1*0x23aa+-0x8b*-0x3f]?.['delta']?.[_0x2533c2(0x52a,0x5de,0x5e6,0x5e3)];if(_0x10bdf8){_0x47d046+=_0x10bdf8;if(_0x2c5109){if(_0x201571[_0x49e877(0x358,0x397,0x2b7,0x357)](_0x201571['EQFoU'],_0x201571['EQFoU'])){if(_0x29bc8b[_0x2533c2(0x53e,0x507,0x543,0x4b2)]&&_0x2d3478['user']['trim']()!==''){const _0x3479fe={};_0x3479fe[_0x49e877(0x2f6,0x36b,0x3f5,0x382)]=_0x201571[_0x49e877(0x284,0x28f,0x287,0x2e6)],_0x3479fe['content']=_0xe597de[_0x2533c2(0x53e,0x4b1,0x5a6,0x4ca)],_0x4fcb93[_0x2533c2(0x46f,0x481,0x461,0x418)](_0x3479fe);}if(_0x14f14e[_0x2533c2(0x458,0x3c2,0x3b5,0x463)]&&_0x201571[_0x2533c2(0x3d1,0x32d,0x3a9,0x3ba)](_0x3f5d99[_0x49e877(0x3f6,0x331,0x2d6,0x347)][_0x2533c2(0x425,0x43b,0x48f,0x373)](),'')){const _0x4cf208={};_0x4cf208[_0x2533c2(0x493,0x4fc,0x49b,0x4d3)]='assistant',_0x4cf208['content']=_0x2e10da[_0x49e877(0x355,0x3e9,0x2b0,0x347)],_0x520208[_0x49e877(0x312,0x308,0x2f0,0x35e)](_0x4cf208);}}else _0x201571[_0x2533c2(0x51f,0x59c,0x59b,0x5d6)](_0x2c5109,_0x47d046);}}}catch(_0x71c44f){console[_0x2533c2(0x3e1,0x451,0x458,0x438)](_0x201571[_0x2533c2(0x4e7,0x55b,0x4ba,0x503)],_0x71c44f[_0x49e877(0x2c2,0x2e1,0x20b,0x2bc)]);}else _0x344fb9+='\x20('+_0x12da5e[_0x49e877(0x269,0x2ba,0x2ff,0x2bb)](',\x20')+')';}if(!_0x47d046){if(_0x201571[_0x2533c2(0x4a9,0x4b6,0x522,0x3f0)](_0x2533c2(0x3fc,0x3f5,0x442,0x3f4),_0x2533c2(0x409,0x447,0x44c,0x3e2)))return _0x50c464;else _0x47d046=_0x201571[_0x49e877(0x3c4,0x32b,0x3ca,0x386)],toastr[_0x49e877(0x388,0x34e,0x426,0x37e)](_0x5a6615+(':\x20LLM\x20Êú™Êî∂Âà∞Êúâ'+_0x2533c2(0x518,0x4c8,0x51f,0x5c0)));}}}else{const _0x1a89d6=await _0x4394d3['json']();if(_0x1a89d6['error']){let _0x518d43;if(typeof _0x1a89d6[_0x49e877(0x321,0x2ee,0x245,0x2ef)]===_0x201571[_0x49e877(0x412,0x367,0x340,0x380)]&&_0x1a89d6[_0x2533c2(0x400,0x455,0x38d,0x4a8)][_0x2533c2(0x3cd,0x342,0x447,0x3de)]){_0x518d43=''+_0x1a89d6[_0x49e877(0x2c8,0x396,0x297,0x2ef)][_0x2533c2(0x3cd,0x340,0x425,0x3a0)];const _0x100c11=[];if(_0x1a89d6[_0x2533c2(0x400,0x38a,0x413,0x470)][_0x2533c2(0x3d0,0x331,0x31a,0x429)])_0x100c11[_0x2533c2(0x46f,0x497,0x42e,0x4be)](_0x49e877(0x27f,0x345,0x22b,0x2e0)+_0x1a89d6['error'][_0x2533c2(0x3d0,0x387,0x3a3,0x394)]);if(_0x1a89d6[_0x2533c2(0x400,0x475,0x395,0x341)]['code'])_0x100c11[_0x49e877(0x2a2,0x334,0x2f0,0x35e)](_0x2533c2(0x519,0x472,0x4f5,0x596)+_0x1a89d6['error'][_0x2533c2(0x4dc,0x44f,0x59c,0x561)]);_0x201571[_0x49e877(0x328,0x24b,0x33b,0x2d3)](_0x100c11[_0x2533c2(0x4ee,0x4df,0x4e2,0x4d8)],-0x1*-0x2451+0x81*-0x1d+-0x15b4)&&(_0x518d43+='\x20('+_0x100c11[_0x49e877(0x2f5,0x203,0x368,0x2bb)](',\x20')+')');}else _0x518d43=''+JSON[_0x49e877(0x31c,0x2ec,0x381,0x353)](_0x1a89d6[_0x2533c2(0x400,0x457,0x4b1,0x379)]);throw new Error(_0x518d43);}_0x47d046=_0x1a89d6[_0x49e877(0x307,0x3a9,0x410,0x39e)]?.[0x1b62+-0x128c+-0x8d6]?.[_0x2533c2(0x3cd,0x471,0x441,0x317)]?.['content']||'',!_0x47d046&&(_0x47d046='Êú™Êî∂Âà∞ÊúâÊïàÂõûÂ§ç„ÄÇ',toastr[_0x49e877(0x3f5,0x377,0x414,0x37e)](_0x5a6615+(_0x49e877(0x420,0x3d0,0x440,0x393)+'ÊïàÂõûÂ§ç„ÄÇ'))),_0x2c5109&&_0x201571['ANCgs'](_0x2c5109,_0x47d046);}_0x201571['dcwTJ'](addLog,_0x2533c2(0x41b,0x417,0x473,0x3e5)+_0x49e877(0x462,0x465,0x45a,0x3b5)),_0x201571[_0x49e877(0x41e,0x3b9,0x3e2,0x38d)](addLog,_0x47d046),_0x201571['efuvt'](addLog,_0x2533c2(0x496,0x550,0x502,0x46e)+_0x49e877(0x3dc,0x3ef,0x3c3,0x38a)),taskQueue[_0x49e877(0x260,0x258,0x277,0x304)+'sk'](_0x2b6675,!![]),llmTaskControllers['delete'](_0x2b6675);const _0x14a8f1=extension_settings[extensionName][_0x2533c2(0x4bf,0x47e,0x474,0x410)+'e'];if(_0x14a8f1){const _0x438e14={};_0x438e14['timeOut']=0x1388,toastr[_0x49e877(0x341,0x3cb,0x3d8,0x379)](_0x2533c2(0x3e3,0x41a,0x405,0x409)+_0x5a6615+(_0x49e877(0x39b,0x2f8,0x28e,0x2e5)+_0x2533c2(0x422,0x3b6,0x3b8,0x4dc)),_0x2533c2(0x4e1,0x594,0x4db,0x497),_0x438e14);}const _0x421266={};_0x421266[_0x49e877(0x311,0x2c1,0x2ee,0x34d)]=!![],_0x421266[_0x49e877(0x33f,0x21f,0x378,0x2dc)]=_0x47d046,_0x421266['id']=_0x5cfd88,_0x421266[_0x2533c2(0x4d4,0x4ad,0x415,0x48e)]=_0x14a8f1,eventSource['emit'](_0x2d5c23,_0x421266);}else _0x1b5de1(_0x264e8d);}catch(_0x1eda8b){if(_0x1eda8b[_0x2533c2(0x4f8,0x570,0x449,0x4c9)]===_0x201571[_0x2533c2(0x4a3,0x514,0x512,0x40b)]){if(_0x201571[_0x49e877(0x36c,0x344,0x2ff,0x33c)](_0x201571[_0x49e877(0x348,0x342,0x458,0x39b)],_0x201571[_0x49e877(0x3cc,0x36c,0x2de,0x39b)])){_0x3bfaf1=!![],taskQueue['updateStat'+'us'](_0x2b6675,TaskStatus[_0x2533c2(0x4b0,0x43e,0x425,0x428)]),llmTaskControllers[_0x49e877(0x36e,0x3ee,0x457,0x3ca)](_0x2b6675);const _0x3af0e2={};_0x3af0e2[_0x49e877(0x461,0x3d2,0x344,0x3e7)]=_0x201571[_0x49e877(0x3cb,0x3a0,0x354,0x392)],_0x3af0e2[_0x49e877(0x2d4,0x2c5,0x231,0x2bc)]=_0x201571[_0x2533c2(0x433,0x3e5,0x3af,0x379)];const _0x24be3a={};_0x24be3a[_0x2533c2(0x45e,0x4bf,0x4b7,0x4ec)]=![],_0x24be3a['result']=null,_0x24be3a['id']=_0x5cfd88,_0x24be3a['error']=_0x3af0e2,eventSource['emit'](_0x2d5c23,_0x24be3a);return;}else _0x201571[_0x49e877(0x30c,0x34a,0x2f2,0x2f2)](_0x257543,_0x3fadd7);}console[_0x2533c2(0x400,0x3af,0x479,0x370)](_0x5a6615+_0x2533c2(0x515,0x5a4,0x572,0x50c),_0x1eda8b);const _0x2886ee=_0x2533c2(0x3df,0x453,0x46b,0x369)+_0x1eda8b[_0x49e877(0x233,0x2a7,0x2ce,0x2bc)];_0x2c5109&&_0x2c5109(_0x2886ee);toastr[_0x49e877(0x24a,0x22f,0x25f,0x2ef)](_0x1eda8b[_0x49e877(0x34e,0x252,0x21c,0x2bc)]),taskQueue[_0x2533c2(0x415,0x499,0x3f8,0x43c)+'sk'](_0x2b6675,![]),llmTaskControllers[_0x49e877(0x479,0x38f,0x448,0x3ca)](_0x2b6675);const _0x98cec3={};_0x98cec3[_0x2533c2(0x45e,0x4a3,0x4bf,0x4e9)]=![],_0x98cec3[_0x2533c2(0x3ed,0x33b,0x47f,0x35f)]=_0x2886ee,_0x98cec3['id']=_0x5cfd88,eventSource[_0x49e877(0x351,0x369,0x3a7,0x37c)](_0x2d5c23,_0x98cec3);}finally{_0x201571[_0x49e877(0x3c9,0x345,0x319,0x3a9)](currentLLMRequestController,_0x16e5e3)&&(_0x201571[_0x2533c2(0x470,0x491,0x519,0x522)]!==_0x201571[_0x2533c2(0x470,0x41d,0x4a1,0x48c)]?_0x201571[_0x2533c2(0x403,0x3cc,0x45c,0x442)](_0x170962,_0x407f49):currentLLMRequestController=null),(!_0x3bfaf1||currentLLMRequestController===null)&&_0x201571['FsxJk'](stopFabLoading);}}function _0x4ca4(){const _0x57418a=['yxbWBgLJyxrPBW','wejpt3a','EhrFChjVzMLSzq','C3vJy2vZCW','qwzxENa','iefqssblzxKSia','vxjqvLG','57g75z6loG','DMD4sLO','C3rYAw5NAwz5','wvPJrxK','BwPOBgK','Bv9WCM9MAwXL','s01ozxy','BxH5rgG','y2HHCL9KAxnWBa','v2vTsxO','zsbfCNjVCJO','BwvfueC','te9Or3m','ChvZAa','thLcCNe','6kEs6iMYl+ACJEIJHEwXLEEKUG','BI9QC29U','zuL6Aw4','tgXyq04','ue9tva','Bwf0y2G','DgzMtgm','tw9KzwWG5PYQ6ywn572U44cc','qKLWEeq','suzWrNK','CejmufK','6kEs6iMYl+ACJEIJHEs/RUAuUq','C3rFy2HHDhu4xW','u0jItgu','x3rHC2S','BgXTx3bYB2zPBa','B3j0zwq','ywjVCNrLzc4','lcdNUQyG','A3bbBfK','5AEl5PAW6k+35Rgc44cc','5O+q56s66k+n6i635y+w6k+35RgcicHj','z2jnwu0','DK1jr2G','qMjzChi','Aw5MBW','CMvWBgfJzq','qvbjifvstcWGqq','zw1PDa','ndm4ndm4uuTkqwTL','D2fYBMLUzW','te5Yq2K','DwD2rMy','r1nKENK','CM9Szq','wM9JBu8','u0Dvz2i','pt09pt0GteXnia','wLj5reW','te5MvLu','y3vYCMvUDf9SBa','u0jZAKi','6k+35Rgc5A6m5OIqid09pt09','BwHsAwq','v052yxe','vwHYAKq','zgf0ytOG','DgvZDf9JB250zq','tvnWqxm','oIbbueKGvvjmla','BxLlzMC','oIbmte0G5PYQ5Ps25yIW5PYj','q09KD3i','vw5ttva','C3LZDgvT','y3vZDg9Tx2LUyW','BLLcuxC','DwfNvwO','ruLbCNu','BKnxuem','rNHQA3e','DvzAsNG','y2HVAwnLCW','q0foq0vmteve','zw5HyMXLza','thLvDhi','tM9SELq','zw50CMLLCW','ywjVCNq','Ag5ov0S','yxbPx3vYBa','vMjoBfa','6k+35RgcieLeoIa','yLPIB2i','l2DLBMvYyxrL','tLbXs28','rvnSCMW','CMvWzwf0','BgXTvgvZDe1Vza','BwPxuLi','uxjZChK','ru5vuee','BhvKzv9OzwfKzq','5lUJ56cboG','BfjpsLK','iowBNUwKJsaTls0Tlq','rMzLC3y','DhjHBNnSyxrPBW','56In5yczlI4U','C2vHCMnO','DhjPz2DLCG','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','B01eC28','C3rFy29UDgv4Da','Aw5JBhvKzxm','z2v0','zK9IvvO','sxnwvvG','Bgv0Aw9UCW','DgvZDe1Vzgu','y2HHCL9TB2rPzG','8j+tTYbB5zU+54Mh6zo+5O6LoIa','AuTouhO','teXn','zfH4r3O','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','zgvSzxrL','y29Kzq','tMPIENC','txjzyNa','Df90ExbLx2nVBG','uKnHze8','5Rwl6k+v5QIH5BYp5O+q56s6','DhjPz2DLCLDVCG','uLHqy0u','6k+35Rgc5BYa5AElicG','CKzoBg4','q1z0q3u','B0nSBgW','z2v0uMvHzgvY','ndyYmdu4nhHjuhnVqG','DgvTCgvYyxr1CG','uKDKzey','rv9srvnqt05trq','q29UDgvUDc1uEq','BgvUz3rO','A29twNe','B2zPBgu','s1nSDwe','vg9mrMS','5RAioIa','y3LMAeC','ugHztNe','C2XPy2u','reLwuLi','BMfTzq','tuTxAwm','DKjUwg0','y2HHDf9JB21WBa','y3vZDg9Tx3vYBa','teXnoIdLPjBPG6JOR7FMSyi','Bwf4x3rVA2vUCW','v0LZvg4','A2v5CW','5Q2J5zYO5Ase55cgia','vNbvsMC','q1bwC3C','C3rYzwfT','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','Ahbes1G','zgvSDge','runiCNa','zxbevxm','rwHsCxO','vxPLvNu','B2DhBeG','yMXVBLe','Ewr0qKm','s0jD','v1jov0e','nhWWFdn8mNW1Fa','wMTICxK','BxvtC20','CwzbyM0','ievYCM9YoG','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','t3fdyxq','5Pwi5zUE5Asn44cc','5lUJ56cboIa','B2jQzwn0','sMn5Ewi','yMzdufC','quNLIQNMIyS','DfvJtK0','qxL3ENm','CgfYC2u','6BUy6k6K6k+35Rgc5BYa5AElid09pq','yxbPx3bYB2zPBa','vvDqzwq','wg1LquK','zLPMD2S','ueKGs2v5lcdMIjyG','qNv0suq','AKPhvue','5y+r6ycb55QeifbYB21WDa','y29UDgvUDa','rdOG','tK1kwfG','yKjZEei','sfLeBge','se1ZEhu','nZaXntqYDKDqv3vM','CM91BMq','zsbYzxf1zxn0ia','u3HfBu8','B21WBgv0Aw9UCW','Bg9N','vNrPDgu','mty4mtq5wLbhuKj0','wMTvvfi','sKz3zLK','C3rYAw5N','AwLwCvm','C3rHDhvZ','l2fWAs9IywnRzq','DxnLCG','yNvMzMvYktO','wNrouLO','Cu5oD08','ANnVBG','teTuAhy','ExP5DgO','wNHSBxy','Dg9Rzw4','Awz1C1G','ChjVBxb0','teXnigv4zwn1Da','uMvXDwvZDcbHyG','vxHsAvC','teXniev4zwn1Da','AM9PBG','BwvZC2fNzq','teXnx0vyrunvva','zgf0ytO','DhLWzq','DLHjvKm','zuXfB2q','Dg9tDhjPBMC','vg9QzM8','Bw9KzwW','shrPEwO','teXnioACQUAuTUwiSoACIEAvIowBNG','BgXTx3jLCxvLCW','yxHluge','zMXnuK4','DNfVwwO','yNLWyxnZx3bYBW','A0jADg4','BurJv1C','6k+35Rgc6zsz6k+VoIa','uhjXvKe','D2fYBG','qxv0Ag9YAxPHDa','44cq5Rwl6k+v5QIH5BYp44cr','BK9juLu','t1zyD0q','DxbKyxrLu3rHDa','6kEs6iMYl+ACJEIJHEIUVUIUOq','z05cDu0','qurqEum','AgLZDg9YEq','ioAuTUwiSa','wMj1vwO','CMvZDwX0','BhffB08','rM9pz0y','6k+35Rgc5AsX6lsLoIa','57g75z6loIa','yxbPx2TLEq','reTiv24','qwjVCNrfCNjVCG','z29KBvi','ioIVT+AXGUw3SUwUJoAiKo+8JowqJUE7REAtJq','wxHRCg4','y3vYCMvUDf90zq','DgfNx21VzgLMEq','yxbWBhK','Cfz0DKW','uunXy2W','wujsEfq','vLjmBeS','wffuC2q','zxjYB3i','EKLruxa','C3rHDhvZvgv4Da','sgzpALK','CMvHza','C3rQsKm','BMrZl2nOyxqTyW','kcGOlISPkYKRkq','Dg9Wx3a','sxPTr0C','CxzVswW','C3qTy2HHDhu4oG','BwvZC2fNzxm','teXnoIa','vgfN5l+U5Ps5','z2XkCMq','wNfIse0','DxjS','ksa9pt09pq','ouryANHAvW','zMLNCW','y29TCgXLDgvuyq','Eunrs2O','zM5xzvG','B1fpyxe','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','tuzIqKS','cI0Tls0TieXmtq','suPzDMG','qMvHCMvYia','vhr0wNi','zuHAEeO','y29UDgv4Da','CgjsAhu','5l2C5BEY6lEZ6l+h44cc','y3vZDg9T','y0jVAgO','DhjPBq','EvfVCeu','v0Ldr0q','zxiG','q2PzB0e','mta3mZeXohD0q1fTzW','C2HMwKK','AfLMA1O','A2rUD1i','rK5AC3i','ndG5mtuZwezqC29S','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','rgX5EwK','y2fUy2vSx2XSBq','sfjguNC','zM9YrwfJAa','A0DtDe4','5Q2J5PAh5zU+54Mh55sF5OIq','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','Aw9U','yNrLs1e','wMzzyxO','vNnfweS','zxrPB25FC291CG','y29UC3rYDwn0BW','DhjPz2DLCK1Vza','C2v0','C2LNBMfS','wfLWA2K','zuXjwLG','DgPhwKC','uKvOy0q','C3rHCNrZv2L0Aa','vwjxt2u','mNW0Fdb8mxWZFa','Aw1Hz2vFDxjS','ywHptva','uLvotKLorW','Dw5RBM93BG','Dgv4Da','quTJsuO','zNvUy3rPB24','AxnbCNjHEq','A3neAhG','mJGYnhnUALHzAq','C3bSAxq','v21vvLe','DLDkrxu','Auv2v2O','DevKtxm','mte5mfDUEvb4tG','yxnZAxn0yw50','y29UDgv4Df9WCG','ywrKvgfZAW'];_0x4ca4=function(){return _0x57418a;};return _0x4ca4();}export async function executeDefaultLLMRequest(_0x2ba464,_0x5d517d,_0x2e506b=null){const _0x410c08={'ENUPA':'Êú™Êî∂Âà∞ÊúâÊïàÂõûÂ§ç„ÄÇ','tUcNM':_0x2ece99(0x115,0x231,0x1bb,0x19a),'IsVUX':function(_0x5aab93){return _0x5aab93();},'DIVRR':function(_0x23b57c,_0x90c61e){return _0x23b57c(_0x90c61e);},'gbMYM':_0x2ece99(0x7c,0x147,0x8c,0xb7)+_0x538758(0x331,0x2d9,0x2a4,0x3e8),'VpUJg':function(_0x2846ca,_0x152d7c){return _0x2846ca??_0x152d7c;},'REhcD':_0x538758(0x3d9,0x364,0x3ab,0x47c),'BIpxD':_0x538758(0x34b,0x361,0x28d,0x314)+_0x2ece99(0x22b,0x117,0x221,0x182)+'Model\x20Êú™ÈÖçÁΩÆ„ÄÇ','yQopE':function(_0x8b0d14,_0x2d431d){return _0x8b0d14||_0x2d431d;},'vqoYj':function(_0x1dabba,_0xc29a81){return _0x1dabba!==_0xc29a81;},'JFwfY':_0x538758(0x3ec,0x40b,0x431,0x3a4),'pfDGW':'RZdhH','iBwvg':'LLMËØ∑Ê±ÇÂ∑≤‰∏≠Êñ≠ÔºåÂºÄ'+_0x538758(0x344,0x295,0x32a,0x3d1),'sOPWX':_0x2ece99(0x104,0x196,0x101,0x159),'KRzNz':function(_0xd5b118,_0x33fcb1){return _0xd5b118(_0x33fcb1);},'tffLc':function(_0x5dba4a,_0x4b73c0){return _0x5dba4a(_0x4b73c0);},'NPqKo':function(_0x404060,_0x41458d){return _0x404060(_0x41458d);},'LNfVU':function(_0x7171b5,_0x9cb284){return _0x7171b5||_0x9cb284;},'ZocmO':function(_0x261714,_0x3b9ecf){return _0x261714!==_0x3b9ecf;},'UKEtV':_0x538758(0x348,0x2d5,0x304,0x301),'CPVsw':function(_0x344690,_0x59d345){return _0x344690??_0x59d345;},'YZcEy':function(_0x38d867,_0x52ce2e){return _0x38d867(_0x52ce2e);},'OVXwD':'custom','LNrCi':'NjIIp','geFFe':'Ê≠£Âú®Â§ÑÁêÜÂ§ñÈÉ®ËØ∑Ê±ÇÔºåËØ∑'+'Á®çÂÄô...','kIdJG':function(_0xa695df,_0x29fb3c,_0x55c24b){return _0xa695df(_0x29fb3c,_0x55c24b);},'ArlaJ':_0x2ece99(0x15,0x15d,0xe2,0xd1),'FNZsr':function(_0x52adc5,_0x597bc2){return _0x52adc5===_0x597bc2;},'qNNwO':function(_0x2715db,_0x33d6be){return _0x2715db>_0x33d6be;},'fFjDv':_0x538758(0x2c0,0x297,0x299,0x2f6),'XzXTr':'ByPcn','fZfwk':_0x538758(0x32c,0x335,0x37d,0x2ae),'IFpFy':_0x538758(0x406,0x353,0x49a,0x3bd),'LKThv':_0x2ece99(0x1d2,0xc3,0xe4,0x11d),'rxVbe':'taCZO','XQTsd':_0x538758(0x296,0x254,0x34c,0x293)+'Â§ç„ÄÇ','gNBuM':function(_0x38af5b,_0x7d8ce1){return _0x38af5b!==_0x7d8ce1;},'iiVqS':function(_0x46dc3f,_0x5bf070){return _0x46dc3f(_0x5bf070);},'MrYbp':function(_0xd9c424,_0x2992f4){return _0xd9c424(_0x2992f4);},'Jcyyb':_0x2ece99(0x43,0x9a,0x142,0x97),'tEdMs':_0x2ece99(0x35,-0xd,0xcd,0x3a),'yktZR':function(_0x47c9e9,_0x2860ed){return _0x47c9e9===_0x2860ed;},'UbWOe':_0x538758(0x306,0x343,0x289,0x397)+'5','KVIjn':_0x538758(0x408,0x41d,0x3e0,0x3ad)+_0x538758(0x3f1,0x488,0x428,0x44c)+_0x2ece99(0x134,0x185,0xef,0xde),'CjYoA':_0x2ece99(-0x6c,-0x79,-0x91,0x27)+_0x538758(0x32b,0x2d5,0x2e3,0x3cf),'cBohj':_0x2ece99(0x10c,0xf8,0xe0,0xf6),'iKNPz':function(_0x4634ca,_0x79b146){return _0x4634ca===_0x79b146;},'ksDhx':function(_0x465069,_0x2e90a7){return _0x465069===_0x2e90a7;}},{prompt:_0x37850f,id:_0x3cd1ce}=_0x2ba464;if(_0x410c08[_0x538758(0x2e5,0x26e,0x2b0,0x276)](!_0x3cd1ce,!_0x37850f))return;currentLLMRequestController&&(_0x410c08[_0x538758(0x29a,0x303,0x2c9,0x27d)](_0x410c08[_0x538758(0x3f8,0x370,0x42a,0x38e)],_0x410c08['pfDGW'])?(currentLLMRequestController[_0x538758(0x374,0x2e6,0x376,0x413)](),toastr[_0x538758(0x349,0x368,0x31b,0x2b9)](_0x410c08['iBwvg'])):(_0x1c4b85=_0x410c08[_0x538758(0x381,0x332,0x393,0x3b2)],_0x3d5d0c[_0x538758(0x34e,0x32f,0x381,0x2ca)](_0x5d5544+(_0x2ece99(0x190,0xe3,0x1b1,0x100)+_0x2ece99(0x192,0x21c,0x174,0x174)))));function _0x538758(_0x1b5773,_0x1dd970,_0x1b2130,_0xfbfdd){return _0x26ebe0(_0x1b5773-0x31,_0x1b5773- -0xbc,_0x1dd970,_0xfbfdd-0x126);}currentLLMRequestController=new AbortController();const _0x42e2c1=currentLLMRequestController[_0x538758(0x2ff,0x284,0x3a9,0x36c)],_0x46715a=currentLLMRequestController,_0x16ad3c={};_0x16ad3c[_0x538758(0x3b7,0x30e,0x3c3,0x372)]=_0x410c08['sOPWX'],_0x16ad3c['type']=TaskType['LLM'],_0x16ad3c[_0x538758(0x407,0x3a0,0x4a8,0x4c0)]=_0x3cd1ce;function _0x2ece99(_0x3fa1df,_0x48a54a,_0x525a15,_0x62c126){return _0x26ebe0(_0x3fa1df-0x1ee,_0x62c126- -0x31f,_0x525a15,_0x62c126-0xe9);}const _0x981bf3=taskQueue[_0x538758(0x319,0x286,0x365,0x3a5)](_0x16ad3c);llmTaskControllers[_0x2ece99(0xdc,0x52,0xdf,0x9b)](_0x981bf3,currentLLMRequestController),taskQueue[_0x2ece99(0xdf,0xe9,0x58,0x42)+'us'](_0x981bf3,TaskStatus[_0x538758(0x309,0x2cf,0x2bf,0x380)]),_0x410c08[_0x538758(0x391,0x3cf,0x367,0x389)](startFabLoading);let _0x9580d=![];_0x410c08['IsVUX'](clearLog),_0x410c08['KRzNz'](addLog,'=====\x20LLM\x20'+_0x538758(0x3e0,0x490,0x336,0x391)+'=='),_0x410c08['KRzNz'](addLog,_0x2ece99(0x176,0x16c,0xc1,0x115)+_0x3cd1ce),addLog(_0x2ece99(0x1b2,0xe2,0x1f2,0x185)+':'),_0x410c08[_0x2ece99(0xe0,0x26,0x150,0xd3)](addLog,_0x410c08[_0x2ece99(0xe9,0x12b,0xcb,0x118)](formatPromptForDisplay,_0x37850f));const {api_url:_0x55af88,api_key:_0x324ff0,model:_0x246b49,temperature:_0x5f50df,top_p:_0x1c16f0,max_tokens:_0x11845f,stream:_0x1daeda,bypass_proxy:_0x46e584}=_0x5d517d;if(_0x410c08[_0x2ece99(0x14b,0x62,0x58,0xf4)](!_0x55af88,!_0x324ff0)||!_0x246b49){if(_0x410c08['ZocmO'](_0x410c08['UKEtV'],_0x2ece99(0x89,0x102,0x9a,0x142))){const _0x1d83c5=_0x2ece99(0xd0,0xe2,0xe5,0xe8)+'PI\x20Key,\x20Êàñ\x20'+_0x2ece99(0x3a,0x8d,0xbe,0xd4);toastr['error'](_0x1d83c5);const _0x486bea={};_0x486bea[_0x2ece99(0x9e,0x57,0x114,0xba)]=![],_0x486bea[_0x538758(0x2ac,0x27e,0x353,0x2a0)]=_0x1d83c5,_0x486bea['id']=_0x3cd1ce,eventSource[_0x538758(0x34c,0x394,0x340,0x3a6)](eventNames[_0x538758(0x28d,0x1db,0x208,0x285)+_0x538758(0x3ab,0x385,0x30d,0x3c8)],_0x486bea);return;}else _0x1b4cc0=null;}const _0x321cf3=_0x55af88[_0x2ece99(0x106,0x127,0x138,0xe7)](/\/$/,'');let _0x37060b,_0x3f4e86,_0x218234;if(_0x46e584){_0x37060b=_0x321cf3+('/chat/comp'+_0x538758(0x392,0x3d1,0x3c2,0x3ee));const _0x40a822={};_0x40a822['Content-Ty'+'pe']=_0x410c08[_0x538758(0x346,0x2fb,0x2c2,0x352)],_0x40a822[_0x538758(0x2a1,0x1fe,0x335,0x32b)+'ion']=_0x2ece99(0x71,0x88,0x100,0x79)+_0x324ff0,_0x3f4e86=_0x40a822,_0x218234={'model':_0x246b49,'messages':_0x37850f,'temperature':_0x5f50df,'top_p':_0x1c16f0,'max_tokens':_0x11845f,'stream':_0x410c08[_0x538758(0x3c2,0x3b5,0x355,0x386)](_0x1daeda,![])};}else{_0x37060b=_0x538758(0x3fc,0x34f,0x408,0x3e0)+_0x2ece99(0x6e,0x123,0x37,0x62)+_0x538758(0x3f3,0x3ee,0x489,0x437)+_0x538758(0x37a,0x383,0x2e9,0x422),_0x3f4e86=_0x410c08[_0x2ece99(0x179,0x12b,0x151,0xc1)](getRequestHeaders,window['token']);const _0x1947d5={};_0x1947d5[_0x2ece99(0x1e3,0xa9,0x12e,0x157)+_0x538758(0x2fb,0x2bb,0x279,0x381)+'ce']=_0x410c08[_0x2ece99(0x91,0x78,0x1,0x41)],_0x1947d5[_0x2ece99(0x1b4,0xf2,0xa1,0x158)]=_0x321cf3,_0x1947d5[_0x2ece99(0x1ab,0xb8,0x188,0x104)+_0x538758(0x382,0x3ba,0x38f,0x415)+'rs']=_0x2ece99(0x94,0x4a,0x6b,0x3e)+'ion:\x20\x22Bear'+_0x538758(0x2e7,0x2eb,0x39a,0x388)+_0x324ff0+'\x22',_0x1947d5['model']=_0x246b49,_0x1947d5[_0x2ece99(0x4d,-0x2d,0x2,0x68)]=_0x37850f,_0x1947d5[_0x2ece99(0x193,0xe2,0x14c,0x146)+'e']=_0x5f50df,_0x1947d5[_0x538758(0x2c7,0x388,0x244,0x322)]=_0x1c16f0,_0x1947d5[_0x2ece99(0x18c,0x10c,0x14a,0x15a)]=_0x11845f,_0x1947d5[_0x538758(0x3c3,0x428,0x368,0x363)]=![],_0x218234=_0x1947d5;}if(_0x2e506b){if(_0x410c08[_0x2ece99(0x74,0xef,0x53,0xec)]!==_0x410c08['LNrCi']){const _0x56115d={};_0x56115d[_0x538758(0x352,0x3d3,0x2d8,0x3ed)]=_0x410c08[_0x2ece99(0xc3,0x1d2,0x1b2,0x17a)],_0x56115d[_0x538758(0x3e9,0x438,0x456,0x37c)]=_0x3a3fb8[_0x538758(0x3fd,0x47b,0x3bc,0x400)],_0x209e70[_0x2ece99(0x163,0x15b,0x58,0xcb)](_0x56115d);}else _0x410c08['tffLc'](_0x2e506b,_0x410c08['geFFe']);}try{const _0x17c8af=await _0x410c08['kIdJG'](fetch,_0x37060b,{'method':_0x410c08['ArlaJ'],'headers':_0x3f4e86,'body':JSON['stringify'](_0x218234),'signal':_0x42e2c1}),_0xa29527=await _0x17c8af[_0x2ece99(0x25c,0x21e,0x246,0x19e)]();if(_0xa29527[_0x538758(0x2bf,0x349,0x264,0x302)]){let _0x3d8317;if(_0x410c08[_0x538758(0x2ed,0x2ce,0x2fb,0x2eb)](typeof _0xa29527[_0x538758(0x2bf,0x2fc,0x378,0x203)],_0x410c08[_0x538758(0x303,0x2cd,0x332,0x35f)])&&_0xa29527[_0x2ece99(0x75,0x3,0x109,0x5c)][_0x538758(0x28c,0x2e2,0x2aa,0x26d)]){if(_0x410c08[_0x2ece99(0x49,0xeb,0xd1,0xf0)](_0x2ece99(0x136,0x1e5,0x1b3,0x16e),_0x2ece99(0x123,0x18e,0x210,0x16e)))return!!_0x21003a[_0x357712][_0x538758(0x37e,0x2e3,0x3bb,0x3ba)+'e'];else{_0x3d8317=''+_0xa29527[_0x2ece99(-0xc,0x41,0xc1,0x5c)][_0x2ece99(-0x27,0x8c,-0x6d,0x29)];const _0xad5109=[];if(_0xa29527[_0x2ece99(0xc7,-0x3,0x77,0x5c)][_0x2ece99(0xc,-0x2c,0x87,0x2c)])_0xad5109[_0x538758(0x32e,0x355,0x3a8,0x36f)](_0x2ece99(0x108,0x7d,0x73,0x4d)+_0xa29527[_0x2ece99(-0x3,-0x42,0xc3,0x5c)]['type']);if(_0xa29527[_0x2ece99(0x34,0x5b,0x53,0x5c)][_0x538758(0x39b,0x3c2,0x2ef,0x3e9)])_0xad5109[_0x2ece99(0x133,0xe6,0x75,0xcb)](_0x538758(0x3d8,0x3f1,0x342,0x352)+_0xa29527[_0x2ece99(-0x39,0x8b,0xf,0x5c)][_0x538758(0x39b,0x3c5,0x342,0x2f9)]);_0x410c08[_0x2ece99(0x14d,0x125,0x227,0x19d)](_0xad5109[_0x2ece99(0x19d,0x19e,0x11b,0x14a)],-0x1*-0x235c+-0x1115*0x1+0x1*-0x1247)&&(_0x410c08[_0x538758(0x29a,0x281,0x2f4,0x22c)](_0x410c08['fFjDv'],_0x2ece99(0x118,0x18b,0xfb,0x18b))?_0x3d8317+='\x20('+_0xad5109[_0x2ece99(-0x7a,-0x18,-0x3a,0x28)](',\x20')+')':_0x410c08[_0x538758(0x391,0x42f,0x323,0x41f)](_0x47db99));}}else{if(_0x410c08['XzXTr']===_0x410c08[_0x538758(0x3e4,0x4a5,0x38a,0x386)]){const _0x1975d3=_0xba898c[_0x538758(0x3b5,0x308,0x3a9,0x3c7)](0x24f0+-0xc*0x14b+-0x1566),_0x490d09=_0x2b87a6['parse'](_0x1975d3),_0x1de406=_0x490d09[_0x2ece99(0x1a7,0x18e,0x14c,0x10b)]?.[0x26a+-0x410+0x1a6]?.['delta']?.[_0x538758(0x3e9,0x39d,0x363,0x466)];_0x1de406&&(_0x148c92+=_0x1de406,_0x2ed26d&&_0x410c08['DIVRR'](_0x238cc5,_0x2c1ad3));}else _0x3d8317=''+JSON[_0x2ece99(0x103,0xf6,0x44,0xc0)](_0xa29527[_0x2ece99(0x37,-0x3a,0xb3,0x5c)]);}throw new Error(_0x3d8317);}if(!_0x17c8af['ok']){if(_0x410c08[_0x2ece99(0xef,-0x18,0xa5,0x8a)](_0x410c08[_0x538758(0x339,0x37f,0x3ba,0x39d)],_0x538758(0x406,0x3db,0x427,0x379)))throw new Error(_0x2ece99(-0xb,-0x32,-0x31,0x4c)+_0x17c8af[_0x2ece99(0x180,0x14c,0x119,0x198)]+'\x20'+_0x17c8af[_0x538758(0x2c1,0x348,0x236,0x2e6)]);else _0x1632c4=''+_0xdecec7[_0x538758(0x323,0x354,0x2e0,0x36a)](_0x40eb5f[_0x538758(0x2bf,0x2bd,0x2da,0x2d5)]);}const _0x438c94=_0xa29527[_0x538758(0x36e,0x335,0x3ca,0x312)]?.[0x1044+0x998+0x4*-0x677]?.[_0x2ece99(0x48,0x3a,-0x21,0x29)]?.[_0x538758(0x3e9,0x35f,0x364,0x36d)]||'';if(!_0x438c94){if(_0x410c08[_0x2ece99(0xa2,-0x18,0x19,0x8a)](_0x410c08[_0x2ece99(0x137,0x245,0x1f0,0x19f)],_0x410c08['rxVbe'])){_0xeb6aeb=_0x3b78ac+('/chat/comp'+_0x2ece99(0x92,0x9d,0x134,0x12f));const _0x40cb52={};_0x40cb52[_0x538758(0x3ac,0x374,0x349,0x3e4)+'pe']=_0x410c08[_0x538758(0x346,0x2c5,0x379,0x2fe)],_0x40cb52[_0x2ece99(-0x3b,0xd1,-0x40,0x3e)+'ion']=_0x2ece99(0xca,-0x44,-0x32,0x79)+_0x4f8468,_0x33ee07=_0x40cb52,_0x17ca47={'model':_0x1a0234,'messages':_0x33d54e,'temperature':_0x8b1901,'top_p':_0x32a9e3,'max_tokens':_0x223948,'stream':_0x410c08[_0x2ece99(0x156,0x174,0x19d,0x15e)](_0x3da5b6,![])};}else toastr[_0x538758(0x34e,0x3a8,0x290,0x2c1)](_0x410c08[_0x2ece99(-0x59,0xa9,0x4f,0x5b)]);}if(_0x2e506b){if(_0x410c08[_0x538758(0x2a7,0x2e1,0x23d,0x213)](_0x538758(0x325,0x3bd,0x270,0x34e),'mjhli')){let _0x360645;if(typeof _0x13005c[_0x538758(0x2bf,0x24b,0x2c7,0x204)]===_0x410c08[_0x538758(0x303,0x308,0x39a,0x2da)]&&_0x3d8cbf[_0x538758(0x2bf,0x29c,0x2b6,0x2a9)][_0x2ece99(-0x3b,-0x42,0xd7,0x29)]){_0x360645=''+_0x5b7ab2[_0x2ece99(0x94,-0x31,0x92,0x5c)]['message'];const _0x576ded=[];if(_0x47231c[_0x538758(0x2bf,0x306,0x275,0x31f)][_0x538758(0x28f,0x223,0x225,0x21b)])_0x576ded[_0x2ece99(0x94,0x18b,0x13b,0xcb)](_0x2ece99(0xb0,0x78,0x30,0x4d)+_0x12cbd5[_0x2ece99(0x114,0xe7,-0x4d,0x5c)][_0x538758(0x28f,0x297,0x25c,0x2d1)]);if(_0x5b2317[_0x538758(0x2bf,0x241,0x238,0x30f)]['code'])_0x576ded[_0x2ece99(0x2f,0xd6,0x4b,0xcb)](_0x538758(0x3d8,0x338,0x3a1,0x35d)+_0x9fd4f1[_0x2ece99(0x4c,0x47,0x32,0x5c)][_0x538758(0x39b,0x318,0x357,0x448)]);_0x576ded[_0x2ece99(0xd4,0xc9,0x1c3,0x14a)]>-0x35*-0x5+-0xc67+0xb5e&&(_0x360645+='\x20('+_0x576ded['join'](',\x20')+')');}else _0x360645=''+_0x180ee4[_0x2ece99(0xec,0xd3,0x144,0xc0)](_0xbcf5bf[_0x2ece99(0x10a,0x75,0x95,0x5c)]);throw new _0x3905e3(_0x360645);}else _0x410c08[_0x2ece99(0x1a5,0x133,0x106,0x153)](_0x2e506b,_0x438c94);}_0x410c08[_0x538758(0x3fa,0x339,0x3f8,0x49b)](addLog,'\x0a-----\x20LLM'+_0x2ece99(0x1b6,0x144,0x69,0x122)),_0x410c08[_0x538758(0x39d,0x318,0x2dc,0x397)](addLog,_0x438c94),addLog('=====\x20LLM\x20'+_0x538758(0x35a,0x354,0x2a6,0x2b6)),taskQueue[_0x2ece99(0x7e,0x11,0xae,0x71)+'sk'](_0x981bf3,!![]),llmTaskControllers['delete'](_0x981bf3);const _0x5f2ff5={};_0x5f2ff5['success']=!![],_0x5f2ff5[_0x538758(0x2ac,0x246,0x280,0x308)]=_0x438c94,_0x5f2ff5['id']=_0x3cd1ce,eventSource[_0x538758(0x34c,0x291,0x407,0x3d5)](eventNames[_0x2ece99(0x68,-0x85,0xd0,0x2a)+_0x538758(0x3ab,0x396,0x398,0x427)],_0x5f2ff5);}catch(_0x561f7){if(_0x410c08[_0x538758(0x3da,0x3f9,0x347,0x43a)]===_0x410c08[_0x538758(0x315,0x2c8,0x2bb,0x299)])_0x39ee32=''+_0x31a241['stringify'](_0x48d91d[_0x538758(0x2bf,0x2cd,0x2a0,0x21b)]);else{if(_0x410c08['yktZR'](_0x561f7['name'],'AbortError')){const _0x40449e=_0x410c08[_0x538758(0x305,0x2cf,0x29b,0x268)][_0x2ece99(0xd5,0xb6,-0x13,0xae)]('|');let _0x3365ad=-0x23bf*-0x1+0x1d7+0x236*-0x11;while(!![]){switch(_0x40449e[_0x3365ad++]){case'0':taskQueue[_0x2ece99(0xdd,0xfe,0x89,0x42)+'us'](_0x981bf3,TaskStatus[_0x538758(0x36f,0x3b3,0x3ee,0x36f)]);continue;case'1':llmTaskControllers[_0x2ece99(0x186,0x16a,0xe4,0x137)](_0x981bf3);continue;case'2':_0x9580d=!![];continue;case'3':const _0x50a00f={};_0x50a00f['name']=_0x538758(0x2b3,0x2cb,0x28c,0x34a),_0x50a00f[_0x2ece99(-0x93,0x57,-0x7c,0x29)]=_0x2ece99(0x216,0x212,0x18c,0x1a6)+_0x2ece99(0x62,0xde,0x15a,0xdd);const _0x4ed411={};_0x4ed411[_0x2ece99(0x159,0xc6,-0x2,0xba)]=![],_0x4ed411[_0x2ece99(0xf1,0xfd,0x90,0x49)]=null,_0x4ed411['id']=_0x3cd1ce,_0x4ed411['error']=_0x50a00f,eventSource[_0x538758(0x34c,0x365,0x299,0x3bd)](eventNames[_0x2ece99(0x72,-0x1d,0x38,0x2a)+_0x538758(0x3ab,0x398,0x44f,0x349)],_0x4ed411);continue;case'4':console['log'](_0x410c08['KVIjn']);continue;case'5':return;}break;}}console[_0x538758(0x2bf,0x2e0,0x271,0x2d3)](_0x410c08[_0x2ece99(0x67,-0x36,0xde,0x85)],_0x561f7);const _0x11b571=_0x2ece99(0x3e,-0x33,-0xd,0x3b)+_0x561f7['message'];if(_0x2e506b){if(_0x410c08['FNZsr'](_0x410c08[_0x538758(0x2e3,0x3a1,0x35c,0x343)],_0x410c08[_0x538758(0x2e3,0x23c,0x331,0x376)]))_0x410c08[_0x538758(0x39d,0x42a,0x349,0x3ac)](_0x2e506b,_0x11b571);else{const _0x5e23d0=_0x410c08[_0x2ece99(0x56,0x1b,0x12d,0xd5)];_0xe08f05[_0x538758(0x2bf,0x337,0x20e,0x2ae)](_0x5e23d0);const _0x316c80={};_0x316c80['success']=![],_0x316c80[_0x538758(0x2ac,0x2a3,0x26c,0x283)]=_0x5e23d0,_0x316c80['id']=_0xdd3774,_0x94e8aa['emit'](_0x521605[_0x2ece99(0xde,0x71,0x62,0x2a)+'E_RESPONSE'],_0x316c80);return;}}toastr[_0x2ece99(-0x8,0x63,0x21,0x5c)](_0x561f7[_0x538758(0x28c,0x203,0x2bb,0x267)]),taskQueue[_0x538758(0x2d4,0x394,0x38c,0x219)+'sk'](_0x981bf3,![]),llmTaskControllers[_0x538758(0x39a,0x36d,0x34e,0x331)](_0x981bf3);const _0x199783={};_0x199783[_0x2ece99(0x13e,0x13e,0x125,0xba)]=![],_0x199783['result']=_0x11b571,_0x199783['id']=_0x3cd1ce,eventSource[_0x538758(0x34c,0x3e3,0x378,0x2d5)](eventNames['LLM_EXECUT'+_0x538758(0x3ab,0x30d,0x44e,0x3b3)],_0x199783);}}finally{_0x410c08[_0x538758(0x396,0x396,0x3f8,0x3f7)](currentLLMRequestController,_0x46715a)&&(currentLLMRequestController=null),(!_0x9580d||_0x410c08[_0x538758(0x30f,0x381,0x24f,0x32f)](currentLLMRequestController,null))&&_0x410c08['IsVUX'](stopFabLoading);}}export function createGetPromptHandler(_0x43bacd,_0x3dac05){const _0x514b1a={'RCadO':function(_0x5d428a,_0x58252c){return _0x5d428a(_0x58252c);}};return function(_0x54d352){const {id:_0x46194f}=_0x54d352;if(!_0x46194f)return;function _0x6e10b3(_0x528290,_0x345f15,_0x20ea2f,_0x4dd91b){return _0x3ac3(_0x4dd91b- -0x112,_0x345f15);}const _0x5d18cc=REQUEST_TYPE_NAMES[_0x43bacd]||_0x43bacd;console[_0x1ef19a(0x38d,0x352,0x30e,0x355)](_0x1ef19a(0x243,0x200,0x1e4,0x169)+_0x1ef19a(0x173,0x144,0x1c4,0x25d)+_0x5d18cc+(_0x6e10b3(0x101,0x13c,0x136,0xf1)+_0x6e10b3(0x169,0x1fe,0xf9,0x196))+_0x46194f+')');const _0x29754e=_0x514b1a[_0x1ef19a(0x331,0x253,0x2b9,0x2f9)](buildPromptForRequestType,_0x43bacd),_0x29de65={};function _0x1ef19a(_0x33c831,_0x442473,_0x1ed798,_0x20ed12){return _0x3ac3(_0x1ed798-0x5c,_0x33c831);}_0x29de65[_0x6e10b3(0x262,0x1d5,0x22d,0x1b3)]=_0x29754e,_0x29de65['id']=_0x46194f,eventSource[_0x6e10b3(0xae,0x121,0x136,0xf8)](_0x3dac05,_0x29de65);};}export function createExecuteHandler(_0x3ed73f,_0x46327f,_0x54011a=null){const _0x3b1e7f={'NolzT':function(_0xeaacf6){return _0xeaacf6();},'COdwr':function(_0x4e6862,_0x2701d9,_0x218da1,_0x3016aa,_0x2e7f74){return _0x4e6862(_0x2701d9,_0x218da1,_0x3016aa,_0x2e7f74);}};return async function(_0xd8729f){const _0x5a41cb=_0x54011a?_0x3b1e7f[_0xd7b872(0x250,0x369,0x2ab,0x266)](_0x54011a):null;function _0xc6c77c(_0x3d847d,_0xbaa2b2,_0x131f3f,_0x750b82){return _0x3ac3(_0xbaa2b2-0x119,_0x750b82);}function _0xd7b872(_0xe946aa,_0x3c5bfe,_0x4c988e,_0x1bbcca){return _0x3ac3(_0x4c988e-0x7b,_0x1bbcca);}await _0x3b1e7f[_0xc6c77c(0x317,0x33b,0x3ee,0x382)](executeTypedLLMRequest,_0xd8729f,_0x3ed73f,_0x46327f,_0x5a41cb);};}