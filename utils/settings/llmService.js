(function(_0x126d7c,_0x934991){function _0x2a2e26(_0x3107b7,_0x363c78,_0x507b5f,_0x484f91){return _0x1d89(_0x3107b7- -0x21c,_0x363c78);}function _0x51ea61(_0x8d6e0b,_0x2a48f1,_0x4580e2,_0x5a75d2){return _0x1d89(_0x5a75d2-0x316,_0x2a48f1);}const _0xc2e71d=_0x126d7c();while(!![]){try{const _0x426817=-parseInt(_0x2a2e26(-0xb4,-0xdb,-0xe7,-0x9e))/(-0xa35+-0x1f*0x2d+0xd3*0x13)*(-parseInt(_0x51ea61(0x447,0x3ce,0x345,0x3e9))/(0x18c5+0x8eb*0x3+0x15*-0x274))+-parseInt(_0x2a2e26(-0x89,-0x131,0x24,-0xcc))/(0x2e9*-0x5+-0xb*-0x2e3+-0x1131)*(-parseInt(_0x51ea61(0x34a,0x39d,0x48d,0x400))/(0xe5*0x23+0x1b4f*0x1+-0x1d4d*0x2))+-parseInt(_0x51ea61(0x4bc,0x47a,0x4a5,0x4cd))/(0x2366*0x1+0xec+0x1*-0x244d)*(-parseInt(_0x2a2e26(-0x140,-0xe0,-0x198,-0x1d4))/(0x1*0x8d8+-0x5*0x404+0xb42))+parseInt(_0x51ea61(0x3f0,0x476,0x4c7,0x432))/(0x16fe+-0xa7*-0x11+-0x220e)+parseInt(_0x2a2e26(-0xaf,-0x2b,-0xe,-0xb2))/(0x2db*0x7+0x1*0x15e2+-0x1*0x29d7)+-parseInt(_0x2a2e26(-0x69,-0xc0,-0x11,-0x109))/(-0x17a9+-0x1979+0x312b)*(-parseInt(_0x51ea61(0x3e5,0x4a9,0x4a4,0x497))/(0x99f+0x1de3+-0x2778))+parseInt(_0x2a2e26(-0x126,-0x165,-0x69,-0x135))/(0xcb9*-0x3+-0x45e+0x2a94)*(-parseInt(_0x2a2e26(-0x114,-0x1bf,-0x12a,-0xa5))/(-0x1*0x9e9+0x52*-0x4b+0x21fb*0x1));if(_0x426817===_0x934991)break;else _0xc2e71d['push'](_0xc2e71d['shift']());}catch(_0x549edc){_0xc2e71d['push'](_0xc2e71d['shift']());}}}(_0x3030,-0x43289+-0x1*0x13da9b+-0x42b*-0x934));function _0x3030(){const _0x5d941a=['EfHNyue','DMzKuwW','BMrZl2nOyxqTyW','teXnoIdLPjBPG6JOR7FMSyi','oIbmte0G6k+35Rgc6l+u5zUE','EePWEhi','Cg9W','EwPLChK','Aw1Hz2vFDxjS','DhjPz2DLCG','6k+35Rgc6zsz6k+VoIa','BxfrzwW','AxnbCNjHEq','5OIwie1VzgvSioACQUMfJq','C2vHCMnO','y2HVAwnLCW','ANnVBG','BgHXEeO','5yE95PwW6lcd55sO','zNvUy3rPB24','DhjPz2DLCLDVCG','DgvZDe1Vzgu','BMfTzq','qw1fseC','Dgv4Da','ufLSuMW','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','uuLVwfO','uvr3AK8','C3rHDhvZ','wuXRt0y','zMLNCW','teXnioIVT+AXGUw3SUs4REATOUoaGG','ugLhqKe','CMvWzwf0','l3yXlW','rxPHwMu','thzQz1u','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','Aw5JBhvKzxm','6kEs6iMYl+ACJEIJHEwXLEEKUG','vKDnwM0','wufttgi','EfnHr2i','zxiG','Bv9WCM9MAwXL','EuLttui','CuneyxK','DgvTCgvYyxr1CG','pt09pt0GteXnia','DgfNx21VzgLMEq','z0Xzy3u','Aw9U','mJaWu1nrr1Lo','yvrnDxK','teXnx0vyrunvva','te5oEgS','DK1dBfO','C3vJy2vZCW','uw5Yq1q','5lUJ56cboG','yLH3veG','nZiZnZe0A3HpvhL3','DuvSsgy','wwHlywK','teXnoIa','B2DMrxC','AM9PBG','yxbPx3vYBa','uMvXDwvZDcbHyG','DxjS','vKzfwK0','C3rHDhvZvgv4Da','y29UDgv4Df9WCG','y29TCgXLDgvuyq','5Q2J5PAh5zU+54Mh55sF5OIq','ng1my2f6yq','ywjVCNrLzc4','tw1lBKy','zuj2rLi','zxjYB3i','Dwf5CK4','txLOvuu','uKPLywS','D2fYBMLUzW','vgnis00','cI0Tls0TieXmtq','BMrVuvK','mtfqzfbJsuq','6kEs6iMYl+ACJEIJHEIUVUIUOq','BgvUz3rO','sfb1v1e','BxryqMy','Cu1twfa','Bg9N','wLnIDxe','thjXrfG','BNb5sfi','DhjPBq','q29UDgvUDc1uEq','rfH4z2O','zunpzfO','q2nuswK','ue9tva','qw9Lvha','quNLIQNMIyS','nZm2nZi1mtj3AgTnuLu','rhzIshm','teXn','zsbYzxf1zxn0ia','EhvYEui','BeToD28','Dwrezgu','wu5lCxy','DgvZDf9JB250zq','AMnzwNu','tvvrA3y','y3vYCMvUDf9SBa','wujeD3O','zgf0ytO','uLb2Dhy','AfzMDxi','B2zPBgu','BePyt1y','tejTCu0','DuX5zwS','mZy1odC2n21nBunZsq','zvjltK8','AK1itgy','l2DLBMvYyxrL','zgT1t2S','y29UC3rYDwn0BW','sffKtxi','ksa9pt09pq','CMvWBgfJzq','r3DcCwu','tKnxAgy','5O+q56s66k+n6i635y+w6k+35RgcicHj','DhjHBNnSyxrPBW','CLvvA2i','BNmG6k6+572U6l+h5Bcp44cb5OIwia','vu5cD28','D3znwMO','57o757UF5O+q56s66k+n','l2nOyxqVy29TCa','5PAT44cbBwf4x3rVA2u','77Ym5y+V6io95PIV6k+35Rgc6kkR5OIQ5PAT44cb','zxrPB25FC291CG','z3f5yKi','CM9Szq','uLvotKLorW','rMz2Euq','D0LKsfi','Aw9UoIaIqMvHCG','DhjPz2DLCK1Vza','whDlre8','l2fWAs9IywnRzq','qvbjioI/NUAoPEMxRUMIMooaGG','t1L0A3m','zKjOBLa','BM9PCLe','BwvZC2fNzq','zNbJrgm','qxv0Ag9YAxPHDa','vgHYy1e','tw9KzwWG5PYQ6ywn572U44cc','Ew1zsKm','ExnUDvC','wwnbv20','rdOG','5lI656M677Ym5y+V6io95PIV6k+35Rgc6kkR5OIQ','qwfTreS','uwvjEfu','sMTtyKm','y2HHDf9JB21WBa','zffHBu0','uMLZww0','y29UDgvUDa','y29UDgv4Da','ruPVsLy','zw50CMLLCW','DhLWzq','C3rHCNrZv2L0Aa','qMzlwvO','lcdNUQyG','Dw9tvxy','A0LutLa','ywjVCNq','tfLsyxG','yM9KEq','Aw1Hz2vFz2vU','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','wuf6wem','kcGOlISPkYKRkq','teXniev4zwn1Da','CM91BMq','57g75z6loG','6BUy6k6K6k+35Rgc5BYa5AElid09pq','l3yX','C3bSAxq','C2v0','vvvIv2O','mtu5mZrgBwzfv0m','zgvSzxrL','yKrotKK','BhjPre4','Bwf4x3rVA2vUCW','otG1nZK2meLnzMT1Eq','zg5zrg8','EhrFChjVzMLSzq','BK5pAg8','5AEl5PAW6k+35Rgc44cc','DfHYvfq','Dg9Rzw4','vfPKy3C','5RAioIa','y2fkB2K','rKjoC1y','y29Kzq','B0XJq0i','z0voveG','CvP4sLO','AwHcsMi','ioAuTUwiSa','x3bYB2zPBgu','C3rYzwfT','zsbfCNjVCJO','mZi3nZeZmhznveTJBW','yxbPx3bYB2zPBa','DKLJs28','BwvZC2fNzxm','CuH2ruS','y2HHCL9KAxnWBa','B3j0zwq','ug1xuw8','ChjVBxb0','Dg9VBa','CMvZDwX0','B1v3y3e','y3vZDg9T','v0H5sfO','ioIUVUE9RUI/H+wWJ+oaGEAiLIbbua','qwjVCNrfCNjVCG','y2fUy2vSx2XSBq','wfvzDgu','odqYndCYwLPVtuL4','y3vZDg9Tx3vYBa','BNPTDhC','yxnZAxn0yw50','Aw5MBW','B21WBgv0Aw9UCW','iefqssblzxKSia','DhfMsg4','yNvMzMvYktO','nhW1Fdf8mNWZFa','A0PPsxG','B0HbyLu','AvLdBuy','tu5PrgS','v1voENK','u1nZuw0','zM9YrwfJAa','5Q2J5zYO5Ase55cgia','B2jQzwn0','DxnLCG','rLnnAwu','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','CgfYC2u','tNP0tuu','uvnJwg0','C2LNBMfS','y2PeuuC','EenSuLi','suDKzKi','ugzuwxq','BNnqANO','zvnnufO','ndvKsfPdzhK','yNLWyxnZx3bYBW','Bwf0y2G','ANjqChy','nZvfA0nHvwK','AefPAfa','6k+35Rgc5A6m5OIqid09pt09','Dg9Wx3a','BgXTx3bYB2zPBa','BhvKzv9OzwfKzq','C2TvAum','vLLTu0C','w0Xmtv0G5lU75yQH5BEY5y+w','zw5KC1DPDgG','5lUJ56cboIa','ssdOV57MJQxPL67POPJJGii','BuvYEMe','uhjcCxC','u2HxrxG','BLHwDvq','BgXTx3jLCxvLCW','C2XPy2u','Bw5hEMK','DxrMltG','y3vZDg9Tx2LUyW','8j+tTYbB5zU+54Mh6zo+5O6LoIa','EgXXyMe','CMvHza','qurgrva','u1HXz0y','Df90ExbLx2nVBG','Ehn1wwC','yxDPt0q','suj0uKS','BI9QC29U','6kEs6iMYl+ACJEIJHEs/RUAuUq','yLDVBw8','BfLosKS','vK90CKK','B2znBKq','sefMAeC','CKjvr0S','DgPYu08','rv9srvnqt05trq','whf3wuy','q0foq0vmteve','y1nTCKC','yLznBLO','6k+35Rgc5BYa5AElicG','A2v5CW','DxbKyxrLu3rHDa','qufmzgC','DenSBxK','uhbTqKy','uLfht0K','BNnOEeO','wxvrsKO','CKj6uwu','wNLWzgC','qwHmwwi','5y+r6ycb55QeifbYB21WDa','C3LZDgvT','C3rYAw5NAwz5','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','veT6vwO','D2fYBG','yK5dEgu','Dw5RBM93BG','z2v0uMvHzgvY','Dg9tDhjPBMC','EvjvrwO','yxbWBgLJyxrPBW','zfn1tfq','DeLMtvi','wKTSDxC','teXnigv4zwn1Da','57g75z6loIa','swvQDuS','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','qMvHCMvYia','zw1PDa','ChvZAa','Bw9KzwW','C3qTy2HHDhu4oG','q1HAqM8','y3vYCMvUDf90zq','zgvSDge','vxbszhy','iowBNUwKJsaTls0Tlq','q3fPD2C','zw5HyMXLza','6k+35Rgc5AsX6lsLoIa','y3vAyxi','vfzIquu','ievYCM9YoG','yvPsEgO','zgf0ytOG','yxbPx2TLEq','AhP4DfC','u1fAB1u','AgLZDg9YEq','DwTJwxe','zgf0ytOGw0rptG'];_0x3030=function(){return _0x5d941a;};return _0x3030();}const _0x4f4141=(function(){const _0x1644f1={};_0x1644f1[_0x4b2643(0x55a,0x417,0x420,0x49e)]=function(_0x490e54,_0x2f81fb){return _0x490e54!==_0x2f81fb;},_0x1644f1['IGdfB']=_0x4b2643(0x53e,0x523,0x5b8,0x585),_0x1644f1[_0x51a39f(0x128,0xf0,0xe6,0x7c)]=_0x51a39f(0x9b,0x113,0xf0,0x12f);const _0x2a88b5=_0x1644f1;function _0x4b2643(_0x248f18,_0x366b79,_0x3c02c5,_0x5f1c11){return _0x1d89(_0x5f1c11-0x3d5,_0x3c02c5);}function _0x51a39f(_0x352e98,_0x2cf5c2,_0x2d8b63,_0x465f44){return _0x1d89(_0x352e98- -0x43,_0x2cf5c2);}let _0x10a32e=!![];return function(_0x23c068,_0x4c805e){const _0x333014=_0x10a32e?function(){function _0x15cf0c(_0x30aa5f,_0x1f8368,_0x157348,_0x992ff){return _0x1d89(_0x30aa5f-0xae,_0x157348);}function _0x2d08c5(_0x44984e,_0x52dd4d,_0x3379bd,_0x105ca0){return _0x1d89(_0x52dd4d-0x1f9,_0x44984e);}if(_0x2a88b5[_0x2d08c5(0x273,0x2c2,0x250,0x31f)](_0x2a88b5[_0x2d08c5(0x443,0x3a8,0x37e,0x3cf)],_0x2a88b5['lriDN'])){if(_0x4c805e){const _0x490912=_0x4c805e['apply'](_0x23c068,arguments);return _0x4c805e=null,_0x490912;}}else throw _0x59fbca;}:function(){};return _0x10a32e=![],_0x333014;};}()),_0x4720a4=_0x4f4141(this,function(){function _0x220a15(_0xe571e6,_0x1e23d5,_0x1aa857,_0x10bc84){return _0x1d89(_0x1aa857-0x302,_0x1e23d5);}const _0x129f98={};_0x129f98[_0x220a15(0x480,0x4b9,0x43b,0x4f1)]='(((.+)+)+)'+'+$';function _0x30efb3(_0x3af56a,_0x52a311,_0x342ddd,_0x1b002d){return _0x1d89(_0x52a311- -0x54,_0x3af56a);}const _0x4bde81=_0x129f98;return _0x4720a4[_0x220a15(0x510,0x5a9,0x4fa,0x4c0)]()[_0x220a15(0x381,0x3df,0x3ae,0x408)](_0x4bde81[_0x30efb3(0x63,0xe5,0x4b,0x64)])['toString']()[_0x30efb3(0x126,0xcd,0x179,0x10)+'r'](_0x4720a4)[_0x30efb3(-0x52,0x58,-0x1b,-0x5c)](_0x4bde81[_0x30efb3(0x3d,0xe5,0x186,0x16c)]);});_0x4720a4();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';import{taskQueue,TaskType,TaskStatus}from'../taskQueue.js';let currentLLMRequestController=null;const llmTaskControllers=new Map();eventSource['on']('st_chatu8_'+_0x345606(0x3a7,0x45d,0x470,0x50a)+'_task',({taskId:_0x502124})=>{const _0x1351f4=llmTaskControllers['get'](_0x502124);function _0x5b6a61(_0x194e77,_0x333f5e,_0x3d8000,_0x1d8bde){return _0x345606(_0x1d8bde,_0x3d8000- -0x5a3,_0x3d8000-0x12a,_0x1d8bde-0x196);}function _0x16abb1(_0x39cfc0,_0x358930,_0x458ba9,_0x1c6cf7){return _0x345606(_0x458ba9,_0x358930- -0x21d,_0x458ba9-0x111,_0x1c6cf7-0xf2);}_0x1351f4&&(_0x1351f4[_0x16abb1(0x1d0,0x208,0x1a2,0x1c2)](),llmTaskControllers[_0x16abb1(0x21d,0x218,0x2d4,0x165)](_0x502124),console[_0x5b6a61(-0x1f8,-0x223,-0x1db,-0x239)](_0x16abb1(0x23c,0x26e,0x1e1,0x2f4)+'消:\x20'+_0x502124));});export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x2044e5){currentLLMRequestController=_0x2044e5;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x4d7b0d={};function _0x35f188(_0xe63e5f,_0x3f5590,_0x572eb0,_0x13f225){return _0x345606(_0x572eb0,_0x13f225- -0x222,_0x572eb0-0x181,_0x13f225-0x18e);}function _0x48ca89(_0x4935bd,_0x7c11a3,_0x282265,_0x25b95e){return _0x345606(_0x4935bd,_0x25b95e- -0x9f,_0x282265-0x5f,_0x25b95e-0x1d7);}_0x4d7b0d[_0x48ca89(0x471,0x423,0x384,0x3e5)]=_0x48ca89(0x311,0x2fe,0x2a6,0x2eb);const _0x523acf=_0x4d7b0d;currentLLMRequestController&&(currentLLMRequestController[_0x48ca89(0x36f,0x2f2,0x385,0x386)](),toastr['info'](_0x523acf[_0x35f188(0x256,0x304,0x2f8,0x262)]));}export function formatPromptForDisplay(_0x84e8f6){const _0x540f45={'nzmtw':_0x178bd4(-0x89,-0x5d,-0x87,-0x87),'mErza':function(_0x451b73,_0x16a6b3){return _0x451b73===_0x16a6b3;},'ogfEw':_0x12d15f(-0x262,-0x1ff,-0x31a,-0x262),'SZnci':_0x178bd4(-0x139,-0x50,-0xa4,-0xce),'xJpxr':_0x178bd4(0x4d,0xaf,0x3d,0x6),'XIOIZ':function(_0x100f14,_0x5e5ba9){return _0x100f14/_0x5e5ba9;},'yISMB':function(_0x2a10c1,_0x1a3894){return _0x2a10c1/_0x1a3894;},'noirQ':function(_0x3395bb,_0x16ffce){return _0x3395bb*_0x16ffce;},'eBvFR':function(_0x1c96a7,_0x10d9f6){return _0x1c96a7===_0x10d9f6;},'jMXiH':_0x178bd4(0x86,0xb5,0x4,-0x88),'QwXaQ':function(_0x5e4f54,_0x3d8c18){return _0x5e4f54(_0x3d8c18);},'HPuWQ':function(_0x171c02,_0x48e36e){return _0x171c02(_0x48e36e);},'dSuLT':function(_0xab7181,_0x5bf04b){return _0xab7181===_0x5bf04b;},'yDoax':_0x178bd4(-0x85,-0x6b,-0xfa,-0x13f),'eRKNO':_0x12d15f(-0x1b0,-0x175,-0x1a9,-0x26d),'XUYte':_0x12d15f(-0x250,-0x1c9,-0x21f,-0x257),'PpmBF':'string','ukcYq':_0x178bd4(0x8a,0x6a,0x3a,0x5d),'SkXuU':'FLkGL','fpcDc':_0x178bd4(-0x56,0x33,-0x14,0x7),'QeIxU':function(_0x25756a,_0x4cf641){return _0x25756a!==_0x4cf641;}};if(typeof _0x84e8f6===_0x540f45[_0x12d15f(-0x120,-0x71,-0x71,-0x81)]){if(_0x540f45[_0x12d15f(-0x26c,-0x24a,-0x231,-0x306)]!==_0x540f45[_0x12d15f(-0x26c,-0x204,-0x29d,-0x2dc)])_0x6ed77=null;else return _0x84e8f6;}if(Array['isArray'](_0x84e8f6)){if(_0x540f45[_0x178bd4(-0x2a,-0x3e,-0xcc,-0x130)](_0x540f45['SkXuU'],_0x540f45['SkXuU'])){const _0x18410d=[];return _0x84e8f6['forEach']((_0x160746,_0x4002da)=>{function _0xf36a7(_0x10817b,_0x579cf0,_0x526aba,_0x234e13){return _0x12d15f(_0x526aba-0x50,_0x579cf0-0x16,_0x526aba-0xc5,_0x234e13);}function _0x4accb1(_0x223c1d,_0x110bde,_0x202b60,_0x3921e7){return _0x12d15f(_0x110bde-0x3b2,_0x110bde-0x1af,_0x202b60-0x1a5,_0x202b60);}const _0x1100ac={'caJoi':function(_0xc2bf3,_0x446a19){return _0x540f45['QwXaQ'](_0xc2bf3,_0x446a19);}},_0x1f50dc=_0x160746[_0xf36a7(-0x119,-0xe8,-0x185,-0x208)]||_0x540f45[_0xf36a7(-0x28c,-0x2d2,-0x215,-0x1e1)],_0x399dff=_0x540f45[_0xf36a7(-0x223,-0x19e,-0x1bf,-0x14f)](getRoleLabel,_0x1f50dc);_0x18410d['push'](''+'═'[_0xf36a7(-0x155,-0x14b,-0x1f8,-0x163)](0x24e5+-0x1af1+0x1*-0x9c2)),_0x18410d[_0x4accb1(0x21b,0x2ae,0x336,0x327)]('【'+_0x399dff+'】'),_0x18410d['push'](''+'─'[_0xf36a7(-0x1b0,-0x157,-0x1f8,-0x1a4)](-0xb9e+-0x7a0+0x1370));const _0x47e225=_0x160746[_0xf36a7(-0x165,-0x1c6,-0x169,-0x1eb)];if(_0x540f45['dSuLT'](typeof _0x47e225,'string'))_0x18410d[_0x4accb1(0x2c5,0x2ae,0x2f3,0x30e)](_0x47e225);else{if(Array[_0x4accb1(0x1a9,0x154,0x1dc,0x1a0)](_0x47e225)){if(_0x540f45[_0xf36a7(-0x4d,-0xd4,-0xbd,-0x15a)](_0x540f45['yDoax'],_0x540f45[_0xf36a7(-0x1c1,-0x1dc,-0x19b,-0x110)]))return function(_0x3e7a4a){const {id:_0x1f1a13}=_0x3e7a4a;function _0x10545d(_0x19e43d,_0xaf99be,_0x514bdf,_0x16e027){return _0xf36a7(_0x19e43d-0x86,_0xaf99be-0x1f0,_0x514bdf-0x126,_0x19e43d);}if(!_0x1f1a13)return;const _0x7f7861=_0x2f19a5[_0x142a2c]||_0x14635b;_0x53db80['log'](_0x10545d(-0x147,-0xb5,-0x108,-0xe7)+_0x10545d(0x69,-0x45,-0x15,0x43)+_0x7f7861+('提示词获取请求\x20(I'+_0x417cc9(0x2a9,0x235,0x270,0x31c))+_0x1f1a13+')');function _0x417cc9(_0x2e9b79,_0x20f358,_0x294d5b,_0x5a3ff7){return _0x4accb1(_0x2e9b79-0x21,_0x2e9b79-0xb8,_0x294d5b,_0x5a3ff7-0x1a5);}const _0xc323b9=_0x1100ac[_0x417cc9(0x2d8,0x32d,0x272,0x237)](_0x3d75fc,_0x21a6ec),_0x173683={};_0x173683[_0x10545d(0x3a,-0x69,-0x9,-0x6c)]=_0xc323b9,_0x173683['id']=_0x1f1a13,_0x13d6ee[_0x417cc9(0x365,0x411,0x2d7,0x346)](_0x218c65,_0x173683);};else _0x47e225['forEach'](_0xd9eb95=>{function _0x704914(_0x3356ed,_0x25064a,_0x2086bd,_0x54d174){return _0x4accb1(_0x3356ed-0xdb,_0x25064a-0x21f,_0x54d174,_0x54d174-0xb0);}function _0x2d52a3(_0x5529f7,_0x3197e2,_0x58a04b,_0x454dfa){return _0x4accb1(_0x5529f7-0x157,_0x5529f7-0x2db,_0x3197e2,_0x454dfa-0x77);}if(_0x540f45[_0x2d52a3(0x51a,0x513,0x54b,0x4b8)]!==_0x540f45['nzmtw'])_0xc10922[_0x2d52a3(0x4de,0x490,0x4c6,0x467)](),_0x371f40[_0x2d52a3(0x4ee,0x47b,0x583,0x50e)](_0x127654),_0x12e51c[_0x2d52a3(0x481,0x3f3,0x3ec,0x46a)](_0x2d52a3(0x544,0x5ce,0x496,0x4ea)+_0x704914(0x40b,0x43e,0x3b3,0x4d4)+_0x2c189b);else{if(_0x540f45[_0x2d52a3(0x548,0x550,0x51d,0x557)](_0xd9eb95[_0x2d52a3(0x4d8,0x57b,0x54d,0x43f)],'text'))_0x18410d[_0x704914(0x474,0x4cd,0x469,0x41e)](_0xd9eb95[_0x2d52a3(0x43b,0x46a,0x389,0x3f0)]||'');else{if(_0xd9eb95['type']===_0x540f45[_0x704914(0x3c8,0x3a9,0x3f2,0x410)]){const _0x413b34=_0xd9eb95[_0x704914(0x32a,0x36f,0x3a5,0x2b2)]?.[_0x2d52a3(0x469,0x439,0x527,0x45d)]||'';if(_0x413b34[_0x704914(0x4d7,0x41d,0x3f7,0x3bd)](_0x540f45['SZnci'])){const _0x31155d=_0x413b34[_0x704914(0x440,0x47e,0x417,0x489)](/^data:([^;]+);/),_0x4f736a=_0x31155d?_0x31155d[0x23d+0xea4*-0x1+0x2*0x634]:_0x540f45[_0x704914(0x3b8,0x36c,0x38d,0x397)],_0x28aeda=_0x413b34[_0x704914(0x44c,0x42e,0x48e,0x3c1)](',')[0xcc1+0x12f7+0x17*-0x161]||'',_0x2b186d=Math[_0x2d52a3(0x4e6,0x494,0x4d7,0x45b)](_0x540f45['XIOIZ'](_0x540f45[_0x704914(0x30d,0x395,0x345,0x3a7)](_0x540f45[_0x2d52a3(0x4c3,0x47a,0x540,0x454)](_0x28aeda[_0x704914(0x363,0x3c1,0x380,0x39c)],-0x2*-0x4b1+0x926+0x1285*-0x1),0xb*0x27+0x19d+-0x346),-0x23b1*0x1+0xf5d+0x1854));_0x18410d[_0x2d52a3(0x589,0x527,0x5ff,0x601)](_0x2d52a3(0x586,0x5d0,0x58c,0x5e0)+':\x20'+_0x4f736a+_0x2d52a3(0x4db,0x4b8,0x4e7,0x42a)+_0x2b186d+'KB]');}else _0x540f45[_0x704914(0x351,0x3b6,0x46a,0x455)](_0x540f45['jMXiH'],_0x704914(0x478,0x486,0x525,0x4ed))?_0x18410d['push'](_0x2d52a3(0x551,0x4a2,0x602,0x526)+_0x413b34+']'):_0xd975d(_0x2d52a3(0x529,0x5da,0x474,0x552)+_0x341400+'\x20请求，请稍候...');}}}});}}_0x18410d[_0xf36a7(-0x14f,-0xa7,-0xb4,-0xb6)]('');}),_0x18410d[_0x12d15f(-0x227,-0x24d,-0x1fc,-0x200)]('\x0a');}else _0x4f86a6=_0x540f45[_0x12d15f(-0x176,-0x22e,-0x129,-0x1aa)],_0x1b15d0[_0x178bd4(-0x17f,-0x92,-0xc7,-0x107)](_0x3848b6+(_0x12d15f(-0x266,-0x2d2,-0x314,-0x258)+_0x12d15f(-0x1c0,-0x27b,-0x221,-0x153)+_0x178bd4(-0x7e,-0xcd,-0x8a,-0xf2)+_0x178bd4(-0xd3,-0x11a,-0x8f,-0x7f)+_0x178bd4(-0x70,-0x32,-0x7e,-0x20)));}if(typeof _0x84e8f6===_0x540f45[_0x178bd4(-0x11a,0x37,-0x79,-0x63)]&&_0x540f45[_0x12d15f(-0x1be,-0x115,-0x1d7,-0x1a3)](_0x84e8f6,null))return JSON[_0x12d15f(-0x117,-0xc4,-0x113,-0x17f)](_0x84e8f6,null,-0x212d+-0x1f15+0x4044);function _0x178bd4(_0x267a73,_0x138af4,_0x2da460,_0x2b0e9c){return _0x345606(_0x2b0e9c,_0x2da460- -0x485,_0x2da460-0xe8,_0x2b0e9c-0x4b);}function _0x12d15f(_0x440aaa,_0x4f57d5,_0x4d0f07,_0x1dacd3){return _0x345606(_0x1dacd3,_0x440aaa- -0x5d4,_0x4d0f07-0x17d,_0x1dacd3-0x5c);}return _0x540f45['QwXaQ'](String,_0x84e8f6);}export function getRoleLabel(_0x47a264){const _0x2655ce={};_0x2655ce[_0x285c4d(0x277,0x1d1,0x1ea,0x298)]=_0x285c4d(0x104,0xb7,0x12a,0x165),_0x2655ce['EzaZe']=_0x1ef23e(-0x10e,-0xa9,-0x85,-0xdf),_0x2655ce[_0x1ef23e(-0x2d,-0x111,-0x124,-0xe0)]=_0x285c4d(0x42,-0x6,0xad,-0xe);function _0x1ef23e(_0x2a44b2,_0x3368d8,_0x2557ae,_0x5431ae){return _0x345606(_0x3368d8,_0x5431ae- -0x4b2,_0x2557ae-0xb7,_0x5431ae-0xc4);}function _0x285c4d(_0x349add,_0x4254a,_0x13e264,_0x141b57){return _0x345606(_0x349add,_0x13e264- -0x2cf,_0x13e264-0x76,_0x141b57-0x9b);}const _0x4d41af=_0x2655ce,_0x3bb81a={};_0x3bb81a[_0x285c4d(0x1b7,0x257,0x1ed,0x185)]=_0x4d41af['Zypdg'],_0x3bb81a['user']='用户',_0x3bb81a[_0x1ef23e(0x68,-0xf4,-0x106,-0x50)]=_0x4d41af[_0x1ef23e(-0x167,-0x72,-0xfb,-0x124)],_0x3bb81a[_0x1ef23e(-0x14d,-0x1ef,-0xaa,-0x135)]=_0x4d41af[_0x285c4d(0x75,0x151,0x103,0x138)],_0x3bb81a[_0x285c4d(0x1a5,0x173,0x187,0x239)]='工具';const _0x26f27c=_0x3bb81a;return _0x26f27c[_0x47a264]||_0x47a264;}export function getCurrentLLMProfile(){function _0x5a448a(_0xd2ee54,_0x18ede9,_0x483a14,_0x3b21be){return _0x345606(_0xd2ee54,_0x3b21be- -0x1b6,_0x483a14-0xdd,_0x3b21be-0xc1);}function _0xde6430(_0x1b8796,_0x38a602,_0x331a48,_0x3640e4){return _0x345606(_0x3640e4,_0x1b8796- -0x2d4,_0x331a48-0x4,_0x3640e4-0x1f);}const _0x23841d=extension_settings[extensionName][_0xde6430(0x1b3,0x16c,0x1e9,0x24e)+'es']||{},_0x5dfb05=extension_settings[extensionName][_0x5a448a(0x2d0,0x22f,0x189,0x229)+_0xde6430(0xc3,0x80,0x4b,0xf0)];return _0x23841d[_0x5dfb05]||_0x23841d[Object[_0x5a448a(0x2ac,0x370,0x3a8,0x2fa)](_0x23841d)[-0x9c2*-0x1+0x11*-0x10d+-0x81b*-0x1]]||{};}export function getCurrentTestContext(){const _0x289ce8=extension_settings[extensionName][_0x38da2f(0x154,0x1e8,0x230,0x1d2)+_0x38da2f(0x1ba,0x294,0x2a3,0x231)+'s']||{},_0x139be1=extension_settings[extensionName][_0x12a811(0x108,0xb6,0x10a,0x8a)+'st_context'+_0x12a811(0x1fa,0x1e3,0x1e1,0x16f)];function _0x38da2f(_0x50957f,_0x43aa7d,_0x18523e,_0x3d1a53){return _0x345606(_0x43aa7d,_0x3d1a53- -0x20a,_0x18523e-0x128,_0x3d1a53-0x6c);}function _0x12a811(_0x372377,_0x4d7eda,_0x50ba8f,_0x153e33){return _0x345606(_0x153e33,_0x372377- -0x250,_0x50ba8f-0x1cc,_0x153e33-0x68);}return _0x289ce8[_0x139be1]||_0x289ce8[Object[_0x12a811(0x260,0x308,0x28e,0x2dc)](_0x289ce8)[0x7*0x16+-0x247e+0x23e4]]||{};}export function getEffectiveConfigForRequestType(_0x4f5df0){const _0x342ec2=extension_settings[extensionName][_0x4e50cf(0x29c,0x1d5,0x239,0x1e2)+'t_type_con'+_0x1bce5c(-0x29d,-0x2cb,-0x31e,-0x2e3)]||{},_0x4f467a={};_0x4f467a[_0x4e50cf(0x20c,0x1ea,0x1f4,0x277)+'e']='默认',_0x4f467a[_0x1bce5c(-0x273,-0x23b,-0x25e,-0x27d)+_0x1bce5c(-0x242,-0x1d7,-0x2ce,-0x23d)]='默认';const _0x55a169=_0x342ec2[_0x4f5df0]||_0x4f467a,_0x23274e=extension_settings[extensionName]['llm_profil'+'es']||{},_0x200b61=extension_settings[extensionName][_0x4e50cf(0x1e5,0xfd,0x182,0x1a7)+_0x4e50cf(0x165,0x178,0x1e1,0x123)+'s']||{},_0x519d5d=_0x55a169[_0x4e50cf(0x13c,0x288,0x1f4,0x265)+'e']||'默认',_0x1e34b0=_0x23274e[_0x519d5d]||_0x23274e[Object[_0x4e50cf(0x2f0,0x2c8,0x256,0x204)](_0x23274e)[-0x1583*0x1+0x146f+0x114]]||{},_0x26ea12=_0x55a169['context_pr'+'ofile']||'默认',_0x34019e=_0x200b61[_0x26ea12]||_0x200b61[Object[_0x4e50cf(0x1b3,0x1d1,0x256,0x285)](_0x200b61)[-0x2652+-0x2*-0x1325+0x8]]||{},_0x113da8={};function _0x1bce5c(_0x39ee58,_0x337038,_0x16fccd,_0x539d84){return _0x345606(_0x539d84,_0x39ee58- -0x626,_0x16fccd-0x160,_0x539d84-0xa9);}_0x113da8[_0x1bce5c(-0x278,-0x1bb,-0x22a,-0x262)]=_0x1e34b0[_0x4e50cf(0xf4,0x1f4,0x154,0x14e)]||'',_0x113da8[_0x1bce5c(-0x2c2,-0x270,-0x281,-0x256)]=_0x1e34b0[_0x1bce5c(-0x2c2,-0x22b,-0x35a,-0x37b)]||'',_0x113da8['model']=_0x1e34b0[_0x4e50cf(0x19a,0x119,0xfb,0x104)]||'';function _0x4e50cf(_0x29a24f,_0xdbbcf3,_0x1d3a84,_0x5781f6){return _0x345606(_0x29a24f,_0x1d3a84- -0x25a,_0x1d3a84-0x9e,_0x5781f6-0xab);}return _0x113da8[_0x1bce5c(-0x28c,-0x2fb,-0x22f,-0x254)+'e']=_0x1e34b0['temperatur'+'e']??-0x395*0x6+0x3be+-0x238*-0x8+0.7,_0x113da8[_0x1bce5c(-0x1a0,-0x12a,-0xea,-0x219)]=_0x1e34b0[_0x4e50cf(0x207,0x24f,0x22c,0x1ec)]??-0x2*0x1f3+0x5d7+-0x1f0,_0x113da8[_0x1bce5c(-0x1ee,-0x235,-0x1db,-0x282)]=_0x1e34b0[_0x4e50cf(0x244,0x20f,0x1de,0x252)]??0x102e*-0x1+-0x6dd*0x1+0x190b,_0x113da8[_0x1bce5c(-0x1db,-0x1e2,-0x149,-0x1ac)]=_0x1e34b0[_0x4e50cf(0x188,0x2a7,0x1f1,0x1a5)]??![],_0x113da8[_0x4e50cf(0x2d7,0x2cf,0x226,0x1a8)+'xy']=_0x1e34b0[_0x1bce5c(-0x1a6,-0x1e0,-0x198,-0x113)+'xy']??![],_0x113da8[_0x1bce5c(-0x20a,-0x271,-0x264,-0x24a)]=_0x34019e,_0x113da8;}export function buildPromptForRequestType(_0x28e4f3,_0xa8ca6b=''){const _0x210fd4={'tqfHn':_0x3f4755(0x327,0x385,0x3c9,0x2ca),'SXqgF':_0x46a2fd(0x11f,0x116,0x146,0x169),'eNyUv':function(_0x2fa23f,_0x587cca){return _0x2fa23f+_0x587cca;},'MNiDk':'custom','gLYcu':function(_0x38e7e2,_0x5c7b5a){return _0x38e7e2===_0x5c7b5a;},'xSGCp':_0x3f4755(0x240,0x2c8,0x37c,0x2c0),'RQGOI':function(_0xbc173e,_0x26ac68){return _0xbc173e===_0x26ac68;},'lJXOV':'IizMt','mGUVj':_0x46a2fd(0x125,0x92,0x9c,0x156),'sfvjx':function(_0x2bedaa,_0x40fcb3,_0x2241c7){return _0x2bedaa(_0x40fcb3,_0x2241c7);},'WHyHZ':_0x3f4755(0x403,0x3c6,0x364,0x41f),'nXVuT':function(_0x5720fd,_0x387eec){return _0x5720fd>_0x387eec;},'ndoQY':function(_0x440346,_0x3aa0be){return _0x440346!==_0x3aa0be;},'QScXm':_0x46a2fd(0x23f,0x23c,0x1dc,0x2bd),'lYNJK':_0x3f4755(0x397,0x3c7,0x3ce,0x474),'oQZGD':_0x46a2fd(0x107,0xbf,0x186,0x19e),'FfvyD':_0x46a2fd(0xf1,0x135,0x19a,0x77),'LBmqM':_0x3f4755(0x3df,0x3b7,0x42a,0x3d9),'FBNsV':function(_0x21ed2a,_0x3c5b2e){return _0x21ed2a(_0x3c5b2e);},'mtXBf':_0x3f4755(0x2cb,0x366,0x384,0x315),'tjrSO':_0x46a2fd(0x232,0x2bd,0x2c7,0x2ce),'rBzQe':_0x3f4755(0x2c6,0x36c,0x366,0x3f0),'dnYDo':'PEWto'};function _0x3f4755(_0x238f67,_0x4f73e6,_0x172ed5,_0x4a4579){return _0x345606(_0x172ed5,_0x4f73e6- -0xab,_0x172ed5-0x24,_0x4a4579-0x140);}const _0x36c56e=extension_settings[extensionName][_0x3f4755(0x348,0x3e8,0x3c4,0x456)+'t_type_con'+_0x3f4755(0x33f,0x2de,0x2ea,0x317)]||{},_0x438156={};_0x438156['context_pr'+_0x46a2fd(0x176,0x12c,0x1a6,0xf5)]='默认';const _0x3b9592=_0x36c56e[_0x28e4f3]||_0x438156,_0x5d753c=_0x3b9592[_0x3f4755(0x342,0x308,0x252,0x393)+'ofile']||'默认',_0x151beb=extension_settings[extensionName][_0x46a2fd(0x16e,0x154,0x167,0x209)+_0x3f4755(0x418,0x390,0x2f6,0x334)+'s']||{};function _0x46a2fd(_0xe0ef46,_0x29b910,_0x189dc3,_0xb331ea){return _0x345606(_0xb331ea,_0xe0ef46- -0x26e,_0x189dc3-0x6c,_0xb331ea-0xc8);}const _0x4e2ec6=_0x151beb[_0x5d753c]||_0x151beb[Object[_0x46a2fd(0x242,0x1c5,0x24a,0x1eb)](_0x151beb)[0x1*-0x269+-0x6fb+0x4b2*0x2]]||{},_0x580546=[];if(_0x4e2ec6[_0x46a2fd(0x1b0,0x111,0x20f,0x17e)]&&Array[_0x46a2fd(0x108,0x198,0x18b,0x144)](_0x4e2ec6[_0x3f4755(0x41a,0x373,0x36e,0x2dd)])){if(_0x210fd4[_0x46a2fd(0x153,0x15d,0x128,0x116)](_0x210fd4[_0x46a2fd(0x158,0x122,0x214,0x12d)],_0x210fd4[_0x46a2fd(0x23b,0x1bd,0x1f4,0x231)]))_0x4e2ec6[_0x46a2fd(0x1b0,0x178,0x11d,0x266)][_0x46a2fd(0x201,0x1f1,0x288,0x279)](_0x180e4b=>{if(!_0x180e4b['enabled'])return;function _0x3329c9(_0x37c1d8,_0x1af66a,_0x3ac57a,_0x4b95dd){return _0x46a2fd(_0x3ac57a- -0x160,_0x1af66a-0xc6,_0x3ac57a-0x1ef,_0x1af66a);}if(!_0x180e4b['content']||_0x210fd4[_0x5d6594(0x24f,0x258,0x283,0x2d4)](_0x180e4b[_0x3329c9(-0x2f,0x3e,0x4d,0x40)]['trim'](),''))return;if(_0x210fd4[_0x3329c9(0x3f,-0x68,-0x31,-0xae)](_0x180e4b['triggerMod'+'e'],_0x210fd4['xSGCp'])){if(_0x210fd4[_0x5d6594(0x33c,0x370,0x3e7,0x307)](_0x210fd4[_0x5d6594(0x2fc,0x2a0,0x277,0x262)],_0x210fd4['mGUVj'])){let _0x4d2b8e=_0x58a6be;!_0x4d2b8e[_0x5d6594(0x3b5,0x347,0x370,0x37e)](_0x210fd4[_0x3329c9(0xab,0x13e,0x98,0x8a)])&&!_0x4d2b8e[_0x5d6594(0x23f,0x24c,0x243,0x231)](_0x210fd4[_0x5d6594(0x38d,0x357,0x2de,0x367)])&&(_0x4d2b8e=_0x210fd4['eNyUv'](_0x4d2b8e,_0x210fd4[_0x3329c9(0x11f,0x149,0x98,0x18)]));_0x4d2b8e=_0x4d2b8e[_0x5d6594(0x253,0x2ab,0x213,0x1f9)](/\/v1\/$/,_0x210fd4[_0x3329c9(0xd1,0xb1,0x98,0x116)]),_0x21ec9d=_0x3329c9(-0x7,-0x66,0x38,0x68)+_0x5d6594(0x239,0x227,0x1b8,0x2b5)+_0x5d6594(0x308,0x31f,0x313,0x2ba)+_0x5d6594(0x32b,0x2a6,0x24d,0x2bb),_0x565198=_0x2f0a53(_0x417daf[_0x3329c9(0x93,0x118,0x71,0xf2)]);const _0x1d03e8={};_0x1d03e8[_0x5d6594(0x29c,0x2d3,0x355,0x282)+'etion_sour'+'ce']=_0x210fd4[_0x3329c9(0x100,0xe7,0x9e,0xce)],_0x1d03e8[_0x5d6594(0x2f3,0x31b,0x30d,0x2d4)]=_0x4d2b8e,_0x1d03e8['custom_inc'+_0x3329c9(0x83,0x64,0xba,0x7)+'rs']=_0x3329c9(-0x75,0x79,0x3f,0x92)+_0x3329c9(-0x6d,0x68,0x35,-0x88)+_0x3329c9(-0x29,-0xd4,-0x38,-0x43)+_0x5c6098+'\x22',_0x1d03e8[_0x5d6594(0x15e,0x210,0x1c9,0x2af)]=_0x99e6e5,_0x1d03e8[_0x3329c9(-0x1f,0x20,0x82,0x10a)]=_0x269cd8,_0x1d03e8[_0x3329c9(-0xbd,-0x77,-0x34,-0xeb)+'e']=_0x4c0b70,_0x1d03e8['top_p']=_0x34aff9,_0x1d03e8['max_tokens']=_0x43a83a,_0x1d03e8[_0x3329c9(0x125,0xd8,0x7d,0x8f)]=_0x3b67f6,_0x2b5b2d=_0x1d03e8;}else{if(!_0xa8ca6b||!_0x210fd4['sfvjx'](checkTriggerWords,_0x180e4b[_0x3329c9(-0xae,0x31,-0x50,0xe)+'ds'],_0xa8ca6b))return;}}const _0x3f383a={};_0x3f383a['role']=_0x180e4b['role']||_0x5d6594(0x301,0x32d,0x2f1,0x318);function _0x5d6594(_0x1cd915,_0x25e20a,_0x2f3a2e,_0x2de777){return _0x46a2fd(_0x25e20a-0x129,_0x25e20a-0xb6,_0x2f3a2e-0x4b,_0x2f3a2e);}_0x3f383a[_0x3329c9(0xe7,-0x3,0x4d,0xb4)]=_0x180e4b[_0x5d6594(0x336,0x2d6,0x2d4,0x2b2)],_0x580546[_0x5d6594(0x38d,0x38b,0x372,0x300)](_0x3f383a);});else{const _0x1ca1ae=_0xa3b89c[_0x8f061a][_0x46a2fd(0x219,0x17e,0x2ac,0x248)+'es']||{},_0x291122=_0x29286d[_0x308ed0]['current_ll'+_0x3f4755(0x339,0x2ec,0x351,0x26b)];return _0x1ca1ae[_0x291122]||_0x1ca1ae[_0x55d80e[_0x46a2fd(0x242,0x1df,0x265,0x215)](_0x1ca1ae)[-0x1309+0xb7*-0x31+0x3610]]||{};}}else _0x4e2ec6[_0x46a2fd(0xf9,0x43,0x183,0x173)]&&Array['isArray'](_0x4e2ec6[_0x3f4755(0x2cf,0x2bc,0x366,0x2bc)])&&(_0x210fd4[_0x46a2fd(0x24a,0x276,0x1da,0x2f4)]!==_0x210fd4[_0x46a2fd(0x1cc,0x20a,0x1e8,0x1db)]?_0x4e2ec6[_0x46a2fd(0xf9,0xb6,0xca,0xed)][_0x3f4755(0x41a,0x3c4,0x477,0x3e3)](_0xe82496=>{if(_0xe82496[_0x429918(0xba,0x18b,0x19b,0xee)]&&_0xe82496[_0x429918(0x74,0x142,0xce,0xee)][_0x26e051(0x384,0x35b,0x2f9,0x37a)]()!==''){if(_0x210fd4[_0x26e051(0x2e5,0x37d,0x2ee,0x298)](_0x26e051(0x317,0x26e,0x31e,0x2e8),_0x210fd4[_0x26e051(0x35e,0x461,0x3a4,0x428)])){const _0x2a56c1={};_0x2a56c1[_0x429918(-0x16,0x11e,0x126,0x7b)]=_0x210fd4[_0x429918(0x69,0xb8,0x165,0x120)],_0x2a56c1[_0x26e051(0x342,0x28e,0x348,0x405)]=_0xe82496['user'],_0x580546[_0x26e051(0x406,0x3d4,0x3fd,0x348)](_0x2a56c1);}else{let _0x23ba1b;if(_0x210fd4[_0x26e051(0x415,0x408,0x3e2,0x480)](typeof _0x49c7b8[_0x26e051(0x33d,0x35a,0x2e7,0x363)],_0x210fd4[_0x26e051(0x38d,0x315,0x387,0x418)])&&_0x2c690a[_0x26e051(0x347,0x38e,0x2e7,0x3a5)][_0x429918(0x13e,0x12b,0xa6,0x87)]){_0x23ba1b=''+_0x399b2e[_0x429918(0x37,0xcd,0x61,0x36)][_0x26e051(0x33e,0x2c2,0x338,0x3ef)];const _0x434b6e=[];if(_0x18c94a[_0x26e051(0x2fa,0x294,0x2e7,0x294)][_0x429918(0x3f,0x37,0x54,0x9b)])_0x434b6e[_0x26e051(0x472,0x49d,0x3fd,0x3b6)]('类型:\x20'+_0x23246d['error'][_0x429918(0x57,-0xe,0xc0,0x9b)]);if(_0x4575a4['error'][_0x26e051(0x357,0x2f5,0x371,0x371)])_0x434b6e['push'](_0x429918(0xe1,0x177,0x88,0x109)+_0x2d7b2b[_0x26e051(0x37f,0x308,0x2e7,0x28d)][_0x26e051(0x337,0x3fe,0x371,0x3fd)]);_0x210fd4[_0x26e051(0x460,0x41e,0x3bf,0x443)](_0x434b6e[_0x429918(0xdb,0xfe,0x8d,0x40)],0x1b56+-0xf6*0x1a+-0x25a)&&(_0x23ba1b+='\x20('+_0x434b6e[_0x26e051(0x2c5,0x22e,0x2da,0x223)](',\x20')+')');}else _0x23ba1b=''+_0x11ca28[_0x429918(0x140,0x133,0xaf,0x139)](_0x2685a6[_0x429918(0x7f,0x8d,0x45,0x36)]);throw new _0xa2b5f4(_0x23ba1b);}}function _0x26e051(_0x38fae4,_0x894849,_0x3f0beb,_0x5058d6){return _0x46a2fd(_0x3f0beb-0x19b,_0x894849-0xd8,_0x3f0beb-0x1cb,_0x894849);}function _0x429918(_0x99eeec,_0x419be8,_0x721d67,_0x5e42d1){return _0x3f4755(_0x99eeec-0x198,_0x5e42d1- -0x2d9,_0x721d67,_0x5e42d1-0x1f2);}if(_0xe82496[_0x429918(0xba,0xf5,0xf2,0xde)]&&_0x210fd4[_0x26e051(0x2e7,0x2ea,0x2ee,0x309)](_0xe82496[_0x429918(0x55,0x8a,0x69,0xde)][_0x26e051(0x2a2,0x339,0x2f9,0x349)](),'')){if(_0x210fd4['oQZGD']===_0x210fd4[_0x429918(0x12c,0xf6,-0x34,0x7d)]){const _0x2a5ca5=_0x7d00ad[_0x429918(0x131,0x72,0xde,0x110)](-0x1d95+-0x6a*-0x2+0x1cc7),_0x438af1=_0x248ede[_0x429918(0xf0,0x4f,0x11b,0xf1)](_0x2a5ca5),_0x368b30=_0x438af1[_0x26e051(0x32c,0x20c,0x2a6,0x359)]?.[-0x26b1+-0x102*-0xc+0x1a99]?.[_0x429918(-0x30,-0x29,-0xda,-0x2b)]?.[_0x429918(0xa4,0x84,0x12f,0x97)];_0x368b30&&(_0x239081+=_0x368b30,_0x447d9d&&_0x103291(_0x11b5cd));}else{const _0x3e6f74={};_0x3e6f74[_0x26e051(0x380,0x390,0x32c,0x3e4)]=_0x210fd4[_0x429918(0x11,0x1,-0x34,0x62)],_0x3e6f74[_0x429918(0x10e,0x10b,0x3f,0x97)]=_0xe82496[_0x429918(0x5c,0x170,0x59,0xde)],_0x580546[_0x429918(0x149,0xec,0x164,0x14c)](_0x3e6f74);}}}):_0x210fd4[_0x3f4755(0x439,0x398,0x3ad,0x427)](_0x177132,_0x570f01));const _0x1a4af4=mergeAdjacentMessages(_0x580546),_0x5e2a17=processRollPlaceholders(_0x1a4af4);return _0x5e2a17;}function _0x1d89(_0x16aa2d,_0x1a5dc4){_0x16aa2d=_0x16aa2d-(0xa*0xa+0x1*0x1821+-0x17fc);const _0x398028=_0x3030();let _0xfdb4e0=_0x398028[_0x16aa2d];if(_0x1d89['oWPYYO']===undefined){var _0xa3b89c=function(_0x55d80e){const _0xb970cc='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4d5bd2='',_0x2cc960='',_0x1552cf=_0x4d5bd2+_0xa3b89c;for(let _0x2feed6=0x171e+-0x1d6a+0x64c,_0x4e0f97,_0x3596f2,_0x31fc2a=-0x16ee+0x20e9+-0x9fb;_0x3596f2=_0x55d80e['charAt'](_0x31fc2a++);~_0x3596f2&&(_0x4e0f97=_0x2feed6%(0x735*0x2+-0x1834+0x9ce)?_0x4e0f97*(-0x1ef0+0x87d+-0x1*-0x16b3)+_0x3596f2:_0x3596f2,_0x2feed6++%(-0x617*0x6+0x2058+0x436))?_0x4d5bd2+=_0x1552cf['charCodeAt'](_0x31fc2a+(-0x128+-0xe02+0xe*0x116))-(-0x2*-0x5e9+-0x18ab+0xce3)!==0x1a0f*0x1+0x21*-0x11b+-0x536*-0x2?String['fromCharCode'](-0x7*0x567+0x1cc9+0x11*0x97&_0x4e0f97>>(-(-0xb49*0x1+-0x1*-0x3be+0x78d)*_0x2feed6&-0x1*0x1d7b+0x2*0x772+0x1d*0x81)):_0x2feed6:0x23ba+-0x260f*0x1+0x255){_0x3596f2=_0xb970cc['indexOf'](_0x3596f2);}for(let _0x5ea48d=-0x2f1*0x1+-0xe1+0x3d2,_0x2c6de1=_0x4d5bd2['length'];_0x5ea48d<_0x2c6de1;_0x5ea48d++){_0x2cc960+='%'+('00'+_0x4d5bd2['charCodeAt'](_0x5ea48d)['toString'](-0x25d4+0x11*-0xf2+0x1afb*0x2))['slice'](-(0x29*0x49+0x856+-0x1405));}return decodeURIComponent(_0x2cc960);};_0x1d89['ZUsgpk']=_0xa3b89c,_0x1d89['XMgpFM']={},_0x1d89['oWPYYO']=!![];}const _0x8f061a=_0x398028[0x30d+-0x8*0x2e9+0x143b],_0x29286d=_0x16aa2d+_0x8f061a,_0x308ed0=_0x1d89['XMgpFM'][_0x29286d];if(!_0x308ed0){const _0x565966=function(_0xbf51b3){this['OeiPUF']=_0xbf51b3,this['EeocHj']=[-0x2551+0x127*0x1b+0x635,0x2*-0xf9+-0x6*-0xe5+-0x36c,-0x1*0x5b9+-0xb*-0xe5+-0x20f*0x2],this['niGjSD']=function(){return'newState';},this['jdqkGA']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['kdHYWp']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x565966['prototype']['vQYgjw']=function(){const _0x230b7d=new RegExp(this['jdqkGA']+this['kdHYWp']),_0x3795fc=_0x230b7d['test'](this['niGjSD']['toString']())?--this['EeocHj'][0x10e7+-0x34*0x6d+0x53e]:--this['EeocHj'][0x137e+0x50f*-0x2+-0x1e*0x50];return this['NMHaew'](_0x3795fc);},_0x565966['prototype']['NMHaew']=function(_0x444ee){if(!Boolean(~_0x444ee))return _0x444ee;return this['MqJHPg'](this['OeiPUF']);},_0x565966['prototype']['MqJHPg']=function(_0x5a31c8){for(let _0x480701=-0x270+0x28*-0x9f+0x1b48,_0x5dc10b=this['EeocHj']['length'];_0x480701<_0x5dc10b;_0x480701++){this['EeocHj']['push'](Math['round'](Math['random']())),_0x5dc10b=this['EeocHj']['length'];}return _0x5a31c8(this['EeocHj'][-0x6f*-0x3b+0x5*0x10+0x3b3*-0x7]);},new _0x565966(_0x1d89)['vQYgjw'](),_0xfdb4e0=_0x1d89['ZUsgpk'](_0xfdb4e0),_0x1d89['XMgpFM'][_0x29286d]=_0xfdb4e0;}else _0xfdb4e0=_0x308ed0;return _0xfdb4e0;}const _0x321371={};_0x321371[_0x158e52(-0xfd,-0x16c,-0x98,-0xf4)]=_0x345606(0x3a2,0x3b5,0x38e,0x455),_0x321371['char_desig'+'n']=_0x158e52(-0x162,-0x100,-0x1a8,-0x107),_0x321371[_0x158e52(-0xd3,-0x80,-0x50,-0x13b)+'ay']=_0x345606(0x320,0x392,0x42b,0x301),_0x321371['char_modif'+'y']=_0x345606(0x499,0x4a2,0x437,0x3e4),_0x321371[_0x345606(0x355,0x3f4,0x45f,0x436)+'n']='翻译';function _0x345606(_0x3ac11f,_0x161939,_0x454d4f,_0x40c013){return _0x1d89(_0x161939-0x2cc,_0x3ac11f);}function _0x158e52(_0x14f9ad,_0x353191,_0x1ef6af,_0xff8e2a){return _0x1d89(_0x14f9ad- -0x259,_0x1ef6af);}_0x321371[_0x158e52(-0x189,-0x235,-0x13e,-0x127)]='Tag修改';const REQUEST_TYPE_NAMES=_0x321371;export async function executeTypedLLMRequest(_0xcf9e62,_0x3abad0,_0x310c51,_0x3f9e6a=null){const _0x212c9a={'rBUGK':function(_0x388cef,_0x42306f){return _0x388cef(_0x42306f);},'OYtks':_0x3982c7(0x126,0xfd,0x1a2,0x95)+_0x1521ab(0x135,0x1d3,0x1b4,0x1b1),'RPvtv':_0x3982c7(0x1f2,0x274,0x1aa,0x1cf),'gENTH':_0x3982c7(0x145,0x143,0x15f,0x1e0)+_0x1521ab(0x1de,0x199,0x1ca,0x1e7),'uLyek':_0x3982c7(0x260,0x23f,0x2b5,0x27e)+_0x1521ab(0xb3,0xb4,0x14e,0xfa)+_0x1521ab(0x144,0xfd,0x12e,0xb3),'YASLb':_0x1521ab(0x121,0xcd,0x101,0x15f),'lhqxJ':_0x3982c7(0x1c1,0x23a,0x14d,0x14e)+'+$','uayrN':_0x1521ab(0x1c9,0x2a4,0x23d,0x2da)+_0x1521ab(0x1e4,0x2d4,0x218,0x274),'UpRdv':function(_0x37a0de,_0x70b560){return _0x37a0de??_0x70b560;},'nkeZa':_0x3982c7(0x208,0x1db,0x274,0x1e4),'YuQJJ':function(_0x39137b,_0x2cbb62){return _0x39137b+_0x2cbb62;},'vfdQl':_0x1521ab(0x164,0x1c7,0x1a7,0x1eb),'QIoXZ':function(_0x1d5b30,_0x1be1ce){return _0x1d5b30||_0x1be1ce;},'awiOD':function(_0x8a3623){return _0x8a3623();},'AmEHG':function(_0x4e75bf,_0x4ff9c1){return _0x4e75bf(_0x4ff9c1);},'DvbHs':function(_0x32d004,_0x4304ff){return _0x32d004(_0x4304ff);},'HpJNs':function(_0x4bc0c9,_0x251c02){return _0x4bc0c9(_0x251c02);},'AamDK':function(_0x25f497,_0x208632){return _0x25f497(_0x208632);},'mnGzi':function(_0x36b8a4,_0x1690b0){return _0x36b8a4||_0x1690b0;},'CXZBo':function(_0x4fe017,_0x106767){return _0x4fe017===_0x106767;},'bWomo':_0x1521ab(0x16f,0x129,0x161,0x169),'ohXap':_0x3982c7(0x123,0x113,0x107,0x197),'MmKnF':function(_0x304542,_0x9cf9bc){return _0x304542+_0x9cf9bc;},'Cqiwg':_0x3982c7(0x19c,0x111,0x20e,0x239)+_0x3982c7(0x102,0x108,0xf7,0xae)+_0x3982c7(0x1fa,0x285,0x236,0x161)+_0x3982c7(0x181,0x18b,0x23a,0x155),'qUEQs':_0x3982c7(0x1ef,0x290,0x13a,0x272),'UUbWj':function(_0x264524,_0x3cfad8,_0x3ad1dd){return _0x264524(_0x3cfad8,_0x3ad1dd);},'WUNzy':'POST','AhLYb':function(_0x33b487,_0x44fe19){return _0x33b487!==_0x44fe19;},'ADFEP':function(_0x227592,_0x5bc1d0){return _0x227592!==_0x5bc1d0;},'wvMZj':_0x1521ab(0x16c,0x18f,0xff,0xc1),'tIfMR':_0x1521ab(0x169,0x2a3,0x201,0x185),'PrBqw':function(_0x51eb41,_0x4daa1b){return _0x51eb41===_0x4daa1b;},'uXonU':_0x3982c7(0x139,0x83,0x17d,0x13a),'hVfur':_0x1521ab(0x235,0x185,0x1cb,0x1b6),'xtyOZ':'HvqzY','TVbAE':_0x3982c7(0x1c4,0x1b1,0x1da,0x219),'TcHKM':_0x3982c7(0x13c,0x17c,0x18c,0x18f),'MyhUE':function(_0x1a588c,_0x48aff7){return _0x1a588c!==_0x48aff7;},'PYlRl':function(_0x435706,_0x24a336){return _0x435706!==_0x24a336;},'ofMnD':function(_0x7e9ac1,_0x4ed5d3){return _0x7e9ac1===_0x4ed5d3;},'IejuK':_0x1521ab(0xe9,0x10f,0xe0,0x84)+'E]','ymYJC':_0x1521ab(0xea,0x37,0xda,0x6e),'nsPjz':_0x3982c7(0x15d,0x193,0x1a3,0xc6),'oHAbU':function(_0x1cbead,_0x3cd872){return _0x1cbead!==_0x3cd872;},'ThrcQ':_0x1521ab(0x98,0xc8,0x145,0x1d4),'MFIIm':_0x3982c7(0x16e,0xc7,0x124,0x16b),'ifMJq':_0x3982c7(0x234,0x2ce,0x2d1,0x232),'LYRax':function(_0x254a45,_0x104710){return _0x254a45(_0x104710);},'kJiIx':_0x1521ab(0x1bf,0x2ea,0x235,0x193)+_0x3982c7(0x1fd,0x211,0x1b2,0x17b),'wIdHR':_0x1521ab(0x1bf,0x207,0x163,0xf9),'vIcKo':'kVVIF','eCOdZ':function(_0x3bb26c,_0x243fe1){return _0x3bb26c!==_0x243fe1;},'QnrCT':_0x1521ab(0x138,0xa2,0x147,0xb9),'tClmy':_0x3982c7(0x207,0x19b,0x211,0x2c2),'EJoJV':function(_0x1a4062,_0x348677){return _0x1a4062>_0x348677;},'MUQkv':_0x1521ab(0x110,0xea,0x117,0x1cb),'yjepy':_0x3982c7(0x11a,0x16e,0x181,0x1a9),'HMJes':function(_0x230b03,_0x1c651f){return _0x230b03(_0x1c651f);},'uElHf':function(_0x208bf0,_0x2a2980){return _0x208bf0(_0x2a2980);},'bNCxe':'MJKox','qCDay':_0x3982c7(0x1d2,0x162,0x14b,0x195),'ihBJb':function(_0x173fa9,_0x51556a){return _0x173fa9(_0x51556a);},'CAnRZ':function(_0x1b9d48,_0x597b76){return _0x1b9d48===_0x597b76;},'dytKK':_0x3982c7(0x13d,0xc5,0x113,0xcc),'oLcCB':_0x3982c7(0x18b,0x1df,0x154,0x22d),'ShWEx':function(_0x1a03a4,_0x5e7854){return _0x1a03a4===_0x5e7854;},'udDde':function(_0x4c90c6){return _0x4c90c6();}},{prompt:_0x327093,id:_0x10a2e5}=_0xcf9e62;if(_0x212c9a[_0x3982c7(0x11b,0xa5,0xb3,0xec)](!_0x10a2e5,!_0x327093))return;currentLLMRequestController&&(currentLLMRequestController[_0x3982c7(0x1bb,0x149,0x269,0x1ac)](),toastr['info'](_0x212c9a[_0x3982c7(0x19e,0x193,0x205,0x100)]));currentLLMRequestController=new AbortController();const _0x89e1d1=currentLLMRequestController[_0x3982c7(0x20e,0x216,0x24a,0x2a0)],_0x392486=currentLLMRequestController,_0x2e7370=REQUEST_TYPE_NAMES[_0x3abad0]||_0x3abad0,_0x3c40f5={};_0x3c40f5['name']=_0x3982c7(0x141,0x1a1,0xd5,0x13b)+_0x2e7370,_0x3c40f5[_0x1521ab(0x216,0xd9,0x196,0x1a5)]=TaskType[_0x1521ab(0xe3,0x140,0x14d,0x199)],_0x3c40f5['prompt']=_0x10a2e5;const _0x4fce80=taskQueue['addTask'](_0x3c40f5);llmTaskControllers[_0x3982c7(0x1c8,0x1a2,0x115,0x161)](_0x4fce80,currentLLMRequestController);function _0x3982c7(_0x39880e,_0x3b1777,_0x3109ca,_0x56ab19){return _0x345606(_0x56ab19,_0x39880e- -0x26a,_0x3109ca-0x18c,_0x56ab19-0x91);}taskQueue[_0x3982c7(0x247,0x228,0x1e5,0x296)+'us'](_0x4fce80,TaskStatus[_0x3982c7(0x196,0x10a,0x1f3,0x1e7)]),_0x212c9a['awiOD'](startFabLoading);let _0x2ebb8c=![];_0x212c9a[_0x3982c7(0x235,0x2ac,0x2a2,0x25d)](clearLog),_0x212c9a[_0x1521ab(0x15b,0x59,0xf8,0x7e)](addLog,_0x3982c7(0x131,0xf0,0x17e,0x8d)+_0x1521ab(0x1d3,0x1b7,0x226,0x1aa)+_0x2e7370+_0x3982c7(0x185,0x1b8,0x156,0x187)),_0x212c9a[_0x1521ab(0x163,0x200,0x14c,0x1d0)](addLog,'请求\x20ID:\x20'+_0x10a2e5),_0x212c9a['HpJNs'](addLog,_0x3982c7(0x251,0x241,0x25b,0x26c)+':'),_0x212c9a[_0x1521ab(0x2b9,0x2dc,0x21f,0x296)](addLog,_0x212c9a[_0x1521ab(0xb3,0xaa,0x14c,0xae)](formatPromptForDisplay,_0x327093));const _0xf35fb8=_0x212c9a[_0x3982c7(0x1ab,0x1ce,0x1e9,0x1ac)](getEffectiveConfigForRequestType,_0x3abad0),{api_url:_0x2f4790,api_key:_0x105792,model:_0x3c3f9a,temperature:_0x129c18,top_p:_0x4930b5,max_tokens:_0x3ef28f,stream:_0x420731,bypass_proxy:_0x197048}=_0xf35fb8;function _0x1521ab(_0x3e9e71,_0x2577ef,_0xe93b1e,_0x586dc5){return _0x158e52(_0xe93b1e-0x29c,_0x2577ef-0x11,_0x2577ef,_0x586dc5-0xdc);}if(_0x212c9a[_0x1521ab(0x19b,0x1dd,0x20c,0x29c)](!_0x2f4790,!_0x105792)||!_0x3c3f9a){const _0x39e6ee=_0x2e7370+(':\x20API\x20URL,'+_0x3982c7(0x1fb,0x1d8,0x24e,0x176)+_0x1521ab(0x139,0x16c,0xee,0x118)+'置。');toastr[_0x3982c7(0x150,0xe9,0xe6,0x9c)](_0x39e6ee);const _0x189f9b={};_0x189f9b['success']=![],_0x189f9b['result']=_0x39e6ee,_0x189f9b['id']=_0x10a2e5,eventSource[_0x3982c7(0x265,0x321,0x1b7,0x2d8)](_0x310c51,_0x189f9b);return;}const _0x2f995a=_0x2f4790['replace'](/\/$/,'');let _0xa2ae10,_0x369be9,_0x344862;if(_0x197048){_0xa2ae10=_0x2f995a+(_0x3982c7(0x190,0x1a0,0x16a,0x12b)+'letions');const _0x501dec={};_0x501dec[_0x1521ab(0x196,0x179,0x144,0x1a1)+'pe']=_0x212c9a[_0x1521ab(0xa7,0x94,0x132,0x78)],_0x501dec[_0x1521ab(0x21f,0x1f2,0x184,0x11f)+_0x3982c7(0x134,0x1df,0xfa,0x1a9)]=_0x3982c7(0x264,0x1a7,0x26e,0x258)+_0x105792,_0x369be9=_0x501dec;const _0x684332={};_0x684332[_0x1521ab(0x11f,0xb3,0xcc,0x79)]=_0x3c3f9a,_0x684332[_0x3982c7(0x1e6,0x1fd,0x130,0x1ff)]=_0x327093,_0x684332[_0x3982c7(0x130,0x18b,0x1e5,0x82)+'e']=_0x129c18,_0x684332[_0x1521ab(0x1cc,0x1a3,0x1fd,0x1e2)]=_0x4930b5,_0x684332[_0x3982c7(0x1ce,0x15e,0x259,0x274)]=_0x3ef28f,_0x684332[_0x3982c7(0x1e1,0x28f,0x255,0x1f7)]=_0x420731,_0x344862=_0x684332;}else{if(_0x212c9a[_0x1521ab(0xe9,0xe6,0xce,0x57)](_0x212c9a[_0x1521ab(0x294,0x2a2,0x21a,0x26c)],_0x3982c7(0x1a8,0x1d4,0x214,0x182)))_0x56abe7+=_0x28c662,_0x906788&&_0x212c9a[_0x1521ab(0x22f,0x23a,0x21f,0x16f)](_0x349be0,_0x35dafd);else{let _0x43e3a9=_0x2f995a;!_0x43e3a9[_0x1521ab(0x215,0x16e,0x203,0x1bd)]('/v1')&&!_0x43e3a9[_0x1521ab(0x1a4,0x1a1,0x108,0x180)](_0x212c9a['ohXap'])&&(_0x43e3a9=_0x212c9a[_0x3982c7(0x14e,0x1d3,0x18a,0x17e)](_0x43e3a9,_0x3982c7(0x1c6,0x129,0x1f1,0x253)));_0x43e3a9=_0x43e3a9[_0x1521ab(0x188,0x19d,0x167,0x1bd)](/\/v1\/$/,_0x3982c7(0x1c6,0x12e,0x1db,0x142)),_0xa2ae10=_0x212c9a[_0x3982c7(0xf2,0x18c,0xc3,0xcb)],_0x369be9=_0x212c9a['DvbHs'](getRequestHeaders,window[_0x3982c7(0x1d5,0x1e3,0x18a,0x1fd)]);const _0x373bf5={};_0x373bf5[_0x1521ab(0x1aa,0x19e,0x18f,0x237)+_0x3982c7(0x193,0x19f,0x1e7,0x117)+'ce']=_0x212c9a['qUEQs'],_0x373bf5[_0x1521ab(0x131,0x160,0x1d7,0x244)]=_0x43e3a9,_0x373bf5['custom_inc'+_0x3982c7(0x21e,0x178,0x1cb,0x179)+'rs']='Authorizat'+_0x3982c7(0x199,0x1fc,0x13c,0x1e3)+_0x1521ab(0x7b,0xec,0x10d,0xcb)+_0x105792+'\x22',_0x373bf5[_0x3982c7(0xeb,0x2e,0x197,0xb6)]=_0x3c3f9a,_0x373bf5[_0x3982c7(0x1e6,0x16b,0x146,0x2a0)]=_0x327093,_0x373bf5[_0x1521ab(0x8b,0xce,0x111,0x6e)+'e']=_0x129c18,_0x373bf5[_0x1521ab(0x1a4,0x2a3,0x1fd,0x287)]=_0x4930b5,_0x373bf5[_0x3982c7(0x1ce,0x213,0x17e,0x171)]=_0x3ef28f,_0x373bf5[_0x1521ab(0x158,0x173,0x1c2,0x1d1)]=_0x420731,_0x344862=_0x373bf5;}}_0x3f9e6a&&_0x212c9a[_0x3982c7(0x16b,0xe9,0xf1,0x146)](_0x3f9e6a,_0x3982c7(0x206,0x16e,0x230,0x2a0)+_0x2e7370+'\x20请求，请稍候...');try{const _0x1a64c2=await _0x212c9a[_0x3982c7(0x1c9,0x1ff,0x25f,0x17f)](fetch,_0xa2ae10,{'method':_0x212c9a[_0x1521ab(0x1f7,0x1f7,0x1e4,0x1d0)],'headers':_0x369be9,'body':JSON[_0x1521ab(0x2ad,0x188,0x234,0x225)](_0x344862),'signal':_0x89e1d1});if(!_0x1a64c2['ok']){if(_0x212c9a[_0x1521ab(0x23e,0x233,0x231,0x2ba)]('LvjgU',_0x1521ab(0x1bf,0x1b6,0x106,0xf0)))_0x4fe505[_0x3982c7(0x266,0x2f1,0x31f,0x2e1)](_0x2af763[_0x1521ab(0x151,0x115,0xf9,0x141)]||'');else{try{if(_0x212c9a[_0x1521ab(0x161,0x27e,0x212,0x1fc)](_0x212c9a[_0x1521ab(0x1ca,0x1ce,0x16f,0xd1)],_0x212c9a[_0x3982c7(0x18e,0x212,0x21d,0x12f)]))_0x5b3b93['abort'](),_0x308fae['info'](_0x212c9a[_0x1521ab(0x1f8,0x1e8,0x17f,0x1e2)]);else{const _0x47f637=await _0x1a64c2[_0x1521ab(0xc4,0xbc,0xf1,0x40)]();if(_0x47f637[_0x1521ab(0xcc,0x7a,0x131,0xd9)]){if(_0x212c9a[_0x3982c7(0xed,0x147,0xe5,0x118)]('VYmSG',_0x212c9a[_0x1521ab(0x275,0x2dd,0x23f,0x24b)])){let _0x469c47;if(_0x212c9a[_0x3982c7(0x226,0x194,0x28a,0x16b)](typeof _0x47f637[_0x1521ab(0x1bd,0x148,0x131,0x140)],_0x1521ab(0x193,0x14d,0x1e8,0x273))&&_0x47f637[_0x1521ab(0x119,0xdc,0x131,0x91)][_0x1521ab(0x1a3,0x232,0x182,0xd1)]){if(_0x212c9a['PrBqw'](_0x1521ab(0x111,0x1df,0x16e,0x175),'TEwDv'))return!!_0x16bd23;else{_0x469c47=''+_0x47f637[_0x3982c7(0x150,0x203,0x16e,0x1dc)][_0x3982c7(0x1a1,0x1e7,0x15c,0x1c1)];const _0x1c3add=[];if(_0x47f637[_0x3982c7(0x150,0x1dc,0x1ea,0xc0)][_0x3982c7(0x1b5,0x15a,0x23f,0x235)])_0x1c3add['push'](_0x3982c7(0x261,0x24d,0x240,0x1a5)+_0x47f637[_0x3982c7(0x150,0x146,0x18a,0x1c5)][_0x3982c7(0x1b5,0x247,0x25d,0x111)]);if(_0x47f637['error'][_0x3982c7(0x1da,0x1eb,0x1e7,0x241)])_0x1c3add[_0x3982c7(0x266,0x284,0x1d5,0x232)](_0x3982c7(0x223,0x29b,0x211,0x28e)+_0x47f637['error'][_0x1521ab(0x1ef,0x245,0x1bb,0x221)]);_0x1c3add[_0x3982c7(0x15a,0xea,0x193,0x1b6)]>-0x1*0x2497+-0x2173+0x16*0x32f&&(_0x212c9a[_0x3982c7(0x226,0x21d,0x1b6,0x23f)](_0x212c9a['uXonU'],_0x212c9a[_0x3982c7(0x179,0xbd,0xd2,0x124)])?_0x2ecfc1[_0x3982c7(0x266,0x232,0x27b,0x1c0)](_0x1521ab(0x1be,0x21c,0x20f,0x236)+_0x3684ea+']'):_0x469c47+='\x20('+_0x1c3add[_0x3982c7(0x143,0x169,0xc4,0x14d)](',\x20')+')');}}else _0x469c47=''+JSON['stringify'](_0x47f637[_0x3982c7(0x150,0x1d6,0x1ae,0x141)]);throw new Error(_0x469c47);}else _0x19e71e=_0x185201;}}}catch(_0x3eb087){if(_0x212c9a[_0x1521ab(0x1ca,0x23a,0x207,0x22c)](_0x212c9a['xtyOZ'],_0x212c9a['xtyOZ'])){if(_0x3eb087[_0x3982c7(0x1a1,0x11b,0xf3,0x19e)]['includes'](_0x212c9a[_0x1521ab(0x189,0x21,0xd7,0xba)])||_0x3eb087['message'][_0x1521ab(0x53,0x71,0x108,0xaa)](_0x212c9a[_0x1521ab(0x13c,0x119,0x136,0x17a)])){if(_0x212c9a[_0x3982c7(0x152,0x203,0x198,0x202)](_0x1521ab(0x23c,0x1e1,0x1e2,0x157),_0x3982c7(0x22f,0x17b,0x2b3,0x1d5)))throw _0x3eb087;else _0x2cb2f2+='\x20('+_0x2abf05['join'](',\x20')+')';}}else _0x4eb8e1+='\x20('+_0x49b4d7[_0x3982c7(0x143,0x1c3,0x8b,0xfb)](',\x20')+')';}throw new Error(_0x3982c7(0xf4,0xb5,0x6d,0xef)+_0x1a64c2[_0x1521ab(0x1a1,0x70,0xfe,0xb4)]+'\x20'+_0x1a64c2[_0x3982c7(0x148,0xd1,0xd8,0x1ab)]);}}let _0x543845='';if(_0x420731){const _0x1da528=_0x1a64c2[_0x3982c7(0x1bd,0x122,0x116,0x17f)][_0x3982c7(0x259,0x22f,0x249,0x1c3)](),_0x510568=new TextDecoder(_0x1521ab(0x2b1,0x293,0x20d,0x2c5));let _0x4675ba='';while(!![]){if(_0x212c9a[_0x3982c7(0x119,0x1ac,0x184,0x1b7)](_0x1521ab(0x10a,0x1b2,0x1ad,0x150),_0x1521ab(0x174,0xbc,0x152,0x117))){const {done:_0x379f14,value:_0x1d3f78}=await _0x1da528[_0x1521ab(0x2ba,0x203,0x211,0x1d7)]();if(_0x379f14)break;const _0x5bbb99={};_0x5bbb99[_0x3982c7(0x1e1,0x295,0x1de,0x238)]=!![],_0x4675ba+=_0x510568['decode'](_0x1d3f78,_0x5bbb99);const _0x3329f7=_0x4675ba[_0x1521ab(0x259,0x182,0x1a8,0xf1)]('\x0a');_0x4675ba=_0x3329f7[_0x1521ab(0xa6,0x8f,0xe7,0x53)]()||'';for(const _0x110dd4 of _0x3329f7){const _0x570a0b=_0x110dd4[_0x1521ab(0x11f,0x10e,0x143,0x161)]();if(!_0x570a0b||_0x212c9a['ofMnD'](_0x570a0b,_0x212c9a['IejuK']))continue;if(_0x570a0b[_0x3982c7(0x1b6,0x115,0x17f,0x1fe)](_0x212c9a['ymYJC'])){if(_0x212c9a[_0x1521ab(0x202,0x15f,0x212,0x192)](_0x1521ab(0x1be,0x110,0x13e,0x91),_0x212c9a[_0x1521ab(0x240,0x248,0x1f4,0x222)])){const _0x5813f2=(_0x3982c7(0x1fe,0x146,0x287,0x1e8)+'0')[_0x1521ab(0x215,0x226,0x1a8,0x234)]('|');let _0x1a8734=0x25*0xa9+0xb*-0x9d+-0x1f*0x92;while(!![]){switch(_0x5813f2[_0x1a8734++]){case'0':return;case'1':_0x182054[_0x1521ab(0x254,0x1f5,0x228,0x1da)+'us'](_0x2b730a,_0x193d12[_0x1521ab(0x1ae,0x2a0,0x223,0x232)]);continue;case'2':_0x2283f3[_0x1521ab(0x10c,0xf2,0x1ac,0x1b7)](_0x16b992);continue;case'3':const _0x188775={};_0x188775['name']=_0x212c9a[_0x1521ab(0xcd,0xf5,0x159,0x15c)],_0x188775[_0x3982c7(0x1a1,0x12f,0x1f8,0x17c)]=_0x212c9a[_0x3982c7(0x1dc,0x1b4,0x12e,0x1fa)];const _0x3197de={};_0x3197de[_0x1521ab(0x93,0xbe,0x11b,0xe2)]=![],_0x3197de[_0x1521ab(0x1a2,0x1d8,0x1ce,0x1d7)]=null,_0x3197de['id']=_0x3fe8b3,_0x3197de[_0x1521ab(0xc5,0x109,0x131,0x17b)]=_0x188775,_0x37df56['emit'](_0x57811d['LLM_EXECUT'+_0x1521ab(0x24d,0x1dd,0x221,0x288)],_0x3197de);continue;case'4':_0x3276d1=!![];continue;case'5':_0x30a8e8[_0x3982c7(0x15e,0xbd,0x1c1,0xe0)](_0x212c9a[_0x3982c7(0x17d,0xe5,0x1ab,0x1d3)]);continue;}break;}}else try{if(_0x212c9a[_0x1521ab(0x19b,0x153,0x1e1,0x23b)](_0x212c9a[_0x3982c7(0x1a4,0x173,0x108,0x182)],_0x212c9a['MFIIm'])){const _0x1c41b3=_0x570a0b['slice'](0x4d2+0x92b+0xb*-0x145),_0x35dd0f=JSON[_0x1521ab(0x188,0x224,0x1ec,0x256)](_0x1c41b3),_0x2018e0=_0x35dd0f['choices']?.[-0x51*0x61+0x1*-0xe2d+0x2cde]?.[_0x1521ab(0xba,0xb0,0xd0,0x1e)]?.['content'];_0x2018e0&&(_0x1521ab(0x270,0x1ce,0x215,0x278)===_0x212c9a['ifMJq']?(_0x543845+=_0x2018e0,_0x3f9e6a&&_0x212c9a[_0x1521ab(0xe7,0x194,0x18c,0x1e5)](_0x3f9e6a,_0x543845)):(_0x33699f[_0x1521ab(0x188,0x19b,0x19c,0x1fa)](),_0x134628['info'](_0x212c9a[_0x3982c7(0x12a,0xd4,0x1bc,0xcb)])));}else return _0x188930[_0x3982c7(0x25a,0x1ad,0x2fd,0x1be)]()[_0x1521ab(0x98,0x172,0xef,0xc4)](Ueeocq[_0x1521ab(0x119,0xc1,0xf2,0x102)])[_0x3982c7(0x25a,0x1fc,0x1f5,0x2c6)]()[_0x1521ab(0x217,0x1eb,0x164,0xea)+'r'](_0x52d1f1)[_0x3982c7(0x10e,0x17b,0xf2,0x188)]('(((.+)+)+)'+'+$');}catch(_0x352b28){console['warn'](_0x1521ab(0x1d7,0x1cf,0x1a0,0x1e5),_0x352b28[_0x3982c7(0x1a1,0xfa,0x102,0x1fa)]);}}}}else{_0x113279=_0x29b789+(_0x3982c7(0x190,0x23e,0x1ca,0xfd)+'letions');const _0x5b5a12={};_0x5b5a12['Content-Ty'+'pe']=_0x212c9a[_0x3982c7(0x151,0x177,0x1c4,0x95)],_0x5b5a12['Authorizat'+_0x3982c7(0x134,0x1ed,0x145,0x1ce)]=_0x1521ab(0x2e4,0x248,0x245,0x213)+_0x3da493,_0x25ae46=_0x5b5a12,_0x549e95={'model':_0x5c5c58,'messages':_0x57220a,'temperature':_0x402be6,'top_p':_0x5dbae8,'max_tokens':_0x2a5183,'stream':_0x212c9a[_0x1521ab(0x174,0x13e,0xd1,0x136)](_0x3fe54c,![])};}}if(_0x4675ba[_0x3982c7(0x162,0xec,0x15b,0x1f9)]()&&_0x212c9a['PYlRl'](_0x4675ba['trim'](),_0x212c9a[_0x1521ab(0x221,0x1af,0x243,0x1b4)])&&_0x4675ba['trim']()[_0x3982c7(0x1b6,0x1a9,0x159,0x1f1)](_0x212c9a[_0x1521ab(0x160,0x167,0x187,0x112)]))try{const _0x5bfcb0=_0x4675ba['trim']()['slice'](-0xd4*0xb+-0x21d8+0x2*0x157d),_0xa35c53=JSON[_0x1521ab(0x1df,0x239,0x1ec,0x256)](_0x5bfcb0),_0x5f028c=_0xa35c53[_0x1521ab(0x45,0xaa,0xf0,0x17f)]?.[0x12ce+-0x67f*-0x2+-0x1fcc]?.['delta']?.[_0x1521ab(0x219,0xf9,0x192,0x1a7)];_0x5f028c&&(_0x543845+=_0x5f028c,_0x3f9e6a&&_0x212c9a[_0x3982c7(0x1bc,0x1dd,0x13d,0x11e)](_0x3f9e6a,_0x543845));}catch(_0x28bb60){console[_0x3982c7(0x256,0x1f6,0x1a9,0x28c)](_0x212c9a[_0x3982c7(0x1ff,0x2a9,0x1e5,0x2a2)],_0x28bb60['message']);}if(!_0x543845){if(_0x212c9a[_0x1521ab(0x20b,0x29d,0x21d,0x2ac)](_0x212c9a[_0x1521ab(0x1a1,0xc9,0x179,0x1a4)],_0x3982c7(0x182,0x216,0x1cb,0x13c)))_0x543845=_0x1521ab(0x7c,0xe7,0xfb,0x1b9),toastr[_0x3982c7(0x154,0x198,0x10e,0xf4)](_0x2e7370+(_0x1521ab(0x164,0x122,0xe5,0x19e)+_0x1521ab(0x1f0,0x124,0x18b,0x1a3)+'断、max_toke'+_0x1521ab(0xf5,0xfa,0x16d,0x109)+'API\x20连接问题。'));else{const _0x2dd7ca={};_0x2dd7ca[_0x3982c7(0x195,0x1b5,0x184,0x1c9)]=_0x212c9a['nkeZa'],_0x2dd7ca[_0x1521ab(0x249,0x24b,0x192,0x210)]=_0xa97d3c[_0x3982c7(0x208,0x24e,0x16a,0x163)],_0x449227['push'](_0x2dd7ca);}}}else{if(_0x212c9a[_0x3982c7(0x152,0x1b0,0x205,0x97)](_0x212c9a[_0x1521ab(0x22a,0x172,0x1c6,0x1c9)],_0x212c9a[_0x3982c7(0x1e5,0x25f,0x1e7,0x1dd)]))return;else{const _0x26ad37=await _0x1a64c2[_0x3982c7(0x110,0x1a0,0x121,0x8d)]();if(_0x26ad37[_0x1521ab(0x10c,0x13c,0x131,0x102)]){if(_0x212c9a[_0x1521ab(0x125,0x184,0x146,0x1ea)](_0x212c9a[_0x1521ab(0xef,0xa5,0x11c,0x1be)],_0x3982c7(0x166,0x204,0x20c,0x16e))){const {id:_0x1e3f07}=_0x276deb;if(!_0x1e3f07)return;const _0x145172=_0x281dc9[_0x31ae43]||_0x25442c;_0x570815[_0x3982c7(0x15e,0xd6,0x11c,0x20b)](_0x3982c7(0xec,0x16a,0x18d,0x19c)+_0x3982c7(0x1df,0x1c4,0x18f,0x188)+_0x145172+(_0x3982c7(0x189,0x179,0x138,0x171)+_0x3982c7(0x1a9,0xfc,0x136,0x235))+_0x1e3f07+')');const _0x357570=_0x212c9a[_0x3982c7(0x23e,0x248,0x281,0x1c0)](_0x3b39e4,_0xe9161a),_0x12b04e={};_0x12b04e[_0x3982c7(0x1eb,0x1fe,0x152,0x23f)]=_0x357570,_0x12b04e['id']=_0x1e3f07,_0x59d06e[_0x1521ab(0x263,0x1db,0x246,0x212)](_0x508959,_0x12b04e);}else{let _0x5ac088;if(_0x212c9a[_0x1521ab(0x215,0x1fc,0x207,0x1a3)](typeof _0x26ad37['error'],_0x212c9a[_0x3982c7(0x249,0x292,0x21e,0x1b4)])&&_0x26ad37[_0x1521ab(0x19d,0x121,0x131,0x1b0)]['message']){_0x5ac088=''+_0x26ad37['error'][_0x1521ab(0x1e3,0x200,0x182,0x186)];const _0x1bdd7a=[];if(_0x26ad37[_0x3982c7(0x150,0x162,0x1ae,0x184)][_0x1521ab(0x1d4,0xde,0x196,0x156)])_0x1bdd7a[_0x1521ab(0x19d,0x237,0x247,0x203)](_0x1521ab(0x259,0x1d4,0x242,0x2b9)+_0x26ad37[_0x1521ab(0xc9,0x1e9,0x131,0xeb)][_0x3982c7(0x1b5,0x187,0x21e,0x260)]);if(_0x26ad37[_0x1521ab(0x160,0x1bb,0x131,0x9d)][_0x3982c7(0x1da,0x1f4,0x14d,0x24d)])_0x1bdd7a[_0x3982c7(0x266,0x214,0x2e4,0x2bd)]('代码:\x20'+_0x26ad37[_0x3982c7(0x150,0xa2,0x130,0xbc)]['code']);_0x212c9a[_0x3982c7(0x1b3,0x144,0x1cb,0x174)](_0x1bdd7a[_0x1521ab(0x1aa,0x1c3,0x13b,0x91)],0x1f8c+-0x5ff*-0x3+-0x3189)&&(_0x5ac088+='\x20('+_0x1bdd7a['join'](',\x20')+')');}else{if(_0x212c9a[_0x3982c7(0xed,0x126,0xaf,0x30)](_0x212c9a[_0x1521ab(0x17f,0x14f,0x155,0x150)],_0x1521ab(0x114,0xf5,0x117,0x132)))_0x5ac088=''+JSON[_0x1521ab(0x1cd,0x182,0x234,0x1ca)](_0x26ad37[_0x3982c7(0x150,0xc6,0x9f,0xea)]);else{const _0xd01d6d=_0x1d3760[_0x3ffba0]['llm_reques'+_0x3982c7(0x233,0x28c,0x1c3,0x2b6)+'figs']||{},_0x604239={};_0x604239['api_profil'+'e']='默认',_0x604239[_0x1521ab(0x149,0x12f,0x12a,0x14e)+'ofile']='默认';const _0xc1fb55=_0xd01d6d[_0x13bb8f]||_0x604239,_0x4c061c=_0x596f89[_0x4ed8ea]['llm_profil'+'es']||{},_0x466fe6=_0x52f1dc[_0x44b22f][_0x1521ab(0x1da,0x185,0x153,0xe7)+_0x1521ab(0x1ff,0x15b,0x1b2,0x228)+'s']||{},_0x5874a1=_0xc1fb55[_0x3982c7(0x1e4,0x1e3,0x252,0x1a2)+'e']||'默认',_0x5102b5=_0x4c061c[_0x5874a1]||_0x4c061c[_0x219ae6[_0x3982c7(0x246,0x2f6,0x205,0x1a0)](_0x4c061c)[-0x1*0x155e+0x50*0x55+0x85*-0xa]]||{},_0x582f31=_0xc1fb55[_0x3982c7(0x149,0x1a3,0x1b3,0x18d)+_0x1521ab(0x205,0xa5,0x15b,0xfd)]||'默认',_0x56b1bb=_0x466fe6[_0x582f31]||_0x466fe6[_0x1f8a1b[_0x1521ab(0x2c1,0x292,0x227,0x1d6)](_0x466fe6)[-0x1f24+0xe2*0x13+0xe5e]]||{},_0x230856={};return _0x230856['api_url']=_0x5102b5[_0x3982c7(0x144,0x94,0x161,0x172)]||'',_0x230856[_0x3982c7(0xfa,0x1b0,0x114,0x61)]=_0x5102b5['api_key']||'',_0x230856['model']=_0x5102b5['model']||'',_0x230856[_0x3982c7(0x130,0xa0,0x17a,0x127)+'e']=_0x5102b5[_0x3982c7(0x130,0x9c,0x9e,0x120)+'e']??-0x99e*0x1+0x25*-0x46+0x13bc+0.7,_0x230856[_0x1521ab(0x20b,0x169,0x1fd,0x263)]=_0x5102b5[_0x3982c7(0x21c,0x205,0x1fa,0x22a)]??0x10c3+-0xd8a+-0x338,_0x230856[_0x3982c7(0x1ce,0x128,0x276,0x263)]=_0x5102b5['max_tokens']??-0x130+0xc1*0xe+-0x75e*0x1,_0x230856['stream']=_0x5102b5[_0x1521ab(0x201,0x273,0x1c2,0x22e)]??![],_0x230856[_0x1521ab(0x207,0x281,0x1f7,0x1ee)+'xy']=_0x5102b5[_0x1521ab(0x1c6,0x13e,0x1f7,0x1d1)+'xy']??![],_0x230856[_0x1521ab(0x23d,0x150,0x193,0x24c)]=_0x56b1bb,_0x230856;}}throw new Error(_0x5ac088);}}_0x543845=_0x26ad37[_0x1521ab(0x108,0xd4,0xf0,0x10a)]?.[0x7b9*0x5+0x4b*-0x7b+-0xdc*0x3]?.[_0x3982c7(0x1a1,0x19a,0x1cf,0x134)]?.['content']||'',!_0x543845&&(_0x543845=_0x212c9a[_0x1521ab(0x123,0x138,0xe8,0xac)],toastr[_0x3982c7(0x154,0x108,0x152,0x1a8)](_0x2e7370+(_0x1521ab(0x70,0x72,0xe5,0x16a)+'为空，可能是请求被截'+_0x1521ab(0xc9,0xde,0x172,0xd3)+_0x3982c7(0x18c,0x1ea,0x1ba,0x23c)+_0x1521ab(0x1fd,0x143,0x17e,0x20a)))),_0x3f9e6a&&_0x212c9a['HMJes'](_0x3f9e6a,_0x543845);}}_0x212c9a[_0x3982c7(0x117,0x116,0x9d,0x19d)](addLog,_0x1521ab(0x154,0x141,0x137,0xab)+'\x20回复\x20-----'),_0x212c9a[_0x1521ab(0x113,0x174,0x120,0x17d)](addLog,_0x543845),_0x212c9a[_0x3982c7(0x13f,0xea,0x18c,0x97)](addLog,_0x3982c7(0x131,0x84,0xad,0x1b1)+_0x3982c7(0x21b,0x194,0x21a,0x1af)),taskQueue['completeTa'+'sk'](_0x4fce80,!![]),llmTaskControllers[_0x3982c7(0x1cb,0x1e1,0x154,0x1f8)](_0x4fce80);const _0x383baa={};_0x383baa[_0x1521ab(0xb7,0xd8,0x11b,0xe1)]=!![],_0x383baa[_0x1521ab(0x182,0x1fc,0x1ce,0x140)]=_0x543845,_0x383baa['id']=_0x10a2e5,_0x383baa[_0x3982c7(0x115,0xca,0xdc,0x1ae)]=![],eventSource[_0x3982c7(0x265,0x1ea,0x1e4,0x2dc)](_0x310c51,_0x383baa);}catch(_0x2d20a5){if(_0x212c9a[_0x3982c7(0xed,0x15b,0x40,0xea)](_0x2d20a5['name'],_0x212c9a['RPvtv'])){if(_0x212c9a[_0x3982c7(0x200,0x274,0x29f,0x19f)](_0x212c9a['bNCxe'],_0x212c9a[_0x3982c7(0x257,0x2bb,0x229,0x290)]))_0xf15a59(_0x35a545);else{const _0x2a762c='0|1|3|2|4'['split']('|');let _0x4bc978=-0xdb0+0x22b3+-0x1503;while(!![]){switch(_0x2a762c[_0x4bc978++]){case'0':_0x2ebb8c=!![];continue;case'1':taskQueue[_0x1521ab(0x1f0,0x25d,0x228,0x209)+'us'](_0x4fce80,TaskStatus[_0x1521ab(0x2bb,0x282,0x223,0x2d7)]);continue;case'2':const _0x48ecd6={};_0x48ecd6[_0x1521ab(0x19e,0x80,0xf7,0xcd)]='AbortError',_0x48ecd6[_0x1521ab(0x204,0x134,0x182,0x16d)]=_0x212c9a[_0x1521ab(0x1a6,0x108,0x1bd,0x1f1)];const _0x457001={};_0x457001['success']=![],_0x457001['result']=null,_0x457001['id']=_0x10a2e5,_0x457001[_0x1521ab(0x1e9,0x149,0x131,0x73)]=_0x48ecd6,eventSource[_0x3982c7(0x265,0x1c6,0x276,0x1f3)](_0x310c51,_0x457001);continue;case'3':llmTaskControllers['delete'](_0x4fce80);continue;case'4':return;}break;}}}console[_0x1521ab(0xcc,0x1a2,0x131,0x8e)](_0x2e7370+_0x1521ab(0x124,0x4b,0xd8,0x123),_0x2d20a5);const _0x19a28d=_0x3982c7(0x10a,0x163,0xcd,0xf0)+_0x2d20a5[_0x1521ab(0x101,0x10a,0x182,0x23f)];_0x3f9e6a&&(_0x212c9a[_0x3982c7(0x231,0x246,0x178,0x1c8)](_0x212c9a[_0x1521ab(0x15d,0x12b,0x110,0x69)],_0x212c9a['qCDay'])?_0x19d0b5=_0x212c9a[_0x1521ab(0x23c,0x1f1,0x22e,0x1a3)](_0x252368,_0x212c9a['vfdQl']):_0x212c9a[_0x3982c7(0x1de,0x228,0x1a3,0x1b2)](_0x3f9e6a,_0x19a28d));toastr[_0x1521ab(0x1b0,0x180,0x131,0x1c5)](_0x2d20a5[_0x3982c7(0x1a1,0x1f7,0x24a,0x231)]),taskQueue['completeTa'+'sk'](_0x4fce80,![]),llmTaskControllers[_0x1521ab(0x249,0x177,0x1ac,0x187)](_0x4fce80);const _0x534cad={};_0x534cad[_0x3982c7(0x13a,0x1c8,0x82,0x130)]=![],_0x534cad['result']=_0x19a28d,_0x534cad['id']=_0x10a2e5,eventSource[_0x3982c7(0x265,0x205,0x1e8,0x2bb)](_0x310c51,_0x534cad);}finally{_0x212c9a['CXZBo'](currentLLMRequestController,_0x392486)&&(_0x212c9a['CAnRZ'](_0x212c9a['dytKK'],_0x212c9a[_0x3982c7(0x1db,0x27f,0x1c2,0x20a)])?_0xfb18e3=_0x57f9c4+_0x212c9a[_0x3982c7(0x101,0x1a2,0x163,0x45)]:currentLLMRequestController=null),(!_0x2ebb8c||_0x212c9a[_0x1521ab(0x174,0x22f,0x208,0x257)](currentLLMRequestController,null))&&_0x212c9a[_0x1521ab(0x166,0x122,0x151,0xd5)](stopFabLoading);}}export async function executeDefaultLLMRequest(_0xcf4c48,_0xa2aee2,_0x4d81b9=null){const _0x4f5084={'AALdg':function(_0x4cccd0,_0x5f1b88){return _0x4cccd0===_0x5f1b88;},'fBhnP':_0x48eeed(0x36b,0x2b3,0x30f,0x338),'SQZoU':function(_0x1eddc0,_0x30ba6d){return _0x1eddc0>_0x30ba6d;},'jcYZu':function(_0x392b05,_0x8be8a2){return _0x392b05(_0x8be8a2);},'FeLms':'trigger','oUwcq':_0x48eeed(0x272,0x320,0x310,0x3cc),'uoSUv':function(_0x16e3d0,_0x29db6d){return _0x16e3d0||_0x29db6d;},'RJeak':_0x53409d(0x32b,0x345,0x348,0x3a1)+_0x53409d(0x3d8,0x382,0x36f,0x370),'LrqDX':_0x48eeed(0x1a5,0x152,0x20b,0x281),'lKNwo':function(_0x599015){return _0x599015();},'aZRxj':function(_0x21cf6d,_0x18f945){return _0x21cf6d(_0x18f945);},'jrPpv':function(_0x2281ab,_0x2bf24d){return _0x2281ab(_0x2bf24d);},'xXgaA':function(_0x33858e,_0x1c7ab8){return _0x33858e(_0x1c7ab8);},'xClRR':function(_0x2bf6de,_0x9bba82){return _0x2bf6de||_0x9bba82;},'VaOWu':'API\x20URL,\x20A'+'PI\x20Key,\x20或\x20'+_0x48eeed(0x1f6,0x301,0x2ad,0x206),'ZSbuq':'applicatio'+_0x53409d(0x43c,0x404,0x4af,0x447),'dQamM':function(_0x3fe3eb,_0x99e69b){return _0x3fe3eb??_0x99e69b;},'FSMie':_0x48eeed(0x313,0x2e3,0x2ce,0x28c),'ejmAB':function(_0x5d90d5,_0x5f289d){return _0x5d90d5!==_0x5f289d;},'qZxJZ':_0x53409d(0x3c5,0x390,0x3b2,0x3ad),'VOtrI':_0x48eeed(0x2ae,0x39b,0x30c,0x331),'cjDQG':function(_0x1d7e1c,_0x5e0c76){return _0x1d7e1c+_0x5e0c76;},'RisYm':_0x48eeed(0x32a,0x279,0x2a4,0x287)+_0x48eeed(0x18e,0x269,0x20a,0x198)+'ompletions'+_0x48eeed(0x229,0x302,0x289,0x2f1),'hzxtW':_0x48eeed(0x23e,0x2f1,0x2f7,0x2ca),'eSMPZ':function(_0x35438a,_0x29de69){return _0x35438a(_0x29de69);},'LNNxk':_0x53409d(0x40f,0x4a4,0x3d1,0x3d7)+'稍候...','bVMnZ':function(_0x59a976,_0xd5129a){return _0x59a976===_0xd5129a;},'NztME':'zIvCm','TZdcw':function(_0x22ac25,_0x46318e,_0x346fed){return _0x22ac25(_0x46318e,_0x346fed);},'npyHR':'LLM\x20请求返回为空'+_0x48eeed(0x212,0x32e,0x29a,0x262)+_0x48eeed(0x23a,0x23c,0x2d6,0x287)+_0x48eeed(0x326,0x33f,0x2f9,0x370)+_0x53409d(0x429,0x3f4,0x456,0x3f8),'XqwYF':function(_0x37eb4d,_0x2931c7){return _0x37eb4d===_0x2931c7;},'ZKluw':'AbortError','QTwjO':_0x48eeed(0x3b4,0x394,0x368,0x30d)+_0x48eeed(0x308,0x29a,0x275,0x2f0)+_0x48eeed(0x216,0x2d9,0x255,0x308),'tXrTT':_0x48eeed(0x2cf,0x1ca,0x24d,0x2b5)+_0x53409d(0x3ee,0x3e8,0x33c,0x4a4),'qHvEK':_0x53409d(0x3c7,0x365,0x3f6,0x41b)+_0x53409d(0x3e7,0x451,0x37d,0x3f3),'NCWhf':_0x48eeed(0x3a5,0x408,0x363,0x355),'HAfhG':_0x48eeed(0x321,0x1d8,0x27e,0x291),'xmmsh':_0x48eeed(0x254,0x215,0x2bf,0x365)},{prompt:_0x1f1d99,id:_0xafaf6f}=_0xcf4c48;if(_0x4f5084[_0x53409d(0x3be,0x3c9,0x38b,0x3a3)](!_0xafaf6f,!_0x1f1d99))return;function _0x48eeed(_0x454b26,_0x47d4b0,_0x2af8db,_0x43ec8c){return _0x345606(_0x454b26,_0x2af8db- -0x162,_0x2af8db-0x179,_0x43ec8c-0x144);}currentLLMRequestController&&(currentLLMRequestController[_0x48eeed(0x2e0,0x2c8,0x2c3,0x25e)](),toastr[_0x53409d(0x3fe,0x3a3,0x48e,0x45b)](_0x4f5084[_0x48eeed(0x1db,0x1c6,0x25b,0x1dc)]));currentLLMRequestController=new AbortController();const _0x176f6f=currentLLMRequestController[_0x48eeed(0x3a3,0x27b,0x316,0x354)],_0x1d54b0=currentLLMRequestController,_0x3ff969={};_0x3ff969[_0x53409d(0x31b,0x287,0x3cb,0x32d)]=_0x4f5084[_0x53409d(0x365,0x36d,0x3a1,0x30e)],_0x3ff969[_0x48eeed(0x2c5,0x206,0x2bd,0x204)]=TaskType['LLM'],_0x3ff969[_0x48eeed(0x373,0x35e,0x2f3,0x326)]=_0xafaf6f;const _0x5ea169=taskQueue['addTask'](_0x3ff969);llmTaskControllers[_0x48eeed(0x374,0x23e,0x2d0,0x2be)](_0x5ea169,currentLLMRequestController),taskQueue[_0x53409d(0x44c,0x413,0x4ad,0x3e9)+'us'](_0x5ea169,TaskStatus['RUNNING']),_0x4f5084[_0x53409d(0x374,0x2ca,0x33f,0x2f3)](startFabLoading);let _0x5667a5=![];_0x4f5084['lKNwo'](clearLog),_0x4f5084['aZRxj'](addLog,_0x53409d(0x336,0x37a,0x3cc,0x394)+_0x48eeed(0x2b7,0x378,0x2cd,0x2d2)+'=='),addLog('请求\x20ID:\x20'+_0xafaf6f);function _0x53409d(_0x2b9435,_0x2a02e4,_0x1c4c00,_0x57ccb3){return _0x158e52(_0x2b9435-0x4c0,_0x2a02e4-0x70,_0x1c4c00,_0x57ccb3-0x1b);}_0x4f5084[_0x53409d(0x41d,0x465,0x37b,0x447)](addLog,_0x48eeed(0x3fe,0x3f0,0x359,0x3fc)+':'),_0x4f5084[_0x53409d(0x378,0x40f,0x41a,0x32c)](addLog,_0x4f5084['xXgaA'](formatPromptForDisplay,_0x1f1d99));const {api_url:_0x3c080e,api_key:_0x4a0079,model:_0x19db06,temperature:_0x16b506,top_p:_0x4fb4de,max_tokens:_0x1352fe,stream:_0x52354a,bypass_proxy:_0x36a839}=_0xa2aee2;if(_0x4f5084[_0x53409d(0x415,0x40d,0x470,0x477)](!_0x3c080e,!_0x4a0079)||!_0x19db06){const _0x475988=_0x4f5084['VaOWu'];toastr[_0x48eeed(0x1f5,0x28c,0x258,0x2cd)](_0x475988);const _0x46b489={};_0x46b489[_0x48eeed(0x2d7,0x1f0,0x242,0x2e8)]=![],_0x46b489[_0x48eeed(0x2cf,0x340,0x2f5,0x313)]=_0x475988,_0x46b489['id']=_0xafaf6f,eventSource[_0x53409d(0x46a,0x43b,0x45e,0x427)](eventNames['LLM_EXECUT'+_0x53409d(0x445,0x460,0x4a9,0x495)],_0x46b489);return;}const _0x1ce18c=_0x3c080e['replace'](/\/$/,'');let _0x99e366,_0xea3d88,_0x223ff3;if(_0x36a839){_0x99e366=_0x1ce18c+(_0x48eeed(0x316,0x266,0x298,0x271)+'letions');const _0x1f5b68={};_0x1f5b68[_0x48eeed(0x2c6,0x31d,0x26b,0x1c4)+'pe']=_0x4f5084[_0x53409d(0x364,0x365,0x352,0x33a)],_0x1f5b68[_0x53409d(0x3a8,0x308,0x314,0x2ff)+_0x48eeed(0x2b8,0x224,0x23c,0x23d)]=_0x53409d(0x469,0x410,0x517,0x40b)+_0x4a0079,_0xea3d88=_0x1f5b68,_0x223ff3={'model':_0x19db06,'messages':_0x1f1d99,'temperature':_0x16b506,'top_p':_0x4fb4de,'max_tokens':_0x1352fe,'stream':_0x4f5084[_0x53409d(0x3b4,0x3eb,0x3d9,0x360)](_0x52354a,![])};}else{let _0x330061=_0x1ce18c;if(!_0x330061[_0x53409d(0x427,0x4a4,0x428,0x456)](_0x4f5084[_0x48eeed(0x283,0x2ef,0x311,0x399)])&&!_0x330061[_0x48eeed(0x294,0x26c,0x22f,0x1ba)](_0x48eeed(0x292,0x2b1,0x22b,0x1fa))){if(_0x4f5084['ejmAB'](_0x4f5084[_0x48eeed(0x2c2,0x294,0x2e5,0x33f)],_0x4f5084[_0x48eeed(0x2e8,0x2fa,0x343,0x3cf)]))_0x330061=_0x4f5084[_0x48eeed(0x33f,0x37a,0x317,0x309)](_0x330061,_0x53409d(0x3cb,0x341,0x401,0x478));else{let _0x8c8853;if(_0x4f5084[_0x48eeed(0x342,0x37c,0x350,0x3ec)](typeof _0x29a904['error'],_0x4f5084[_0x48eeed(0x262,0x2d8,0x2a7,0x358)])&&_0x5cc9b3[_0x48eeed(0x21c,0x226,0x258,0x1b9)][_0x53409d(0x3a6,0x3a0,0x3c9,0x30a)]){_0x8c8853=''+_0xe0b79f[_0x48eeed(0x232,0x285,0x258,0x1c8)][_0x53409d(0x3a6,0x326,0x308,0x41f)];const _0x26735a=[];if(_0x2da7fa['error']['type'])_0x26735a[_0x53409d(0x46b,0x4b9,0x3f0,0x3b5)]('类型:\x20'+_0x3d4516['error'][_0x53409d(0x3ba,0x396,0x330,0x34a)]);if(_0x1f0c1f[_0x48eeed(0x23e,0x28c,0x258,0x2a6)][_0x48eeed(0x29a,0x24a,0x2e2,0x23d)])_0x26735a[_0x53409d(0x46b,0x3c5,0x452,0x4d9)](_0x48eeed(0x358,0x377,0x32b,0x28c)+_0x54fb03[_0x48eeed(0x313,0x29e,0x258,0x1c2)]['code']);_0x4f5084[_0x48eeed(0x172,0x202,0x204,0x241)](_0x26735a['length'],0x1fd*0x5+0x26ef+0xc38*-0x4)&&(_0x8c8853+='\x20('+_0x26735a['join'](',\x20')+')');}else _0x8c8853=''+_0x46b04c[_0x53409d(0x458,0x489,0x4e0,0x3d7)](_0x396dc7[_0x48eeed(0x220,0x219,0x258,0x300)]);throw new _0x380392(_0x8c8853);}}_0x330061=_0x330061[_0x53409d(0x38b,0x363,0x2ce,0x430)](/\/v1\/$/,_0x53409d(0x3cb,0x362,0x347,0x312)),_0x99e366=_0x4f5084[_0x48eeed(0x261,0x32c,0x2b8,0x343)],_0xea3d88=_0x4f5084[_0x53409d(0x305,0x339,0x280,0x315)](getRequestHeaders,window[_0x48eeed(0x27c,0x261,0x2dd,0x380)]);const _0x5cdae8={};_0x5cdae8[_0x48eeed(0x369,0x2ed,0x2b6,0x243)+'etion_sour'+'ce']=_0x4f5084[_0x48eeed(0x22f,0x193,0x203,0x2b8)],_0x5cdae8['custom_url']=_0x330061,_0x5cdae8[_0x53409d(0x432,0x47f,0x3ee,0x3c1)+_0x48eeed(0x286,0x274,0x326,0x37d)+'rs']='Authorizat'+_0x48eeed(0x250,0x340,0x2a1,0x211)+_0x48eeed(0x1d2,0x24d,0x234,0x17a)+_0x4a0079+'\x22',_0x5cdae8[_0x53409d(0x2f0,0x344,0x360,0x282)]=_0x19db06,_0x5cdae8[_0x48eeed(0x24f,0x230,0x2ee,0x39a)]=_0x1f1d99,_0x5cdae8['temperatur'+'e']=_0x16b506,_0x5cdae8[_0x48eeed(0x332,0x297,0x324,0x31e)]=_0x4fb4de,_0x5cdae8[_0x48eeed(0x37a,0x21f,0x2d6,0x2ce)]=_0x1352fe,_0x5cdae8[_0x53409d(0x3e6,0x462,0x352,0x344)]=![],_0x223ff3=_0x5cdae8;}_0x4d81b9&&_0x4f5084[_0x48eeed(0x3bb,0x39c,0x31c,0x37e)](_0x4d81b9,_0x4f5084[_0x48eeed(0x2c8,0x253,0x240,0x1b6)]);try{if(_0x4f5084['bVMnZ'](_0x4f5084[_0x48eeed(0x352,0x317,0x314,0x35e)],_0x53409d(0x34c,0x322,0x28e,0x2db))){const _0x391f63=_0x4c646c[_0x48eeed(0x1e1,0x31d,0x26a,0x20f)]()[_0x53409d(0x42f,0x3e9,0x4c5,0x4d8)](-0x259e+-0x2686+0x2*0x2615),_0x2bcac7=_0x41570d[_0x48eeed(0x3aa,0x342,0x313,0x3a6)](_0x391f63),_0x4693e9=_0x2bcac7[_0x53409d(0x314,0x2ba,0x38b,0x3d2)]?.[0x94+-0x168f+0x15fb]?.[_0x53409d(0x2f4,0x38f,0x38a,0x286)]?.[_0x53409d(0x3b6,0x3a2,0x444,0x442)];_0x4693e9&&(_0x18b7a5+=_0x4693e9,_0x26640a&&_0x4f5084['jcYZu'](_0x4f7724,_0x4ef9de));}else{const _0x583403=await _0x4f5084[_0x53409d(0x3db,0x471,0x3f6,0x35d)](fetch,_0x99e366,{'method':_0x48eeed(0x2db,0x1e1,0x26f,0x2b8),'headers':_0xea3d88,'body':JSON['stringify'](_0x223ff3),'signal':_0x176f6f}),_0x11f9c8=await _0x583403[_0x53409d(0x315,0x29b,0x27c,0x2ae)]();if(_0x11f9c8[_0x53409d(0x355,0x3c7,0x326,0x35e)]){let _0x55f5c3;if(typeof _0x11f9c8['error']===_0x4f5084[_0x48eeed(0x28f,0x20b,0x2a7,0x312)]&&_0x11f9c8[_0x48eeed(0x1d7,0x2a0,0x258,0x310)][_0x48eeed(0x332,0x224,0x2a9,0x361)]){_0x55f5c3=''+_0x11f9c8[_0x53409d(0x355,0x2ff,0x3cf,0x395)][_0x53409d(0x3a6,0x307,0x3d2,0x329)];const _0x139a9=[];if(_0x11f9c8[_0x48eeed(0x28f,0x262,0x258,0x1af)][_0x48eeed(0x22e,0x210,0x2bd,0x2fe)])_0x139a9[_0x53409d(0x46b,0x41b,0x410,0x445)](_0x53409d(0x466,0x3ab,0x463,0x4ae)+_0x11f9c8['error'][_0x53409d(0x3ba,0x3f2,0x44a,0x32a)]);if(_0x11f9c8[_0x48eeed(0x23c,0x28b,0x258,0x1f5)]['code'])_0x139a9[_0x53409d(0x46b,0x4d5,0x48c,0x48b)](_0x48eeed(0x2c5,0x389,0x32b,0x3d4)+_0x11f9c8[_0x48eeed(0x2f0,0x20f,0x258,0x2f3)][_0x53409d(0x3df,0x3bb,0x43e,0x45d)]);_0x4f5084[_0x48eeed(0x200,0x1d9,0x204,0x242)](_0x139a9[_0x53409d(0x35f,0x3a2,0x2a7,0x37f)],-0xb*-0xfb+-0x33+0x2*-0x54b)&&(_0x55f5c3+='\x20('+_0x139a9['join'](',\x20')+')');}else _0x55f5c3=''+JSON[_0x48eeed(0x3b0,0x2fb,0x35b,0x2f4)](_0x11f9c8[_0x48eeed(0x219,0x2e3,0x258,0x2b2)]);throw new Error(_0x55f5c3);}if(!_0x583403['ok'])throw new Error(_0x48eeed(0x28d,0x1e7,0x1fc,0x221)+_0x583403[_0x53409d(0x322,0x278,0x26a,0x346)]+'\x20'+_0x583403[_0x53409d(0x34d,0x3c9,0x3eb,0x395)]);const _0x517672=_0x11f9c8['choices']?.[-0x16ef+-0x77b*-0x3+0x7e]?.[_0x48eeed(0x339,0x2c9,0x2a9,0x366)]?.[_0x48eeed(0x2fe,0x2b2,0x2b9,0x210)]||'';!_0x517672&&toastr[_0x48eeed(0x2f9,0x218,0x25c,0x2f3)](_0x4f5084[_0x48eeed(0x245,0x1cf,0x269,0x1ba)]);_0x4d81b9&&_0x4f5084[_0x48eeed(0x1ae,0x18f,0x208,0x266)](_0x4d81b9,_0x517672);addLog(_0x48eeed(0x220,0x246,0x25e,0x1db)+_0x53409d(0x2f6,0x3a3,0x333,0x30d)),addLog(_0x517672),_0x4f5084[_0x53409d(0x419,0x3ad,0x4d3,0x48f)](addLog,'=====\x20LLM\x20'+_0x53409d(0x420,0x4b4,0x435,0x438)),taskQueue[_0x48eeed(0x247,0x1d1,0x252,0x1a5)+'sk'](_0x5ea169,!![]),llmTaskControllers[_0x53409d(0x3d0,0x34f,0x379,0x39f)](_0x5ea169);const _0x268bdf={};_0x268bdf[_0x48eeed(0x2a4,0x1cc,0x242,0x2b9)]=!![],_0x268bdf['result']=_0x517672,_0x268bdf['id']=_0xafaf6f,eventSource['emit'](eventNames[_0x48eeed(0x2e6,0x2e6,0x23f,0x2e9)+_0x48eeed(0x3c0,0x380,0x348,0x2dc)],_0x268bdf);}}catch(_0x2331cf){if(_0x4f5084[_0x53409d(0x446,0x41d,0x39e,0x48e)](_0x2331cf[_0x48eeed(0x162,0x258,0x21e,0x2bd)],_0x4f5084[_0x48eeed(0x3b1,0x351,0x367,0x2f0)])){_0x5667a5=!![],console[_0x53409d(0x363,0x357,0x38e,0x2da)](_0x4f5084[_0x53409d(0x321,0x3bd,0x2d6,0x33f)]),taskQueue[_0x53409d(0x44c,0x38e,0x458,0x439)+'us'](_0x5ea169,TaskStatus[_0x53409d(0x447,0x500,0x40a,0x4d6)]),llmTaskControllers[_0x53409d(0x3d0,0x373,0x33e,0x3c7)](_0x5ea169);const _0x1cc268={};_0x1cc268[_0x48eeed(0x1a8,0x247,0x21e,0x2a1)]=_0x4f5084[_0x53409d(0x464,0x3d0,0x44b,0x4d5)],_0x1cc268[_0x48eeed(0x22a,0x34d,0x2a9,0x335)]=_0x4f5084[_0x53409d(0x3d9,0x329,0x44b,0x36f)];const _0x48a6b6={};_0x48a6b6[_0x53409d(0x33f,0x328,0x365,0x315)]=![],_0x48a6b6['result']=null,_0x48a6b6['id']=_0xafaf6f,_0x48a6b6[_0x53409d(0x355,0x2d2,0x2c3,0x311)]=_0x1cc268,eventSource['emit'](eventNames['LLM_EXECUT'+_0x53409d(0x445,0x41a,0x405,0x477)],_0x48a6b6);return;}console[_0x53409d(0x355,0x3b5,0x2b1,0x318)](_0x4f5084[_0x48eeed(0x39f,0x37d,0x2ef,0x30c)],_0x2331cf);const _0x22399c=_0x53409d(0x30f,0x38d,0x3c8,0x2b5)+_0x2331cf[_0x53409d(0x3a6,0x42a,0x42f,0x383)];if(_0x4d81b9){if(_0x4f5084['bVMnZ'](_0x4f5084[_0x53409d(0x38d,0x41a,0x449,0x30c)],_0x4f5084['NCWhf']))_0x4f5084[_0x53409d(0x2fd,0x273,0x25d,0x2fb)](_0x4d81b9,_0x22399c);else throw new _0x1aa316('请求失败:\x20'+_0x4a8401[_0x53409d(0x322,0x3b9,0x3cb,0x2fb)]+'\x20'+_0x37b02c[_0x53409d(0x34d,0x2c9,0x35a,0x391)]);}toastr[_0x53409d(0x355,0x3da,0x316,0x39f)](_0x2331cf[_0x53409d(0x3a6,0x462,0x452,0x41d)]),taskQueue[_0x48eeed(0x223,0x304,0x252,0x1c8)+'sk'](_0x5ea169,![]),llmTaskControllers['delete'](_0x5ea169);const _0x591ed4={};_0x591ed4['success']=![],_0x591ed4['result']=_0x22399c,_0x591ed4['id']=_0xafaf6f,eventSource[_0x53409d(0x46a,0x4d3,0x3c8,0x498)](eventNames[_0x53409d(0x33c,0x335,0x2cc,0x371)+_0x48eeed(0x3e2,0x3c6,0x348,0x2be)],_0x591ed4);}finally{if(_0x4f5084[_0x48eeed(0x3eb,0x295,0x34c,0x31d)](currentLLMRequestController,_0x1d54b0)){if(_0x4f5084[_0x48eeed(0x35a,0x362,0x345,0x349)]===_0x4f5084['xmmsh']){if(!_0xbeefaf[_0x48eeed(0x1b5,0x185,0x1fb,0x17c)])return;if(!_0x2f3a6b['content']||_0x4f5084[_0x48eeed(0x372,0x3d0,0x350,0x39b)](_0x455ba8[_0x53409d(0x3b6,0x337,0x33b,0x3ef)]['trim'](),''))return;if(_0x4f5084[_0x48eeed(0x2db,0x33e,0x350,0x2cc)](_0x28d3e3[_0x48eeed(0x27f,0x2fa,0x2a2,0x2da)+'e'],_0x4f5084['FeLms'])){if(!_0x54d992||!_0x29dd64(_0x243ccd['triggerWor'+'ds'],_0xf126c3))return;}const _0x1ec87b={};_0x1ec87b[_0x53409d(0x39a,0x42b,0x3a3,0x430)]=_0x5b2b79['role']||_0x4f5084[_0x48eeed(0x377,0x39a,0x2f6,0x267)],_0x1ec87b[_0x53409d(0x3b6,0x410,0x385,0x3b9)]=_0x19d4d0[_0x48eeed(0x2ff,0x2e0,0x2b9,0x209)],_0x4524be[_0x53409d(0x46b,0x4d4,0x411,0x468)](_0x1ec87b);}else currentLLMRequestController=null;}(!_0x5667a5||_0x4f5084[_0x48eeed(0x347,0x31d,0x349,0x3c1)](currentLLMRequestController,null))&&_0x4f5084[_0x53409d(0x374,0x32e,0x3e3,0x391)](stopFabLoading);}}export function createGetPromptHandler(_0x2dbae5,_0x402cc6){const _0x56f579={'nshxJ':function(_0x3e8008,_0x1e0348){return _0x3e8008(_0x1e0348);}};return function(_0x5f3b6c){function _0x31f5aa(_0x641565,_0xee11cf,_0x1dcb5c,_0x497468){return _0x1d89(_0x641565-0x3ab,_0x1dcb5c);}const {id:_0x4a9945}=_0x5f3b6c;if(!_0x4a9945)return;const _0x24d241=REQUEST_TYPE_NAMES[_0x2dbae5]||_0x2dbae5;function _0x11b60e(_0x1521a2,_0x2d1263,_0x5bb61e,_0x5eb4d9){return _0x1d89(_0x1521a2-0x205,_0x5eb4d9);}console[_0x31f5aa(0x4a7,0x42c,0x496,0x41a)](_0x11b60e(0x28f,0x226,0x1e5,0x2f6)+_0x11b60e(0x382,0x375,0x406,0x390)+_0x24d241+(_0x11b60e(0x32c,0x2f8,0x367,0x3ce)+'D:\x20')+_0x4a9945+')');const _0x418116=_0x56f579[_0x31f5aa(0x595,0x593,0x4e5,0x500)](buildPromptForRequestType,_0x2dbae5),_0x5eb7f5={};_0x5eb7f5['prompt']=_0x418116,_0x5eb7f5['id']=_0x4a9945,eventSource[_0x11b60e(0x408,0x350,0x41e,0x37d)](_0x402cc6,_0x5eb7f5);};}export function createExecuteHandler(_0x52f757,_0x32b3e2,_0x487494=null){const _0x457477={'HQdMr':function(_0x1a05ea,_0x5c9e15,_0x523e6a,_0x579b1a,_0x5483b5){return _0x1a05ea(_0x5c9e15,_0x523e6a,_0x579b1a,_0x5483b5);}};return async function(_0x3416db){function _0x5ba3ca(_0x3f59bf,_0x1508a7,_0x4dbef2,_0x30c934){return _0x1d89(_0x4dbef2-0x2,_0x30c934);}const _0x345cd2=_0x487494?_0x487494():null;await _0x457477[_0x5ba3ca(0x1c1,0x15a,0x124,0x1d8)](executeTypedLLMRequest,_0x3416db,_0x52f757,_0x32b3e2,_0x345cd2);};}