(function(_0x88dc88,_0x5949a7){function _0x27a405(_0x597444,_0x35e1b7,_0x2b7902,_0x402fed){return _0x5820(_0x2b7902- -0x230,_0x35e1b7);}function _0x20523f(_0x24351e,_0x17727,_0x5a66cc,_0x1ace40){return _0x5820(_0x24351e- -0x1db,_0x1ace40);}const _0x3c4124=_0x88dc88();while(!![]){try{const _0x56092b=-parseInt(_0x20523f(-0x1e,-0x83,-0x19,-0xb8))/(0x4*0xac+0x956+-0xc05*0x1)*(-parseInt(_0x20523f(-0x49,-0x74,-0x10,-0x32))/(0x51*0x6a+-0x10f1+-0x1f*0x89))+-parseInt(_0x27a405(0xd1,0xb0,0xd,-0x52))/(-0x1527+0x29f*0x2+0xfec)+parseInt(_0x27a405(0xbd,0x31,0x6e,0x7a))/(0x1422+0x2*-0x3d7+-0xc7*0x10)*(parseInt(_0x20523f(0x8c,0x60,0x11e,0xb2))/(0x564*-0x2+-0x1f70*-0x1+-0x14a3))+parseInt(_0x27a405(0x3b,-0x53,0x2a,0xa8))/(0x6e6*-0x2+-0x1799+0x5d*0x67)+-parseInt(_0x20523f(0xa,0x68,0x41,0x9c))/(-0x1c97*0x1+-0x19a6+0x1*0x3644)+parseInt(_0x27a405(-0xd0,-0x40,-0xae,-0x16b))/(-0x2*0xfb6+0x1d18+0x25c)+-parseInt(_0x27a405(0x48,0x8b,-0x21,0x9f))/(0x18d7+0x2043*-0x1+0x775);if(_0x56092b===_0x5949a7)break;else _0x3c4124['push'](_0x3c4124['shift']());}catch(_0x4aad6e){_0x3c4124['push'](_0x3c4124['shift']());}}}(_0x4bcd,-0x76bd8+0xd01f*-0x1+0x4604*0x34));const _0x56cf0c=(function(){let _0x3fed0f=!![];return function(_0x3c1663,_0xed25cb){const _0xdd8ae3=_0x3fed0f?function(){function _0x543ebf(_0xcc7899,_0x581f7f,_0x2fc7b0,_0x9de4e7){return _0x5820(_0x9de4e7- -0xc6,_0x581f7f);}if(_0xed25cb){const _0x1c4d27=_0xed25cb[_0x543ebf(0x14e,0x1c9,0x192,0x117)](_0x3c1663,arguments);return _0xed25cb=null,_0x1c4d27;}}:function(){};return _0x3fed0f=![],_0xdd8ae3;};}()),_0x47f4f6=_0x56cf0c(this,function(){const _0x3a2ebe={};function _0x4bc671(_0x4f14f0,_0x49e2b3,_0x16b4ca,_0x24482c){return _0x5820(_0x4f14f0-0xf,_0x24482c);}function _0x852812(_0x1f44b3,_0x1df27b,_0x4be8ae,_0x398cfa){return _0x5820(_0x4be8ae- -0x21c,_0x1df27b);}_0x3a2ebe[_0x852812(0xb,-0xd3,-0xbc,-0x15b)]='(((.+)+)+)'+'+$';const _0x280126=_0x3a2ebe;return _0x47f4f6[_0x4bc671(0x13f,0x1f4,0x9f,0x112)]()[_0x4bc671(0x1a7,0x12f,0x25d,0x1c4)](_0x280126[_0x852812(-0x135,-0x12b,-0xbc,-0x50)])['toString']()[_0x852812(-0xbc,-0x7e,0x6,-0xbf)+'r'](_0x47f4f6)['search'](_0x280126[_0x4bc671(0x16f,0xbe,0x19a,0x22f)]);});_0x47f4f6();import{extension_settings}from'../../../../../extensions.js';import{eventSource}from'../../../../../../script.js';import{extensionName,eventNames,LLMRequestTypes}from'../config.js';import{getRequestHeaders,clearLog,addLog}from'../utils.js';import{startFabLoading,stopFabLoading}from'./fab.js';function _0x5820(_0x398ae6,_0x636977){_0x398ae6=_0x398ae6-(0x18fa+-0x1ab3*-0x1+0x3292*-0x1);const _0x378407=_0x4bcd();let _0x4b2743=_0x378407[_0x398ae6];if(_0x5820['SjOvIb']===undefined){var _0x229d7e=function(_0x1dd8f1){const _0x1c4610='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x29748f='',_0x2b3ccc='',_0x5c6aa1=_0x29748f+_0x229d7e;for(let _0x12e1ae=-0x1d1c+-0x97*-0x1+0x1c85,_0x2b6cf8,_0xc086d3,_0x15632e=-0x3*-0x152+-0x225e+0x1e68;_0xc086d3=_0x1dd8f1['charAt'](_0x15632e++);~_0xc086d3&&(_0x2b6cf8=_0x12e1ae%(0x16*0x1bb+0x1*0x4c+-0x265a)?_0x2b6cf8*(0xee5*0x1+0x74f*0x1+-0x15f4)+_0xc086d3:_0xc086d3,_0x12e1ae++%(-0x22c7+-0x1049+0x3314))?_0x29748f+=_0x5c6aa1['charCodeAt'](_0x15632e+(0xb36+0x73+-0xb9f))-(-0x4*-0x247+-0x205d+-0x1*-0x174b)!==-0xdf3+0x1fff+0x8c*-0x21?String['fromCharCode'](0x10ba+-0x1efa+0x1*0xf3f&_0x2b6cf8>>(-(0x8bd*-0x1+-0x7*-0x493+0x296*-0x9)*_0x12e1ae&0xe5*-0x19+-0x155f+0x2bc2)):_0x12e1ae:-0x628+0x1*0x1307+-0x293*0x5){_0xc086d3=_0x1c4610['indexOf'](_0xc086d3);}for(let _0x42fe4f=-0x33*0x67+-0x25db+0x1d30*0x2,_0x2e147e=_0x29748f['length'];_0x42fe4f<_0x2e147e;_0x42fe4f++){_0x2b3ccc+='%'+('00'+_0x29748f['charCodeAt'](_0x42fe4f)['toString'](-0x535+0x2357+-0x1e12))['slice'](-(-0x2*0x26a+0x2e*0xd9+-0x2228));}return decodeURIComponent(_0x2b3ccc);};_0x5820['FhWbdw']=_0x229d7e,_0x5820['zbEtKF']={},_0x5820['SjOvIb']=!![];}const _0x3a705d=_0x378407[0x1c*0x5c+0x1*-0xcb+-0x945],_0x18be77=_0x398ae6+_0x3a705d,_0x2ff79e=_0x5820['zbEtKF'][_0x18be77];if(!_0x2ff79e){const _0x4953d4=function(_0x2947d4){this['fjYOfq']=_0x2947d4,this['WCxfvP']=[-0x49*0x4f+0xf33*-0x1+-0xd*-0x2e7,-0x169a+0x509+0x1191,-0x1933+0x1bb6+-0x283],this['eUqjFX']=function(){return'newState';},this['igTKAo']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['igfrNR']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4953d4['prototype']['BnvVjj']=function(){const _0x4fd9f6=new RegExp(this['igTKAo']+this['igfrNR']),_0x2c635e=_0x4fd9f6['test'](this['eUqjFX']['toString']())?--this['WCxfvP'][-0x781*0x3+0x14d0+0x2*0xda]:--this['WCxfvP'][0x119*0xe+-0x3bc+-0xba2];return this['qlfaRn'](_0x2c635e);},_0x4953d4['prototype']['qlfaRn']=function(_0x41b520){if(!Boolean(~_0x41b520))return _0x41b520;return this['Pxyjcc'](this['fjYOfq']);},_0x4953d4['prototype']['Pxyjcc']=function(_0x1186ea){for(let _0x477ec3=0x2679+0x130+0xb*-0x39b,_0x51eeb5=this['WCxfvP']['length'];_0x477ec3<_0x51eeb5;_0x477ec3++){this['WCxfvP']['push'](Math['round'](Math['random']())),_0x51eeb5=this['WCxfvP']['length'];}return _0x1186ea(this['WCxfvP'][-0x18b*-0xd+0x21d1+0x35e*-0x10]);},new _0x4953d4(_0x5820)['BnvVjj'](),_0x4b2743=_0x5820['FhWbdw'](_0x4b2743),_0x5820['zbEtKF'][_0x18be77]=_0x4b2743;}else _0x4b2743=_0x2ff79e;return _0x4b2743;}import{checkTriggerWords,mergeAdjacentMessages}from'../promptProcessor.js';import{processRollPlaceholders}from'./rollProcessor.js';import{taskQueue,TaskType,TaskStatus}from'../taskQueue.js';let currentLLMRequestController=null;const llmTaskControllers=new Map();function _0x4bcd(){const _0x521330=['5l2C5BEY6lEZ6l+h44cc','ANnVBG','BhvKzv9OzwfKzq','DeD0y2u','zfLQAgy','DgvZDf9JB250zq','B3j0zwq','CNr3DNC','AwHdB2K','y250uwm','uMvXDwvZDcbHyG','CvLqDwq','zxjYB3i','ievYCM9YoG','C3LZDgvT','DgLTzu91Da','ExHzqvi','AM9PBG','tLroqNO','DhjPz2DLCK1Vza','zM9YrwfJAa','mJa5nJaYnfzTCMPWwa','zsbfCNjVCJO','C3rHDhvZvgv4Da','BgXTx3bYB2zPBa','t2r0sMO','zw1PDa','rvLuCLi','Bejcsxm','C3rYAw5NAwz5','rhLSD3K','Aw5JBhvKzxm','vKPWz3u','cI0Tls0TieXmtq','AgLmD3u','sMnsrNm','uLPlDK4','mtbzzM14zKS','zKzMsg8','6kEs6iMYl+ACJEIJHEIUVUIUOq','5Q2J5zYO5Ase55cgia','ruHmtMq','zw5HyMXLza','C2vHCMnO','5lUJ56cboG','CNbIAeS','sgH2u0S','zxiG','D1PABM8','DxjS','rgz6z2e','y2HHCL9KzxnPzW','5OIwie1VzgvSioACQUMfJq','5yE95PwW6lcd55sO','qvbjifvstcWGqq','sfj3wgi','q0foq0vmteve','s3nxufK','DxjZvLu','nhWXFdn8mNWW','se1ksM0','ALHQA0e','Bg9N','rv9srvnqt05trq','ksa9pt09pq','suPMv0S','CgfYC2u','uMnOzKm','wKHdy0q','AwPWzwm','BujusMW','DNPQBfm','uK1HyLq','C3rHCNrZv2L0Aa','vKfcDKK','teXnioIVT+AXGUw3SUs4REATOUoaGG','serorvm','EuvZwLm','C3rYzwfT','t0Hvz2K','mJKZndLozg5RqwK','teHpAuy','C3rFy29UDgv4Da','DwnMyLu','D2fYBMLUzW','EhrFChjVzMLSzq','reTNuwy','5y+r6ycb55QeifbYB21WDa','qKnjEhm','DhjHBNnSyxrPBW','thfrzu8','zhvIBwq','Dgv4Da','y29TCgXLDgvuyq','y3vYCMvUDf9SBa','DhjPz2DLCG','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','tejoq1i','DhLWzq','iowBNUwKJsaTls0Tlq','q1rgyNa','nhWXFdb8mNWZ','uKj5z1K','DgvTCgvYyxr1CG','yvvuANy','Cg9W','zgrSrLq','C2Hrz3a','tNPIu1q','zMLNCW','qMPnBxq','6kEs6iMYl+ACJEIJHEs/RUAuUq','yxbWBhK','s2XjEfO','44cq5Rwl6k+v5QIH5BYp44cr','C3bSAxq','5Pwi5zUE5Asn44cc','EhziB24','57g75z6loIa','C3vJy2vZCW','mti1nteZnvrxEejUza','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','6k+35Rgc5BYa5AElicG','y29UDgv4Df9WCG','DxbKyxrLu3rHDa','ww1it04','Eu1Kqwy','uMXyy1m','CK95AKW','ywjVCNq','q3b2DeS','BMfTzq','B21WBgv0Aw9UCW','Bwf4x3rVA2vUCW','teXnigv4zwn1Da','5Q2J5PAh5zU+54Mh55sF5OIq','rMnUD1O','C3rHDhvZ','pt09pt0GteXnia','CMvWzwf0','yKjQs3m','yMD1whe','C2LNBMfS','AgLnwuu','u1zHrva','thPtB2y','BMrZl2nOyxqTyW','zLvhy1G','y2HVAwnLCW','rKvPzwi','Bv9WCM9MAwXL','rMjIAee','w0Xmtv0G5lU75yQH5BEY5y+w','8j+tTYbB55sO5OI35lIk5lYG55Qe5zU+54Mh','5Rwb5BYp6kEJ5P6q6k2M5zgkoG','teXnioACQUAuTUwiSoACIEAvIowBNG','y3vYCMvUDf90zq','zgvSzxrL','vfflwva','zxrPB25FC291CG','y29Kzq','D2DfA1y','mti2nZiXogTRs01Rra','qLf2vhy','vM1ZBwK','Cgzwsgm','y2fUy2vSx2XSBq','ChjVBxb0','C3rFy2HHDhu4xW','AMHJuvO','sgvgvM0','zgf0ytOG','r2zMs0K','EwPjCKC','u1jxuxC','sfHmwgi','A2v5CW','z2v0','y29UDgvUDa','zgvSDge','Eg1oz0G','y29UC3rYDwn0BW','DMjzC1u','vNrUwg4','EMzMuwu','qvbSzuC','vvjoCgW','teXnoIa','5AEl5PAW6k+35Rgc44cc','zLHysxq','Aw1Hz2vFDxjS','Aw5MBW','rLL5rxu','wLzwsvy','BgvUz3rO','zNnuqKe','ELnHuNm','zhLxsMu','ue9tva','zgf0ytOGw0rptG','Ae9iyNK','D1zhyu4','rKTzvNG','CM91BMq','BvjnB2W','ioIVT+AXGUw3SUwUJoAiKo+8JowqJUE7REAtJq','u2nOvxK','DhjPz2DLCLDVCG','ndq1mZy1vhLOwvjS','rhj5A08','6k+35Rgc5A6m5OIqid09pt09','vxPsu0y','Bw9KzwW','wNrUD0O','uMLYrfO','BuzXt0e','r2fPwg8','rMP6y0m','57g75z6loG','wu1LvMS','EMres3K','yKrry1e','rxnABwG','B2zPBgu','yMfmCwm','zLvRufa','wNrIDw0','qw5iy2C','DxnQBfG','zNrhCgC','s1fMCxC','vKzct1u','wMzUwxu','AeDbB1G','z1HkBeG','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','AgLZDg9YEq','mtyXmti1ogzVENzOAG','AxPYEfu','s0jD','tLbPAxq','AeLKBe4','ywrKvgfZAW','ALffswi','runzsLC','5Rwl6k+v5QIH5BYp5O+q56s6','teXn','ven3sfK','ywjVCNrLzc4','veTXuLu','mJi5nJaWrMviwLLV','BgP2ru4','l2DLBMvYyxrL','yxbPx3vYBa','zuvqr3C','y2nQAuy','C2v0','zvneEvy','zuL0ue0','BgXTx3jLCxvLCW','vg9NuLO','AwfKCuq','twPKExi','Aw1Hz2vFz2vU','6k+35RgcieLeoIa','A1rYBxq','oIbmte0G5PYQ5Ps25yIW5PYj','AKrjyLO','u3zVq1G','yxnZAxn0yw50','y3vZDg9Tx2LUyW','ChvZAa','qxb4wK0','quNLIQNMIyS','teXnoIdLPjBPG6JOR7FMSyi','tNbrDuO','Dw5RBM93BG','Aw9UoIaIqMvHCG','Bxror2G','s1ziz2y','yLHZr1G','tK1eD3q','D2fYBG','5Rwb5BYp6kEJ5P6q6k2M5zgkicJMNidLKi4','z3zTuhC','tfDXsKC','twfOvLK','sxPYCNi','6k+35Rgc5AsX6lsLoIa','z3zOBhu','CvDxzMS','r0HxB1G','l2fWAs9IywnRzq','whPqA2S','zw50CMLLCW','teXniev4zwn1Da','u1zmDuq','rxLPCMK','DgfNx21VzgLMEq','BuXMtLK','A2zzzeS','Dfn1vgC','AuzprKe','tw9KzwWG5PYQ6ywn572U44cc','s2rLsha','mtzJsfPPuMu','u1veAe8','Dg9Wx3a','EeHxqNu','BgXTvgvZDe1Vza','tg5szK8','zgf0ytO','5lUJ56cboIa','zvLdvvi','rgnMq0y','y2HHCL9KAxnWBa','A3HAEvG','uLvotKLorW','B1zxzLa','sxfcCuq','sgLNs0K','t3f6zKK','vMLqAui','BwvZC2fNzxm','tLrpDuy','Bwf0y2G','qxfiENy','Du9uAhe','rKTlBfe','A3Ltthe','C1LZBwS','t1HbBfu','z0z5uvq','BNbnBMe','Df90ExbLx2nVBG','z2v0uMvHzgvY','AgzowNa','Dg9tDhjPBMC','rgDUsNG','y3vZDg9T','DxnLCG','sLD3zgW','surJwey','teXnx0vyrunvva','yMLXuum','BLPJuLu','yNvMzMvYktO','A3znqKC','zwfTuLe','oIbbueKGvvjmla','zunZD2u','CxLht0e','yxbPx2TLEq','rdOG','txjeDLy','kcGOlISPkYKRkq','B2jQzwn0','6k+35Rgc6zsz6k+VoIa','yM9KEq','EKXcr04','iefqssblzxKSia','y3vZDg9Tx3vYBa','CM9Szq','C2XPy2u','AxnbCNjHEq','EwPss3K','EwDgshO','BxfoA08','yvfezKq','x3bYB2zPBgu','ioAuTUwiSa','ioIVT+AXGU+8JoIVT+EOJEwaMs4UlG','D0PIB3u','wMP2rue','lcdNUQyG','EffWrKO','qwjVCNrfCNjVCG','uu9Xsgm','y05IyKC','vgfN5l+U5Ps5','yuTeALi','Cfn6wge','ueKGs2v5lcdMIjyG','q2r0r1q','rxjhAKC','zKHgBvO','BwvZC2fNzq','5RAioIa','yxbPx3bYB2zPBa','ug5UvLa','sgrJz3e','qLrdDK0','DhjPBq','twDUu2C','Dg9Rzw4','x3rHC2S','CMvZDwX0','ywXOtgK'];_0x4bcd=function(){return _0x521330;};return _0x4bcd();}eventSource['on'](_0x2f9ff1(0x535,0x52e,0x55b,0x58e)+_0x4c6dc3(0x1ba,0x10a,0xc8,0x4a)+_0x4c6dc3(0x8f,0x61,0xa,0xc6),({taskId:_0x5da682})=>{function _0x1e8286(_0x1e422c,_0x30eabe,_0x5c7b23,_0x2178e9){return _0x2f9ff1(_0x1e422c-0x181,_0x30eabe-0xb8,_0x2178e9- -0x541,_0x1e422c);}function _0x557b15(_0xdf9ad7,_0x49f86f,_0x10e409,_0x235cb2){return _0x4c6dc3(_0xdf9ad7-0xf,_0x49f86f-0x10a,_0x10e409-0xa3,_0x10e409);}const _0x23befd={};_0x23befd[_0x1e8286(-0x14c,-0x11b,-0x50,-0xaf)]=function(_0x57865b,_0x3450d7){return _0x57865b===_0x3450d7;},_0x23befd[_0x1e8286(0xb9,0x12c,0xd5,0xa8)]='cRnIC';const _0x5e398f=_0x23befd,_0x518bf1=llmTaskControllers[_0x557b15(0x1e2,0x21f,0x1be,0x210)](_0x5da682);_0x518bf1&&(_0x5e398f[_0x1e8286(-0x56,-0x5f,-0x7f,-0xaf)](_0x5e398f[_0x1e8286(0xe3,0xef,-0x1,0xa8)],_0x1e8286(0x7f,-0x57,-0x20,-0x42))?_0x5421e3=_0x58f897:(_0x518bf1[_0x1e8286(-0x90,0x8d,-0x1a,-0xd)](),llmTaskControllers['delete'](_0x5da682),console[_0x557b15(0x195,0x1ac,0x218,0x123)](_0x557b15(0x14e,0x206,0x2ca,0x211)+_0x557b15(0x202,0x163,0x117,0x1b3)+_0x5da682)));});export function getLLMRequestController(){return currentLLMRequestController;}export function setLLMRequestController(_0x510b93){currentLLMRequestController=_0x510b93;}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){function _0x37ee30(_0x3b6e4d,_0x33e93e,_0x404ad2,_0x305eae){return _0x4c6dc3(_0x3b6e4d-0xd0,_0x3b6e4d-0x490,_0x404ad2-0x1e1,_0x33e93e);}const _0xeb495e={};_0xeb495e[_0x37ee30(0x4e5,0x42b,0x4d8,0x4e2)]='æµå¼è§£æžè­¦å‘Š:';function _0xd9199d(_0x44e076,_0x59769a,_0x16bb6b,_0xefd41b){return _0x4c6dc3(_0x44e076-0x1b2,_0x59769a-0xf3,_0x16bb6b-0x16b,_0x16bb6b);}_0xeb495e[_0x37ee30(0x543,0x520,0x56e,0x58a)]=function(_0x50cc9d,_0x3826d4){return _0x50cc9d===_0x3826d4;},_0xeb495e[_0x37ee30(0x50d,0x56e,0x56f,0x4a1)]=_0xd9199d(0xf0,0x179,0x1ca,0x1c9),_0xeb495e[_0xd9199d(0x1bc,0x15e,0x21c,0xc0)]=_0x37ee30(0x53f,0x57c,0x5c0,0x49c);const _0x3b7241=_0xeb495e;currentLLMRequestController&&(_0x3b7241[_0xd9199d(0x230,0x1a6,0xf7,0x11f)](_0x37ee30(0x516,0x4a5,0x5a9,0x5b4),_0x3b7241[_0xd9199d(0x15e,0x170,0xff,0x18c)])?(currentLLMRequestController[_0xd9199d(0x286,0x1d8,0x1d2,0x1a5)](),toastr[_0xd9199d(0x18e,0x216,0x1d7,0x14f)](_0x3b7241[_0xd9199d(0xd0,0x15e,0x1a3,0xbb)])):_0x3fac3a[_0xd9199d(0x2b1,0x271,0x1e0,0x263)](_0x3b7241[_0xd9199d(0x149,0x148,0xb8,0x1b4)],_0x5e5d43['message']));}export function isLLMTestMode(){return!!extension_settings[extensionName]['llmTestMod'+'e'];}export function formatPromptForDisplay(_0x3b251d){function _0x532264(_0xaf4364,_0x445ab9,_0x173ee5,_0x2d2cda){return _0x4c6dc3(_0xaf4364-0x187,_0x445ab9- -0x28e,_0x173ee5-0x132,_0xaf4364);}const _0x34dfc1={'ftGpg':function(_0x133bf4,_0x4c64c7){return _0x133bf4(_0x4c64c7);},'Eyiri':_0x33e1a5(-0x237,-0xae,-0xe5,-0x175)+'ç¨å€™...','RirDZ':function(_0x845d02,_0x434171){return _0x845d02===_0x434171;},'ViPiB':function(_0x12c86f){return _0x12c86f();},'ursVU':function(_0x4a8fd1,_0x39a6e7){return _0x4a8fd1===_0x39a6e7;},'SOLUM':_0x532264(-0x1a7,-0x26e,-0x1b0,-0x2a5),'mRMol':_0x33e1a5(-0x29d,-0x22a,-0x16f,-0x21f),'EYTrR':function(_0x435adb,_0x54683c){return _0x435adb===_0x54683c;},'TogRZ':_0x532264(-0x211,-0x1ce,-0x1b0,-0x20e),'yOJCH':function(_0x2d00e6,_0x14e06b){return _0x2d00e6===_0x14e06b;},'vbYsU':'image_url','wJbou':_0x532264(-0x267,-0x262,-0x23c,-0x292),'IPXsi':_0x532264(-0x1e6,-0x152,-0x12c,-0xb0),'ijpec':_0x532264(-0xd1,-0x116,-0x7d,-0x62),'kxZyX':function(_0x571d6d,_0x348691){return _0x571d6d/_0x348691;},'mqNkO':function(_0x4b91b0,_0xf62d61){return _0x4b91b0*_0xf62d61;},'dYjhf':_0x33e1a5(-0x7f,-0x82,-0x53,-0xd6),'KVHgf':function(_0x57e664,_0x12873c){return _0x57e664>_0x12873c;},'URNpl':'string','xrXsf':function(_0x31146c,_0x3c8d03){return _0x31146c===_0x3c8d03;},'dcSBa':_0x33e1a5(-0x14b,-0xa1,-0x1bf,-0x12c),'XzPkk':function(_0x57d684,_0x559b85){return _0x57d684!==_0x559b85;},'HSkhn':function(_0x449f27,_0x183142){return _0x449f27===_0x183142;},'ucfbU':_0x532264(-0x23d,-0x254,-0x23e,-0x2a6)};if(typeof _0x3b251d===_0x34dfc1[_0x33e1a5(-0xa1,-0xfb,-0xc5,-0x11b)]){if(_0x34dfc1[_0x532264(-0x63,-0x105,-0x3e,-0x14d)](_0x33e1a5(-0x112,-0x19f,-0xb7,-0x145),_0x33e1a5(-0x207,-0xd9,-0xb4,-0x145)))_0x34dfc1[_0x33e1a5(-0x150,-0x1a2,-0xf3,-0xf0)](_0x4e0faf,_0x34dfc1[_0x532264(-0x149,-0x101,-0xa8,-0x12f)]);else return _0x3b251d;}if(Array['isArray'](_0x3b251d)){const _0x1bf9da=[];return _0x3b251d[_0x33e1a5(-0x125,-0x17b,-0x110,-0x1c1)]((_0x34382b,_0x287a46)=>{const _0x4ff78e={'MgnSg':function(_0x5dfb61,_0x18aa51){function _0x58423f(_0xbe564f,_0x4baf9e,_0x379af2,_0x21e4ab){return _0x5820(_0x379af2- -0x32e,_0xbe564f);}return _0x34dfc1[_0x58423f(-0xf1,-0x6b,-0xaa,-0x112)](_0x5dfb61,_0x18aa51);}},_0x2eca21=_0x34382b[_0x2d3831(0x91,0x84,0xfc,0x14b)]||_0x34dfc1[_0x145f72(0x5e9,0x55b,0x56c,0x4d7)],_0x1b5078=getRoleLabel(_0x2eca21);_0x1bf9da[_0x2d3831(0x199,0x204,0x22f,0x279)](''+'â•'[_0x145f72(0x5d6,0x5a1,0x620,0x508)](-0x6f7*0x1+-0x1523+-0x4*-0x713)),_0x1bf9da['push']('ã€'+_0x1b5078+'ã€‘'),_0x1bf9da[_0x2d3831(0x1da,0x2af,0x22f,0x27f)](''+'â”€'[_0x2d3831(0x266,0x1a5,0x1ab,0x158)](0x1dda+0x1f42+0x8a*-0x71));function _0x2d3831(_0x3065f2,_0x453277,_0x198937,_0x43fe89){return _0x532264(_0x3065f2,_0x198937-0x34a,_0x198937-0x9,_0x43fe89-0x1e4);}const _0x5700e9=_0x34382b[_0x145f72(0x68c,0x5c8,0x54c,0x534)];function _0x145f72(_0x628e5f,_0x48d24d,_0x4d93fa,_0x460401){return _0x33e1a5(_0x628e5f-0x1c7,_0x4d93fa,_0x4d93fa-0x1db,_0x48d24d-0x6eb);}if(_0x34dfc1[_0x145f72(0x5a4,0x550,0x564,0x609)](typeof _0x5700e9,_0x34dfc1['URNpl']))_0x34dfc1['xrXsf'](_0x2d3831(0x222,0x132,0x1c9,0x1ac),_0x34dfc1['dcSBa'])?_0x1bf9da[_0x145f72(0x65f,0x625,0x659,0x6e1)](_0x5700e9):_0x185dcc[_0x145f72(0x6bd,0x625,0x6b0,0x61b)](_0x1419fc[_0x145f72(0x4e3,0x572,0x5b0,0x5b1)]||'');else Array[_0x145f72(0x544,0x4f4,0x5b1,0x52d)](_0x5700e9)&&_0x5700e9[_0x145f72(0x4f6,0x52a,0x545,0x544)](_0x5f4b12=>{const _0xcaac1a={'zXCUr':function(_0xa57361,_0x3a4630){return _0x34dfc1['RirDZ'](_0xa57361,_0x3a4630);},'Dfzga':function(_0x1d790d){function _0x4c00f3(_0x371a60,_0x4b306e,_0x551f7b,_0x3ac83b){return _0x5820(_0x371a60- -0x22a,_0x551f7b);}return _0x34dfc1[_0x4c00f3(-0x109,-0x15b,-0x93,-0x13e)](_0x1d790d);},'qJGUl':_0x49a7ed(-0xc5,-0x1d8,-0x8e,-0x116)+'+$'};function _0x49a7ed(_0x114c40,_0x21dc94,_0xc6f876,_0x4e279a){return _0x145f72(_0x114c40-0x6d,_0x4e279a- -0x601,_0xc6f876,_0x4e279a-0x5c);}function _0x175e9d(_0xab9d40,_0x12519e,_0x26b657,_0x1e900e){return _0x145f72(_0xab9d40-0xe5,_0x1e900e- -0x5b1,_0xab9d40,_0x1e900e-0x158);}if(_0x34dfc1[_0x49a7ed(-0xa7,-0x115,-0xc7,-0xb1)](_0x34dfc1['SOLUM'],_0x34dfc1[_0x175e9d(0x37,-0x6c,0xad,0x31)]))_0x3f70bb=''+_0xa00608[_0x49a7ed(-0x140,-0x20,-0x6a,-0xce)](_0x11ee48[_0x175e9d(-0xee,-0x14b,-0xef,-0x8f)]);else{if(_0x34dfc1[_0x49a7ed(-0xb1,-0xab,-0xeb,-0xd0)](_0x5f4b12[_0x49a7ed(-0x35,0x18,-0xde,-0x89)],_0x34dfc1[_0x175e9d(0x2e,0x4f,-0x2f,0x69)]))_0x34dfc1[_0x49a7ed(0x70,-0x15,-0x96,-0x15)]('YmEdw','YmEdw')?_0x1bf9da[_0x175e9d(0xf0,0x24,0x32,0x74)](_0x5f4b12[_0x49a7ed(-0x128,-0xb6,-0x1a,-0x8f)]||''):(_0xcaac1a['zXCUr'](_0xc30683,_0x2c8789)&&(_0xd5df90=null),(!_0x556d32||_0xcaac1a['zXCUr'](_0x32c6ec,null))&&_0xcaac1a[_0x175e9d(-0xf6,0x4c,-0xa7,-0x69)](_0x33341e));else{if(_0x34dfc1['yOJCH'](_0x5f4b12[_0x175e9d(0x50,-0xf0,0x4d,-0x39)],_0x34dfc1[_0x175e9d(0x6e,-0x85,0xae,0x1b)])){if(_0x34dfc1[_0x175e9d(-0xc8,-0x160,-0x24,-0xb5)]!==_0x34dfc1['IPXsi']){const _0x39adaa=_0x5f4b12[_0x175e9d(-0x26,-0x35,0x13,0x23)]?.[_0x49a7ed(-0x16d,-0xcb,-0x107,-0xba)]||'';if(_0x39adaa[_0x49a7ed(-0xfc,-0x4e,-0x1d,-0xa2)](_0x49a7ed(0xcd,0x7c,0xfa,0x4c))){const _0x59ef26=_0x39adaa[_0x49a7ed(-0x1fa,-0xc5,-0xce,-0x134)](/^data:([^;]+);/),_0x421cfc=_0x59ef26?_0x59ef26[0x5ca*-0x5+-0x20a1*0x1+0x3d94]:_0x34dfc1[_0x175e9d(0x35,-0xd,-0x21,-0x56)],_0xfef805=_0x39adaa[_0x49a7ed(0x1,-0x1e,-0x4a,-0x78)](',')[0x1859+-0x109c+-0x7bc]||'',_0x4ba857=Math[_0x175e9d(-0x79,-0x50,0x43,0x30)](_0x34dfc1[_0x175e9d(-0x34,-0x146,-0x178,-0xed)](_0x34dfc1[_0x175e9d(-0xdf,-0xad,-0x15a,-0xba)](_0xfef805[_0x175e9d(0x62,0x6,0x93,0x27)],0xd5e+0x210c+-0x2e67)/(-0x403*0x3+-0x443*0x1+0x1050),0x192e+0x1f59*-0x1+0xa2b));_0x1bf9da[_0x49a7ed(0xb5,0x2e,0xc2,0x24)](_0x175e9d(0x3a,0x8b,-0xb,-0x2)+':\x20'+_0x421cfc+',\x20çº¦\x20'+_0x4ba857+_0x175e9d(0x43,-0x29,-0x51,0x54));}else{if(_0x34dfc1[_0x49a7ed(-0x11d,-0x29,-0x86,-0xe7)]===_0x49a7ed(-0x135,-0x159,-0x50,-0x10b))return _0x4dbe4a['toString']()[_0x49a7ed(-0x149,-0x180,-0xb5,-0xc0)](rqBsNl['qJGUl'])[_0x175e9d(-0x4a,-0x114,-0x128,-0xd8)]()[_0x49a7ed(-0xc4,-0x9b,-0xb3,-0x36)+'r'](_0x441b0b)[_0x49a7ed(-0x152,-0x20,-0x12c,-0xc0)](_0x175e9d(-0xc9,-0x3b,-0x12a,-0xc6)+'+$');else _0x1bf9da[_0x49a7ed(0xbe,0x46,0x34,0x24)]('ðŸ“·\x20[å›¾ç‰‡é“¾æŽ¥:\x20'+_0x39adaa+']');}}else{_0x248d2c=''+_0x382e70['error']['message'];const _0x36cf71=[];if(_0x2bca1a[_0x49a7ed(-0xb1,-0x1e,-0x38,-0xdf)][_0x49a7ed(-0x119,-0x141,0x34,-0x89)])_0x36cf71[_0x175e9d(0x3d,0x2,0x13a,0x74)](_0x175e9d(-0xd2,-0x4,-0xeb,-0x25)+_0x51979a[_0x175e9d(0x10,-0x22,-0x114,-0x8f)]['type']);if(_0x209fd8[_0x49a7ed(-0x155,-0x67,-0x154,-0xdf)][_0x49a7ed(0x4c,-0x10,0x66,-0x4b)])_0x36cf71[_0x49a7ed(-0x59,0x66,0x2,0x24)](_0x175e9d(0xbc,0x156,0x7,0x9d)+_0x1abedf[_0x175e9d(-0x25,-0x90,-0xfa,-0x8f)][_0x175e9d(0x5f,-0x8c,0xa9,0x5)]);_0x4ff78e[_0x175e9d(-0x10c,-0xd7,-0x17,-0xa0)](_0x36cf71[_0x175e9d(0x93,-0x51,0x90,0x27)],-0xb*0x1f6+0x1*-0xca0+0x2232)&&(_0x3bc676+='\x20('+_0x36cf71[_0x49a7ed(-0x17b,-0x172,-0xd1,-0xda)](',\x20')+')');}}}}});_0x1bf9da[_0x145f72(0x618,0x625,0x5c6,0x5f3)]('');}),_0x1bf9da[_0x33e1a5(-0x131,-0x1f8,-0x1e4,-0x1c4)]('\x0a');}function _0x33e1a5(_0x20fa7c,_0x414325,_0x2309c3,_0x153c4b){return _0x4c6dc3(_0x20fa7c-0x163,_0x153c4b- -0x239,_0x2309c3-0x10,_0x414325);}if(_0x34dfc1['HSkhn'](typeof _0x3b251d,_0x34dfc1[_0x33e1a5(-0x16c,-0x198,-0x1f2,-0x182)])&&_0x34dfc1[_0x532264(-0xc5,-0x105,-0x19b,-0x69)](_0x3b251d,null))return JSON[_0x33e1a5(-0x12e,-0x1ee,-0x14d,-0x1b8)](_0x3b251d,null,-0x111+0x1*0x20b0+-0x1f9d);return String(_0x3b251d);}export function getRoleLabel(_0x4f3bf3){const _0x262ae4={};_0x262ae4[_0x5e2a4a(0x565,0x56c,0x4dc,0x4f3)]='ç³»ç»Ÿæç¤ºè¯',_0x262ae4[_0x5e2a4a(0x496,0x583,0x4fb,0x4c6)]=_0x5e2a4a(0x4f8,0x4f0,0x529,0x564),_0x262ae4['ljvEN']=_0x5e2a4a(0x3cd,0x456,0x44d,0x4a0);const _0x480dae=_0x262ae4,_0x88170d={};_0x88170d[_0x5c274c(0x4c7,0x405,0x43c,0x573)]=_0x480dae['zSaRs'],_0x88170d[_0x5e2a4a(0x3ee,0x404,0x3de,0x39c)]='ç”¨æˆ·',_0x88170d[_0x5c274c(0x5c6,0x665,0x60b,0x5fd)]=_0x480dae[_0x5c274c(0x59c,0x54c,0x638,0x655)],_0x88170d['function']=_0x480dae[_0x5c274c(0x5b4,0x523,0x5bf,0x5cd)];function _0x5c274c(_0xa212dc,_0x353096,_0x3800b5,_0xdf6649){return _0x2f9ff1(_0xa212dc-0x1ae,_0x353096-0x165,_0xa212dc-0x6,_0xdf6649);}_0x88170d['tool']='å·¥å…·';const _0x96b671=_0x88170d;function _0x5e2a4a(_0x28713d,_0x1420a1,_0x1f2b1b,_0x203257){return _0x4c6dc3(_0x28713d-0x30,_0x1f2b1b-0x3b4,_0x1f2b1b-0xa6,_0x203257);}return _0x96b671[_0x4f3bf3]||_0x4f3bf3;}export function getCurrentLLMProfile(){const _0x1dae11=extension_settings[extensionName][_0x51943c(-0x116,-0x10d,-0x74,-0xd2)+'es']||{};function _0x51943c(_0x3da3ae,_0x1f6110,_0x307d67,_0x5d2fa3){return _0x4c6dc3(_0x3da3ae-0x15e,_0x307d67- -0xf0,_0x307d67-0x125,_0x3da3ae);}function _0x5268aa(_0xfa21c2,_0x5907a4,_0x2d9010,_0x218c24){return _0x2f9ff1(_0xfa21c2-0x1b7,_0x5907a4-0x71,_0x5907a4- -0x280,_0x218c24);}const _0x3e1524=extension_settings[extensionName]['current_ll'+_0x5268aa(0x2cb,0x2c9,0x275,0x340)];return _0x1dae11[_0x3e1524]||_0x1dae11[Object['keys'](_0x1dae11)[-0x1*0x216b+0x59a+0x1*0x1bd1]]||{};}function _0x2f9ff1(_0x5b2a5a,_0x366532,_0x4c1318,_0x355bb8){return _0x5820(_0x4c1318-0x346,_0x355bb8);}export function getCurrentTestContext(){function _0x5685c5(_0x7e74a6,_0x34c51d,_0x2e0e53,_0x52936c){return _0x2f9ff1(_0x7e74a6-0x19,_0x34c51d-0x107,_0x7e74a6- -0x497,_0x2e0e53);}function _0x15e131(_0x16aa05,_0x17bf0e,_0x240856,_0x1b3c3d){return _0x2f9ff1(_0x16aa05-0x1bb,_0x17bf0e-0x130,_0x1b3c3d- -0x6ce,_0x240856);}const _0x53e8fe=extension_settings[extensionName][_0x15e131(-0x1bd,-0x1f6,-0x29e,-0x216)+_0x15e131(-0x1b3,-0x16c,-0x26f,-0x1c6)+'s']||{},_0x449f1e=extension_settings[extensionName][_0x15e131(-0x1d9,-0x238,-0x20b,-0x17f)+_0x5685c5(0x6e,0x107,0xac,-0x12)+_0x15e131(-0x210,-0x253,-0x293,-0x238)];return _0x53e8fe[_0x449f1e]||_0x53e8fe[Object['keys'](_0x53e8fe)[0x26b1+0x2552+-0x4c03]]||{};}export function getEffectiveConfigForRequestType(_0x5e55d4){const _0x1c4281=extension_settings[extensionName][_0x49fae5(0x34a,0x3b2,0x357,0x2fe)+'t_type_con'+_0x258dfc(-0x13f,-0x50,-0xb3,-0xa9)]||{},_0x3810c9={};_0x3810c9[_0x258dfc(-0x122,-0x1ed,-0x12a,-0x68)+'e']='é»˜è®¤',_0x3810c9[_0x258dfc(0x1d,0x3,-0xa5,-0x148)+_0x49fae5(0x377,0x3fa,0x333,0x358)]='é»˜è®¤';const _0x45b12b=_0x1c4281[_0x5e55d4]||_0x3810c9,_0x113c42=extension_settings[extensionName]['llm_profil'+'es']||{},_0x42fa00=extension_settings[extensionName][_0x258dfc(-0x1a0,-0x116,-0x11b,-0x10b)+_0x258dfc(-0x68,-0x116,-0xcb,-0x164)+'s']||{},_0x33cdc9=_0x45b12b[_0x258dfc(-0x19d,-0x1e7,-0x12a,-0x107)+'e']||'é»˜è®¤',_0x47701f=_0x113c42[_0x33cdc9]||_0x113c42[Object['keys'](_0x113c42)[0x1f68+0xdcf+-0x2d37]]||{},_0x4cf488=_0x45b12b[_0x49fae5(0x2e9,0x36b,0x2cf,0x297)+_0x49fae5(0x3b6,0x2e1,0x333,0x2a2)]||'é»˜è®¤';function _0x49fae5(_0x2e9cbc,_0x309811,_0x5bf775,_0x3d2065){return _0x4c6dc3(_0x2e9cbc-0x27,_0x5bf775-0x1f0,_0x5bf775-0x74,_0x3d2065);}const _0x12a2ca=_0x42fa00[_0x4cf488]||_0x42fa00[Object['keys'](_0x42fa00)[0xfd*0x1+0x18c7+-0x19c4]]||{},_0x38da0d={};_0x38da0d[_0x258dfc(-0x51,0x5f,-0x23,0x3e)]=_0x47701f[_0x258dfc(-0x83,-0xdf,-0x23,-0xd)]||'',_0x38da0d[_0x49fae5(0x2e7,0x27c,0x226,0x25b)]=_0x47701f['api_key']||'';function _0x258dfc(_0x5e49c0,_0x1b96c0,_0x5b2a3f,_0x56722e){return _0x2f9ff1(_0x5e49c0-0x127,_0x1b96c0-0x1dd,_0x5b2a3f- -0x5d3,_0x56722e);}return _0x38da0d['model']=_0x47701f['model']||'',_0x38da0d[_0x258dfc(-0x103,-0x6e,-0xb9,-0xea)+'e']=_0x47701f['temperatur'+'e']??-0x1a1b+-0x124b+0x2c66+0.7,_0x38da0d[_0x258dfc(0xc8,0xb2,0x13,0x61)]=_0x47701f['top_p']??-0x1999+0x193*-0xf+0x3137,_0x38da0d[_0x49fae5(0x252,0x257,0x2d9,0x34d)]=_0x47701f[_0x49fae5(0x328,0x2ed,0x2d9,0x333)]??-0x223+0x2042+-0x1c1f*0x1,_0x38da0d[_0x49fae5(0x263,0x24a,0x2a2,0x1e8)]=_0x47701f[_0x49fae5(0x35f,0x234,0x2a2,0x26b)]??![],_0x38da0d['context']=_0x12a2ca,_0x38da0d;}export function buildPromptForRequestType(_0x978e52,_0x4a584b=''){const _0x2523c7={'CpvtK':function(_0x4da983,_0x55f29c){return _0x4da983===_0x55f29c;},'HhvSK':function(_0x1e3b02,_0x38bf36){return _0x1e3b02===_0x38bf36;},'oVWfP':_0x500d7c(0x2da,0x2a2,0x2f1,0x24e),'SVLuD':function(_0x47e5cf,_0x2e9fa2){return _0x47e5cf!==_0x2e9fa2;},'aUTjv':_0x500d7c(0x357,0x3e2,0x3ff,0x2d7),'ZHCcD':'LTTwd','SchUy':function(_0x30bc16,_0x3a0578,_0x188278){return _0x30bc16(_0x3a0578,_0x188278);},'Dylwy':'user','Vmsmi':'LLMè¯·æ±‚å·²ä¸­æ–­ï¼Œå¼€'+_0x500d7c(0x337,0x39c,0x2b2,0x3a6),'PoIUI':_0x500d7c(0x2c6,0x37c,0x2e6,0x2ab),'LWqJG':function(_0x3b9f48,_0x5f380e){return _0x3b9f48(_0x5f380e);},'SvoCX':function(_0x271da3,_0x3c491d){return _0x271da3!==_0x3c491d;},'JpWRD':_0x232c9c(-0x14c,-0xda,-0x87,-0x121),'ZfnYu':function(_0x313c29,_0x1f6d53){return _0x313c29!==_0x1f6d53;},'OXAlU':_0x232c9c(0x15,0xc0,0xb6,-0xaf),'yEsZS':function(_0x1a1dcc,_0x49f494){return _0x1a1dcc===_0x49f494;},'dogNY':_0x500d7c(0x22d,0x235,0x1c5,0x1bd),'VJpgu':_0x232c9c(-0x18,0x90,0x74,0x54),'fUGcX':_0x500d7c(0x2f4,0x245,0x289,0x366),'YmHON':function(_0x21f893,_0x36f0d0){return _0x21f893===_0x36f0d0;},'ddlFT':'MtyUO','vzjlS':function(_0x3849fe,_0x299295){return _0x3849fe(_0x299295);},'fUkPP':function(_0x2b9544,_0x7861d1){return _0x2b9544(_0x7861d1);}},_0x4047c2=extension_settings[extensionName][_0x232c9c(-0x22,0x2c,-0x6c,-0xbb)+_0x500d7c(0x23b,0x236,0x1a2,0x2c6)+_0x500d7c(0x2e8,0x281,0x2bd,0x34a)]||{},_0x39051a={};_0x39051a[_0x232c9c(-0xaa,-0x51,0xc,0x1c)+_0x232c9c(-0x46,-0x37,0xc,0x39)]='é»˜è®¤';function _0x500d7c(_0x56579a,_0x184c9b,_0x3b54a0,_0x33af71){return _0x4c6dc3(_0x56579a-0x127,_0x56579a-0x217,_0x3b54a0-0x195,_0x33af71);}const _0x6298d9=_0x4047c2[_0x978e52]||_0x39051a,_0x589dee=_0x6298d9[_0x500d7c(0x2f6,0x281,0x27d,0x233)+'ofile']||'é»˜è®¤';function _0x232c9c(_0x4cdd1c,_0x596217,_0x12179a,_0x4a7429){return _0x2f9ff1(_0x4cdd1c-0x24,_0x596217-0x10f,_0x4cdd1c- -0x5d8,_0x12179a);}const _0x4d9767=extension_settings[extensionName][_0x500d7c(0x280,0x20a,0x325,0x244)+'xt_profile'+'s']||{},_0x7003f8=_0x4d9767[_0x589dee]||_0x4d9767[Object[_0x232c9c(-0x75,0x8,-0xc7,-0x5a)](_0x4d9767)[0x136*0xb+0x2322+-0x3074]]||{},_0x25a7bd=[];if(_0x7003f8[_0x500d7c(0x3a1,0x3bf,0x2dd,0x415)]&&Array['isArray'](_0x7003f8[_0x232c9c(0x1,-0x15,-0x6,0x5b)]))_0x7003f8[_0x232c9c(0x1,-0x45,0x6,0xa0)][_0x232c9c(-0x111,-0x1b7,-0x89,-0xc9)](_0x1241ca=>{function _0x15e91c(_0x1c66b3,_0x1c9096,_0x314d00,_0x485a69){return _0x500d7c(_0x485a69- -0xe2,_0x1c9096-0x13a,_0x314d00-0x182,_0x314d00);}function _0x415724(_0x4d3c44,_0x102a7c,_0x42b7df,_0x420243){return _0x500d7c(_0x42b7df- -0x16f,_0x102a7c-0xf3,_0x42b7df-0x1a8,_0x420243);}if(!_0x1241ca[_0x415724(0xfa,0xe0,0x136,0x19a)])return;if(!_0x1241ca[_0x415724(0x24a,0x189,0x1be,0x151)]||_0x2523c7[_0x415724(0x18e,0x197,0x18e,0x210)](_0x1241ca[_0x15e91c(0x2df,0x222,0x1b5,0x24b)]['trim'](),''))return;if(_0x2523c7['HhvSK'](_0x1241ca[_0x415724(0x1d6,0xa8,0x11f,0xd1)+'e'],_0x2523c7[_0x15e91c(0x167,0x1c8,0x198,0x149)])){if(_0x2523c7[_0x15e91c(0x27c,0x382,0x37a,0x2c1)](_0x2523c7[_0x15e91c(0x190,0x27b,0x201,0x201)],_0x2523c7[_0x15e91c(0x220,0x25a,0x14f,0x1dd)])){if(!_0x4a584b||!_0x2523c7[_0x415724(0x260,0x116,0x1da,0x1fa)](checkTriggerWords,_0x1241ca[_0x15e91c(0x1ea,0x322,0x2c7,0x268)+'ds'],_0x4a584b))return;}else _0x484410+=_0x51bfd1,_0x260877&&_0x1af12f(_0x26456b);}const _0x46e95e={};_0x46e95e[_0x415724(0xfd,0xbb,0xe8,0x72)]=_0x1241ca[_0x15e91c(0x19c,0x1f5,0x19f,0x175)]||_0x2523c7[_0x15e91c(0x177,0x1fc,0x21d,0x1b7)],_0x46e95e[_0x15e91c(0x289,0x1d6,0x30e,0x24b)]=_0x1241ca[_0x15e91c(0x300,0x20c,0x26b,0x24b)],_0x25a7bd[_0x15e91c(0x34a,0x300,0x293,0x2a8)](_0x46e95e);});else _0x7003f8[_0x500d7c(0x367,0x38f,0x2b3,0x399)]&&Array[_0x232c9c(-0x147,-0xe1,-0x1df,-0x1d1)](_0x7003f8[_0x232c9c(-0x39,0x7f,0x3a,0x2)])&&(_0x2523c7[_0x232c9c(-0xa8,-0x61,-0x13e,-0xb2)](_0x2523c7[_0x232c9c(-0xbb,-0x151,-0x13e,-0xb2)],_0x2523c7[_0x500d7c(0x2e5,0x35e,0x364,0x22f)])?_0x7003f8[_0x500d7c(0x367,0x314,0x3e5,0x371)][_0x500d7c(0x28f,0x219,0x1f1,0x220)](_0x467fcc=>{function _0xde483(_0x2b7656,_0x3e3eaf,_0x492265,_0x144ca0){return _0x232c9c(_0x2b7656-0x231,_0x3e3eaf-0xcd,_0x144ca0,_0x144ca0-0x1ce);}function _0x2fdfd7(_0x3da3fc,_0xc5cbf7,_0x1af8a2,_0x3fc69d){return _0x500d7c(_0x1af8a2-0x165,_0xc5cbf7-0x1b3,_0x1af8a2-0x77,_0xc5cbf7);}if(_0x2523c7[_0xde483(0x218,0x283,0x236,0x1bb)](_0x2523c7['JpWRD'],_0x2fdfd7(0x327,0x3a9,0x3b9,0x316)))_0x456915[_0xde483(0x18d,0x1eb,0xd0,0x238)](),_0x4a8e5f['info'](_0x2523c7[_0xde483(0x1b0,0x1b9,0x1ab,0x12e)]);else{if(_0x467fcc['user']&&_0x2523c7[_0x2fdfd7(0x539,0x449,0x4c8,0x4b2)](_0x467fcc[_0x2fdfd7(0x454,0x2fa,0x3a6,0x3a5)][_0x2fdfd7(0x391,0x492,0x3da,0x3e1)](),'')){if(_0x2523c7[_0xde483(0x13a,0x1a9,0xec,0x166)](_0x2fdfd7(0x4ce,0x48f,0x51a,0x4d1),_0x2523c7[_0x2fdfd7(0x32f,0x399,0x39d,0x38a)])){const _0x64830d={};_0x64830d[_0x2fdfd7(0x372,0x46c,0x3bc,0x3f6)]=_0x2523c7['Dylwy'],_0x64830d[_0xde483(0x1be,0x1f3,0x13d,0x13c)]=_0x467fcc[_0xde483(0xd2,0xa3,0x182,0x84)],_0x25a7bd[_0xde483(0x21b,0x17e,0x1bc,0x23e)](_0x64830d);}else _0x3bf7f4[_0xde483(0x18d,0x251,0xd6,0x19a)](),_0x2eb880['info'](_0x2523c7['PoIUI']);}if(_0x467fcc['assistant']&&_0x467fcc[_0x2fdfd7(0x451,0x55a,0x4ed,0x494)][_0xde483(0x106,0x15e,0x18f,0x51)]()!==''){if(_0x2523c7[_0xde483(0x159,0x1bd,0x15d,0x13f)]('dZZwj',_0x2523c7['dogNY']))_0x2523c7[_0xde483(0x229,0x2bb,0x20b,0x24e)](_0x9d445f,_0x192f93);else{const _0x57c583={};_0x57c583[_0xde483(0xe8,0x80,0x123,0x132)]=_0x2523c7[_0x2fdfd7(0x370,0x47c,0x400,0x3ac)],_0x57c583[_0xde483(0x1be,0x10f,0x106,0x136)]=_0x467fcc[_0x2fdfd7(0x4b8,0x55f,0x4ed,0x5ac)],_0x25a7bd[_0xde483(0x21b,0x156,0x215,0x272)](_0x57c583);}}}}):(_0x469ec0=_0x2523c7[_0x500d7c(0x30e,0x347,0x3a1,0x30e)],_0x5d0fe6[_0x500d7c(0x2cf,0x23c,0x2d3,0x2ac)](_0x52a2e5+(_0x232c9c(-0x1b,-0xb9,-0xd1,-0x1f)+'æ•ˆå›žå¤ã€‚'))));const _0x366449=_0x2523c7[_0x232c9c(-0xde,-0x162,-0xcd,-0x34)](mergeAdjacentMessages,_0x25a7bd),_0x488993=_0x2523c7[_0x232c9c(-0x44,-0xc,-0xbb,-0x11)](processRollPlaceholders,_0x366449);return _0x488993;}const _0x487996={};_0x487996[_0x4c6dc3(0x1c2,0x16b,0x135,0x145)]=_0x2f9ff1(0x5fa,0x591,0x53a,0x4f1),_0x487996[_0x4c6dc3(0xbd,0x97,0x12,0xc5)+'n']=_0x4c6dc3(0x10a,0x8b,0x10b,0xb1),_0x487996[_0x2f9ff1(0x697,0x585,0x5ee,0x63a)+'ay']='è§’è‰²/æœè£…å±•ç¤º';function _0x4c6dc3(_0x274a0f,_0x3af5e4,_0x3c11a2,_0x3143f9){return _0x5820(_0x3af5e4- -0x109,_0x3143f9);}_0x487996['char_modif'+'y']=_0x2f9ff1(0x565,0x5e7,0x522,0x560),_0x487996[_0x4c6dc3(0x110,0xbd,0x13,0x11e)+'n']='ç¿»è¯‘',_0x487996[_0x2f9ff1(0x66a,0x5a3,0x5dd,0x69f)]=_0x4c6dc3(-0x1d,0x51,0xe5,0xbb);const REQUEST_TYPE_NAMES=_0x487996;export async function executeTypedLLMRequest(_0xbbc4a5,_0x48bace,_0x41a1ee,_0x21ae57=null){const _0x1851f3={'npMna':function(_0x25e313,_0x18bd7e){return _0x25e313===_0x18bd7e;},'aQDfD':_0x57f1f7(-0x236,-0x243,-0x292,-0x2c4),'ApxZM':_0x24bdfe(-0x13a,-0x102,-0x73,-0xc6)+'e\x20request\x20'+_0x57f1f7(-0x109,-0x135,-0x1b3,-0x121),'JcRFs':_0x24bdfe(-0x1fc,-0xc7,-0x7f,-0x142)+'orted','IqBqD':function(_0x1c468c,_0xace844){return _0x1c468c(_0xace844);},'kfYdK':_0x57f1f7(-0x2c1,-0x257,-0x1cd,-0x1d6),'NSEGJ':function(_0x500d81,_0x538c62){return _0x500d81===_0x538c62;},'iadqD':function(_0x3b7ae9,_0x26a361,_0x595ee3){return _0x3b7ae9(_0x26a361,_0x595ee3);},'hiMYE':_0x57f1f7(-0x1aa,-0x267,-0x221,-0x277),'DKgQf':function(_0x2f482f,_0x3d3bca){return _0x2f482f(_0x3d3bca);},'FKKlQ':_0x24bdfe(-0x159,-0x47,-0x8f,-0xb1)+'å¤ã€‚','KdeHp':_0x57f1f7(-0x157,-0x142,-0x1fc,-0x19e)+_0x24bdfe(0xd,-0xc4,-0xb,-0x90),'biqQC':_0x57f1f7(-0x245,-0x1b4,-0x168,-0x266),'HRwXb':function(_0x2804db,_0x224b7e){return _0x2804db!==_0x224b7e;},'OqzfI':function(_0x143c01,_0x35185a){return _0x143c01!==_0x35185a;},'qyGOA':_0x57f1f7(-0x130,-0x120,-0x63,-0x1a0),'BjMmt':'unknown','ZVVIV':function(_0x48727c,_0x4e2806){return _0x48727c/_0x4e2806;},'lBBIs':function(_0x283b8f,_0x38da21){return _0x283b8f||_0x38da21;},'eEPGw':function(_0x55bdd7){return _0x55bdd7();},'cNbbG':function(_0x4c8e7c,_0xfa74bd){return _0x4c8e7c(_0xfa74bd);},'MrDvV':function(_0x203e68,_0x2fdc4d){return _0x203e68(_0x2fdc4d);},'RMabT':function(_0x41531e,_0x59f760){return _0x41531e||_0x59f760;},'jDIbZ':function(_0x2f5a0a,_0x1be6ea){return _0x2f5a0a===_0x1be6ea;},'bguXq':_0x24bdfe(-0x151,-0xe6,-0x12f,-0xab),'BCIxs':_0x24bdfe(-0x97,-0x28,-0x71,-0x65),'pSzXa':'/api/backe'+_0x24bdfe(-0x4d,-0x10f,-0x9c,-0xba)+_0x57f1f7(-0x23f,-0x1a9,-0x22d,-0x1bc)+'/generate','EHLNd':function(_0x557467,_0x412966){return _0x557467!==_0x412966;},'RBygY':_0x57f1f7(-0x1a8,-0x224,-0x1bd,-0x1cd),'rpbhK':'custom','SRWQw':function(_0x220a89,_0x1cdc98,_0x2e34c7){return _0x220a89(_0x1cdc98,_0x2e34c7);},'zffQe':_0x57f1f7(-0x1c2,-0x167,-0x188,-0xdb),'FEieb':function(_0x3f1bfb,_0x266d27){return _0x3f1bfb(_0x266d27);},'KsWPY':_0x57f1f7(-0x15b,-0x18f,-0x122,-0xf5),'bBjKs':function(_0x5a8dd3,_0x2d22df){return _0x5a8dd3===_0x2d22df;},'nZcRU':function(_0x178c7f,_0x35a2bb){return _0x178c7f!==_0x35a2bb;},'qWWfk':'cfANe','eSDyV':_0x24bdfe(-0x65,-0xd3,0x30,-0x5b),'alhLi':_0x24bdfe(-0xff,-0x116,0x24,-0x82),'hOHby':_0x57f1f7(-0xbf,-0xf9,-0x174,-0x1b1),'ErGjG':_0x57f1f7(-0x180,-0x153,-0x10c,-0x1a9),'yxYAR':_0x24bdfe(-0x1a6,-0xc2,-0x5d,-0x120),'MnpsI':'NMDwt','egNBO':function(_0x5ddafb,_0x8b707){return _0x5ddafb===_0x8b707;},'DgnJx':_0x24bdfe(0x27,-0x9b,-0xd1,-0x85)+'E]','MahVY':_0x57f1f7(-0x121,-0x182,-0x1b0,-0xed),'yMdAf':function(_0x1a18c2,_0xb44f4){return _0x1a18c2===_0xb44f4;},'GffKI':_0x24bdfe(-0xdd,-0x1d2,-0x21d,-0x193),'tGtce':_0x24bdfe(-0x110,-0x104,-0x102,-0x110),'Mjdyr':function(_0x551c60,_0x2da9e8){return _0x551c60!==_0x2da9e8;},'pfVHc':_0x24bdfe(-0x19d,-0x165,-0x153,-0x109),'LHOiF':_0x24bdfe(-0x55,-0xc8,-0x1a4,-0x11c),'TKqRU':_0x57f1f7(-0x105,-0x12b,-0x10c,-0xd8),'Nvdfi':_0x57f1f7(-0xd1,-0x193,-0x233,-0x1f3),'gvhlu':function(_0x50eb57,_0x548f28){return _0x50eb57!==_0x548f28;},'mBTJl':function(_0x1ab314,_0x25f8a3){return _0x1ab314===_0x25f8a3;},'UzRSF':_0x57f1f7(-0x16e,-0x1d2,-0x270,-0x1e3),'GHWoX':_0x57f1f7(-0x183,-0x176,-0x15d,-0x1f2),'FbbhA':'NeUic','LBNCR':function(_0x17f0d2,_0x1c6fb1){return _0x17f0d2(_0x1c6fb1);},'tSuTg':_0x57f1f7(-0x158,-0x17e,-0xcd,-0x1eb),'EsZmh':_0x24bdfe(0x9b,0x1c,-0x84,-0x1a),'kySLq':function(_0xeb972f,_0x1a2bd9){return _0xeb972f===_0x1a2bd9;},'eamRQ':function(_0x235ba2,_0x40bcfb){return _0x235ba2>_0x40bcfb;},'mGmzh':function(_0x2a0368,_0x14afc9){return _0x2a0368===_0x14afc9;},'Hkxdk':_0x57f1f7(-0x2ea,-0x26f,-0x1ee,-0x317),'FEwbO':'uZuBu','BTCvM':function(_0x5bbe70,_0x1adf1d){return _0x5bbe70===_0x1adf1d;},'IJfWK':'yjIrG','baLqc':_0x57f1f7(-0x106,-0x138,-0x1e1,-0x17f),'ihCoi':function(_0x8d4fcc,_0x2a1b9f){return _0x8d4fcc===_0x2a1b9f;},'Jwtjj':_0x24bdfe(-0x163,-0x210,-0x138,-0x15e),'PnnVP':_0x24bdfe(-0xc1,-0x29,-0x48,-0x39),'ZtnwJ':function(_0x28ae5f,_0x4fc2ad){return _0x28ae5f===_0x4fc2ad;},'mFqOA':_0x24bdfe(-0x30,0x1a,-0x4f,-0x30),'usjlX':function(_0x9f06bb,_0x11f775){return _0x9f06bb===_0x11f775;},'bXsGX':function(_0x2af0e7,_0x79597a){return _0x2af0e7===_0x79597a;},'RlXcS':_0x24bdfe(0xf,-0x4d,-0xd7,-0x6f)};function _0x57f1f7(_0xac1884,_0x5b1966,_0x1fb1a5,_0x33a740){return _0x2f9ff1(_0xac1884-0x57,_0x5b1966-0x38,_0x5b1966- -0x6e0,_0xac1884);}const {prompt:_0x8fad7b,id:_0xbc9301}=_0xbbc4a5;if(_0x1851f3[_0x57f1f7(-0x28c,-0x211,-0x2a1,-0x189)](!_0xbc9301,!_0x8fad7b))return;currentLLMRequestController&&(currentLLMRequestController[_0x24bdfe(-0x101,-0xf5,-0x98,-0xcb)](),toastr[_0x57f1f7(-0xab,-0x16e,-0x14f,-0x1f8)](_0x1851f3['KdeHp']));currentLLMRequestController=new AbortController();const _0x2cb089=currentLLMRequestController[_0x57f1f7(-0xed,-0x19f,-0xf0,-0xe4)],_0x167a93=currentLLMRequestController,_0x8e7c73=REQUEST_TYPE_NAMES[_0x48bace]||_0x48bace,_0x29b45a={};_0x29b45a[_0x24bdfe(-0xf1,-0x43,-0x25,-0xc9)]=_0x57f1f7(-0x1e2,-0x172,-0xed,-0x197)+_0x8e7c73,_0x29b45a[_0x24bdfe(-0x9b,-0x37,-0xf2,-0xea)]=TaskType[_0x24bdfe(-0x80,-0x16,-0x28,-0x56)],_0x29b45a[_0x57f1f7(-0x235,-0x186,-0x119,-0x1e0)]=_0xbc9301;const _0x24eb1c=taskQueue[_0x24bdfe(-0x41,-0x5b,-0x2f,-0x5a)](_0x29b45a);llmTaskControllers[_0x57f1f7(-0x130,-0x12d,-0xcd,-0x6f)](_0x24eb1c,currentLLMRequestController);function _0x24bdfe(_0x30938a,_0x11dc23,_0x1a776e,_0x52d553){return _0x2f9ff1(_0x30938a-0x190,_0x11dc23-0x9e,_0x52d553- -0x5ff,_0x30938a);}taskQueue['updateStat'+'us'](_0x24eb1c,TaskStatus[_0x24bdfe(-0x1b9,-0x1e5,-0x1fa,-0x19d)]),_0x1851f3[_0x57f1f7(-0x1af,-0x12f,-0x13b,-0xa6)](startFabLoading);let _0xedd004=![];_0x1851f3[_0x57f1f7(-0x13a,-0x12f,-0xff,-0x1e1)](clearLog),_0x1851f3['IqBqD'](addLog,_0x57f1f7(-0x125,-0x1a3,-0x1de,-0xf8)+_0x24bdfe(-0xcc,-0x95,-0x9e,-0xd2)+_0x8e7c73+_0x24bdfe(-0x117,-0x60,-0x15d,-0x10c)),addLog(_0x24bdfe(0x1a,-0xc1,0x32,-0x44)+_0xbc9301),_0x1851f3[_0x57f1f7(-0x255,-0x1d7,-0x1c8,-0x290)](addLog,_0x57f1f7(-0x13f,-0x1d6,-0x196,-0x12a)+':'),_0x1851f3['cNbbG'](addLog,_0x1851f3[_0x57f1f7(-0x2b1,-0x259,-0x2a5,-0x261)](formatPromptForDisplay,_0x8fad7b));const _0x581384=getEffectiveConfigForRequestType(_0x48bace),{api_url:_0x442801,api_key:_0x5b2b8d,model:_0x28340b,temperature:_0x47c016,top_p:_0x45fbea,max_tokens:_0x4d0097,stream:_0x176e91}=_0x581384;if(_0x1851f3[_0x57f1f7(-0x23e,-0x1e5,-0x177,-0x1d7)](!_0x442801,!_0x5b2b8d)||!_0x28340b){if(_0x1851f3[_0x57f1f7(-0xcb,-0x122,-0xfa,-0x127)](_0x1851f3[_0x57f1f7(-0xf8,-0x1a0,-0x15b,-0x198)],_0x1851f3[_0x57f1f7(-0x16e,-0x1d5,-0x165,-0x265)]))_0x4733db=''+_0x5af6b4[_0x24bdfe(-0x92,-0x91,-0x97,-0x12f)](_0xa146f0[_0x24bdfe(-0x86,-0x203,-0x1e0,-0x140)]);else{const _0x176e97=_0x8e7c73+(_0x57f1f7(-0x19a,-0x25e,-0x2dc,-0x1ef)+_0x24bdfe(-0x1f6,-0x1c9,-0x12a,-0x172)+_0x57f1f7(-0x148,-0x1f9,-0x25c,-0x160)+'ç½®ã€‚');toastr[_0x57f1f7(-0x17d,-0x221,-0x298,-0x228)](_0x176e97);const _0x307f41={};_0x307f41[_0x57f1f7(-0x23b,-0x1b6,-0x1f0,-0x146)]=![],_0x307f41['result']=_0x176e97,_0x307f41['id']=_0xbc9301,eventSource['emit'](_0x41a1ee,_0x307f41);return;}}const _0x2085ec=_0x1851f3[_0x24bdfe(-0xd5,-0x169,-0x207,-0x15d)],_0x19c3df=_0x442801['replace'](/\/$/,'');_0x21ae57&&_0x21ae57(_0x57f1f7(-0x178,-0x205,-0x155,-0x15c)+_0x8e7c73+_0x24bdfe(-0xbc,-0x1dd,-0x220,-0x167));try{if(_0x1851f3[_0x57f1f7(-0x244,-0x204,-0x229,-0x178)](_0x1851f3[_0x57f1f7(-0x251,-0x1c7,-0x138,-0x1d2)],_0x1851f3[_0x24bdfe(-0x13b,-0xbc,-0xef,-0xe6)])){if(_0x1851f3[_0x24bdfe(-0xfd,-0x242,-0xd2,-0x18d)](_0x34da49[_0x24bdfe(-0xdc,-0x123,-0xbd,-0xc9)],_0x1851f3['aQDfD'])){_0x333b5d=!![],_0x3e98bc[_0x24bdfe(-0xe1,-0x1ae,-0x1c2,-0x10e)](_0x1851f3[_0x24bdfe(-0x2b,-0xdd,-0xd2,-0x3c)]),_0x54bead[_0x57f1f7(-0x1ce,-0x1b1,-0x148,-0x254)+'us'](_0x3f739e,_0x1574b1['CANCELLED']),_0x1bc959[_0x24bdfe(-0xfd,-0x12b,-0x7a,-0xaf)](_0x44dfd7);const _0x529d6b={};_0x529d6b[_0x24bdfe(-0xe0,-0x15f,-0x15b,-0xc9)]=_0x1851f3['aQDfD'],_0x529d6b['message']=_0x1851f3[_0x57f1f7(-0x143,-0x20a,-0x19d,-0x226)];const _0x4a67e0={};_0x4a67e0['success']=![],_0x4a67e0[_0x24bdfe(-0x103,-0x1dd,-0x1d3,-0x14e)]=null,_0x4a67e0['id']=_0x170fce,_0x4a67e0['error']=_0x529d6b,_0x301889['emit'](_0x308d3a[_0x57f1f7(-0x23e,-0x264,-0x2c1,-0x1f6)+_0x57f1f7(-0x16f,-0x1ee,-0x172,-0x270)],_0x4a67e0);return;}_0x2c1c27[_0x24bdfe(-0x109,-0x14a,-0x99,-0x140)](_0x24bdfe(-0xd3,-0x7d,0x76,-0x25)+_0x57f1f7(-0x2bf,-0x217,-0x219,-0x192),_0x12bd2a);const _0x523499=_0x24bdfe(-0x14d,-0x14c,-0x1e0,-0x175)+_0x2ee970[_0x24bdfe(-0xf5,-0x194,-0x1bc,-0x158)];_0x277b65&&_0x1851f3[_0x57f1f7(-0x237,-0x27c,-0x1c2,-0x29f)](_0x19e954,_0x523499);_0x2c5a8c[_0x24bdfe(-0x1cd,-0x100,-0x1ed,-0x140)](_0x544dbd[_0x24bdfe(-0x211,-0x172,-0x1cb,-0x158)]),_0xbe5d8c[_0x57f1f7(-0x25a,-0x1d0,-0x195,-0x188)+'sk'](_0x250a90,![]),_0xb398c0[_0x24bdfe(-0x71,-0x3c,-0xdc,-0xaf)](_0x52a09d);const _0x55ca78={};_0x55ca78[_0x24bdfe(-0x42,-0x59,-0xd5,-0xd5)]=![],_0x55ca78[_0x24bdfe(-0xb1,-0xe6,-0x18c,-0x14e)]=_0x523499,_0x55ca78['id']=_0x4c90a7,_0x5db145[_0x24bdfe(-0x8b,-0x139,-0x18b,-0x132)](_0x4a8a90['LLM_EXECUT'+_0x24bdfe(-0x101,-0x120,-0x95,-0x10d)],_0x55ca78);}else{const _0x2dc7dc={};_0x2dc7dc['chat_compl'+'etion_sour'+'ce']=_0x1851f3[_0x24bdfe(-0x1e3,-0xd3,-0xad,-0x11f)],_0x2dc7dc[_0x57f1f7(-0x1ce,-0x252,-0x1e9,-0x28b)]=_0x19c3df,_0x2dc7dc[_0x57f1f7(-0x106,-0x11f,-0x1c7,-0x1d9)+'lude_heade'+'rs']='Authorizat'+_0x24bdfe(-0xc8,-0xf1,-0xc,-0x37)+_0x24bdfe(-0xfd,-0x185,-0xd1,-0x11d)+_0x5b2b8d+'\x22',_0x2dc7dc[_0x57f1f7(-0x122,-0x159,-0x1ad,-0x1de)]=_0x28340b,_0x2dc7dc[_0x24bdfe(-0x253,-0x11a,-0x227,-0x197)]=_0x8fad7b,_0x2dc7dc[_0x57f1f7(-0x11a,-0x1c6,-0x12b,-0x1b0)+'e']=_0x47c016,_0x2dc7dc[_0x57f1f7(-0x192,-0xfa,-0xce,-0x6f)]=_0x45fbea,_0x2dc7dc[_0x57f1f7(-0xed,-0x1a8,-0x102,-0x114)]=_0x4d0097,_0x2dc7dc['stream']=_0x176e91;const _0x95c2fe=_0x2dc7dc,_0x3af054=await _0x1851f3[_0x57f1f7(-0x1a6,-0x17f,-0x1ed,-0x11e)](fetch,_0x2085ec,{'method':_0x1851f3[_0x57f1f7(-0x10e,-0x175,-0xb1,-0x1cc)],'headers':_0x1851f3[_0x57f1f7(-0xed,-0x198,-0x107,-0x17f)](getRequestHeaders,window['token']),'body':JSON[_0x24bdfe(-0x1c1,-0x16e,-0x116,-0x12f)](_0x95c2fe),'signal':_0x2cb089});if(!_0x3af054['ok']){try{if(_0x1851f3[_0x24bdfe(-0x9f,0x1,-0xdd,-0x41)](_0x1851f3[_0x24bdfe(-0xaf,-0xa8,-0x1af,-0x113)],_0x1851f3[_0x24bdfe(-0x10f,-0xfe,-0x12e,-0x113)])){const _0x17e269=await _0x3af054[_0x24bdfe(-0xa6,-0x212,-0x1cf,-0x14b)]();if(_0x17e269[_0x24bdfe(-0x99,-0x17a,-0xc7,-0x140)]){let _0xcdd0e7;if(_0x1851f3[_0x24bdfe(-0xea,-0x178,-0x23,-0xc0)](typeof _0x17e269[_0x57f1f7(-0x23a,-0x221,-0x294,-0x291)],_0x1851f3[_0x24bdfe(-0x97,0x10,0x4a,-0x20)])&&_0x17e269[_0x24bdfe(-0x9d,-0x188,-0x1a3,-0x140)]['message']){if(_0x1851f3[_0x57f1f7(-0x1df,-0x262,-0x2fe,-0x1f2)](_0x1851f3[_0x57f1f7(-0x161,-0x10b,-0x72,-0x81)],_0x1851f3[_0x24bdfe(-0xb8,0x2c,-0x43,-0x4b)])){_0xcdd0e7=''+_0x17e269[_0x57f1f7(-0x206,-0x221,-0x2c8,-0x268)][_0x57f1f7(-0x1f8,-0x239,-0x240,-0x2ba)];const _0x36a0c2=[];if(_0x17e269[_0x57f1f7(-0x2b6,-0x221,-0x287,-0x267)]['type'])_0x36a0c2[_0x24bdfe(0x4d,-0xc,0x6c,-0x3d)]('ç±»åž‹:\x20'+_0x17e269[_0x57f1f7(-0x233,-0x221,-0x1cf,-0x27c)][_0x24bdfe(-0x8d,-0x15a,-0x18b,-0xea)]);if(_0x17e269[_0x57f1f7(-0x15d,-0x221,-0x209,-0x264)]['code'])_0x36a0c2['push'](_0x57f1f7(-0x19e,-0xf5,-0x124,-0xe7)+_0x17e269[_0x57f1f7(-0x18c,-0x221,-0x255,-0x19d)][_0x57f1f7(-0x17d,-0x18d,-0x16e,-0x139)]);_0x36a0c2[_0x24bdfe(0xd,-0x59,-0x108,-0x8a)]>-0x120b*-0x1+-0x1146+-0xc5&&(_0xcdd0e7+='\x20('+_0x36a0c2['join'](',\x20')+')');}else{let _0xa4e8ea;if(typeof _0x410a47[_0x24bdfe(-0x1cd,-0x143,-0x159,-0x140)]===_0x1851f3[_0x57f1f7(-0x16c,-0x101,-0x5d,-0xe0)]&&_0x2eb0ae[_0x57f1f7(-0x1be,-0x221,-0x1a4,-0x2d8)]['message']){_0xa4e8ea=''+_0x1b41dc['error'][_0x24bdfe(-0x197,-0x11c,-0xd5,-0x158)];const _0x30e87d=[];if(_0x1074cb['error'][_0x24bdfe(-0x14a,-0xb3,-0xca,-0xea)])_0x30e87d[_0x57f1f7(-0x1cf,-0x11e,-0x6f,-0x184)](_0x24bdfe(-0x131,-0x27,-0xf8,-0xd6)+_0x4decc6[_0x57f1f7(-0x23f,-0x221,-0x270,-0x299)]['type']);if(_0x565a54['error'][_0x57f1f7(-0x145,-0x18d,-0x1e4,-0x13c)])_0x30e87d['push'](_0x24bdfe(-0xac,-0xd,-0x79,-0x14)+_0x1bc542[_0x57f1f7(-0x23f,-0x221,-0x28b,-0x2c6)][_0x24bdfe(-0xd0,-0xb1,-0x11d,-0xac)]);_0x30e87d[_0x24bdfe(-0xb4,0x6,-0x63,-0x8a)]>-0x1*-0x4f2+0x1885*-0x1+-0x1*-0x1393&&(_0xa4e8ea+='\x20('+_0x30e87d[_0x24bdfe(-0x1e4,-0x104,-0x16c,-0x13b)](',\x20')+')');}else _0xa4e8ea=''+_0x1787ca[_0x24bdfe(-0xaf,-0xe0,-0xd6,-0x12f)](_0x294710['error']);throw new _0x473998(_0xa4e8ea);}}else _0x1851f3['alhLi']===_0x1851f3[_0x57f1f7(-0x2e5,-0x22e,-0x2eb,-0x1a9)]?_0xcdd0e7=''+JSON[_0x57f1f7(-0x1f0,-0x210,-0x153,-0x1d5)](_0x17e269[_0x24bdfe(-0x1e8,-0xb1,-0xdc,-0x140)]):(_0x2b5878+=_0x505c0f,_0x4c083d&&_0x17db9f(_0x56b415));throw new Error(_0xcdd0e7);}}else _0x37b6bb[_0x24bdfe(-0x13,-0x8d,0x35,-0x26)][_0x24bdfe(-0x1d2,-0x87,-0x8d,-0x138)](_0x2a1b72=>{if(!_0x2a1b72[_0x5a3d0f(0x7a,0x30,0x9c,0x68)])return;if(!_0x2a1b72[_0x40b819(0x477,0x482,0x4e0,0x53b)]||_0x1851f3[_0x5a3d0f(0xf,-0xa2,0xa0,-0x82)](_0x2a1b72[_0x5a3d0f(0x102,0x166,0x184,0xc6)][_0x40b819(0x3d8,0x4ad,0x428,0x3d3)](),''))return;if(_0x1851f3['NSEGJ'](_0x2a1b72[_0x40b819(0x3f9,0x42c,0x441,0x446)+'e'],_0x5a3d0f(0xaf,0x174,0x15,0x5a))){if(!_0x3eaf84||!_0x1851f3[_0x5a3d0f(0x155,0x12a,0x216,0x166)](_0xa5b32c,_0x2a1b72[_0x5a3d0f(0x11f,0x63,0xe1,0x140)+'ds'],_0x2b62b5))return;}function _0x5a3d0f(_0x1b48b6,_0x385375,_0x336101,_0x53a399){return _0x24bdfe(_0x336101,_0x385375-0x1ae,_0x336101-0x166,_0x1b48b6-0x19c);}function _0x40b819(_0x3bc9b3,_0x199406,_0x17dae4,_0x4d9d45){return _0x24bdfe(_0x4d9d45,_0x199406-0x87,_0x17dae4-0x8c,_0x17dae4-0x57a);}const _0x537fa3={};_0x537fa3['role']=_0x2a1b72['role']||_0x1851f3[_0x40b819(0x4bd,0x464,0x4bd,0x401)],_0x537fa3['content']=_0x2a1b72['content'],_0x347d11[_0x5a3d0f(0x15f,0x1e9,0x151,0xe9)](_0x537fa3);});}catch(_0x522854){if(_0x57f1f7(-0x16f,-0xf9,-0x60,-0x12c)!==_0x1851f3[_0x24bdfe(-0x136,-0x49,-0x53,-0x84)])_0x1559f7+='\x20('+_0x27e2f5[_0x24bdfe(-0x118,-0x17f,-0x8b,-0x13b)](',\x20')+')';else{if(_0x522854[_0x57f1f7(-0x2a5,-0x239,-0x2a2,-0x19e)][_0x57f1f7(-0x1da,-0x20e,-0x1a0,-0x237)](_0x1851f3[_0x24bdfe(-0x155,-0xaa,-0x1b2,-0x15a)])||_0x522854['message'][_0x24bdfe(-0x137,-0x1c3,-0xa8,-0x12d)](_0x1851f3[_0x57f1f7(-0x2af,-0x21d,-0x241,-0x226)]))throw _0x522854;}}throw new Error('è¯·æ±‚å¤±è´¥:\x20'+_0x3af054[_0x57f1f7(-0x16f,-0x1a4,-0x1be,-0x18d)]+'\x20'+_0x3af054[_0x24bdfe(-0x1fa,-0xf3,-0x171,-0x135)]);}let _0x320710='';if(_0x176e91){const _0x30a54a=_0x3af054[_0x24bdfe(-0x131,-0x12b,-0xed,-0x174)][_0x57f1f7(-0x23c,-0x26c,-0x26b,-0x30f)](),_0x56a870=new TextDecoder('utf-8');let _0x561d34='';while(!![]){const {done:_0x5d799a,value:_0x2b4898}=await _0x30a54a['read']();if(_0x5d799a)break;const _0x13199a={};_0x13199a['stream']=!![],_0x561d34+=_0x56a870['decode'](_0x2b4898,_0x13199a);const _0x1cecef=_0x561d34[_0x57f1f7(-0x1e4,-0x1ba,-0x1a9,-0x1bd)]('\x0a');_0x561d34=_0x1cecef[_0x24bdfe(-0x108,-0x50,-0x88,-0xe3)]()||'';for(const _0xab3188 of _0x1cecef){if(_0x1851f3['MnpsI']===_0x24bdfe(-0xc6,-0x8e,0x8c,-0x33)){const _0x1c60a7=_0xab3188['trim']();if(!_0x1c60a7||_0x1851f3['egNBO'](_0x1c60a7,_0x1851f3[_0x57f1f7(-0x238,-0x269,-0x1d6,-0x308)]))continue;if(_0x1c60a7[_0x57f1f7(-0x17d,-0x1e4,-0x1af,-0x1ce)](_0x1851f3[_0x57f1f7(-0x148,-0x10f,-0x199,-0x111)]))try{if(_0x1851f3['yMdAf'](_0x1851f3[_0x57f1f7(-0x16d,-0x181,-0x1b3,-0x1e9)],_0x1851f3[_0x57f1f7(-0x26a,-0x22a,-0x271,-0x18c)]))_0x1851f3[_0x57f1f7(-0x240,-0x1d7,-0x185,-0x1ba)](_0x2e9221,_0x7a6158);else{const _0x195fc7=_0x1c60a7[_0x57f1f7(-0x1c8,-0x250,-0x224,-0x216)](-0xe0a+0xb37+-0x2d9*-0x1),_0x25fb66=JSON[_0x57f1f7(-0x240,-0x1eb,-0x1fa,-0x181)](_0x195fc7),_0x1b7c31=_0x25fb66[_0x57f1f7(-0x250,-0x199,-0xf2,-0x212)]?.[0x19d2+-0x1e23+0x451]?.[_0x57f1f7(-0x16e,-0x17a,-0x1b0,-0x23a)]?.[_0x24bdfe(-0xae,-0x12e,-0x108,-0x9a)];if(_0x1b7c31){_0x320710+=_0x1b7c31;if(_0x21ae57){if(_0x1851f3['Mjdyr'](_0x1851f3[_0x57f1f7(-0x1b8,-0x188,-0x1f8,-0x224)],_0x57f1f7(-0x108,-0x14b,-0x155,-0xca)))_0x21ae57(_0x320710);else{const _0x3372a1=_0x41b520[_0x1186ea][_0x24bdfe(-0x1c7,-0x122,-0xdf,-0x147)+_0x24bdfe(-0xb4,-0x187,-0x6a,-0xf7)+'s']||{},_0x5383ee=_0x477ec3[_0x51eeb5][_0x57f1f7(-0x166,-0x191,-0x190,-0x24c)+_0x24bdfe(-0x67,-0x11b,-0xee,-0xfa)+'_profile'];return _0x3372a1[_0x5383ee]||_0x3372a1[_0x514177[_0x57f1f7(-0x14b,-0x17d,-0xe8,-0x1d5)](_0x3372a1)[0x2075+-0x1bd2+-0x1*0x4a3]]||{};}}}}}catch(_0x52b4a6){_0x1851f3['Mjdyr'](_0x1851f3[_0x57f1f7(-0x28d,-0x1dc,-0x170,-0x19b)],_0x1851f3[_0x24bdfe(-0xd6,-0xb2,-0x27,-0x53)])?console['warn'](_0x1851f3['Nvdfi'],_0x52b4a6['message']):_0x108063[_0x57f1f7(-0x23b,-0x1d9,-0x1d8,-0x256)](_0x1851f3[_0x24bdfe(-0x105,-0x1f9,-0x208,-0x192)]);}}else{const _0x424266=_0x3d759b[_0x3bce5d][_0x24bdfe(0x1c,0x56,-0x85,-0x49)+_0x24bdfe(-0x126,-0x10c,-0x16d,-0x18c)+_0x24bdfe(-0xa9,-0x18b,-0xa7,-0xdf)]||{},_0x2143b0={};_0x2143b0[_0x57f1f7(-0x2ab,-0x237,-0x195,-0x261)+'e']='é»˜è®¤',_0x2143b0[_0x57f1f7(-0x24d,-0x1b2,-0x21b,-0x1ac)+_0x24bdfe(-0xdb,-0xe,-0xf6,-0x6d)]='é»˜è®¤';const _0x65cd39=_0x424266[_0x2b8414]||_0x2143b0,_0x5713c2=_0x3660d6[_0x54758b][_0x24bdfe(-0x195,-0xfb,-0x186,-0x134)+'es']||{},_0x20c68f=_0x608e9[_0x56ae2e][_0x57f1f7(-0x2c5,-0x228,-0x16c,-0x2e1)+_0x24bdfe(-0x44,-0x93,-0x62,-0xf7)+'s']||{},_0x239a82=_0x65cd39[_0x24bdfe(-0x189,-0x110,-0xef,-0x156)+'e']||'é»˜è®¤',_0x19f2a1=_0x5713c2[_0x239a82]||_0x5713c2[_0x44e688['keys'](_0x5713c2)[-0x2*0x968+0x192+0x113e]]||{},_0xf4dc93=_0x65cd39[_0x24bdfe(-0xff,-0xc9,-0xa,-0xd1)+'ofile']||'é»˜è®¤',_0x493594=_0x20c68f[_0xf4dc93]||_0x20c68f[_0xb7b65a[_0x24bdfe(-0x12,-0xb,-0xf9,-0x9c)](_0x20c68f)[-0x6f7+-0x104e*-0x1+-0x957]]||{},_0x355735={};return _0x355735['api_url']=_0x19f2a1['api_url']||'',_0x355735[_0x24bdfe(-0x212,-0x129,-0x169,-0x17a)]=_0x19f2a1[_0x57f1f7(-0x267,-0x25b,-0x30a,-0x2df)]||'',_0x355735[_0x57f1f7(-0xbc,-0x159,-0x9a,-0x1fc)]=_0x19f2a1[_0x24bdfe(-0x130,-0xf0,-0xc4,-0x78)]||'',_0x355735[_0x24bdfe(-0x29,-0x136,-0x1ac,-0xe5)+'e']=_0x19f2a1[_0x24bdfe(-0x4a,-0x13a,-0x137,-0xe5)+'e']??-0xf6a+-0x801+-0xb*-0x221+0.7,_0x355735[_0x24bdfe(-0x9b,-0x15,0xaa,-0x19)]=_0x19f2a1[_0x57f1f7(-0x5e,-0xfa,-0xac,-0x1b9)]??-0x2cf+0x1b01+0x1831*-0x1,_0x355735['max_tokens']=_0x19f2a1['max_tokens']??-0xb7a*-0x3+0x22f6+0x10d9*-0x4,_0x355735[_0x24bdfe(-0x166,-0x9c,-0x164,-0xfe)]=_0x19f2a1[_0x57f1f7(-0x21e,-0x1df,-0x214,-0x1f2)]??![],_0x355735['context']=_0x493594,_0x355735;}}}if(_0x561d34[_0x24bdfe(-0x198,-0xaf,-0xa7,-0x152)]()&&_0x1851f3[_0x57f1f7(-0xf9,-0x10c,-0x1c2,-0xea)](_0x561d34[_0x24bdfe(-0x1f5,-0x152,-0x176,-0x152)](),_0x1851f3[_0x24bdfe(-0x182,-0x132,-0x22f,-0x188)])&&_0x561d34[_0x24bdfe(-0xde,-0x116,-0xb3,-0x152)]()[_0x57f1f7(-0x126,-0x1e4,-0x20e,-0x13b)](_0x1851f3[_0x57f1f7(-0x12b,-0x10f,-0x159,-0x7c)])){if(_0x1851f3[_0x57f1f7(-0x1a2,-0x1e7,-0x220,-0x14d)](_0x1851f3[_0x57f1f7(-0x20f,-0x15a,-0x1b5,-0x1f1)],'dubmd'))try{const _0x138259=_0x561d34['trim']()[_0x24bdfe(-0x159,-0x14d,-0x150,-0x16f)](0x2216+0x49e+-0x1357*0x2),_0x262adb=JSON[_0x57f1f7(-0x1a8,-0x1eb,-0x15f,-0x165)](_0x138259),_0x21e6ae=_0x262adb[_0x24bdfe(-0x126,-0x130,-0xeb,-0xb8)]?.[0x3b*-0x2f+-0x6*0x2fe+0x1cc9]?.[_0x24bdfe(-0x35,-0x4a,-0x81,-0x99)]?.['content'];_0x21e6ae&&(_0x1851f3[_0x57f1f7(-0xda,-0x127,-0x17c,-0xd6)](_0x24bdfe(0x2e,-0xdf,0x2d,-0x95),_0x1851f3[_0x24bdfe(-0xb2,0x1c,-0x5b,-0x29)])?(_0x54229d[_0x24bdfe(-0x13c,-0x160,-0x9f,-0xcb)](),_0x5dd354[_0x24bdfe(-0x28,0x1e,-0x119,-0x8d)](_0x1851f3[_0x24bdfe(0x29,-0xbd,0x1b,-0x1c)])):(_0x320710+=_0x21e6ae,_0x21ae57&&('aoTzV'===_0x1851f3[_0x57f1f7(-0x15d,-0x196,-0xdc,-0x18f)]?(_0x1f1afc=_0x1851f3[_0x24bdfe(-0x1dd,-0x216,-0xe5,-0x182)],_0x3c8fd8[_0x24bdfe(-0x77,-0x137,-0x19d,-0xf8)](_0x13eb2b+(_0x57f1f7(-0x5d,-0x123,-0x107,-0x198)+_0x57f1f7(-0x1d9,-0x1b9,-0x20d,-0x100)))):_0x1851f3[_0x24bdfe(-0x6c,-0x7e,-0x175,-0xeb)](_0x21ae57,_0x320710))));}catch(_0x45482a){console[_0x57f1f7(-0x17b,-0x113,-0x1b5,-0xa7)](_0x24bdfe(0x93,-0x41,0x38,-0x31)+_0x24bdfe(-0xe7,-0x192,-0xcf,-0x180),_0x45482a[_0x57f1f7(-0x189,-0x239,-0x26b,-0x1d3)]);}else return;}if(!_0x320710){if(_0x1851f3[_0x57f1f7(-0xff,-0x1af,-0xf2,-0x1f1)](_0x24bdfe(-0xdb,-0xe8,0x0,-0x59),_0x1851f3[_0x57f1f7(-0x96,-0x100,-0x18c,-0x190)])){const _0x127830=_0x2b3ccc[_0x5c6aa1][_0x24bdfe(-0x9c,-0xfd,-0x167,-0x134)+'es']||{},_0x352510=_0x12e1ae[_0x2b6cf8][_0x24bdfe(-0x50,-0xee,-0x84,-0xee)+_0x24bdfe(-0x6,-0xdc,-0xef,-0xb6)];return _0x127830[_0x352510]||_0x127830[_0xc086d3['keys'](_0x127830)[0x815*0x4+-0x1d*-0x2b+0x6b*-0x59]]||{};}else _0x320710=_0x1851f3[_0x57f1f7(-0x30c,-0x263,-0x2e3,-0x1c2)],toastr['warning'](_0x8e7c73+(':\x20LLM\x20æœªæ”¶åˆ°æœ‰'+_0x24bdfe(-0xff,-0x9a,-0x70,-0xd8)));}}else{const _0x599e1b=await _0x3af054[_0x57f1f7(-0x2f1,-0x22c,-0x1bc,-0x231)]();if(_0x599e1b['error']){if(_0x1851f3[_0x24bdfe(-0x1a0,-0x9c,-0x92,-0x123)](_0x1851f3[_0x57f1f7(-0x189,-0x14f,-0x17d,-0x1db)],_0x1851f3['EsZmh'])){if(_0x5dade2[_0x24bdfe(-0x1f7,-0x14c,-0x17f,-0x186)]&&_0x1851f3['HRwXb'](_0x6c5525[_0x57f1f7(-0x1f1,-0x267,-0x310,-0x2c8)][_0x57f1f7(-0x1a1,-0x233,-0x19c,-0x2b9)](),'')){const _0x13a620={};_0x13a620[_0x24bdfe(-0x1e1,-0x1fd,-0x105,-0x170)]=_0x1851f3[_0x24bdfe(-0x137,-0x79,-0x70,-0xbd)],_0x13a620['content']=_0x1800af[_0x24bdfe(-0x113,-0x11a,-0xeb,-0x186)],_0x49b840[_0x24bdfe(-0x9d,-0xd5,-0x8b,-0x3d)](_0x13a620);}if(_0xc81543[_0x57f1f7(-0x1d1,-0x120,-0x1db,-0x19d)]&&_0x1851f3[_0x24bdfe(-0xdd,-0x1bd,-0x218,-0x199)](_0x34a1e3['assistant'][_0x24bdfe(-0x109,-0x9b,-0x193,-0x152)](),'')){const _0x2d5825={};_0x2d5825[_0x24bdfe(-0x1b9,-0x116,-0x236,-0x170)]=_0x1851f3[_0x24bdfe(-0x137,-0x16b,-0x1fd,-0x17b)],_0x2d5825[_0x57f1f7(-0x142,-0x17b,-0x202,-0x19e)]=_0x4d5470[_0x57f1f7(-0x61,-0x120,-0x1c9,-0x1af)],_0x22009c[_0x57f1f7(-0xa1,-0x11e,-0x142,-0x6b)](_0x2d5825);}}else{let _0x2fecf2;if(_0x1851f3[_0x57f1f7(-0x1ba,-0x272,-0x2a2,-0x210)](typeof _0x599e1b[_0x24bdfe(-0xb2,-0x1b8,-0x1a6,-0x140)],_0x1851f3[_0x24bdfe(-0xd7,0x81,-0x7b,-0x20)])&&_0x599e1b['error'][_0x57f1f7(-0x2ec,-0x239,-0x186,-0x246)]){_0x2fecf2=''+_0x599e1b[_0x57f1f7(-0x1d3,-0x221,-0x22d,-0x2bf)][_0x57f1f7(-0x261,-0x239,-0x25c,-0x208)];const _0x38eaf3=[];if(_0x599e1b[_0x57f1f7(-0x2cc,-0x221,-0x161,-0x15a)][_0x57f1f7(-0x24f,-0x1cb,-0x1d2,-0x10d)])_0x38eaf3[_0x24bdfe(0x61,0x6c,-0xa7,-0x3d)]('ç±»åž‹:\x20'+_0x599e1b[_0x57f1f7(-0x22b,-0x221,-0x1ab,-0x17a)]['type']);if(_0x599e1b[_0x24bdfe(-0x7a,-0xd8,-0xdd,-0x140)][_0x24bdfe(-0x29,-0x2c,-0x7d,-0xac)])_0x38eaf3[_0x24bdfe(-0x42,0x64,-0xb5,-0x3d)](_0x24bdfe(0xaa,0x72,0x5c,-0x14)+_0x599e1b[_0x57f1f7(-0x2e5,-0x221,-0x162,-0x20e)]['code']);_0x1851f3[_0x57f1f7(-0x1be,-0x25f,-0x1b4,-0x23e)](_0x38eaf3[_0x24bdfe(0x1c,0xc,-0x72,-0x8a)],0xb4f+-0xd5c+0x20d)&&(_0x2fecf2+='\x20('+_0x38eaf3[_0x24bdfe(-0xc9,-0x179,-0x101,-0x13b)](',\x20')+')');}else _0x2fecf2=''+JSON[_0x57f1f7(-0x1a1,-0x210,-0x263,-0x1db)](_0x599e1b[_0x24bdfe(-0x196,-0x1e4,-0xb1,-0x140)]);throw new Error(_0x2fecf2);}}_0x320710=_0x599e1b[_0x24bdfe(-0x11,-0xc0,-0xa7,-0xb8)]?.[0x1c64+-0x1*-0x1e74+0x1*-0x3ad8]?.[_0x24bdfe(-0x145,-0x189,-0x200,-0x158)]?.[_0x24bdfe(-0x11e,-0x132,-0xca,-0x9a)]||'';if(!_0x320710){if(_0x1851f3['mGmzh'](_0x1851f3['Hkxdk'],_0x1851f3['FEwbO'])){const _0x4bbec7={};_0x4bbec7['role']=_0x1851f3[_0x57f1f7(-0x270,-0x25c,-0x2ef,-0x2f1)],_0x4bbec7['content']=_0x20afe4[_0x24bdfe(0x27,-0x21,-0x74,-0x3f)],_0x374e29[_0x24bdfe(0x72,-0x8c,-0x5e,-0x3d)](_0x4bbec7);}else _0x320710=_0x1851f3[_0x57f1f7(-0x1f1,-0x263,-0x249,-0x270)],toastr[_0x24bdfe(-0x8b,-0x12a,-0x176,-0xf8)](_0x8e7c73+(_0x57f1f7(-0xc7,-0x123,-0x193,-0x191)+_0x24bdfe(-0x10f,-0x6c,-0x91,-0xd8)));}_0x21ae57&&(_0x1851f3[_0x24bdfe(-0xfc,-0x1a9,-0xea,-0x153)](_0x57f1f7(-0x164,-0x180,-0x19a,-0x146),_0x1851f3[_0x24bdfe(-0x7d,-0x93,-0x133,-0x10b)])?_0x21ae57(_0x320710):_0x3b9731=null);}_0x1851f3[_0x57f1f7(-0x2fc,-0x259,-0x230,-0x1bf)](addLog,'\x0a-----\x20LLM'+_0x57f1f7(-0x22f,-0x1ca,-0x196,-0x128)),addLog(_0x320710),_0x1851f3[_0x24bdfe(-0x1bc,-0x1dc,-0x1b4,-0x178)](addLog,_0x57f1f7(-0x12a,-0x1a3,-0x19a,-0x18f)+_0x57f1f7(-0xe3,-0x15b,-0x141,-0x153)),taskQueue[_0x57f1f7(-0x1ba,-0x1d0,-0x199,-0x15e)+'sk'](_0x24eb1c,!![]),llmTaskControllers[_0x24bdfe(-0x114,-0x15d,-0x9e,-0xaf)](_0x24eb1c);const _0x59ed74=extension_settings[extensionName][_0x57f1f7(-0x188,-0xf8,-0xf9,-0xa4)+'e'];if(_0x59ed74){const _0xf00a8={};_0xf00a8[_0x57f1f7(-0x21a,-0x21e,-0x1fb,-0x20d)]=0x1388,toastr['info'](_0x57f1f7(-0x1e6,-0x1bb,-0x281,-0x125)+_0x8e7c73+(_0x24bdfe(-0x68,-0xc2,-0x11d,-0x7f)+_0x57f1f7(-0x1c1,-0x22d,-0x20b,-0x1ff)),_0x1851f3[_0x57f1f7(-0x1f0,-0x14d,-0x14c,-0x12f)],_0xf00a8);}const _0x3f0ab9={};_0x3f0ab9[_0x24bdfe(-0x137,-0x19,-0x9e,-0xd5)]=!![],_0x3f0ab9[_0x57f1f7(-0x2b5,-0x22f,-0x20d,-0x272)]=_0x320710,_0x3f0ab9['id']=_0xbc9301,_0x3f0ab9['testMode']=_0x59ed74,eventSource[_0x57f1f7(-0x287,-0x213,-0x1a5,-0x15e)](_0x41a1ee,_0x3f0ab9);}}catch(_0x5a333f){if(_0x5a333f[_0x24bdfe(-0x8a,-0x14a,-0xe9,-0xc9)]===_0x1851f3[_0x57f1f7(-0x2fb,-0x24b,-0x266,-0x1fd)]){const _0x2da673=_0x57f1f7(-0x1af,-0x1f2,-0x18b,-0x148)[_0x57f1f7(-0x17e,-0x1ba,-0x112,-0x1be)]('|');let _0x33d8f8=0x13c+-0x1e11+0x1cd5;while(!![]){switch(_0x2da673[_0x33d8f8++]){case'0':return;case'1':taskQueue[_0x57f1f7(-0x126,-0x1b1,-0x14a,-0x22b)+'us'](_0x24eb1c,TaskStatus[_0x57f1f7(-0x1cb,-0x1f5,-0x170,-0x252)]);continue;case'2':const _0x448f75={};_0x448f75[_0x24bdfe(-0x17a,-0xe2,-0xc4,-0xc9)]=_0x1851f3[_0x57f1f7(-0x20f,-0x24b,-0x1ba,-0x222)],_0x448f75[_0x57f1f7(-0x25d,-0x239,-0x185,-0x1f9)]=_0x1851f3[_0x24bdfe(-0x113,-0xbc,-0x72,-0x129)];const _0x3f4b7b={};_0x3f4b7b[_0x24bdfe(-0xf6,-0x3f,-0x6c,-0xd5)]=![],_0x3f4b7b[_0x24bdfe(-0x208,-0x156,-0x1c2,-0x14e)]=null,_0x3f4b7b['id']=_0xbc9301,_0x3f4b7b[_0x24bdfe(-0xf5,-0x1fb,-0x205,-0x140)]=_0x448f75,eventSource[_0x57f1f7(-0x2a0,-0x213,-0x2c8,-0x286)](_0x41a1ee,_0x3f4b7b);continue;case'3':llmTaskControllers[_0x57f1f7(-0x1d7,-0x190,-0x1db,-0x1ad)](_0x24eb1c);continue;case'4':_0xedd004=!![];continue;}break;}}console[_0x57f1f7(-0x188,-0x221,-0x2bf,-0x1aa)](_0x8e7c73+_0x57f1f7(-0x19c,-0x220,-0x2d7,-0x2cb),_0x5a333f);const _0x2cdcf6=_0x24bdfe(-0x152,-0x20c,-0x166,-0x175)+_0x5a333f[_0x24bdfe(-0x1d1,-0x177,-0x123,-0x158)];if(_0x21ae57){if(_0x1851f3[_0x57f1f7(-0x26d,-0x225,-0x27a,-0x263)](_0x1851f3['Jwtjj'],_0x1851f3[_0x24bdfe(-0x124,-0x164,-0x106,-0x155)]))return!!_0x3e0a56[_0x316d57][_0x57f1f7(-0x5e,-0xf8,-0x18b,-0x185)+'e'];else _0x1851f3[_0x57f1f7(-0x25a,-0x241,-0x205,-0x190)](_0x21ae57,_0x2cdcf6);}toastr[_0x24bdfe(-0x153,-0x13a,-0x7e,-0x140)](_0x5a333f[_0x24bdfe(-0xb2,-0x178,-0x1a6,-0x158)]),taskQueue['completeTa'+'sk'](_0x24eb1c,![]),llmTaskControllers[_0x24bdfe(-0x18,0xe,-0x1f,-0xaf)](_0x24eb1c);const _0xa0f76f={};_0xa0f76f['success']=![],_0xa0f76f['result']=_0x2cdcf6,_0xa0f76f['id']=_0xbc9301,eventSource['emit'](_0x41a1ee,_0xa0f76f);}finally{if(_0x1851f3[_0x57f1f7(-0x189,-0x158,-0x1fc,-0x114)](currentLLMRequestController,_0x167a93)){if(_0x1851f3[_0x57f1f7(-0x244,-0x1f6,-0x176,-0x287)](_0x1851f3[_0x24bdfe(-0x68,-0xf2,-0x117,-0x75)],_0x1851f3[_0x57f1f7(-0x202,-0x156,-0x1ed,-0x11d)])){const _0x69168e=_0x29710c[_0x57f1f7(-0x2a0,-0x276,-0x31f,-0x2b5)](/^data:([^;]+);/),_0x2aa841=_0x69168e?_0x69168e[0x1074+-0xceb*-0x3+0x1*-0x3734]:_0x1851f3[_0x57f1f7(-0x187,-0x1bf,-0x25e,-0x279)],_0x3b47d1=_0x5c9287[_0x24bdfe(-0x169,-0x175,-0x16d,-0xd9)](',')[0x1c*0xe+-0x2095*0x1+0x1f0e]||'',_0x20117f=_0x5ea4c1['round'](_0x1851f3[_0x57f1f7(-0x14c,-0x16c,-0x1b3,-0x1a4)](_0x3b47d1[_0x24bdfe(-0x146,-0xa5,0x1,-0x8a)]*(0x20*0x8d+0x19f9+-0x2b96)/(0x26a1+0x5*-0x2a9+-0x18*0x10e),-0x14ab+0x10ed+0x7be));_0x3123dc[_0x57f1f7(-0x8d,-0x11e,-0x129,-0x170)](_0x24bdfe(-0xdc,-0x7a,-0x65,-0xb3)+':\x20'+_0x2aa841+_0x24bdfe(-0x13d,-0x19f,-0x115,-0x164)+_0x20117f+_0x24bdfe(-0x5a,0x1e,-0x52,-0x5d));}else currentLLMRequestController=null;}if(!_0xedd004||_0x1851f3[_0x57f1f7(-0x105,-0x149,-0x10f,-0x202)](currentLLMRequestController,null)){if(_0x1851f3[_0x57f1f7(-0x120,-0x115,-0x15f,-0x18f)](_0x1851f3[_0x57f1f7(-0x115,-0x1ae,-0x204,-0x15f)],_0x1851f3[_0x57f1f7(-0x147,-0x1ae,-0x21c,-0x1e5)]))_0x1851f3['eEPGw'](stopFabLoading);else{const _0x224f33=_0x2a4984['apply'](_0x1eaa40,arguments);return _0x56bd09=null,_0x224f33;}}}}export async function executeDefaultLLMRequest(_0x26730d,_0x3b3218,_0x5bee6d=null){function _0x1a104a(_0x249c61,_0x38a482,_0x3b8e13,_0x52e18b){return _0x4c6dc3(_0x249c61-0x26,_0x52e18b- -0x16b,_0x3b8e13-0x8b,_0x249c61);}const _0x41f940={'NzbST':_0x1a104a(-0x112,-0x113,-0x12d,-0xa2),'shQgp':_0x2e8ea2(0x32b,0x366,0x38c,0x33c),'NPiit':'Request\x20ab'+_0x2e8ea2(0x307,0x43e,0x3a8,0x3f3),'LqQeO':_0x1a104a(0x81,0x17,0x56,-0x2d),'iFOFA':_0x1a104a(-0x19,-0xad,-0x192,-0xdb),'CqIhw':function(_0x39ab6e,_0x59362b){return _0x39ab6e!==_0x59362b;},'izrxU':'LLMè¯·æ±‚å·²ä¸­æ–­ï¼Œå¼€'+_0x1a104a(-0xe5,0x7a,-0xbf,-0x4b),'NTNBz':_0x1a104a(-0x2c,-0x6c,0x9e,0xb),'DAyKB':function(_0x202155){return _0x202155();},'xmNgH':function(_0x48de57,_0x82467d){return _0x48de57(_0x82467d);},'fXXIt':function(_0x47ec17,_0x977b42){return _0x47ec17(_0x977b42);},'hGAoX':function(_0x4d2503,_0x47f395){return _0x4d2503(_0x47f395);},'rVKGw':function(_0x578a6f,_0x6a29cc){return _0x578a6f||_0x6a29cc;},'TCwHY':function(_0x5cbe4a,_0x11abe1){return _0x5cbe4a===_0x11abe1;},'FjzcC':_0x1a104a(-0xad,-0x9a,-0x100,-0xe3),'VABvI':_0x1a104a(-0x98,-0xcd,-0x153,-0xd1)+_0x2e8ea2(0x324,0x37c,0x392,0x2ef)+_0x1a104a(-0x93,-0x17,0x81,0x28),'gXJlH':_0x1a104a(0xc2,0x69,0x23,0x1d)+_0x1a104a(-0xbf,0x46,-0x10d,-0x75)+_0x1a104a(-0xa5,-0xbd,-0x53,-0x83)+_0x2e8ea2(0x4fb,0x457,0x49e,0x42d),'hfNZp':_0x2e8ea2(0x58a,0x452,0x4cd,0x415),'fsTBA':function(_0x4430c1,_0x20b932){return _0x4430c1(_0x20b932);},'APleG':_0x1a104a(-0x33,-0x127,-0x115,-0xa7)+'ç¨å€™...','FYyEu':function(_0x54e62f,_0x241e98){return _0x54e62f!==_0x241e98;},'QOqHc':_0x1a104a(-0x10d,-0xcf,-0xa0,-0x13a),'mtNGh':function(_0x19a31f,_0x518689,_0x4a94b2){return _0x19a31f(_0x518689,_0x4a94b2);},'jXjkA':'YMeVk','KlIxZ':function(_0x2f2f02,_0xc496){return _0x2f2f02===_0xc496;},'JWwdl':_0x2e8ea2(0x42d,0x431,0x378,0x3b8),'FcnwZ':function(_0x39570f,_0x2a867e){return _0x39570f>_0x2a867e;},'ECYJW':_0x2e8ea2(0x530,0x402,0x488,0x48f),'eYCUR':'QpBMI','rOyjL':function(_0x203586,_0x1a06fa){return _0x203586===_0x1a06fa;},'sZrpx':_0x1a104a(0x27,-0x3f,0x41,-0x6c)+'å¤ã€‚','pRUuV':_0x1a104a(-0x142,-0x1ae,-0x174,-0xfc),'AqHzv':function(_0xb197f4,_0x13f983){return _0xb197f4(_0x13f983);},'BQvTv':function(_0x41be3e,_0xc867e3){return _0x41be3e(_0xc867e3);},'Hdcgq':function(_0x5d5cb9,_0x37716d){return _0x5d5cb9===_0x37716d;},'fFfHo':_0x2e8ea2(0x4bb,0x4ec,0x4c1,0x580),'LzSof':'zTRgF','dyWJe':'5|2|1|4|0|'+'3','xvHon':'LLM\x20execut'+'e\x20request\x20'+'aborted.','kTrmt':function(_0x530956,_0x2ffab1){return _0x530956(_0x2ffab1);},'xQpFJ':function(_0x8b1179){return _0x8b1179();}},{prompt:_0x2f8fe7,id:_0x163c3d}=_0x26730d;if(!_0x163c3d||!_0x2f8fe7)return;currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr['info'](_0x41f940[_0x1a104a(-0x60,-0x99,-0x3c,-0x19)]));currentLLMRequestController=new AbortController();const _0x20fb17=currentLLMRequestController[_0x2e8ea2(0x4c5,0x38e,0x430,0x48e)],_0x2ab6b2=currentLLMRequestController,_0x2cbd55={};_0x2cbd55[_0x1a104a(-0xd3,-0xba,-0x12,-0x84)]=_0x41f940[_0x1a104a(-0x112,-0x4d,-0x7f,-0xf5)],_0x2cbd55[_0x2e8ea2(0x362,0x394,0x404,0x3dd)]=TaskType['LLM'],_0x2cbd55[_0x1a104a(-0x119,-0x11b,0x3c,-0x60)]=_0x163c3d;const _0x46e0f4=taskQueue['addTask'](_0x2cbd55);llmTaskControllers[_0x1a104a(0xaa,-0x91,0x2c,-0x7)](_0x46e0f4,currentLLMRequestController),taskQueue[_0x1a104a(-0x53,-0xbb,-0xef,-0x8b)+'us'](_0x46e0f4,TaskStatus[_0x2e8ea2(0x2e5,0x3cd,0x351,0x28a)]),_0x41f940['DAyKB'](startFabLoading);let _0x59c4e8=![];_0x41f940['DAyKB'](clearLog),_0x41f940[_0x2e8ea2(0x3aa,0x409,0x456,0x514)](addLog,'=====\x20LLM\x20'+'é»˜è®¤è¯·æ±‚å¼€å§‹\x20==='+'==');function _0x2e8ea2(_0xd65209,_0x10ee40,_0x5e8487,_0x14cdaf){return _0x4c6dc3(_0xd65209-0x85,_0x5e8487-0x33e,_0x5e8487-0x1d2,_0x14cdaf);}_0x41f940[_0x2e8ea2(0x441,0x40e,0x456,0x45b)](addLog,'è¯·æ±‚\x20ID:\x20'+_0x163c3d),_0x41f940[_0x1a104a(-0x41,-0x61,-0x53,-0x4a)](addLog,_0x1a104a(-0x92,-0xc7,-0xab,-0xb0)+':'),_0x41f940['fXXIt'](addLog,_0x41f940[_0x2e8ea2(0x50d,0x512,0x48b,0x525)](formatPromptForDisplay,_0x2f8fe7));const {api_url:_0x4a29cb,api_key:_0x3d91d3,model:_0x3f620f,temperature:_0x2c67c0,top_p:_0x3428fa,max_tokens:_0x232f04}=_0x3b3218;if(_0x41f940['rVKGw'](!_0x4a29cb,!_0x3d91d3)||!_0x3f620f){if(_0x41f940[_0x2e8ea2(0x4e9,0x44e,0x499,0x47d)](_0x2e8ea2(0x388,0x30a,0x3c6,0x480),_0x41f940[_0x2e8ea2(0x508,0x3bc,0x47b,0x511)])){const _0x1e4ef0=_0x41f940[_0x1a104a(-0x88,-0x75,-0xc6,-0xbd)];toastr[_0x2e8ea2(0x376,0x357,0x3ae,0x343)](_0x1e4ef0);const _0x2fdf9b={};_0x2fdf9b[_0x2e8ea2(0x41a,0x44e,0x419,0x4cf)]=![],_0x2fdf9b[_0x2e8ea2(0x32f,0x2f3,0x3a0,0x347)]=_0x1e4ef0,_0x2fdf9b['id']=_0x163c3d,eventSource[_0x1a104a(-0x191,-0xda,-0x8f,-0xed)](eventNames['LLM_EXECUT'+_0x1a104a(-0x115,-0x2b,-0x7d,-0xc8)],_0x2fdf9b);return;}else{const _0x5a0f6f=_0x41f940[_0x2e8ea2(0x37f,0x3b3,0x40e,0x3f5)][_0x2e8ea2(0x435,0x3d3,0x415,0x4ba)]('|');let _0x2b1322=-0x1353*0x1+-0xaf4+0x1e47;while(!![]){switch(_0x5a0f6f[_0x2b1322++]){case'0':_0xc2126a[_0x2e8ea2(0x422,0x3a0,0x43f,0x3ac)](_0x5e4083);continue;case'1':_0x1abcb2['updateStat'+'us'](_0x5f806c,_0xf6a862[_0x1a104a(-0x2e,-0x16,-0x146,-0xcf)]);continue;case'2':const _0x225625={};_0x225625['name']=_0x41f940[_0x2e8ea2(0x401,0x4c4,0x40d,0x442)],_0x225625[_0x1a104a(-0x10a,-0xe9,-0xd9,-0x113)]=_0x41f940['NPiit'];const _0x5cf5b8={};_0x5cf5b8['success']=![],_0x5cf5b8['result']=null,_0x5cf5b8['id']=_0x353efb,_0x5cf5b8[_0x1a104a(-0x1ba,-0x88,-0x12b,-0xfb)]=_0x225625,_0x20e32e[_0x1a104a(-0x17b,-0x193,-0x169,-0xed)](_0x508210,_0x5cf5b8);continue;case'3':return;case'4':_0x29715e=!![];continue;}break;}}}const _0x324fa0=_0x41f940[_0x1a104a(-0x18,-0x2,-0x31,-0x1d)],_0x43af08=_0x4a29cb['replace'](/\/$/,'');if(_0x5bee6d){if(_0x41f940[_0x1a104a(-0x128,-0x105,-0xdf,-0x145)]!==_0x41f940[_0x1a104a(-0x183,-0x1d6,-0x180,-0x145)])return _0x4ead36[_0x1a104a(-0x16c,-0xb0,-0xa0,-0xea)](_0x398ae6,null,0xac5+-0x2c3+0x40*-0x20);else _0x41f940[_0x1a104a(-0x1f,-0x8,-0xf,-0x44)](_0x5bee6d,_0x41f940[_0x1a104a(0x4f,0x68,-0x10d,-0x4e)]);}try{if(_0x41f940[_0x2e8ea2(0x491,0x46f,0x462,0x43c)]('vUXFX',_0x41f940[_0x1a104a(-0x6e,-0xd4,-0xbb,-0x11c)])){const _0x13c7a5={};_0x13c7a5['chat_compl'+_0x2e8ea2(0x4bb,0x45b,0x441,0x451)+'ce']=_0x1a104a(-0x100,-0x16e,-0x16b,-0x142),_0x13c7a5[_0x2e8ea2(0x3b4,0x3ca,0x37d,0x444)]=_0x43af08,_0x13c7a5[_0x2e8ea2(0x4f7,0x4e3,0x4b0,0x4c6)+_0x1a104a(-0x12f,-0x148,-0x66,-0x105)+'rs']='Authorizat'+_0x2e8ea2(0x457,0x44e,0x4b7,0x56b)+_0x1a104a(-0x143,-0x2a,-0x120,-0xd8)+_0x3d91d3+'\x22',_0x13c7a5[_0x1a104a(-0x4d,-0xb0,-0x63,-0x33)]=_0x3f620f,_0x13c7a5[_0x2e8ea2(0x3aa,0x298,0x357,0x36d)]=_0x2f8fe7,_0x13c7a5[_0x2e8ea2(0x39b,0x401,0x409,0x458)+'e']=_0x2c67c0,_0x13c7a5[_0x1a104a(0x60,-0x50,0x91,0x2c)]=_0x3428fa,_0x13c7a5['max_tokens']=_0x232f04,_0x13c7a5['stream']=![];const _0x539034=_0x13c7a5,_0x11be97=await _0x41f940[_0x1a104a(0xc9,0x24,0x79,0xf)](fetch,_0x324fa0,{'method':_0x1a104a(0x42,-0x8f,-0xb1,-0x41),'headers':_0x41f940[_0x1a104a(-0x1b,-0x38,-0x61,-0x44)](getRequestHeaders,window[_0x2e8ea2(0x3cb,0x31e,0x39e,0x36a)]),'body':JSON[_0x2e8ea2(0x40a,0x389,0x3bf,0x42d)](_0x539034),'signal':_0x20fb17}),_0x1800d5=await _0x11be97[_0x2e8ea2(0x2ee,0x40b,0x3a3,0x3bd)]();if(_0x1800d5['error']){if(_0x41f940[_0x1a104a(-0x41,-0x14,-0x2a,-0x10)](_0x41f940[_0x1a104a(-0xb1,-0xd5,-0x17e,-0xca)],_0x2e8ea2(0x448,0x449,0x47d,0x3bb))){let _0x45b98d;if(_0x41f940[_0x2e8ea2(0x4d2,0x3ac,0x413,0x42d)](typeof _0x1800d5[_0x1a104a(-0x159,-0xc7,-0x1a8,-0xfb)],_0x41f940[_0x2e8ea2(0x409,0x3ae,0x369,0x393)])&&_0x1800d5['error']['message']){_0x45b98d=''+_0x1800d5[_0x1a104a(-0xe3,-0x138,-0xbb,-0xfb)][_0x1a104a(-0xc7,-0x10c,-0x120,-0x113)];const _0x425235=[];if(_0x1800d5['error'][_0x1a104a(-0x76,-0x50,-0x82,-0xa5)])_0x425235[_0x1a104a(0x81,0x5a,-0x22,0x8)](_0x2e8ea2(0x3d5,0x431,0x418,0x444)+_0x1800d5[_0x1a104a(-0xef,-0x14f,-0x88,-0xfb)][_0x1a104a(0x1a,-0x13c,0x17,-0xa5)]);if(_0x1800d5[_0x1a104a(-0xbe,-0xc5,-0x53,-0xfb)]['code'])_0x425235[_0x1a104a(-0x71,-0x82,-0x2e,0x8)]('ä»£ç :\x20'+_0x1800d5[_0x2e8ea2(0x419,0x31b,0x3ae,0x40e)][_0x2e8ea2(0x432,0x3d2,0x442,0x39c)]);if(_0x41f940[_0x1a104a(-0x2e,-0xca,-0xcb,-0x7f)](_0x425235[_0x1a104a(-0x1,-0x1,-0x44,-0x45)],-0x368+0x93a+-0x5d2)){if(_0x41f940[_0x1a104a(0x4a,-0x93,0x22,-0x13)]!==_0x41f940[_0x1a104a(-0x41,-0x6a,0x15,0x32)])_0x45b98d+='\x20('+_0x425235[_0x1a104a(-0x9d,-0x5b,-0x101,-0xf6)](',\x20')+')';else{if(_0x59aeda[_0x2e8ea2(0x371,0x404,0x396,0x2eb)][_0x2e8ea2(0x41d,0x391,0x3c1,0x331)](_0x41f940[_0x2e8ea2(0x430,0x4ad,0x3fc,0x368)])||_0x795ef0['message'][_0x1a104a(-0xd1,-0x65,-0x95,-0xe8)](_0x41f940[_0x1a104a(0x66,0x3f,-0x1,0x27)]))throw _0x54421b;}}}else _0x45b98d=''+JSON[_0x2e8ea2(0x476,0x316,0x3bf,0x316)](_0x1800d5[_0x2e8ea2(0x3d2,0x330,0x3ae,0x45e)]);throw new Error(_0x45b98d);}else{const _0x155b03=_0x5e2729?function(){function _0x18927e(_0x3003bc,_0x40e884,_0x2942ad,_0x383171){return _0x1a104a(_0x3003bc,_0x40e884-0x2a,_0x2942ad-0x18f,_0x40e884-0x451);}if(_0x57941b){const _0x55d50a=_0x5cde0d[_0x18927e(0x375,0x3ba,0x36f,0x3e1)](_0x3f7afa,arguments);return _0x4b7686=null,_0x55d50a;}}:function(){};return _0x320fb5=![],_0x155b03;}}if(!_0x11be97['ok']){if(_0x41f940[_0x1a104a(-0x13b,-0xe1,0x2a,-0x87)](_0x2e8ea2(0x2bd,0x30d,0x372,0x410),_0x1a104a(-0xe0,0x4b,-0x95,-0x36)))_0x22d6f5[_0x2e8ea2(0x4fe,0x4b2,0x4b1,0x4c5)](_0x3f3285);else throw new Error(_0x2e8ea2(0x56b,0x4ce,0x4c2,0x409)+_0x11be97[_0x2e8ea2(0x4ed,0x433,0x42b,0x484)]+'\x20'+_0x11be97[_0x2e8ea2(0x444,0x381,0x3b9,0x329)]);}const _0x4c983d=_0x1800d5[_0x2e8ea2(0x4f6,0x3b3,0x436,0x4f7)]?.[0xeb1+-0x2*-0x11e1+-0x3273]?.['message']?.[_0x1a104a(-0x63,-0xe,-0xbd,-0x55)]||'';!_0x4c983d&&toastr[_0x2e8ea2(0x474,0x401,0x3f6,0x3be)](_0x41f940['sZrpx']);if(_0x5bee6d){if(_0x41f940['CqIhw'](_0x41f940['pRUuV'],_0x1a104a(-0x14f,-0xf9,-0x176,-0xfc))){const _0x31de07=_0xb4e086[_0x2e8ea2(0x3af,0x301,0x39c,0x3dd)]()[_0x1a104a(-0x68,-0x81,-0x99,-0x12a)](-0xc0+0x12*-0x1ac+0x1ede),_0x303cc8=_0xf71662['parse'](_0x31de07),_0x517502=_0x303cc8[_0x2e8ea2(0x3d3,0x45f,0x436,0x49e)]?.[0x22d7+-0x1b4+-0x1f3*0x11]?.[_0x2e8ea2(0x3ac,0x48c,0x455,0x4f8)]?.[_0x2e8ea2(0x3c2,0x399,0x454,0x4f2)];_0x517502&&(_0x3c4e93+=_0x517502,_0x3a5757&&_0x26ef46(_0x130c6c));}else _0x41f940[_0x2e8ea2(0x344,0x2dd,0x35a,0x3be)](_0x5bee6d,_0x4c983d);}_0x41f940[_0x2e8ea2(0x51b,0x49c,0x48b,0x3dc)](addLog,_0x1a104a(-0x156,-0x9e,-0x5d,-0xe6)+_0x2e8ea2(0x487,0x45f,0x405,0x483)),_0x41f940[_0x1a104a(-0xcc,-0x2a,-0x2,-0x64)](addLog,_0x4c983d),addLog(_0x2e8ea2(0x4bf,0x39c,0x42c,0x40e)+_0x2e8ea2(0x52b,0x4fd,0x474,0x4ef)),taskQueue['completeTa'+'sk'](_0x46e0f4,!![]),llmTaskControllers[_0x1a104a(-0x10a,0xc,-0xf6,-0x6a)](_0x46e0f4);const _0x2f2696={};_0x2f2696[_0x1a104a(-0x80,0x0,-0x12c,-0x90)]=!![],_0x2f2696[_0x1a104a(-0x75,-0xd5,-0xf3,-0x109)]=_0x4c983d,_0x2f2696['id']=_0x163c3d,eventSource['emit'](eventNames[_0x2e8ea2(0x405,0x37e,0x36b,0x3b6)+_0x1a104a(-0x1,-0xb,-0x110,-0xc8)],_0x2f2696);}else _0x5eb1b2+='\x20('+_0x23b40b[_0x1a104a(-0x6c,-0xca,-0x158,-0xf6)](',\x20')+')';}catch(_0x1f3bbd){if(_0x41f940[_0x2e8ea2(0x517,0x48b,0x499,0x55c)](_0x1f3bbd[_0x2e8ea2(0x397,0x43e,0x425,0x446)],_0x2e8ea2(0x30b,0x419,0x38c,0x352))){if(_0x41f940[_0x2e8ea2(0x3b5,0x42a,0x39a,0x346)](_0x41f940[_0x1a104a(-0xd4,-0x13a,-0x38,-0xe1)],_0x41f940[_0x1a104a(-0x3,0x2a,-0xd,-0x76)])){const _0x50dd1e={'CTFbp':function(_0x7f8b2b,_0x40dbb4){return _0x41f940['CqIhw'](_0x7f8b2b,_0x40dbb4);},'ZjvEA':_0x1a104a(0x18,-0xa5,-0xb,0x6)};_0x207831[_0x2e8ea2(0x489,0x542,0x48e,0x51d)]['forEach'](_0x4f7f31=>{function _0x237247(_0x1b7cb,_0x1f277e,_0x383cda,_0x322586){return _0x2e8ea2(_0x1b7cb-0x18c,_0x1f277e-0x194,_0x383cda- -0x27f,_0x1f277e);}if(_0x4f7f31[_0xb3f496(0x3da,0x404,0x3eb,0x46f)]&&_0x50dd1e[_0xb3f496(0x478,0x4c3,0x449,0x4c2)](_0x4f7f31[_0xb3f496(0x3da,0x474,0x458,0x433)]['trim'](),'')){const _0x1a9e14={};_0x1a9e14['role']=_0x237247(0xc8,0x8a,0xe9,0x186),_0x1a9e14[_0xb3f496(0x4c6,0x55e,0x4d4,0x543)]=_0x4f7f31[_0xb3f496(0x3da,0x469,0x372,0x350)],_0x2b7cab[_0x237247(0x24f,0x2eb,0x232,0x177)](_0x1a9e14);}function _0xb3f496(_0x421869,_0x12c7ab,_0x2715dd,_0x107c68){return _0x1a104a(_0x12c7ab,_0x12c7ab-0x16f,_0x2715dd-0xdc,_0x421869-0x51b);}if(_0x4f7f31['assistant']&&_0x50dd1e['CTFbp'](_0x4f7f31['assistant'][_0x237247(0x142,0x72,0x11d,0x14d)](),'')){const _0x3070ae={};_0x3070ae[_0xb3f496(0x3f0,0x348,0x483,0x3f2)]=_0x50dd1e[_0xb3f496(0x3fb,0x3aa,0x339,0x37b)],_0x3070ae[_0x237247(0x160,0x154,0x1d5,0x1e5)]=_0x4f7f31[_0xb3f496(0x521,0x48d,0x5e7,0x520)],_0x4a1154[_0xb3f496(0x523,0x464,0x5b9,0x59f)](_0x3070ae);}});}else{const _0x47eee8=_0x41f940[_0x2e8ea2(0x3e2,0x50c,0x467,0x3db)][_0x1a104a(0x21,-0xe5,-0x67,-0x94)]('|');let _0xe02eca=0x11*0x82+0x9c5+-0x1267;while(!![]){switch(_0x47eee8[_0xe02eca++]){case'0':const _0x125663={};_0x125663[_0x1a104a(-0x117,-0x2,0xb,-0x84)]=_0x41f940[_0x1a104a(0x8,-0xb4,-0x3b,-0x9c)],_0x125663[_0x1a104a(-0x77,-0x1b8,-0x166,-0x113)]=_0x41f940[_0x1a104a(-0x15,0xd,0xa7,-0x17)];const _0x37e2c4={};_0x37e2c4[_0x2e8ea2(0x39a,0x48f,0x419,0x3e6)]=![],_0x37e2c4[_0x2e8ea2(0x33a,0x314,0x3a0,0x425)]=null,_0x37e2c4['id']=_0x163c3d,_0x37e2c4['error']=_0x125663,eventSource[_0x1a104a(-0x7b,-0x9a,-0x1a4,-0xed)](eventNames[_0x1a104a(-0x13e,-0x137,-0x1e6,-0x13e)+_0x2e8ea2(0x39c,0x4a7,0x3e1,0x3ef)],_0x37e2c4);continue;case'1':taskQueue[_0x2e8ea2(0x442,0x472,0x41e,0x4c1)+'us'](_0x46e0f4,TaskStatus[_0x2e8ea2(0x353,0x355,0x3da,0x409)]);continue;case'2':console[_0x2e8ea2(0x41a,0x362,0x3e0,0x3c2)](_0x41f940[_0x2e8ea2(0x412,0x388,0x417,0x4bc)]);continue;case'3':return;case'4':llmTaskControllers['delete'](_0x46e0f4);continue;case'5':_0x59c4e8=!![];continue;}break;}}}console['error'](_0x1a104a(0x2a,0xae,-0x86,0x20)+_0x2e8ea2(0x3f6,0x413,0x3b8,0x303),_0x1f3bbd);const _0xb05495=_0x1a104a(-0xa6,-0x1f0,-0x14a,-0x130)+_0x1f3bbd[_0x2e8ea2(0x397,0x40b,0x396,0x422)];_0x5bee6d&&_0x41f940[_0x2e8ea2(0x4f7,0x4a1,0x4ab,0x570)](_0x5bee6d,_0xb05495);toastr[_0x1a104a(-0x8c,-0x88,-0x68,-0xfb)](_0x1f3bbd[_0x1a104a(-0x171,-0x12a,-0x19f,-0x113)]),taskQueue[_0x1a104a(-0x10d,-0x94,-0x145,-0xaa)+'sk'](_0x46e0f4,![]),llmTaskControllers[_0x1a104a(-0xa1,-0xea,-0x101,-0x6a)](_0x46e0f4);const _0x9a1a6b={};_0x9a1a6b[_0x2e8ea2(0x3dd,0x3be,0x419,0x4bf)]=![],_0x9a1a6b[_0x2e8ea2(0x418,0x41c,0x3a0,0x2f7)]=_0xb05495,_0x9a1a6b['id']=_0x163c3d,eventSource[_0x1a104a(-0x199,-0x13f,-0xb3,-0xed)](eventNames[_0x2e8ea2(0x320,0x355,0x36b,0x2ad)+_0x1a104a(-0xd1,-0x50,-0x121,-0xc8)],_0x9a1a6b);}finally{currentLLMRequestController===_0x2ab6b2&&(currentLLMRequestController=null),(!_0x59c4e8||_0x41f940[_0x2e8ea2(0x390,0x3e3,0x413,0x413)](currentLLMRequestController,null))&&_0x41f940[_0x1a104a(-0x1c0,-0xc5,-0xe2,-0x11e)](stopFabLoading);}}export function createGetPromptHandler(_0x40fe62,_0x5a1d83){return function(_0x262ad6){const {id:_0x3b93d4}=_0x262ad6;if(!_0x3b93d4)return;const _0xc6f73d=REQUEST_TYPE_NAMES[_0x40fe62]||_0x40fe62;console[_0x1f110f(0xa,-0x9c,-0x15a,-0x123)]('st-chatu8:'+_0x1f110f(-0x48,-0xf6,-0x32,-0x10c)+_0xc6f73d+('æç¤ºè¯èŽ·å–è¯·æ±‚\x20(I'+_0x1f110f(-0xbe,-0x107,-0x77,-0x110))+_0x3b93d4+')');const _0x38436b=buildPromptForRequestType(_0x40fe62);function _0x1f110f(_0x21372a,_0x7fbd5c,_0x18f5ac,_0xd5c4e8){return _0x5820(_0x7fbd5c- -0x247,_0xd5c4e8);}const _0x30bf4c={};function _0x42201b(_0x289210,_0xc677e0,_0xcc76b4,_0x3b9e64){return _0x5820(_0xcc76b4- -0x253,_0xc677e0);}_0x30bf4c['prompt']=_0x38436b,_0x30bf4c['id']=_0x3b93d4,eventSource[_0x1f110f(-0x9b,-0xc0,-0x56,-0x14c)](_0x5a1d83,_0x30bf4c);};}export function createExecuteHandler(_0x366f08,_0x5f239f,_0x5eabc9=null){const _0x4067bb={'HeFVm':function(_0x33aaca){return _0x33aaca();},'wVGaN':function(_0x2bc465,_0x2e451b,_0x706a42,_0x447e0c,_0xa74a73){return _0x2bc465(_0x2e451b,_0x706a42,_0x447e0c,_0xa74a73);}};return async function(_0x3d0fea){const _0x1360b1=_0x5eabc9?_0x4067bb[_0x14e1f4(0x6,-0x55,0x2e,-0x9f)](_0x5eabc9):null;function _0x14e1f4(_0x4d187e,_0x5ad6a0,_0x4e9456,_0x562824){return _0x5820(_0x5ad6a0- -0x26c,_0x4d187e);}function _0x3bb76c(_0x2c9174,_0x1d7093,_0x41e507,_0x5a5ba3){return _0x5820(_0x1d7093-0x296,_0x41e507);}await _0x4067bb[_0x3bb76c(0x434,0x4cc,0x52e,0x56d)](executeTypedLLMRequest,_0x3d0fea,_0x366f08,_0x5f239f,_0x1360b1);};}