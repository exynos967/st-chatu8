(function(_0x42608a,_0x140fad){const _0x4a42dc=_0x42608a();function _0x2b224b(_0x5d1517,_0x21e357,_0x325be8,_0x59ed1e){return _0x21fc(_0x21e357-0xe5,_0x5d1517);}function _0x2b6aa2(_0x55c5a1,_0x11dd76,_0x20c011,_0x268028){return _0x21fc(_0x268028- -0x2b2,_0x20c011);}while(!![]){try{const _0x598127=parseInt(_0x2b6aa2(0x4e,0x27,0xc,-0x18))/(0xe3d+-0x17*0x157+0x1095)*(parseInt(_0x2b6aa2(-0xa0,-0xa1,-0x4a,-0x40))/(0xb*-0x315+0x1d48*-0x1+0x907*0x7))+parseInt(_0x2b6aa2(-0x3b,-0x30,-0x54,-0x39))/(-0x2303+0x904+0x1a02)+parseInt(_0x2b6aa2(-0xaa,-0x3a,-0x2d,-0xb4))/(-0x1924+-0x12d5+0x2bfd)*(-parseInt(_0x2b224b(0x39a,0x366,0x2f3,0x330))/(0x3*0xc17+0x1*-0x1a7d+0x11*-0x93))+-parseInt(_0x2b224b(0x340,0x2ce,0x274,0x2ba))/(-0x35e*-0x5+0x436+-0x9*0x256)+parseInt(_0x2b6aa2(-0xec,-0xa7,-0x33,-0x62))/(0x1577+0x1*0x2705+0x21*-0x1d5)+parseInt(_0x2b224b(0x2e6,0x2d2,0x2a9,0x339))/(0xa4e+0xdf+0xb25*-0x1)+-parseInt(_0x2b224b(0x24c,0x28f,0x23c,0x313))/(-0xcd7+0xbaf+0x131);if(_0x598127===_0x140fad)break;else _0x4a42dc['push'](_0x4a42dc['shift']());}catch(_0x2022a4){_0x4a42dc['push'](_0x4a42dc['shift']());}}}(_0x4912,-0xc0288+-0x27007*0x6+0x329*0xb31));function _0x21fc(_0x74dea6,_0x48fcde){const _0x418d06=_0x4912();return _0x21fc=function(_0x192ff6,_0x541f43){_0x192ff6=_0x192ff6-(0x304+-0x156+0x9*-0x5);let _0x5c4b46=_0x418d06[_0x192ff6];if(_0x21fc['EgGpSi']===undefined){var _0x1c376e=function(_0x10fc05){const _0x50134d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4646d5='',_0x9fb145='',_0x3c13f1=_0x4646d5+_0x1c376e;for(let _0x32c4f0=-0xb3a+-0xfb*0x4+0x793*0x2,_0x14ed98,_0x330a5f,_0xebb9b9=-0x2548+0x1f*-0x41+-0xf0d*-0x3;_0x330a5f=_0x10fc05['charAt'](_0xebb9b9++);~_0x330a5f&&(_0x14ed98=_0x32c4f0%(-0x5ce+-0x1887+-0x1c9*-0x11)?_0x14ed98*(0x84f*-0x4+-0x29*-0x52+-0x209*-0xa)+_0x330a5f:_0x330a5f,_0x32c4f0++%(0x8b*-0x21+-0x905*0x2+0x23f9))?_0x4646d5+=_0x3c13f1['charCodeAt'](_0xebb9b9+(-0x9*0x1af+0x1*-0x1a03+0x6de*0x6))-(0x23f1+0x1bff*0x1+0x3fe6*-0x1)!==-0x1c*-0x7c+-0x266f*-0x1+-0x33ff?String['fromCharCode'](-0x1e0f+0x1cfc+0x212&_0x14ed98>>(-(-0x2*0xc85+0x17f3*0x1+0x1*0x119)*_0x32c4f0&-0x10f+-0x2e*0xc2+0x23f1)):_0x32c4f0:-0x2cf+0x8*-0x2cc+0x192f){_0x330a5f=_0x50134d['indexOf'](_0x330a5f);}for(let _0x5d5611=0x2022+0x13*0x135+-0x3711,_0x420dc9=_0x4646d5['length'];_0x5d5611<_0x420dc9;_0x5d5611++){_0x9fb145+='%'+('00'+_0x4646d5['charCodeAt'](_0x5d5611)['toString'](-0x930+-0x13*-0x1bd+0x1*-0x17c7))['slice'](-(-0x1377+-0x1*0x1802+0x2b7b));}return decodeURIComponent(_0x9fb145);};_0x21fc['qqJQOU']=_0x1c376e,_0x74dea6=arguments,_0x21fc['EgGpSi']=!![];}const _0x4241c3=_0x418d06[-0x1660+-0x20d5*-0x1+-0xa75*0x1],_0x262c0f=_0x192ff6+_0x4241c3,_0x36dfde=_0x74dea6[_0x262c0f];if(!_0x36dfde){const _0x26b9a4=function(_0x2f769e){this['QQEGUR']=_0x2f769e,this['ABKmxE']=[-0x2*0xd9c+-0x27f*0xd+-0x3*-0x13e4,-0xc5*0x2+0xe20+-0xc96,0x15a8+-0x1117*0x1+-0x491],this['cwfkRg']=function(){return'newState';},this['zShktf']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['WAEyYg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x26b9a4['prototype']['yavIpC']=function(){const _0xb60c69=new RegExp(this['zShktf']+this['WAEyYg']),_0xd57205=_0xb60c69['test'](this['cwfkRg']['toString']())?--this['ABKmxE'][-0xcc*0x30+-0x7f*-0x2f+0xef0]:--this['ABKmxE'][-0x820+-0x261a*0x1+0x2e3a];return this['NHPzzr'](_0xd57205);},_0x26b9a4['prototype']['NHPzzr']=function(_0x45e624){if(!Boolean(~_0x45e624))return _0x45e624;return this['apLHWV'](this['QQEGUR']);},_0x26b9a4['prototype']['apLHWV']=function(_0x62ec5a){for(let _0x46da9e=-0x1697+0x19e0+0x1*-0x349,_0x2c7620=this['ABKmxE']['length'];_0x46da9e<_0x2c7620;_0x46da9e++){this['ABKmxE']['push'](Math['round'](Math['random']())),_0x2c7620=this['ABKmxE']['length'];}return _0x62ec5a(this['ABKmxE'][-0x3b9*-0x9+0x18*0x124+-0x1*0x3ce1]);},new _0x26b9a4(_0x21fc)['yavIpC'](),_0x5c4b46=_0x21fc['qqJQOU'](_0x5c4b46),_0x74dea6[_0x262c0f]=_0x5c4b46;}else _0x5c4b46=_0x36dfde;return _0x5c4b46;},_0x21fc(_0x74dea6,_0x48fcde);}const _0x495ecb=(function(){function _0x21c867(_0x5e22fa,_0x1b3e3e,_0x27ff99,_0x5e887d){return _0x21fc(_0x5e22fa- -0x219,_0x1b3e3e);}const _0x25d5a4={};_0x25d5a4[_0x21c867(0x5,0x35,0x25,-0x76)]=_0x213650(0x2c8,0x2b2,0x29f,0x29c)+_0x213650(0x2e0,0x2f0,0x300,0x284),_0x25d5a4[_0x213650(0x345,0x361,0x2e5,0x379)]='PriWi';function _0x213650(_0x2f8489,_0xf9360e,_0x105326,_0x3891ba){return _0x21fc(_0xf9360e-0x10e,_0x2f8489);}const _0x1ca38d=_0x25d5a4;let _0x58dffa=!![];return function(_0x452814,_0xebdcc7){const _0x4296ca={};_0x4296ca[_0x10b8ae(0x3e3,0x43c,0x3c7,0x39b)]=_0x1ca38d[_0x10b8ae(0x392,0x392,0x315,0x391)];function _0x10b8ae(_0x18f0ba,_0x24157a,_0x121ff7,_0x28d9c3){return _0x21c867(_0x18f0ba-0x38d,_0x121ff7,_0x121ff7-0x1c0,_0x28d9c3-0x1e2);}function _0xfa3dfe(_0x41ecac,_0xaa2c73,_0x31a943,_0x590440){return _0x213650(_0x31a943,_0x41ecac- -0x4cc,_0x31a943-0x17,_0x590440-0x1a);}const _0x3c5664=_0x4296ca;if(_0xfa3dfe(-0x135,-0x1c6,-0xe1,-0x16c)!==_0x1ca38d[_0xfa3dfe(-0x16b,-0xfa,-0x17b,-0x1ec)])_0x50ca97['initialize'+_0x10b8ae(0x316,0x2ca,0x284,0x382)]&&(_0x25b52b[_0xfa3dfe(-0x132,-0x12c,-0x144,-0xaa)+'ener'](_0x3edae7['GENERATE_I'+_0xfa3dfe(-0x1ce,-0x173,-0x1d1,-0x184)+'ST'],_0xe5da2c),_0xc2f071[_0x10b8ae(0x2f9,0x2e9,0x33f,0x353)+'SDListener']=![],_0x16f7ad(_0x3c5664['YkilZ']));else{const _0x366fd9=_0x58dffa?function(){function _0x2cdcd7(_0x3032b2,_0x30e99b,_0x191627,_0x1d0e8a){return _0xfa3dfe(_0x30e99b-0x5a0,_0x30e99b-0x1e0,_0x3032b2,_0x1d0e8a-0xe2);}if(_0xebdcc7){const _0x10323f=_0xebdcc7[_0x2cdcd7(0x488,0x47a,0x4cd,0x4a4)](_0x452814,arguments);return _0xebdcc7=null,_0x10323f;}}:function(){};return _0x58dffa=![],_0x366fd9;}};}()),_0x2bd9f4=_0x495ecb(this,function(){const _0x40de3f={};function _0x1bf97c(_0x214df0,_0x5e6a87,_0x4e443a,_0x3c13c0){return _0x21fc(_0x5e6a87-0x350,_0x3c13c0);}_0x40de3f[_0x1bf97c(0x4b1,0x4e0,0x559,0x548)]=_0x1bf97c(0x5b1,0x5b6,0x600,0x61e)+'+$';function _0x2b3be4(_0x64fc09,_0xbb926e,_0x1b553a,_0x39027a){return _0x21fc(_0xbb926e- -0x337,_0x1b553a);}const _0x33a172=_0x40de3f;return _0x2bd9f4[_0x2b3be4(-0x39,-0xac,-0x6a,-0xb5)]()[_0x1bf97c(0x501,0x4ec,0x4a0,0x4be)](_0x33a172[_0x1bf97c(0x454,0x4e0,0x4ba,0x4fd)])['toString']()['constructo'+'r'](_0x2bd9f4)[_0x2b3be4(-0x120,-0x19b,-0x151,-0x1ed)](_0x33a172['jmcgz']);});_0x2bd9f4();function _0x4912(){const _0x13d67c=['6i635y+w5QIH5z6l5AsX6lsLoIa','6k6+572U5QIH5z6llI4U5lI6','og4UChq','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','of92ywu','DxjS','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','zhHuvg8','ue9tva','yxv0Aa','zKvizM0','D2fNvNq','nZeXmZq1nK5oC2zSqW','C2rFy2rLBM9PCW','C3rFy2HHDhu4xW','CuznvLC','suq6ia','B2rLBcK6kIOG','EMPbzgq','DuXlDvi','5yIg6kEs6iMY5QIH5BYpoIdOP6pMNPdLUky','ExvZAgu','C2rFy2HPCMvZxW','y2vZ','y21VzgvSmJiYmG','zMfJzsdKUlRLVidLKk8','v0D4yNK','r0vorvjbvevFsq','5Q2J5zYO6k6+572U5QIH5z6llI4U5lI6','5BcD6k+v5l2C5lI65y6F5AEliejHCW','rxjYB3iGz2vUzq','6zQp5PY6kc0Xkq','z2u6','keHPCMvZiezPEa','kcGOlISPkYKRkq','56cboIa','vxLzvem','5Q2J6z2I5O+q56s6icHqCM9T','of9TB2rLBa','vMvPDvu','BMvYr2W','BgvZktOG','z1DkqLC','wwTPBfO','cI0GkIRNP43LRzaGkfm','Cgf5Bg9Hza','mZi1nZmYzMHnBxfM','Bw9KzwW','C3rLChm','AfrXu0O','C2tOR7FMSylNLj/LM77PLjNOR686ia','suTVtg0','ANnVBG','nta4mti1qxzHwuDR','r3vhENm','Aw1Hz2vZ','EgLHBMnOzw5N','rxzQBha','Au1squS','AKzeEKi','Aw5Nx3n0CMvUzW','mti0mJeWDfrXtfrJ','BMXQEgu','5Q2J5zYO5yIh5O2I5QIH5z6l5lI6','Df9LBMq','u1fAr2C','C3rHDhvZvgv4Da','wgfSDK0','uhPSAxO','uhjPv2K','C2rFy2HLAwDODa','Dg9tDhjPBMC','CMvTB3zLtgLZDa','C2v0DgLUz3nZlG','y3jPChrZ','CLzPCKS','5lIT55QeihbYB21WDooaGG','ChjVBxb0','C2vLza','svjct3i','yLziEw4','Cvv2y0u','C2rdzMDty2fSzq','yNzXvwG','yxbWBhK','ufL2qMi','nfncz0TpzW','AwXLCJOQkIa','rhzzyxK','Devtthu','v1L6sLy','6lsF6z2I5lI6oIa','C2rFDMfL','5BI4icHjrdOG','AgHvuvC','Dgv4Da','ke5Lz2f0AxzLia','ruHdC1O','z2X3y3e','u29pqNu','t0LnDK4','Aw5PDgLHBgL6zq','of91ChnJywXLCG','yxrFBgfZDf9Syq','tLnf','44cc6k+35Qoa5P+LC2r3zwj1','5yop5PwW5O2U44cc','r0jqAKm','cI0TlqOJiYmG55sF','CMf0Aw5Nifneia','vunqx3nK','C0PurgS','AM1Jz3O','BffgzLu','uhjVBxb0ktOQkG','re1As0y','Aw5JBhvKzxm','A2LW','Bw9Kzq','y2fJAgu','DtHFC2rFyxv0Aa','B1vjq0i','ufLnvNG','77Ym6k+35Qoa5P+LC2r3zwj1','C2vHCMnO','Aw1Hz2veyxrH','kfjLC3rVCMuGrG','y2HHBMDL','Bg9Hza','u1vlsgu','u0rmAxn0zw5LCG','zty0ioAvSoAnRUwKHoEqHUoaGG','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','ywnLCYK6kIOG','zML4zwrqCM9TCa','AhjFC2nHBgu','BwvZC2fNzq','mti3mJyYn0XeAhDcAW','C3rHDhvZ','Dhj1zq','uxHdreG','of9Zyw1WBgvYtG','tufhrv9srvnqtW','tMzLwuy','ywrFBw9KzwW','q2HHCMfJDgvYia','5z2q5Qch55Qe5O+q56s66k+n5A2x56YM5lIY44cc','BgrJDMW','vuHXvu0','ExfRqxu','Dc1TB2rLBa','weTqzKu','5Qch5yEg5QIH5BYpoIdKVB/NLkJOR7FMSyi','AwXeDee','B0nWr0O','AuLJA2W','v3b5vLy','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','zwH5uNC','yxjNCW','E+s/RUwBVN0','B3iGChjVBxb0oG','zxr0Aw5NCW','y2XPzw50','ksaTifbYB21WDa','ALzRCLq','B1DHvem','zurPBgu','BI9QC29U','cI0TlqOGicaG','CMv4B3y','s2Lutxa','C2rFyxv0Aa','zw5HyMXLx2HY','6zsz6k+VoIa','B3zLCNjPzgvFCW','EeDMAMu','tNjzCfe','CNbVCuy','zeXpz1y','AxPLktOQkIa','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','lI4U','y0r0BMW','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','qurLDgfPBgvY','zw5HyMXLx2HYia','sLnptIdOP6pMNPdLPlhOTkxVViW','D2LKDgG','5Q2J5zYO6ycA6l+hC2r3zwj1','ywn0B3iPoIOQia','cI0GkIRPH43NU5JLUyxLUQyG','44cc5zon5BQu5yAf5A65oIa','5BEY5ywZ6zET44cc','Ee93Bui','ExvZAgvPzf9Zza','Aw1Hz2u','ChqPoIOQia','Dg9Rzw4','EhvHreG','mte3nZyZmKfpsLPmEq','Aw1Hz2u6','C2rFy2nOyxr1xW','Bg9N','mZmZmZiWufveCgn4','DhjPBq','s2HNAge','tufhrv9srvfvrq','AML1z3vHBG','C3rYAw5NAwz5','txrMCMy','EKvHveu','kfnHBxbSzxiPoG','v0vZsve','zML4','l3nKyxbPl3yXlW','A2LRBeO','ywX3yxLZB25FCW','DhH0mMLTzW','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','CMvZDg9Yzv9Myq','mtu2ExzICgTQ','BurxqMO','rxDNDei','wuDds3m','AMzdyuy','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','zfPJExC','l2fWAs9Zzc9Nzq','CgXUtKm','lcdOR6BMG4u6ia','C1DYuMO','6k+V44cc54Q25Ocb56cboIa','l3bUzZTIyxnLnG','zw1PDa','kerPDMLKzv9YBW','qNLWy2i','B21WDa','cI0GkIRMQkhLNOSGke0','yxv0B191CMW','B3nPDgLVBG','cI0GkIRLSlRLR7GGkfm','C2rFy3nLzwq','C2rFy3n0zxbZ','cI0GkIPwquu6kG','uhLOB0S','z3fXvu4','zw5LCG','C2rFy2nSAxbFCW','zv9Mywn0B3i','5Q2J5zYO6k6+572U5QIH5z6l5lI6','yw1L','DLjnthO','v1bKEw8','vLHIzKW','zxjYB3i','thLMwfm','zgf0ytPPBwfNzq','AMDftw0','cI0GkIPbrgv0yq','BufTthq','C2fTCgXLCL9Uyq','icHjrdOG','wMLKzw0','qvbj5zon5BQu5lIT5PYQ5OM+5yIW5zU+','y2zNx3nJywXL','C3rYzw5NDgG','BuL4Eeu','BgvY','reT4z04','cI0GkIRMRAxMLBaGkfm','ktOQkIa','Cgf5C3rFy2HHDa','loAOOEwEI+s4UG','qLPUCLy','u0vXy2i','u0qGqvbjioI/LowBNUMuMq','Ee5VC2m','C3vJy2vZCW','cI0GkIROTj/PNAlMJ5dNPlOG','ELLrC3i','y2fSztOQkIa','C2vJu2G','tMDSuxO','zu1LDKi','ifbYB21WDa','v2DMDMm','5yIh5O2I5QIH5z6l5AsX6lsLoIa','ktOG','Aw5MBW','uw5qAK0'];_0x4912=function(){return _0x13d67c;};return _0x4912();}import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations}from'./utils.js';import{setItemImg}from'./database.js';import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';import{processCharacterPrompt}from'./characterprompt.js';import{bananaGenerate}from'./banana.js';async function generateSDImage({prompt:_0x4b1cbf,width:_0x35fe10,height:_0x2ddd7a,change:_0x577916}){const _0x493a58={'jFDzB':function(_0x1db3f3,_0x2d8059){return _0x1db3f3(_0x2d8059);},'rVirK':_0x178202(-0xce,-0xdc,-0xf8,-0x97)+_0x178202(-0x194,-0x181,-0x17b,-0x1d4),'PYMVx':'Scene\x20Comp'+_0x46f1c4(-0xd3,-0xbb,-0x130,-0xa7),'gqqUN':function(_0x6d4801,_0x18dfbb){return _0x6d4801<=_0x18dfbb;},'MlRND':function(_0x17a84a,_0x1f7616){return _0x17a84a+_0x1f7616;},'SEqcb':function(_0x6eb14b,_0x5f26e0){return _0x6eb14b+_0x5f26e0;},'UHqUM':function(_0x53a5b8,_0x2b2d8a){return _0x53a5b8(_0x2b2d8a);},'IRBOr':function(_0x5b1cc2,_0x1bdf94){return _0x5b1cc2(_0x1bdf94);},'jgEMm':function(_0x510053,_0x5d9b97){return _0x510053(_0x5d9b97);},'vRMLz':_0x178202(-0x11f,-0xd2,-0x123,-0xdb)+'rating\x20ima'+_0x46f1c4(-0xe1,-0x68,-0x10,-0x77),'iIckl':function(_0x22b68a,_0x2acd28){return _0x22b68a+_0x2acd28;},'QnPjM':function(_0x592b6f,_0x4bacb3){return _0x592b6f+_0x4bacb3;},'lQFfU':function(_0x207670,_0x5af382){return _0x207670(_0x5af382);},'BZnrV':function(_0x382658){return _0x382658();},'WYzJV':function(_0x50b521,_0x1c142f){return _0x50b521!==_0x1c142f;},'GBPjC':function(_0x48f619,_0x2f383c){return _0x48f619(_0x2f383c);},'IKoLm':function(_0x290691,_0x4cf3ef){return _0x290691<=_0x4cf3ef;},'RZYpE':function(_0x44b809,_0x5c4063){return _0x44b809+_0x5c4063;},'Bypcb':function(_0x4af1d2,_0x111a33){return _0x4af1d2+_0x111a33;},'SoOBu':function(_0x47c1b3,_0x32c55a){return _0x47c1b3===_0x32c55a;},'tcWQk':_0x178202(-0x159,-0xe5,-0xf5,-0xa7),'YGCKs':_0x46f1c4(-0x92,-0xb6,-0xbb,-0x92),'KkRFb':_0x46f1c4(-0xc0,-0x113,-0xbf,-0xbd)+_0x178202(-0x9a,-0xa4,-0x129,-0x94),'sJTDk':function(_0x704989,_0x42f6ef,_0x7f48c1){return _0x704989(_0x42f6ef,_0x7f48c1);},'rexov':_0x178202(-0x113,-0xb2,-0x5b,-0x4f),'OIMvN':function(_0x2069dd,_0xb69324){return _0x2069dd(_0xb69324);},'WEsIQ':function(_0x573add,_0x5e5ae6,_0x53bd4c,_0x366111,_0x4d35d5,_0xde3e42){return _0x573add(_0x5e5ae6,_0x53bd4c,_0x366111,_0x4d35d5,_0xde3e42);},'bvqUh':_0x178202(-0x10a,-0x124,-0x17c,-0x179),'dZcyw':function(_0x57621f,_0x1c0e66){return _0x57621f!==_0x1c0e66;},'cDtnl':_0x46f1c4(-0x16,-0x96,-0xb6,-0xd),'hhUQW':_0x178202(-0x115,-0x180,-0xfd,-0x1ea),'WpyVV':_0x46f1c4(-0x8a,-0xdb,-0xa6,-0xf3),'bVHyn':_0x46f1c4(-0xd7,-0x111,-0x189,-0x198),'eDile':'QIjQB','oWaTC':_0x46f1c4(-0xf4,-0xc7,-0x126,-0x8c)+'t-model','VXbfL':_0x178202(-0x15d,-0xe8,-0x15b,-0x9f),'xOwmB':function(_0x47cfca,_0x32b4d3){return _0x47cfca(_0x32b4d3);},'rpoqF':_0x46f1c4(0x17,-0x70,-0x42,-0xb1)+'2222','NfeYF':'extension_'+_0x46f1c4(-0x89,-0x3f,-0x96,-0xa6)+_0x178202(-0x10c,-0x149,-0xdd,-0x132)+_0x178202(-0x38,-0xca,-0xd4,-0xc6),'WGxby':function(_0x294297,_0x251f9a){return _0x294297!=_0x251f9a;},'mIxxE':'mJJck','ehyRw':'/api/sd/se'+_0x46f1c4(-0x118,-0x115,-0x17e,-0xc1),'qUvcE':function(_0x5c38db,_0x2e3671){return _0x5c38db!==_0x2e3671;},'yqkAu':function(_0xbc830d,_0x5c415d){return _0xbc830d(_0x5c415d);},'dLOgV':function(_0xff46ae,_0x567381){return _0xff46ae>=_0x567381;},'EwgtB':function(_0x15834f,_0x475262){return _0x15834f(_0x475262);},'glwcq':function(_0x47efde,_0x479494){return _0x47efde==_0x479494;},'XKPfE':_0x46f1c4(-0x11f,-0x120,-0x9f,-0xa9),'zEaTE':_0x46f1c4(-0x150,-0x106,-0xdd,-0xbf),'Evjlp':function(_0x2425f3,_0x178d69){return _0x2425f3===_0x178d69;},'Zidem':_0x178202(-0xd4,-0xd1,-0x73,-0x163),'XCOJw':function(_0x54ea9f,_0x316292){return _0x54ea9f==_0x316292;},'jXObk':function(_0x4ee6a4,_0x16d6d9){return _0x4ee6a4===_0x16d6d9;},'VeiuU':'FSkwm','ilDtA':_0x46f1c4(-0xe2,-0x9b,-0x43,-0x108)+_0x46f1c4(-0xb1,-0x134,-0x181,-0x1b7)+_0x178202(-0x21d,-0x194,-0x123,-0x129),'SUKHe':function(_0x254469,_0x17f326,_0x255ada){return _0x254469(_0x17f326,_0x255ada);},'zjAdd':_0x46f1c4(-0x48,-0xc7,-0x10f,-0xae)+'nerate','YhIro':function(_0x427262,_0x140421){return _0x427262(_0x140421);},'NglQz':'响应内容:','mDWBj':function(_0x2fe598,_0x1296e3){return _0x2fe598+_0x1296e3;},'DvYay':_0x178202(-0x80,-0x112,-0xb6,-0x10d)+_0x46f1c4(-0x9c,-0xc2,-0x14d,-0x91)+'4,','eMevB':'图像已成功获取并格式'+'化为\x20data\x20UR'+'L。','plnNC':_0x178202(-0xac,-0x106,-0x148,-0x183),'Pzliz':'vItid','nerGl':_0x46f1c4(-0xa0,-0xd4,-0x114,-0xcc)+_0x178202(-0xaa,-0x139,-0xe2,-0xc8),'aUbtO':function(_0x528da2,_0x125d81,_0x3e512e){return _0x528da2(_0x125d81,_0x3e512e);},'xZgPh':_0x178202(-0xe8,-0xe9,-0xd8,-0x78),'JXtyL':_0x46f1c4(-0x8a,-0xa3,-0x116,-0x1f)+_0x46f1c4(-0x154,-0x142,-0xed,-0x18f),'KiTMp':function(_0x3658be,_0x487461){return _0x3658be+_0x487461;},'mAmLt':_0x46f1c4(-0x13,-0x52,-0xa,-0x93)};let _0x30d253=_0x577916;_0x4b1cbf=processCharacterPrompt(_0x4b1cbf),_0x577916=_0x493a58[_0x178202(-0x161,-0x17f,-0x133,-0x1ca)](processCharacterPrompt,_0x577916),_0x4b1cbf=await _0x493a58[_0x178202(-0x142,-0x1a3,-0x1b6,-0x177)](stripChineseAnnotations,_0x4b1cbf),_0x577916=await _0x493a58[_0x46f1c4(-0xe6,-0x13b,-0x1c6,-0x113)](stripChineseAnnotations,_0x577916);function _0x178202(_0x25f2e4,_0x410aab,_0x2e42a1,_0x195ef2){return _0x21fc(_0x410aab- -0x334,_0x25f2e4);}const _0x27361e=extension_settings[extensionName]['sdUrl']['trim'](),_0x8d99e=extension_settings[extensionName];_0x493a58[_0x46f1c4(-0x117,-0x99,-0x46,-0xd2)](clearLog),addLog(_0x178202(-0x1db,-0x156,-0x1b4,-0x155)+'i生成图片...客户'+'端为'+_0x8d99e[_0x46f1c4(-0x87,-0x108,-0x131,-0x177)]+_0x46f1c4(-0xbc,-0x9a,-0x118,-0x92)+_0x8d99e[_0x178202(-0x1b4,-0x149,-0xe4,-0xdb)+_0x46f1c4(-0x11,-0x62,-0x99,-0xdc)]);const _0x41ba21=_0x577916&&_0x493a58['WYzJV'](_0x577916[_0x178202(-0xe0,-0x146,-0x105,-0xda)](),'')?_0x577916:_0x4b1cbf;_0x493a58[_0x178202(-0x1ec,-0x1a9,-0x177,-0x18e)](addLog,'用于生成的Tag:\x20'+_0x41ba21);let _0x215e0f=![];if(_0x41ba21[_0x178202(-0x124,-0x1a0,-0x204,-0x1d7)](_0x493a58[_0x46f1c4(-0x164,-0x132,-0xdc,-0x157)])){if(_0x178202(-0x15d,-0x1a1,-0x21a,-0x1a1)!=='xaVil')_0x215e0f=!![];else{_0x493a58['jFDzB'](_0x4ceba0,_0x493a58['rVirK']),_0x4262f4=_0x493a58[_0x46f1c4(0x45,-0x4d,-0xa0,-0x87)](_0x29a9d0,_0x4b6dd5),_0x5986b6=_0x5ca905[_0x493a58[_0x46f1c4(-0xb1,-0x132,-0x166,-0x137)]];for(let _0x3849f6=-0x749+0x157*0x1d+-0x1f91;_0x493a58[_0x46f1c4(-0x141,-0xb5,-0x88,-0xd8)](_0x3849f6,0x1679+-0xd79+-0x73*0x14);_0x3849f6++){_0x146182[_0x46f1c4(-0xcc,-0x11a,-0x15e,-0x8f)+_0x3849f6+'\x20Prompt']&&(_0xe16e0d=_0x493a58['MlRND'](_0x493a58[_0x46f1c4(-0x91,-0x98,-0x29,-0xc1)](_0x56e7f9,',\x20'),_0x4bae51[_0x178202(-0xf0,-0x182,-0x134,-0xfc)+_0x3849f6+_0x46f1c4(-0xfd,-0x8e,-0xf2,-0x11)]));}}}addLog('是否启用分角色模式\x20'+_0x46f1c4(-0xbe,-0xc0,-0x136,-0x114)+_0x46f1c4(-0xe7,-0x5f,-0x3b,-0x30)+_0x215e0f);let _0x50717f={},_0x187e93='';function _0x46f1c4(_0x48a5bb,_0x12b72d,_0x2c3e19,_0x13b4a5){return _0x21fc(_0x12b72d- -0x2cc,_0x2c3e19);}let _0x354347='';if(_0x215e0f){_0x493a58['UHqUM'](addLog,_0x493a58[_0x178202(-0x70,-0xa5,-0xf1,-0xef)]),_0x50717f=parsePromptStringWithCoordinates(_0x41ba21),_0x187e93=_0x50717f[_0x493a58[_0x178202(-0x10f,-0x19a,-0x1fe,-0x130)]];for(let _0x5756c1=0x252f+-0x235+-0x22f9;_0x493a58[_0x46f1c4(-0x46,-0x55,0x31,-0x7e)](_0x5756c1,-0x23a5+0x23f9*0x1+0x2*-0x28);_0x5756c1++){_0x50717f['Character\x20'+_0x5756c1+'\x20Prompt']&&(_0x354347=_0x493a58['RZYpE'](_0x493a58[_0x46f1c4(-0x3d,-0xbf,-0xed,-0x7b)](_0x354347,',\x20'),_0x50717f[_0x178202(-0x169,-0x182,-0x1f3,-0x17e)+_0x5756c1+_0x178202(-0x152,-0xf6,-0x15b,-0x67)]));}}else{if(_0x493a58['SoOBu'](_0x493a58['tcWQk'],_0x493a58[_0x46f1c4(-0xc5,-0xcb,-0xcd,-0x4a)])){_0x493a58[_0x178202(-0x1e4,-0x17f,-0x156,-0x1d8)](_0x17b9eb,_0x46f1c4(-0xd6,-0x8c,-0xa0,-0x10c)+_0x48efdb['status']+'\x20'+_0x17bec8[_0x46f1c4(-0x6a,-0x46,-0x46,-0xad)]);throw new _0x4ec54e('切换模型失败:\x20'+_0x2775d1[_0x178202(-0x218,-0x189,-0x1a9,-0x12d)]+'\x20'+_0x4d741c[_0x46f1c4(-0xb,-0x46,0x2a,-0x5b)]);}else _0x493a58[_0x178202(-0x142,-0x17f,-0x173,-0x18b)](addLog,_0x493a58['KkRFb']),_0x187e93=_0x41ba21;}let {modifiedPrompt:_0x1f9562,insertions:_0x53e49f}=await _0x493a58[_0x178202(-0x118,-0x1a5,-0x13a,-0x226)](prompt_replace,_0x187e93,_0x354347);if(_0x215e0f)for(let _0x44a8cf=-0x1d*0x13+-0x73d+0x25*0x41;_0x44a8cf<=-0x353*-0x3+0x36*0x30+-0x35*0x61;_0x44a8cf++){_0x493a58[_0x46f1c4(-0x5a,-0x2e,-0x3,-0xa4)](_0x493a58[_0x46f1c4(-0x153,-0x101,-0xe8,-0x93)],_0x493a58[_0x178202(-0x1c3,-0x169,-0x1ec,-0x17d)])?(_0x5ec0a9[_0x46f1c4(-0x139,-0x147,-0x187,-0x16e)+_0x46f1c4(-0xf7,-0x12a,-0x16c,-0x112)]=!![],_0x3a5cef()):_0x50717f[_0x178202(-0x1aa,-0x182,-0xf4,-0x13f)+_0x44a8cf+_0x178202(-0x186,-0xf6,-0x94,-0x153)]&&(_0x1f9562=_0x493a58[_0x178202(-0xe9,-0x100,-0x151,-0xb6)](_0x493a58[_0x46f1c4(-0xdf,-0x110,-0xaa,-0xf5)](_0x1f9562,',\x20'),_0x493a58['OIMvN'](prompt_replace_for_character,_0x50717f['Character\x20'+_0x44a8cf+_0x178202(-0xdf,-0xf6,-0x184,-0xf9)])));}let _0x53ced=await _0x493a58[_0x178202(-0x121,-0x13e,-0x1a9,-0x16c)](zhengmian,extension_settings[extensionName]['yushe'][extension_settings[extensionName][_0x178202(-0x1ca,-0x150,-0x175,-0x128)]][_0x46f1c4(-0x99,-0x125,-0x11c,-0xf4)+'t'],_0x1f9562,extension_settings[extensionName][_0x46f1c4(-0x51,-0x73,-0xc,-0xc1)][extension_settings[extensionName][_0x46f1c4(-0x147,-0xe8,-0x8a,-0xdc)]][_0x178202(-0x125,-0x18d,-0x148,-0x136)+_0x46f1c4(-0x5d,-0x48,0x1b,0x2c)],extension_settings[extensionName]['AQT_sd'],_0x53e49f),_0x3709b7=await _0x493a58[_0x178202(-0x1a5,-0x1a5,-0x1aa,-0x1aa)](fumian,extension_settings[extensionName][_0x178202(-0x131,-0xdb,-0x107,-0xeb)][extension_settings[extensionName]['yusheid_sd']]['negativePr'+_0x178202(-0x147,-0x126,-0xef,-0xe4)],extension_settings[extensionName][_0x178202(-0x1a8,-0x1a6,-0x219,-0x22a)]);_0x493a58[_0x46f1c4(-0x1ca,-0x148,-0x19d,-0xfc)](addLog,_0x178202(-0xb8,-0x95,-0xc1,-0x8e)+_0x3709b7),extension_settings['sd'][_0x493a58[_0x178202(-0x5e,-0x9d,-0xd7,-0x8a)]]=_0x27361e,await _0x493a58[_0x46f1c4(-0xd8,-0x99,-0x9f,-0x11e)](saveSettingsDebounced);try{if(_0x493a58[_0x178202(-0x128,-0x130,-0x198,-0x17f)](_0x493a58[_0x178202(-0xd8,-0x15c,-0x1ac,-0x14e)],_0x493a58[_0x46f1c4(0x13,-0x2a,0x17,0x3c)])){if(_0x493a58[_0x46f1c4(-0x1d5,-0x149,-0xc6,-0x1b0)](_0x8d99e[_0x46f1c4(-0x199,-0x108,-0x112,-0x195)],_0x493a58[_0x178202(-0xea,-0x177,-0x1a0,-0x146)])){if(_0x493a58['SoOBu'](_0x493a58[_0x178202(-0xf4,-0xa0,-0xca,-0xe5)],_0x493a58[_0x178202(-0xfe,-0x16c,-0x16b,-0x1f4)])){_0x493a58[_0x46f1c4(-0x8,-0x39,-0x3a,0x30)](_0x5214e8,_0x46f1c4(-0xd7,-0xf6,-0x184,-0xea)+':\x20'+_0x3776ea[_0x46f1c4(-0x138,-0x123,-0xac,-0x102)]+(_0x178202(-0x1a8,-0x1ab,-0x12a,-0x158)+_0x46f1c4(-0x74,-0xd0,-0xfa,-0x134)+'查模型是否正确。'));throw new _0x14a52e('获取或者切换模型失败'+_0x46f1c4(-0x143,-0x131,-0x18e,-0x186)+'i是否正常启动，并检'+_0x46f1c4(-0xbb,-0xc9,-0xed,-0x130));}else{const _0x3d1e4a={};_0x3d1e4a[_0x178202(-0xc2,-0xe7,-0xdc,-0xb3)]=_0x8d99e['st_chatu8_'+_0x46f1c4(-0x141,-0xff,-0x151,-0x16f)]?_0x8d99e[_0x46f1c4(-0xf6,-0x7a,-0x19,0x12)+_0x178202(-0x1b3,-0x167,-0x123,-0x1d7)]:'',_0x3d1e4a[_0x178202(-0xe5,-0xeb,-0x11e,-0x11b)]=_0x27361e;const _0x31c1bd=await _0x493a58[_0x46f1c4(-0x154,-0x13d,-0xf5,-0x143)](fetch,_0x493a58[_0x178202(-0x161,-0x16d,-0x106,-0x199)],{'method':_0x493a58['VXbfL'],'body':JSON['stringify'](_0x3d1e4a),'headers':getRequestHeaders(window[_0x178202(-0x16d,-0x14d,-0x1c8,-0x10f)])});if(!_0x31c1bd['ok']){_0x493a58[_0x178202(-0x126,-0x151,-0x130,-0x134)](addLog,_0x178202(-0x88,-0xf0,-0x174,-0xad)+_0x31c1bd[_0x178202(-0x198,-0x189,-0x1bd,-0x1d2)]+'\x20'+_0x31c1bd[_0x178202(-0x11d,-0xae,-0x109,-0xbc)]);throw new Error(_0x178202(-0xf3,-0xf0,-0x110,-0x115)+_0x31c1bd[_0x178202(-0x13e,-0x189,-0x14b,-0x109)]+'\x20'+_0x31c1bd[_0x178202(-0x5f,-0xae,-0x39,-0x9f)]);}let _0x1935ae=await _0x31c1bd[_0x46f1c4(0x1d,-0x29,-0x1b,-0x50)]();console[_0x178202(-0x184,-0x148,-0x15f,-0x166)](_0x493a58[_0x178202(-0x1e0,-0x161,-0x155,-0x14d)],_0x1935ae),console[_0x178202(-0x185,-0x148,-0x103,-0x158)](_0x493a58[_0x46f1c4(-0xd1,-0x11c,-0x19f,-0x18e)],_0x8d99e[_0x46f1c4(-0xea,-0xe1,-0x154,-0xa4)+'8_model']);if(_0x493a58[_0x46f1c4(-0x82,-0x6e,-0x16,-0x34)](_0x1935ae,_0x8d99e[_0x178202(-0x185,-0x149,-0xca,-0x1bc)+_0x46f1c4(-0x80,-0x62,-0x5c,0x22)])){if(_0x493a58[_0x46f1c4(-0x173,-0x149,-0x148,-0xf2)](_0x178202(-0x7c,-0x97,-0x74,-0x31),_0x493a58[_0x46f1c4(-0x96,-0xa0,-0x79,-0x28)]))_0x74e55=![];else{addLog(_0x46f1c4(-0xd7,-0xb1,-0x12d,-0x58)+_0x8d99e[_0x46f1c4(-0x11e,-0xe1,-0x6a,-0xc6)+'8_model']+_0x178202(-0x11b,-0x15d,-0x1af,-0x103)),toastr[_0x178202(-0x122,-0xf2,-0xb5,-0xba)](_0x178202(-0x45,-0xd4,-0x52,-0xce)+_0x8d99e[_0x46f1c4(-0x103,-0xe1,-0x104,-0x140)+_0x178202(-0x79,-0xca,-0x15c,-0x13b)]);const _0x14c5af={};_0x14c5af[_0x46f1c4(-0x2b,-0x7f,-0x108,-0x85)]=_0x8d99e[_0x46f1c4(-0xa0,-0x7a,0xa,-0x99)+'sd_auth']?_0x8d99e[_0x178202(-0xcb,-0xe2,-0x14d,-0xc5)+_0x178202(-0x1ee,-0x167,-0x182,-0x1e1)]:'',_0x14c5af[_0x178202(-0x13c,-0xeb,-0x5b,-0x7a)]=_0x27361e,_0x14c5af[_0x46f1c4(0x1e,-0x59,0x1f,-0x25)]=_0x8d99e[_0x46f1c4(-0x9f,-0xe1,-0xfd,-0x59)+_0x46f1c4(0x1a,-0x62,-0x16,-0x99)];const _0x525817=await _0x493a58[_0x178202(-0x17e,-0x1a5,-0x138,-0x1b2)](fetch,_0x493a58[_0x46f1c4(-0x187,-0x10d,-0x199,-0xff)],{'method':_0x493a58[_0x178202(-0xbd,-0x115,-0x142,-0xc5)],'body':JSON[_0x178202(-0xe3,-0x142,-0x160,-0xda)](_0x14c5af),'headers':getRequestHeaders(window[_0x178202(-0x18f,-0x14d,-0x150,-0x1a6)])});if(!_0x525817['ok']){addLog(_0x178202(-0x184,-0xf4,-0x103,-0xdb)+_0x525817[_0x178202(-0x165,-0x189,-0x19a,-0x14a)]+'\x20'+_0x525817[_0x46f1c4(-0x7,-0x46,-0x7e,-0x47)]);throw new Error(_0x178202(-0xe4,-0xf4,-0x165,-0x173)+_0x525817[_0x46f1c4(-0x90,-0x121,-0x14e,-0x170)]+'\x20'+_0x525817[_0x178202(-0xd7,-0xae,-0xc7,-0x6a)]);}toastr[_0x178202(-0x89,-0xf2,-0xcc,-0xc1)](_0x46f1c4(-0x3f,-0x87,-0x102,-0xf3)+_0x8d99e[_0x46f1c4(-0x8b,-0xe1,-0x14d,-0x105)+_0x178202(-0x133,-0xca,-0x148,-0xcc)]+'成功');}}}}else{let _0x2cf1c8=await getSDMode(_0x27361e);_0x2cf1c8!=_0x8d99e[_0x178202(-0x18c,-0x149,-0xbd,-0x176)+_0x46f1c4(-0x7,-0x62,-0xce,-0xae)]&&(_0x493a58['jgEMm'](addLog,_0x178202(-0x113,-0xb1,-0x10f,-0x82)+_0x8d99e[_0x178202(-0xfe,-0x149,-0x118,-0x189)+_0x178202(-0x112,-0xca,-0xb9,-0x6c)]+_0x46f1c4(-0x13f,-0xf5,-0x80,-0x6b)),await setSDMode(_0x27361e,_0x8d99e[_0x178202(-0x127,-0x149,-0x1d7,-0x106)+_0x46f1c4(0x19,-0x62,-0xbd,0x1)]));}}else{_0x493a58['jFDzB'](_0x4bdc6f,_0x4f395d);return;}}catch(_0x5c206a){addLog(_0x46f1c4(-0xf7,-0xf6,-0x10c,-0x17d)+':\x20'+_0x5c206a[_0x178202(-0x1d6,-0x18b,-0x1a8,-0x1fb)]+(_0x46f1c4(-0x183,-0x143,-0xbd,-0x174)+_0x46f1c4(-0x10b,-0xd0,-0x130,-0xa4)+_0x46f1c4(-0x4a,-0xc9,-0xfb,-0x65)));throw new Error(_0x178202(-0x110,-0x15e,-0x19c,-0xce)+_0x178202(-0x1ce,-0x199,-0x12b,-0x18f)+_0x178202(-0x13b,-0x138,-0x108,-0x1bf)+_0x178202(-0xb4,-0x131,-0xb2,-0xa5));}let _0x4e11ed=-(-0x1*0xa8a+0x47d*0x3+-0x2ec);const _0x557afa=_0x8d99e[_0x46f1c4(-0x5b,-0xb9,-0xfa,-0xcf)];_0x557afa!==''&&_0x493a58[_0x46f1c4(-0x1a,-0x37,0x53,-0x88)](_0x557afa,null)&&!_0x493a58[_0x46f1c4(-0xf9,-0x116,-0x8f,-0x8c)](isNaN,Number(_0x557afa))&&_0x493a58[_0x46f1c4(-0x17f,-0xf8,-0xfa,-0x96)](_0x493a58[_0x46f1c4(-0x9a,-0xa9,-0x3e,-0x7a)](Number,_0x557afa),0xb3f*-0x1+0x1821+-0xce2)&&(_0x4e11ed=_0x493a58[_0x46f1c4(-0x74,-0xcc,-0x3a,-0x15d)](Number,_0x557afa));let _0x5da5f8={'prompt':_0x53ced,'negative_prompt':_0x3709b7,'sampler_name':_0x8d99e[_0x46f1c4(-0x9a,-0xe1,-0xe2,-0x7b)+_0x178202(-0x1c2,-0x186,-0x1ae,-0x188)+_0x46f1c4(-0x35,-0xb0,-0x23,-0xda)],'scheduler':_0x8d99e[_0x46f1c4(-0x12a,-0xe1,-0xe5,-0x155)+'8_schedule'+'r'],'steps':_0x8d99e[_0x46f1c4(-0x97,-0xb8,-0x2e,-0x140)],'cfg_scale':_0x8d99e[_0x178202(-0x109,-0x9e,-0x1b,-0x50)],'width':_0x35fe10?_0x35fe10:_0x8d99e['sd_cwidth'],'height':_0x2ddd7a?_0x2ddd7a:_0x8d99e[_0x178202(-0xf9,-0xaa,-0xf5,-0xaa)],'restore_faces':_0x493a58[_0x178202(-0x1d4,-0x1b2,-0x139,-0x170)](_0x8d99e['restoreFac'+'es'],_0x493a58[_0x178202(-0x1c8,-0x17c,-0x18e,-0xf4)]),'enable_hr':_0x493a58[_0x46f1c4(-0x113,-0x14a,-0x114,-0x10f)](_0x8d99e[_0x46f1c4(-0x80,-0x72,-0xb3,-0xf6)+_0x46f1c4(-0xfa,-0xd5,-0xf0,-0x167)],_0x46f1c4(-0xfa,-0x120,-0x14c,-0x194)),'hr_upscaler':_0x8d99e['sd_cchatu_'+_0x178202(-0x138,-0x1ae,-0x15b,-0x1fe)],'hr_scale':_0x8d99e['sd_cupscal'+_0x178202(-0xc9,-0x11a,-0x125,-0xd9)],'hr_additional_modules':[],'denoising_strength':_0x8d99e[_0x46f1c4(-0x21,-0x7b,-0x6f,-0x57)+_0x178202(-0x8d,-0xb4,-0x8c,-0xb0)+'th'],'hr_second_pass_steps':_0x8d99e[_0x46f1c4(0xc,-0x72,-0xd2,-0x50)+'steps'],'seed':_0x4e11ed,'override_settings':{'CLIP_stop_at_last_layers':_0x493a58['EwgtB'](Number,_0x8d99e[_0x46f1c4(-0x49,-0xb3,-0x8d,-0x42)+_0x178202(-0x221,-0x19f,-0x12d,-0x145)]),'sd_vae':_0x8d99e[_0x178202(-0xe1,-0x149,-0x1d4,-0x105)+_0x178202(-0x127,-0xec,-0x110,-0xa3)]},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};addLog(_0x46f1c4(-0x78,-0xcf,-0x121,-0x15e)+'ces\x20脸部修复\x20为'+_0x5da5f8[_0x178202(-0x1ae,-0x137,-0xc1,-0x1b7)+_0x46f1c4(0x13,-0x71,-0xab,-0x11)]),_0x493a58[_0x46f1c4(-0x9b,-0xe9,-0x102,-0x166)](addLog,_0x178202(-0x1b2,-0x159,-0x114,-0x122)+'高清修复\x20为'+_0x5da5f8[_0x178202(-0x18c,-0x166,-0x1b5,-0x120)]);if(_0x493a58['glwcq'](_0x8d99e['sd_cadetai'+_0x178202(-0x144,-0x107,-0x18e,-0xac)],_0x178202(-0x1cc,-0x188,-0x181,-0x1ab))){if(_0x493a58[_0x178202(-0xec,-0x140,-0x13d,-0x1b7)]!=='bZrqS'){_0x493a58[_0x178202(-0xed,-0x17e,-0x1df,-0x1ea)](addLog,'adetailer_'+_0x178202(-0x12c,-0xd7,-0xa4,-0x80));const _0x59ad81={};_0x59ad81[_0x46f1c4(-0xcd,-0x11b,-0x17b,-0xcc)]='face_yolov'+_0x46f1c4(-0x60,-0x86,-0xc9,-0xd9);const _0x3b4ffc={};_0x3b4ffc[_0x178202(-0x190,-0x174,-0x175,-0x16b)]=[!![],!![],_0x59ad81];const _0x2d0832={};_0x2d0832[_0x46f1c4(-0x135,-0xf2,-0x111,-0xee)]=_0x3b4ffc;const _0x3bb370={};_0x3bb370[_0x178202(-0x1c1,-0x13a,-0x16e,-0x1ac)+_0x178202(-0xb1,-0xa6,-0xf7,-0xda)]=_0x2d0832,_0x5da5f8=_0x493a58[_0x46f1c4(-0xe2,-0x13d,-0x1c7,-0x17c)](deepMerge,_0x5da5f8,_0x3bb370);}else{_0x4eb461[_0x46f1c4(-0x3a,-0x50,-0x5e,-0xb1)]=!![],_0x493a58['jgEMm'](_0x496f1f,'sd请求生图错误:\x20'+_0x3a03bc['message']),_0x2ec4d5[_0x178202(-0x8b,-0x114,-0xfe,-0x120)](_0x493a58['vRMLz'],_0x59d806);throw _0x3db440;}}const _0x533b0e=_0x178202(-0x175,-0x1a8,-0x1be,-0x1c1)+'图参数报告\x0a-\x20**'+_0x178202(-0x14d,-0xcb,-0xe3,-0xd6)+_0x46f1c4(-0x155,-0xe6,-0x92,-0x178)+_0x53ced+(_0x178202(-0x141,-0xfc,-0x180,-0xba)+_0x178202(-0x4c,-0x90,-0x36,-0x108)+_0x46f1c4(-0x104,-0x13a,-0x193,-0xf6)+'\x20')+_0x3709b7+('\x0a-\x20**采样方法\x20'+_0x46f1c4(-0xdd,-0xd7,-0x76,-0x7e)+'**\x20')+_0x5da5f8[_0x178202(-0x120,-0x10e,-0x9f,-0xfd)+'me']+(_0x178202(-0x12d,-0x105,-0x171,-0xc8)+'teps):**\x20')+_0x5da5f8[_0x46f1c4(0x31,-0x58,-0x4b,-0x6b)]+('\x0a-\x20**CFG\x20S'+_0x46f1c4(-0xe6,-0x92,-0x119,-0xf4))+_0x5da5f8[_0x178202(-0xbf,-0x10a,-0x8d,-0x164)]+(_0x178202(-0xd3,-0x122,-0xfa,-0xba)+_0x46f1c4(-0x169,-0xf7,-0xfc,-0x99))+_0x5da5f8[_0x46f1c4(-0x144,-0xef,-0x145,-0xb8)]+'x'+_0x5da5f8['height']+(_0x46f1c4(0x20,-0x5c,0xf,-0xb0)+'eed):**\x20')+(_0x493a58['Evjlp'](_0x5da5f8[_0x178202(-0x1c,-0xa2,-0x2a,-0xb4)],-(-0x25c3*0x1+0x5b7+-0x669*-0x5))?_0x493a58[_0x46f1c4(-0xb7,-0xa4,-0x68,-0xfa)]:_0x5da5f8['seed'])+(_0x46f1c4(-0x3a,-0xbd,-0x92,-0x41)+_0x178202(-0x147,-0xdf,-0x156,-0x152))+_0x8d99e[_0x178202(-0x1b0,-0x149,-0x19f,-0x18d)+_0x46f1c4(-0xc4,-0x62,0x19,-0x34)]+(_0x46f1c4(-0x6c,-0xb7,-0x95,-0x141)+'*\x20')+_0x5da5f8[_0x178202(-0x1f5,-0x164,-0x113,-0x17e)+_0x46f1c4(-0x94,-0x109,-0x192,-0x94)][_0x46f1c4(-0x4,-0x2c,-0x55,-0xa5)]+('\x0a-\x20**Clip\x20'+'Skip:**\x20')+_0x5da5f8['override_s'+'ettings']['CLIP_stop_'+_0x178202(-0x238,-0x1ad,-0x19f,-0x227)+'yers']+('\x0a-\x20**高清修复\x20'+_0x46f1c4(-0x48,-0x67,-0xad,-0x13)+_0x178202(-0x11c,-0x104,-0x9d,-0x8e))+_0x5da5f8['enable_hr']+('\x0a-\x20**放大倍率\x20'+'(Upscale\x20F'+_0x46f1c4(-0xe1,-0xed,-0x99,-0x165))+_0x5da5f8[_0x178202(-0x12e,-0x18c,-0x1d4,-0x18a)]+(_0x46f1c4(-0xfb,-0xec,-0x60,-0x12d)+'(Denoising'+'\x20Strength)'+':**\x20')+_0x5da5f8['denoising_'+_0x178202(-0x80,-0x109,-0x12b,-0xee)]+('\x0a-\x20**脸部修复\x20'+_0x46f1c4(-0x167,-0x12e,-0xb1,-0x1b3)+_0x46f1c4(-0xdc,-0x126,-0x14d,-0xb1))+_0x5da5f8[_0x46f1c4(-0x10a,-0xcf,-0x159,-0xc8)+_0x46f1c4(-0xcb,-0x71,0x3,-0x85)]+(_0x46f1c4(-0x54,-0xa8,-0x7e,-0x47)+_0x46f1c4(-0x1d,-0x31,0x5b,0x1f))+_0x493a58['XCOJw'](_0x8d99e['sd_cadetai'+_0x178202(-0x14f,-0x107,-0xf8,-0xa5)],_0x493a58[_0x46f1c4(-0xe8,-0x114,-0x18c,-0xf9)])+_0x178202(-0x1ef,-0x16a,-0xf6,-0x1fc);_0x493a58[_0x178202(-0x12d,-0xb5,-0x38,-0xc7)](addLog,_0x533b0e),_0x493a58['OIMvN'](addLog,'sdwebui生图参'+'数为'+JSON[_0x178202(-0x1bf,-0x142,-0x105,-0xfa)](_0x5da5f8)),console['log'](_0x178202(-0xd6,-0xc3,-0x88,-0x143),_0x5da5f8);let _0x57a2d1=!![];while(_0x57a2d1){_0x493a58['jXObk'](_0x493a58[_0x178202(-0x12e,-0xc9,-0x37,-0x7d)],_0x46f1c4(-0xd6,-0xdd,-0xa3,-0x14a))?_0x4a16f5=_0x5b1ec8(_0x385cc6):window['xiancheng']?_0x57a2d1=![]:await _0x493a58[_0x46f1c4(-0xd8,-0x4d,-0x33,-0x7c)](sleep,-0x2*0x62c+-0x1c0f+-0x13*-0x255);};try{if(_0x493a58['jXObk'](_0x8d99e[_0x178202(-0x11e,-0x170,-0x1d2,-0x1de)],_0x493a58[_0x178202(-0x195,-0x177,-0x10e,-0x15e)])){_0x5da5f8[_0x46f1c4(-0x3f,-0x83,-0x10,-0x89)]=_0x27361e,console[_0x46f1c4(-0x152,-0xe0,-0x50,-0x14a)](_0x493a58[_0x178202(-0x1af,-0x17a,-0xf8,-0x184)],_0x8d99e[_0x178202(-0x113,-0xe2,-0xdd,-0x76)+_0x46f1c4(-0x132,-0xff,-0x163,-0x16e)]),_0x5da5f8[_0x46f1c4(-0xe3,-0x7f,-0x77,-0x58)]=_0x8d99e[_0x46f1c4(-0x9d,-0x7a,-0x3a,-0x30)+_0x46f1c4(-0xc5,-0xff,-0x12d,-0xb1)]?_0x8d99e[_0x178202(-0xd3,-0xe2,-0x106,-0x66)+_0x178202(-0x1ef,-0x167,-0xed,-0x154)]:'';const _0x1009be=await _0x493a58[_0x178202(-0x11b,-0x193,-0x18d,-0x119)](fetch,_0x493a58[_0x178202(-0x16d,-0xde,-0xf7,-0xec)],{'method':_0x493a58[_0x178202(-0xb0,-0x115,-0x12e,-0x132)],'headers':_0x493a58['YhIro'](getRequestHeaders,window[_0x178202(-0x19b,-0x14d,-0x1d3,-0x13c)]),'body':JSON['stringify'](_0x5da5f8)});if(!_0x1009be['ok']){const _0x2addc6=await _0x1009be[_0x178202(-0x96,-0x91,-0x9,-0x8f)]();_0x493a58[_0x46f1c4(-0xfd,-0xa9,-0x98,-0x50)](addLog,'酒馆\x20返回错误。状态'+_0x46f1c4(-0x37,-0x65,-0xdb,-0x7b)+_0x1009be[_0x46f1c4(-0x9e,-0x121,-0xaf,-0x121)]+_0x178202(-0x1a9,-0x153,-0x105,-0x10b)+_0x2addc6),console[_0x178202(-0x13e,-0x148,-0xf6,-0x149)](_0x493a58[_0x46f1c4(-0xc0,-0x90,-0xc0,-0x48)],_0x2addc6);throw new Error(_0x46f1c4(-0x7b,-0x82,-0xb,-0x8a)+_0x1009be[_0x46f1c4(-0x14c,-0x121,-0xd4,-0x11c)]+_0x46f1c4(-0x42,-0xc5,-0xaf,-0x95)+_0x2addc6);}const _0x604147=await _0x1009be[_0x46f1c4(-0x60,-0x29,0x3a,-0xc)]();let _0x227d5f='';try{const _0x54f92f=JSON['parse'](_0x604147);_0x227d5f=_0x54f92f[_0x178202(-0xa1,-0xb9,-0xed,-0x12f)][-0xc28*0x1+-0x15*-0x144+-0x2*0x736];}catch(_0x3efa1e){addLog(_0x178202(-0x11c,-0x158,-0x1b8,-0xd6)+_0x46f1c4(-0xa8,-0x6b,-0x7a,-0xf0)+_0x46f1c4(-0x162,-0x129,-0x174,-0x192)),_0x227d5f=_0x604147;}const _0x432ab6=_0x493a58[_0x46f1c4(-0x56,-0xcd,-0xc1,-0xec)](_0x493a58[_0x46f1c4(-0x5,-0x30,-0x19,-0x87)],_0x227d5f);_0x493a58[_0x178202(-0x13d,-0x151,-0xc6,-0xc8)](addLog,_0x493a58[_0x46f1c4(-0x111,-0x8f,-0x29,-0xd)]);const _0x5d7623={};return _0x5d7623['image']=_0x432ab6,_0x5d7623[_0x46f1c4(-0x19e,-0x12d,-0x163,-0x1a7)]=_0x577916||'',_0x5d7623;}else{if(_0x493a58[_0x46f1c4(-0xec,-0xc6,-0xe4,-0x13c)]!==_0x493a58[_0x46f1c4(-0x42,-0x44,-0x16,-0x91)]){const _0x1fc348=new URL(_0x493a58['SEqcb'](_0x27361e,_0x493a58[_0x178202(-0xf8,-0xc8,-0x85,-0xed)]));window[_0x46f1c4(-0x9f,-0x50,-0x65,-0x60)]=![];const _0x22bfbb=await _0x493a58['aUbtO'](fetch,_0x1fc348,{'method':_0x493a58['VXbfL'],'body':JSON[_0x46f1c4(-0x107,-0xda,-0x163,-0x147)](_0x5da5f8),'headers':{'Content-Type':'applicatio'+_0x178202(-0xdb,-0x16b,-0x199,-0x1a6),'Authorization':getsdAuth()}});window[_0x178202(-0x8b,-0xb8,-0x57,-0x36)]=!![];if(!_0x22bfbb['ok']){const _0x5e0cae=await _0x22bfbb[_0x46f1c4(0x5c,-0x29,0x47,0xe)]();addLog(_0x178202(-0xa9,-0xff,-0x72,-0x17f)+_0x46f1c4(-0x3f,-0xc3,-0x143,-0xcd)+_0x22bfbb[_0x46f1c4(-0xb6,-0x121,-0x193,-0x11f)]+_0x178202(-0x170,-0x153,-0xd9,-0x1b2)+_0x5e0cae),console[_0x178202(-0x19d,-0x148,-0x132,-0x102)](_0x493a58[_0x178202(-0xd9,-0xf8,-0x174,-0x12d)],_0x5e0cae);throw new Error(_0x46f1c4(-0x6e,-0x82,-0xa6,-0xc)+_0x22bfbb['status']+',\x20详情:\x20'+_0x5e0cae);}const _0x2659e8=await _0x22bfbb[_0x46f1c4(0x21,-0x54,0x27,0x37)]();if(!_0x2659e8[_0x178202(-0xa1,-0xb9,-0x149,-0x3c)]||_0x2659e8[_0x178202(-0x98,-0xb9,-0x5d,-0x105)]['length']===-0x1f94+0x11df+0xdb5){if(_0x493a58[_0x46f1c4(-0x4e,-0x4f,-0x3f,0x11)](_0x493a58['xZgPh'],_0x178202(-0xd6,-0xe9,-0x8d,-0x168)))throw new Error(_0x493a58['JXtyL']);else _0x589454[_0x46f1c4(-0x105,-0x11a,-0xb3,-0xdb)+_0x5119e6+_0x178202(-0x104,-0xf6,-0x68,-0x136)]&&(_0x2a58e9=_0x493a58[_0x46f1c4(-0x10d,-0x110,-0x15e,-0x10d)](_0x493a58[_0x178202(-0x149,-0xf1,-0x156,-0xf3)](_0x74dea6,',\x20'),_0x48fcde(_0x418d06[_0x178202(-0x162,-0x182,-0x165,-0x1da)+_0x192ff6+_0x178202(-0x132,-0xf6,-0x92,-0x184)])));}const _0x24cbc9=_0x2659e8['images'][-0x186c+-0xf30+0x27*0x104],_0x598870=_0x493a58[_0x46f1c4(-0x10a,-0x100,-0x121,-0x134)](_0x493a58[_0x46f1c4(0x1d,-0x30,0x25,-0x15)],_0x24cbc9);_0x493a58[_0x178202(-0xfa,-0x17e,-0x1b9,-0x1e5)](addLog,_0x493a58[_0x178202(-0x6b,-0xf7,-0x14f,-0xf3)]);const _0x172f64={};return _0x172f64[_0x46f1c4(-0x9a,-0xe7,-0x9c,-0x89)]=_0x598870,_0x172f64[_0x46f1c4(-0x18f,-0x12d,-0x173,-0xee)]=_0x30d253||'',_0x172f64;}else _0x4468d9=!![];}}catch(_0x219acd){if(_0x493a58['Evjlp'](_0x493a58[_0x178202(-0x19f,-0x10f,-0x191,-0x116)],_0x46f1c4(0x3b,-0x45,-0x1c,0xd))){_0x493a58[_0x46f1c4(-0x100,-0x117,-0xdc,-0xaa)](_0x420dc9,_0x178202(-0xa7,-0xf0,-0x89,-0x70)+_0x26b9a4['status']+'\x20'+_0x2f769e['statusText']);throw new _0xb60c69(_0x178202(-0xcf,-0xf0,-0x144,-0x17f)+_0xd57205[_0x46f1c4(-0xbe,-0x121,-0x133,-0x9f)]+'\x20'+_0x45e624[_0x178202(-0x38,-0xae,-0xe8,-0x7a)]);}else{window[_0x178202(-0x6b,-0xb8,-0xb1,-0xfe)]=!![],_0x493a58['xOwmB'](addLog,_0x178202(-0x130,-0xbe,-0x126,-0xab)+_0x219acd['message']),console[_0x178202(-0xe7,-0x114,-0xf9,-0x11c)](_0x493a58[_0x46f1c4(-0x79,-0xaf,-0x2e,-0x11b)],_0x219acd);throw _0x219acd;}}}async function sdGenerate(_0x2a9721){function _0x116d4b(_0x87a0e7,_0x210059,_0x2551ea,_0xa7374f){return _0x21fc(_0xa7374f- -0x3b8,_0x2551ea);}function _0x3ce1ca(_0x31bf96,_0x5d3647,_0x178f69,_0x41c5b1){return _0x21fc(_0x5d3647- -0x20b,_0x178f69);}const _0x3535ed={'LyfXS':function(_0x18a92f,_0x53308a){return _0x18a92f(_0x53308a);},'fEHfm':_0x3ce1ca(-0xd0,-0x4a,-0xc6,-0x9f),'Wgfvc':function(_0x2233c8,_0x430a06){return _0x2233c8(_0x430a06);},'iMRAK':function(_0x41e9fe,_0x2bb61e){return _0x41e9fe(_0x2bb61e);},'UyYTC':function(_0x52123b,_0xdb24b3){return _0x52123b!=_0xdb24b3;},'qXhJM':function(_0x2d5e39,_0x36c382){return _0x2d5e39!==_0x36c382;},'SQZGg':_0x3ce1ca(-0xfc,-0x72,-0x3c,-0x100),'NrYpQ':function(_0x1ec18e,_0x143c1b,_0x31a0bb,_0x25a185){return _0x1ec18e(_0x143c1b,_0x31a0bb,_0x25a185);},'xGfje':function(_0x4eade0,_0xe0189e){return _0x4eade0(_0xe0189e);},'EHCsZ':_0x3ce1ca(0x57,-0x23,-0x34,-0x9),'PYvBb':'Error\x20gene'+_0x116d4b(-0x273,-0x1a3,-0x1c1,-0x22b)+_0x3ce1ca(-0x4b,-0x21,-0x83,-0xad)},{id:_0x4b102c,prompt:_0x48200f,width:_0x38aac4,height:_0x19c8ef,change:_0x5b1d73}=_0x2a9721;_0x3535ed[_0x3ce1ca(-0x51,0x16,-0x7a,0x23)](addLog,_0x116d4b(-0x101,-0xdf,-0x1f9,-0x171)+_0x3ce1ca(0x7,0x49,0xa,-0x21)+_0x4b102c+(_0x116d4b(-0x1f5,-0x177,-0x253,-0x1f3)+':\x20')+_0x48200f+(_0x5b1d73?'\x20-\x20Change:'+'\x20'+_0x5b1d73:''));if(_0x5b1d73&&_0x5b1d73[_0x3ce1ca(-0xe0,-0x77,-0x1e,-0x66)](_0x3535ed[_0x116d4b(-0x105,-0x10d,-0x1d6,-0x16a)])){_0x3535ed['Wgfvc'](bananaGenerate,_0x2a9721);return;}try{const {image:_0x152c6f,change:_0x58626a}=await _0x3535ed[_0x3ce1ca(-0x1a,0x73,0xc4,0x56)](generateSDImage,{'prompt':_0x48200f,'width':_0x38aac4,'height':_0x19c8ef,'change':_0x5b1d73});if(_0x3535ed[_0x3ce1ca(0xda,0x5d,0x7d,0x7)](extension_settings[extensionName][_0x3ce1ca(-0x57,-0x74,-0x3c,-0x6f)],'0')){if(_0x3535ed['qXhJM']('Ywyjw',_0x3535ed[_0x3ce1ca(0x77,0x7a,0x108,0x98)])){const _0x5cc990={};_0x5cc990['change']=_0x58626a,await _0x3535ed[_0x116d4b(-0x275,-0x24c,-0x262,-0x1e6)](setItemImg,_0x48200f,_0x152c6f,_0x5cc990),_0x3535ed[_0x3ce1ca(0x4a,0x34,-0x2b,-0x1)](addLog,'图像已存入数据库\x20f'+_0x116d4b(-0x270,-0x1d4,-0x198,-0x1f6)+'\x20'+_0x48200f);}else _0x14c969[_0x3ce1ca(0x57,0x81,0x20,0x37)+_0x3ce1ca(-0x29,0xd,-0x68,0xe)](_0x57187e[_0x3ce1ca(0x16,0x54,0x12,0xe)+_0x3ce1ca(0x2f,-0x1b,0x7,-0x76)+'ST'],_0x2629d6),_0x3683e0[_0x3ce1ca(-0xb6,-0x86,-0xee,-0xf6)+_0x3ce1ca(-0xfb,-0x69,-0x17,-0x3a)]=![],_0x59dbef('SD\x20生图事件监听器'+_0x3ce1ca(-0x3,-0x29,-0x1f,0x28));}else addLog('缓存设置为不存入数据'+'库');const _0x46cf75={};_0x46cf75['id']=_0x4b102c,_0x46cf75[_0x3ce1ca(0x93,0x2c,0x28,0xa)]=!![],_0x46cf75[_0x3ce1ca(-0x7b,-0x6e,-0xeb,-0x8d)]=_0x152c6f,_0x46cf75[_0x116d4b(-0xa3,-0xe3,-0x1ac,-0x127)]=_0x48200f,_0x46cf75['change']=_0x58626a,eventSource[_0x3ce1ca(-0x78,0x0,0x40,-0x41)](EventType['GENERATE_I'+'MAGE_RESPO'+'NSE'],_0x46cf75),_0x3535ed[_0x3ce1ca(0x36,-0x3a,0x4a,0x32)](addLog,_0x116d4b(-0x242,-0x18f,-0x1ec,-0x213)+_0x3ce1ca(0x4b,0x1c,0x12,0x7a)+_0x4b102c+')');}catch(_0x36bb67){if(_0x3535ed[_0x116d4b(-0x28a,-0x280,-0x235,-0x237)]===_0x3535ed[_0x3ce1ca(-0x85,-0x8a,-0x113,-0xab)]){const _0x43ed4e=_0x116d4b(-0x27d,-0x181,-0x1cf,-0x1fa)+_0x3ce1ca(0x43,0x96,0x4f,0xc5)+_0x4b102c+_0x3ce1ca(0x65,0x36,-0x4a,-0x4c)+_0x36bb67[_0x3ce1ca(-0x4b,-0x62,-0x70,0x28)];_0x3535ed[_0x3ce1ca(0x61,0x73,0x37,0x11)](addLog,_0x116d4b(-0x278,-0x20e,-0x26f,-0x1e9)+_0x43ed4e),console['error'](_0x3535ed[_0x3ce1ca(0xc4,0x8e,0x71,0x30)],_0x36bb67);const _0x2d9611={};_0x2d9611['id']=_0x4b102c,_0x2d9611[_0x116d4b(-0x1dc,-0x1fd,-0x1f9,-0x181)]=![],_0x2d9611[_0x116d4b(-0x193,-0x17d,-0x1e0,-0x198)]=_0x36bb67[_0x116d4b(-0x213,-0x22b,-0x1f7,-0x20f)],_0x2d9611['prompt']=_0x48200f,eventSource[_0x3ce1ca(-0x2b,0x0,-0x8a,-0x38)](EventType[_0x116d4b(-0xe2,-0x156,-0x195,-0x159)+_0x116d4b(-0x191,-0x1e5,-0x28c,-0x209)+_0x116d4b(-0x25d,-0x1f7,-0x26f,-0x230)],_0x2d9611),_0x3535ed[_0x3ce1ca(0x4d,0x73,0x7f,0xb1)](addLog,_0x3ce1ca(0x53,-0x32,-0x7d,0x54)+_0x3ce1ca(-0x4f,0x1c,-0x12,-0x76)+_0x4b102c+')');}else{const _0x55659e=_0x137649?function(){function _0x4b485a(_0xac35f2,_0x4eb155,_0x2faa54,_0x1e312d){return _0x116d4b(_0xac35f2-0x188,_0x4eb155-0x130,_0xac35f2,_0x4eb155-0x4b0);}if(_0x173ce7){const _0x491546=_0x502e97[_0x4b485a(0x3cd,0x390,0x2ff,0x31c)](_0x4b048e,arguments);return _0x1e45c1=null,_0x491546;}}:function(){};return _0x4040ea=![],_0x55659e;}}}function initializeSDListener(){const _0x13aad3={'gWJBW':function(_0x246f8f,_0x4b1d4e){return _0x246f8f(_0x4b1d4e);},'zYQsr':'SD\x20生图事件监听器'+'已初始化。'};function _0x4dcc47(_0x450c9d,_0x77e1b7,_0x3573a4,_0x5559e1){return _0x21fc(_0x5559e1- -0x143,_0x450c9d);}function _0x5f2cf0(_0x40f36d,_0x5db90b,_0x179c19,_0x1253b6){return _0x21fc(_0x40f36d-0x1f1,_0x179c19);}eventSource['on'](EventType[_0x4dcc47(0xc0,0x109,0x151,0x11c)+_0x5f2cf0(0x3e1,0x440,0x3bf,0x354)+'ST'],sdGenerate),_0x13aad3[_0x5f2cf0(0x45f,0x465,0x4a7,0x460)](addLog,_0x13aad3[_0x4dcc47(0x139,0x14c,0xb9,0xf6)]);}export async function replaceWithSd(){function _0x3eb840(_0x39bd41,_0x51f597,_0x38b31a,_0x4a3307){return _0x21fc(_0x51f597-0x22a,_0x38b31a);}function _0x2bba33(_0x17faa7,_0x2aa139,_0xc0f879,_0xaf66bb){return _0x21fc(_0x17faa7-0x252,_0xc0f879);}const _0x2af304={'Mtfrf':function(_0x5cbab1,_0x3c2350){return _0x5cbab1+_0x3c2350;},'uLKuR':function(_0x349f89,_0x18a66e){return _0x349f89(_0x18a66e);},'secSh':function(_0x4d7c3,_0x4644b8){return _0x4d7c3==_0x4644b8;},'hTqSJ':_0x3eb840(0x3a6,0x432,0x425,0x4ac),'QxCDH':function(_0x572f31){return _0x572f31();},'AOJif':_0x3eb840(0x3f6,0x423,0x497,0x4af),'ORItc':_0x2bba33(0x3f6,0x47a,0x483,0x3ae)+_0x2bba33(0x434,0x439,0x4aa,0x3d6)};_0x2af304[_0x3eb840(0x4f7,0x465,0x470,0x4a7)](extension_settings[extensionName][_0x3eb840(0x36c,0x3c0,0x3a6,0x382)],'sd')?(!window['initialize'+_0x2bba33(0x3f4,0x46c,0x3de,0x3c3)]&&('sWrRj'===_0x2af304[_0x3eb840(0x512,0x49f,0x499,0x436)]?(window[_0x3eb840(0x39f,0x3af,0x3a8,0x3f1)+_0x3eb840(0x40b,0x3cc,0x356,0x3e8)]=!![],initializeSDListener()):_0x3fa45b[_0x2bba33(0x404,0x483,0x3fa,0x45d)+_0x205e1c+'\x20Prompt']&&(_0xbfb7d6=_0x2af304[_0x2bba33(0x445,0x47f,0x48f,0x4c2)](_0x2af304[_0x2bba33(0x445,0x46e,0x42d,0x467)](_0x32f052,',\x20'),_0x2bff31[_0x3eb840(0x441,0x3dc,0x34d,0x44c)+_0x132994+_0x3eb840(0x4c9,0x468,0x472,0x495)]))),_0x2af304[_0x2bba33(0x3ff,0x400,0x437,0x42d)](initializeImageProcessing)):_0x2af304['AOJif']===_0x2bba33(0x454,0x419,0x48e,0x446)?_0x36dfde=_0x2af304['Mtfrf'](_0x10fc05+',\x20',_0x2af304[_0x2bba33(0x4a9,0x51c,0x4c7,0x530)](_0x50134d,_0x4646d5['Character\x20'+_0x9fb145+_0x2bba33(0x490,0x51e,0x4b5,0x48d)])):window['initialize'+_0x2bba33(0x3f4,0x38d,0x3dd,0x39b)]&&(eventSource['removeList'+_0x2bba33(0x46a,0x444,0x4fc,0x486)](EventType[_0x3eb840(0x431,0x489,0x430,0x4cf)+_0x3eb840(0x46f,0x41a,0x43a,0x42c)+'ST'],sdGenerate),window[_0x2bba33(0x3d7,0x3b4,0x400,0x34c)+'SDListener']=![],_0x2af304[_0x3eb840(0x501,0x481,0x423,0x4a7)](addLog,_0x2af304['ORItc']));}
//# sourceMappingURL=http://localhost:8000/sd.js.map