(function(_0x1ea706,_0x3da3b7){const _0x2312d2=_0x1ea706();function _0x5d3652(_0x4b86ad,_0x362944,_0x2b81a0,_0x5d63a9){return _0x4f89(_0x5d63a9-0x83,_0x2b81a0);}function _0x30c46f(_0x5b490d,_0x6d63a5,_0x3a1e87,_0x18c55a){return _0x4f89(_0x3a1e87-0x227,_0x18c55a);}while(!![]){try{const _0x30105a=-parseInt(_0x30c46f(0x54a,0x41b,0x4b1,0x4a3))/(-0x9d3+-0x7c*-0x3a+-0x1244)+-parseInt(_0x5d3652(0x33d,0x3ac,0x3b8,0x32e))/(-0x18c3+0x52*-0x10+0x1de5)+-parseInt(_0x30c46f(0x50f,0x484,0x502,0x576))/(-0x2f6*-0x6+0xb*-0x178+-0x199*0x1)+-parseInt(_0x5d3652(0x20c,0x20d,0x30d,0x283))/(0x9*-0x1+0x1a49+-0x1a3c)*(-parseInt(_0x5d3652(0x2c8,0x1c7,0x2c2,0x262))/(0x8ba+0x1*-0x427+0x48e*-0x1))+-parseInt(_0x30c46f(0x4aa,0x414,0x488,0x4e0))/(0x4d5*0x2+-0x2*-0x94f+-0x1c42)+-parseInt(_0x5d3652(0x259,0x23e,0x340,0x2c3))/(-0x23*0x4b+0x6e+0x9da)+-parseInt(_0x30c46f(0x564,0x4cc,0x4fc,0x46d))/(-0x1e59+0x4*-0x36f+0x1eb*0x17)*(-parseInt(_0x5d3652(0x240,0x22e,0x2be,0x2aa))/(0x2011*-0x1+-0x1dc0+0x3dda));if(_0x30105a===_0x3da3b7)break;else _0x2312d2['push'](_0x2312d2['shift']());}catch(_0x1f810a){_0x2312d2['push'](_0x2312d2['shift']());}}}(_0x4f9b,0x1a4*-0x23f+0xaa6a9+-0xd721*-0x7));const _0x484e6e=(function(){const _0x4cd0e9={};_0x4cd0e9[_0xadba87(0x5be,0x610,0x5f3,0x578)]=function(_0xed4e07,_0x14baef){return _0xed4e07===_0x14baef;};const _0x316e78=_0x4cd0e9;let _0x5002b6=!![];function _0xadba87(_0x24ec81,_0x15b563,_0x36f0fd,_0x5c7ee6){return _0x4f89(_0x5c7ee6-0x311,_0x36f0fd);}return function(_0x2e0a53,_0xb8a448){const _0x4db787={'agDVn':function(_0xa8d25c,_0x41f962){function _0x401e2c(_0x3e4eeb,_0x26047c,_0x3d101e,_0x1cdab1){return _0x4f89(_0x3e4eeb-0x118,_0x26047c);}return _0x316e78[_0x401e2c(0x37f,0x416,0x2fe,0x39a)](_0xa8d25c,_0x41f962);},'CnUgn':_0x4c89d9(0x39d,0x3df,0x48f,0x418)},_0x5cf0b7=_0x5002b6?function(){function _0x5e9069(_0x1e8363,_0x4477c5,_0x53d3f1,_0xac3f3a){return _0x4c89d9(_0x1e8363-0x11b,_0x53d3f1,_0x53d3f1-0xae,_0x4477c5-0xa6);}function _0x416092(_0x1b7e9f,_0x364df0,_0x326b4f,_0x187b20){return _0x4c89d9(_0x1b7e9f-0x44,_0x187b20,_0x326b4f-0x14b,_0x364df0-0x66);}if(_0xb8a448){if(_0x4db787[_0x5e9069(0x43c,0x4cc,0x4bd,0x483)](_0x4db787['CnUgn'],'mqVOa')){const _0x3b119a=_0xb8a448[_0x5e9069(0x56b,0x575,0x572,0x51a)](_0x2e0a53,arguments);return _0xb8a448=null,_0x3b119a;}else{_0x4a0c40('切换模型失败:\x20'+_0x5363bf[_0x5e9069(0x4fa,0x567,0x5a3,0x524)]+'\x20'+_0x17c6a8[_0x416092(0x544,0x529,0x54e,0x5ab)]);throw new _0x2925e8(_0x416092(0x4ba,0x4ec,0x4dc,0x4bb)+_0x4a96fa['status']+'\x20'+_0x531e89[_0x5e9069(0x4d2,0x569,0x558,0x4da)]);}}}:function(){};function _0x4c89d9(_0x4c2846,_0x4fdc0f,_0x7055ba,_0x36969b){return _0xadba87(_0x4c2846-0x166,_0x4fdc0f-0x88,_0x4fdc0f,_0x36969b- -0x10f);}return _0x5002b6=![],_0x5cf0b7;};}()),_0x144cb1=_0x484e6e(this,function(){const _0x43db78={};_0x43db78[_0x4ddd7d(0x97,0xc9,0x44,0x145)]=_0x1718e2(-0xdd,-0x15d,-0x121,-0x12a)+'+$';function _0x4ddd7d(_0x36272c,_0x1aebfc,_0x457777,_0x238c94){return _0x4f89(_0x1aebfc- -0x10c,_0x238c94);}const _0xf80c6e=_0x43db78;function _0x1718e2(_0x1957fc,_0x3c0aa2,_0x9e9af9,_0x435261){return _0x4f89(_0x435261- -0x3bf,_0x3c0aa2);}return _0x144cb1['toString']()[_0x1718e2(-0x4a,-0xbb,-0x126,-0xdb)](_0xf80c6e[_0x1718e2(-0x199,-0x157,-0x176,-0x1ea)])[_0x1718e2(-0x24a,-0x194,-0x1f2,-0x1f1)]()['constructo'+'r'](_0x144cb1)[_0x4ddd7d(0x1da,0x1d8,0x260,0x240)](_0xf80c6e['HHiUz']);});function _0x4f89(_0x1aa54f,_0xf83eea){const _0x381291=_0x4f9b();return _0x4f89=function(_0x1f8fc6,_0x45d8dc){_0x1f8fc6=_0x1f8fc6-(0x42b+0x3ed+0x73*-0xe);let _0x417072=_0x381291[_0x1f8fc6];if(_0x4f89['lkpRqy']===undefined){var _0x258ec9=function(_0x4ff13c){const _0x1b9b9e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3fade0='',_0xea45cf='',_0x26094a=_0x3fade0+_0x258ec9;for(let _0x520046=0x8*0x343+0x3*-0x9c7+0x33d,_0x4561cb,_0x3b5ad5,_0x4b2b38=0x8a*-0x2+-0x10c*-0x2+-0x2*0x82;_0x3b5ad5=_0x4ff13c['charAt'](_0x4b2b38++);~_0x3b5ad5&&(_0x4561cb=_0x520046%(-0x1f5d+0x128+0x1e39)?_0x4561cb*(0x1*-0xc1d+0x8af+0x3ae)+_0x3b5ad5:_0x3b5ad5,_0x520046++%(0x1*-0x90c+-0xc*-0x1a5+-0xaac))?_0x3fade0+=_0x26094a['charCodeAt'](_0x4b2b38+(0xf22+-0x1c6*0xc+0x6*0x108))-(-0xe9*-0x1+-0x54e*-0x1+-0x62d)!==0x71d+-0x1*-0x9+0x131*-0x6?String['fromCharCode'](0x15*0x127+0x1c4*0xe+0x2*-0x17f6&_0x4561cb>>(-(0x7*-0x3fa+0xfd*0x2+-0x16*-0x12d)*_0x520046&0xc77+0x1*0x193a+-0x25ab)):_0x520046:0xc8e+0xb66*-0x1+0x2*-0x94){_0x3b5ad5=_0x1b9b9e['indexOf'](_0x3b5ad5);}for(let _0x3a84e5=0x77c*0x3+0x224e+-0x38c2,_0x164e48=_0x3fade0['length'];_0x3a84e5<_0x164e48;_0x3a84e5++){_0xea45cf+='%'+('00'+_0x3fade0['charCodeAt'](_0x3a84e5)['toString'](0xcaa+-0x865*0x1+0x1*-0x435))['slice'](-(0x21fb+0x2a*-0x22+-0x1c65));}return decodeURIComponent(_0xea45cf);};_0x4f89['hUDxFN']=_0x258ec9,_0x1aa54f=arguments,_0x4f89['lkpRqy']=!![];}const _0x485f67=_0x381291[0x1b9a*0x1+-0x895+-0x1305],_0x1a8758=_0x1f8fc6+_0x485f67,_0x27ef0a=_0x1aa54f[_0x1a8758];if(!_0x27ef0a){const _0x241469=function(_0x5af854){this['XuFWGg']=_0x5af854,this['PhtJfl']=[-0x5ee+0x1fd3+0x679*-0x4,-0x1e8b+0x6b*0x58+-0x63d,-0x2*-0x5c+-0xc6c+-0x1c*-0x6b],this['fqQWkd']=function(){return'newState';},this['ZDmxkm']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ZPpxLW']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x241469['prototype']['lptkiB']=function(){const _0xa31c2=new RegExp(this['ZDmxkm']+this['ZPpxLW']),_0x3bb749=_0xa31c2['test'](this['fqQWkd']['toString']())?--this['PhtJfl'][0x1e3f*0x1+-0x134a+-0xaf4]:--this['PhtJfl'][0x38d+-0x1*-0x1e0d+0xb*-0x30e];return this['MvObYs'](_0x3bb749);},_0x241469['prototype']['MvObYs']=function(_0x57b655){if(!Boolean(~_0x57b655))return _0x57b655;return this['jEqdIM'](this['XuFWGg']);},_0x241469['prototype']['jEqdIM']=function(_0x4b42bf){for(let _0x1f6eed=0x2*0x904+0x2*-0x33b+-0xb92*0x1,_0x5a75d7=this['PhtJfl']['length'];_0x1f6eed<_0x5a75d7;_0x1f6eed++){this['PhtJfl']['push'](Math['round'](Math['random']())),_0x5a75d7=this['PhtJfl']['length'];}return _0x4b42bf(this['PhtJfl'][-0x5df+-0x23c3+0x29a2]);},new _0x241469(_0x4f89)['lptkiB'](),_0x417072=_0x4f89['hUDxFN'](_0x417072),_0x1aa54f[_0x1a8758]=_0x417072;}else _0x417072=_0x27ef0a;return _0x417072;},_0x4f89(_0x1aa54f,_0xf83eea);}_0x144cb1();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations,waitForLock,releaseLock,acquireLock}from'./utils.js';function _0xf7870c(_0xbb07a0,_0x35a550,_0x287bd2,_0x5eb7b4){return _0x4f89(_0x5eb7b4- -0x1c5,_0x35a550);}import{setItemImg}from'./database.js';import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';import{processCharacterPrompt}from'./characterprompt.js';import{bananaGenerate}from'./banana.js';async function generateSDImage({prompt:_0x501d23,width:_0x44ee7b,height:_0x19c493,change:_0x1c3d4c}){const _0x36e4e9={'pKZfK':function(_0x5f1172,_0x50ec4d){return _0x5f1172(_0x50ec4d);},'mgqRu':'(((.+)+)+)'+'+$','vwBWB':function(_0x5549fb,_0xb5781b){return _0x5549fb+_0xb5781b;},'kkOhl':function(_0x26e31e,_0x184e69){return _0x26e31e(_0x184e69);},'tVtwd':function(_0xecfc3f){return _0xecfc3f();},'hHaUA':function(_0x3654fb,_0x226c06){return _0x3654fb(_0x226c06);},'lYuBd':_0x2edc82(0x48,0x19,-0x56,0x44)+_0x2edc82(0x3a,0x67,0x24,0x5c)+_0x2dc001(0x33a,0x390,0x2ff,0x264),'LALFa':_0x2dc001(0x349,0x34e,0x326,0x378)+'face\x20为开启','oYzsp':function(_0x13c20f,_0x465c7e,_0x7f0806){return _0x13c20f(_0x465c7e,_0x7f0806);},'MzbFT':'face_yolov'+_0x2edc82(0xb0,0x7a,0x94,0x47),'nkPOZ':function(_0x328d2f,_0x4c625e){return _0x328d2f(_0x4c625e);},'gOSkI':function(_0xe0a38b,_0x9eb83c){return _0xe0a38b(_0x9eb83c);},'TsOZp':_0x2dc001(0x3d8,0x335,0x348,0x2db)+'osition','POrUc':function(_0x290813,_0x4bd0a8){return _0x290813===_0x4bd0a8;},'GNfkv':'qIdCB','FCwsZ':_0x2dc001(0x381,0x2fd,0x2f4,0x279)+'坐标的提示词字符串。','TyebA':function(_0x1addc8,_0x34ebc8){return _0x1addc8(_0x34ebc8);},'AyZZA':function(_0x30eb09,_0x1d6496){return _0x30eb09<=_0x1d6496;},'VBXqA':function(_0x1d26c3,_0x71ff95){return _0x1d26c3!==_0x71ff95;},'eYiQR':'uuKVP','mlWyi':_0x2dc001(0x31c,0x334,0x2fb,0x2a5),'SJIpM':_0x2dc001(0x2b3,0x2d0,0x258,0x27e)+'中的\x20prompt。','OmXzt':function(_0x15162e,_0x4078cc,_0x5a4503){return _0x15162e(_0x4078cc,_0x5a4503);},'rPUGr':_0x2dc001(0x28f,0x24b,0x230,0x1ba),'Jndny':function(_0x45113f,_0x4c1679){return _0x45113f+_0x4c1679;},'VBzzQ':function(_0x5cbcbb,_0x3c8024){return _0x5cbcbb(_0x3c8024);},'uSZqB':function(_0x4c54a2,_0x265ea3,_0x43811a,_0x92cd0b,_0x54cd5f,_0x1ffbfa){return _0x4c54a2(_0x265ea3,_0x43811a,_0x92cd0b,_0x54cd5f,_0x1ffbfa);},'XtiAI':'auto_url','HJrtG':function(_0x3221a2,_0x3103f6,_0x462677){return _0x3221a2(_0x3103f6,_0x462677);},'vpeYK':_0x2dc001(0x3bb,0x351,0x33f,0x3ae)+'t-model','DmjUw':function(_0x30d8a4,_0x28b172){return _0x30d8a4(_0x28b172);},'TkZRZ':_0x2edc82(0xf,0x2d,0xca,0x41)+'2222','xWYgN':_0x2dc001(0x25e,0x230,0x2ad,0x2ab)+_0x2dc001(0x22d,0x23e,0x290,0x21f)+_0x2edc82(0xe4,0x8d,0x8a,0x93)+_0x2dc001(0x2d6,0x336,0x2ec,0x26e),'PsOCM':function(_0x2fcf16,_0xbd83f){return _0x2fcf16!=_0xbd83f;},'mZKMv':function(_0x3b71e3,_0x5001c7){return _0x3b71e3===_0x5001c7;},'FJxrA':'YzHyO','szvyI':_0x2dc001(0x2f9,0x31f,0x343,0x2ef),'xRxbW':function(_0xdf2b02,_0x3278e6,_0x58894b){return _0xdf2b02(_0x3278e6,_0x58894b);},'ypfeV':_0x2dc001(0x261,0x323,0x28f,0x27f)+_0x2dc001(0x2db,0x370,0x2e3,0x2d6),'FUnTt':_0x2edc82(0xa6,-0x28,-0x8,0x53),'LONUM':function(_0x129bef,_0x476d3b){return _0x129bef(_0x476d3b);},'rjKya':function(_0x383edf,_0x2c77fb){return _0x383edf!=_0x2c77fb;},'VMShc':function(_0x282139,_0x5b456d){return _0x282139(_0x5b456d);},'txSyo':function(_0x15597a,_0x30b61d){return _0x15597a(_0x30b61d);},'DUYfR':function(_0x19ec5d,_0xcbbda2){return _0x19ec5d>=_0xcbbda2;},'jhuIN':_0x2edc82(0x40,0x54,0x25,0x51),'dcymO':_0x2edc82(-0x29,0x33,-0x17,0x60),'iXHCn':function(_0x4929d3,_0x3a8831){return _0x4929d3(_0x3a8831);},'EEkeY':function(_0x57f8b4,_0x4018d9){return _0x57f8b4==_0x4018d9;},'hGCoT':function(_0x4d304f,_0x2b5b7e){return _0x4d304f==_0x2b5b7e;},'AZfVq':function(_0x4cd1a9,_0x28c44d){return _0x4cd1a9(_0x28c44d);},'kCsXH':function(_0x32f74d,_0x4b561a){return _0x32f74d(_0x4b561a);},'Eootd':_0x2edc82(-0x20,0x2f,0x9f,0x72),'xGruH':'payload','gBbIR':_0x2edc82(0x2a,0x99,0xf9,0xab),'yxuwY':_0x2dc001(0x2fe,0x2df,0x33f,0x2aa)+_0x2dc001(0x3bf,0x398,0x335,0x3b8),'DFVYS':'hvLnB','rwyNE':_0x2edc82(0x6f,0x14a,0x48,0xe1),'KIrqD':_0x2edc82(0x108,0x7b,0x16,0xa8),'kAvIi':_0x2dc001(0x342,0x2fe,0x30e,0x2c0),'sdJSs':function(_0x4619a8,_0x5525c7){return _0x4619a8(_0x5525c7);},'vhrWP':_0x2dc001(0x31e,0x266,0x29c,0x25d)+_0x2edc82(0xc7,0xa4,0x6b,0x82)+_0x2edc82(0x33,-0x13,-0x6,0x83),'kNBRX':_0x2dc001(0x1f9,0x1d5,0x25b,0x23f)+_0x2edc82(0x32,0x71,-0x16,0x42)+'4,','RyRnX':function(_0x257bae,_0x1cf9dc){return _0x257bae(_0x1cf9dc);},'gRUaQ':function(_0x17ed80,_0x2c8725){return _0x17ed80||_0x2c8725;},'fLeJV':'qOBUp','SNxcs':_0x2dc001(0x38a,0x2be,0x2f1,0x28b)+'txt2img','vsJdi':_0x2dc001(0x2ca,0x2e3,0x24c,0x2a6)+'n/json','OQgHC':function(_0x311a81){return _0x311a81();},'ukrdg':function(_0x4b9e05,_0x59bffc){return _0x4b9e05===_0x59bffc;},'mqrPE':function(_0x2c6f09,_0x33ce83){return _0x2c6f09===_0x33ce83;},'UgOCP':_0x2dc001(0x283,0x243,0x243,0x25f),'TeFGN':_0x2edc82(-0x21,0x25,0x8b,0x19),'AiIku':_0x2edc82(0x9,0x81,-0x1d,0x1c)+_0x2dc001(0x233,0x2c8,0x24a,0x29a),'ePpeA':function(_0xf3d90b,_0x2b8e6b){return _0xf3d90b+_0x2b8e6b;},'SRHYb':function(_0x21cdba,_0xbee64a){return _0x21cdba===_0xbee64a;},'MyuZI':_0x2edc82(0x48,0xa0,-0x10,0x46),'UPOYn':function(_0x1130ce){return _0x1130ce();}};let _0x361e64=_0x1c3d4c;_0x501d23=_0x36e4e9[_0x2dc001(0x2d6,0x2e6,0x2b6,0x32f)](processCharacterPrompt,_0x501d23),_0x501d23=await _0x36e4e9[_0x2edc82(0x7f,-0xb,0x2c,0x57)](stripChineseAnnotations,_0x501d23),_0x1c3d4c=_0x36e4e9[_0x2dc001(0x27d,0x318,0x301,0x38a)](processCharacterPrompt,_0x1c3d4c),_0x1c3d4c=await _0x36e4e9['gOSkI'](stripChineseAnnotations,_0x1c3d4c);const _0x36df2f=extension_settings[extensionName][_0x2edc82(0xde,0x9e,0xf0,0x66)][_0x2dc001(0x34c,0x32e,0x2e5,0x26e)](),_0x5648cb=extension_settings[extensionName];function _0x2dc001(_0x3211a4,_0xcdaf30,_0xfbfd7c,_0x2df932){return _0x4f89(_0xfbfd7c-0x48,_0x2df932);}clearLog(),addLog('正在通过sdwebu'+_0x2dc001(0x297,0x2fd,0x2fc,0x35c)+'端为'+_0x5648cb[_0x2dc001(0x2b0,0x377,0x33d,0x383)]+_0x2dc001(0x2af,0x273,0x2ba,0x2b4)+_0x5648cb[_0x2dc001(0x2c7,0x333,0x2f0,0x31e)+_0x2edc82(0x9d,0xb,0x75,0x8f)]);const _0x453c12=_0x1c3d4c&&_0x1c3d4c[_0x2edc82(0x12,0xa0,0xf5,0x88)]()!==''?_0x1c3d4c:_0x501d23;_0x36e4e9['gOSkI'](addLog,_0x2dc001(0x2a2,0x338,0x2ea,0x318)+_0x453c12);let _0x53fa15=![];if(_0x453c12['includes'](_0x36e4e9[_0x2edc82(0xc,0x8d,-0x1c,0x45)])){if(_0x36e4e9['POrUc'](_0x36e4e9['GNfkv'],_0x2dc001(0x237,0x32c,0x2c1,0x2f5))){const _0x5a561b='SD生图流程捕获到异'+_0x2edc82(0xb1,0x60,0xae,0x84)+_0x358fcd+_0x2dc001(0x256,0x2e5,0x259,0x2d3)+_0x567ea3['message'];_0x58f5dd(_0x2dc001(0x376,0x2ff,0x31a,0x36d)+_0x5a561b),_0x1c51a7[_0x2dc001(0x27d,0x2e3,0x2fa,0x339)](_0x2dc001(0x33b,0x2fc,0x2a1,0x214)+'rating\x20SD\x20'+_0x2edc82(0xac,0xa4,0x24,0x92),_0x3bfc5e);const _0x440d02={};_0x440d02['id']=_0x2dde06,_0x440d02[_0x2edc82(-0xb2,-0x50,-0x4,-0x3b)]=![],_0x440d02[_0x2edc82(0xb6,0x10c,0x113,0x9d)]=_0x25606e[_0x2edc82(0x19,0xb8,0xd6,0x90)],_0x440d02[_0x2dc001(0x2cd,0x2ec,0x2d8,0x2cd)]=_0x1f5c3d,_0x3125fa['emit'](_0x56ffcb['GENERATE_I'+_0x2edc82(0x84,0x7a,-0x16,0x5a)+_0x2dc001(0x217,0x1e9,0x22f,0x27e)],_0x440d02),_0x36e4e9[_0x2dc001(0x28f,0x28a,0x219,0x1bb)](_0x4244fb,_0x2dc001(0x2e7,0x369,0x34a,0x3d8)+_0x2dc001(0x1ca,0x1d3,0x23f,0x2ca)+_0x20f8a7+')');}else _0x53fa15=!![];}_0x36e4e9['pKZfK'](addLog,'是否启用分角色模式\x20'+'(Divide_ro'+_0x2edc82(-0x52,-0x18,-0x3f,-0xe)+_0x53fa15);let _0x139f96={},_0x60031b='',_0x908bd7='';if(_0x53fa15){addLog(_0x36e4e9['FCwsZ']),_0x139f96=_0x36e4e9[_0x2edc82(-0x49,-0x5,0xcb,0x4e)](parsePromptStringWithCoordinates,_0x453c12),_0x60031b=_0x139f96[_0x36e4e9[_0x2dc001(0x227,0x2a1,0x2a2,0x2b4)]];for(let _0x1b9044=0x2*-0xf39+-0x2*-0x12ac+-0x6e5;_0x36e4e9[_0x2edc82(0x7b,0x15a,0x157,0xd6)](_0x1b9044,0x1ede+-0x916*0x1+0xc7*-0x1c);_0x1b9044++){_0x139f96['Character\x20'+_0x1b9044+'\x20Prompt']&&(_0x908bd7=_0x36e4e9[_0x2edc82(0x8a,0x10,-0xa9,-0xf)](_0x908bd7+',\x20',_0x139f96[_0x2dc001(0x1e1,0x1fb,0x27c,0x311)+_0x1b9044+_0x2edc82(0x83,0x10b,0xee,0x9b)]));}}else{if(_0x36e4e9[_0x2dc001(0x240,0x29d,0x24d,0x271)](_0x36e4e9['eYiQR'],_0x36e4e9[_0x2edc82(0x20,0x114,0x11f,0xba)]))_0x36e4e9['TyebA'](addLog,_0x36e4e9[_0x2dc001(0x2d8,0x302,0x332,0x32f)]),_0x60031b=_0x453c12;else return _0x1a19d8[_0x2edc82(-0xbb,0x36,-0xd3,-0x47)]()[_0x2dc001(0x333,0x311,0x32c,0x29e)](EUBRrM['mgqRu'])[_0x2edc82(-0xbc,-0x37,0x9,-0x47)]()[_0x2edc82(-0x70,-0x22,0x7c,0x8)+'r'](_0x579e58)[_0x2dc001(0x2bc,0x37a,0x32c,0x2d0)](EUBRrM[_0x2edc82(0x2d,0x78,0x7d,0x15)]);}function _0x2edc82(_0x2e8b11,_0x1478d8,_0x5179d8,_0x28845c){return _0x4f89(_0x28845c- -0x215,_0x1478d8);}let {modifiedPrompt:_0x179055,insertions:_0x13f9eb}=await _0x36e4e9[_0x2dc001(0x2d1,0x318,0x2d7,0x28d)](prompt_replace,_0x60031b,_0x908bd7);if(_0x53fa15){if(_0x36e4e9['VBXqA']('vjQTe',_0x36e4e9[_0x2dc001(0x239,0x1e7,0x232,0x1eb)]))_0xa7a376[_0x2edc82(-0x3c,-0x14,0x91,0x1f)+_0x288576+_0x2edc82(0xd7,0xb1,0x108,0x9b)]&&(_0xf83eea=_0x36e4e9[_0x2dc001(0x249,0x23f,0x24e,0x200)](_0x381291,',\x20')+_0x36e4e9[_0x2edc82(0x3,-0x88,-0x67,-0x44)](_0x1f8fc6,_0x45d8dc[_0x2dc001(0x2e2,0x2f7,0x27c,0x1fb)+_0x417072+'\x20Prompt']));else for(let _0x20822b=-0x24f4+0x1c07+0x8ee;_0x20822b<=-0x6f*0x27+-0x3b2+0x149f;_0x20822b++){_0x139f96['Character\x20'+_0x20822b+_0x2dc001(0x34b,0x323,0x2f8,0x321)]&&(_0x179055=_0x36e4e9[_0x2dc001(0x330,0x24a,0x2cd,0x346)](_0x36e4e9[_0x2dc001(0x280,0x2fa,0x2cd,0x2b0)](_0x179055,',\x20'),_0x36e4e9[_0x2edc82(0x8c,-0x47,0x32,0x2)](prompt_replace_for_character,_0x139f96[_0x2edc82(0x7d,0x9,0x30,0x1f)+_0x20822b+_0x2edc82(0x78,0x40,0xcc,0x9b)])));}}let _0x3d9a3c=await _0x36e4e9[_0x2edc82(0x131,0x134,0x15c,0xdc)](zhengmian,extension_settings[extensionName]['yushe'][extension_settings[extensionName]['yusheid_sd']]['fixedPromp'+'t'],_0x179055,extension_settings[extensionName]['yushe'][extension_settings[extensionName][_0x2edc82(0x2f,-0x1c,0xb,0x3a)]]['fixedPromp'+_0x2edc82(-0x40,-0x59,-0x5e,-0x3)],extension_settings[extensionName][_0x2dc001(0x272,0x283,0x2d0,0x2c8)],_0x13f9eb),_0xc2def=await _0x36e4e9[_0x2dc001(0x2ea,0x349,0x2d7,0x246)](fumian,extension_settings[extensionName][_0x2edc82(0xa1,0x5b,0xa6,0x49)][extension_settings[extensionName][_0x2dc001(0x30f,0x220,0x297,0x2ea)]][_0x2edc82(0x7b,0xa1,0x57,0x71)+'ompt'],extension_settings[extensionName][_0x2dc001(0x2d6,0x312,0x291,0x2da)]);addLog(_0x2edc82(0x5e,0x1d,-0x31,-0xa)+_0xc2def),extension_settings['sd'][_0x36e4e9[_0x2edc82(0x33,-0x3d,0x91,-0x7)]]=_0x36df2f,await saveSettingsDebounced();try{if(_0x36e4e9['POrUc'](_0x5648cb[_0x2edc82(0x126,0x51,0xeb,0xe0)],_0x2edc82(0x143,0x12a,0xfb,0xab))){const _0x2d8193={};_0x2d8193[_0x2dc001(0x358,0x31b,0x2fd,0x2e2)]=_0x5648cb[_0x2dc001(0x25c,0x29f,0x2c7,0x311)+_0x2edc82(0xb7,0x102,0xab,0x9c)]?_0x5648cb[_0x2dc001(0x290,0x22e,0x2c7,0x331)+_0x2dc001(0x34f,0x30c,0x2f9,0x309)]:'',_0x2d8193[_0x2dc001(0x312,0x2f8,0x27e,0x311)]=_0x36df2f;const _0x195a7d=await _0x36e4e9[_0x2dc001(0x2ec,0x375,0x2e8,0x2f5)](fetch,_0x36e4e9[_0x2edc82(0x27,-0x2,-0x74,0x1e)],{'method':_0x2dc001(0x2f4,0x31c,0x2b0,0x22d),'body':JSON[_0x2edc82(-0x8d,-0x19,-0x9f,-0x3d)](_0x2d8193),'headers':getRequestHeaders(window[_0x2dc001(0x319,0x2ef,0x313,0x281)])});if(!_0x195a7d['ok']){_0x36e4e9[_0x2edc82(-0x3a,0x35,0x9,-0x22)](addLog,_0x2edc82(0x19,0xa2,0x68,0x38)+_0x195a7d[_0x2dc001(0x29a,0x32c,0x307,0x2cd)]+'\x20'+_0x195a7d[_0x2edc82(0x63,0x35,0x59,0xac)]);throw new Error(_0x2edc82(-0x4c,-0x22,0xc4,0x38)+_0x195a7d[_0x2dc001(0x340,0x38b,0x307,0x29f)]+'\x20'+_0x195a7d[_0x2dc001(0x366,0x307,0x309,0x393)]);}let _0x215a00=await _0x195a7d[_0x2dc001(0x226,0x307,0x282,0x263)]();console[_0x2dc001(0x32e,0x230,0x29d,0x25b)](_0x36e4e9['TkZRZ'],_0x215a00),console[_0x2edc82(0x75,-0x57,0x4a,0x40)](_0x36e4e9[_0x2edc82(0x30,0xb9,-0x4,0x55)],_0x5648cb[_0x2edc82(0xab,0x113,0xa5,0x93)+_0x2dc001(0x2ea,0x36b,0x2ec,0x374)]);if(_0x36e4e9[_0x2dc001(0x26f,0x240,0x21b,0x277)](_0x215a00,_0x5648cb[_0x2edc82(0xcc,0x1b,0x64,0x93)+_0x2edc82(0x118,0x122,0xee,0x8f)])){if(_0x36e4e9[_0x2dc001(0x209,0x2f3,0x262,0x2f0)](_0x36e4e9[_0x2dc001(0x337,0x32d,0x2f6,0x37f)],_0x36e4e9['szvyI']))_0x33116e[_0x2dc001(0x32c,0x354,0x2d1,0x25d)+_0x2edc82(0x62,0x111,0xd0,0xad)](_0x50a557[_0x2edc82(0xbd,0xec,0x29,0xc4)+_0x2dc001(0x312,0x2b9,0x33a,0x358)+'ST'],_0x4ce52f),_0x4efb5d[_0x2edc82(0x8f,0x17,0x3f,0x7f)](_0x57ee0c=>{function _0x145e80(_0x54faad,_0x4cb16d,_0x23e9fc,_0x26adeb){return _0x2edc82(_0x54faad-0x129,_0x26adeb,_0x23e9fc-0x107,_0x54faad- -0xde);}function _0x43c1d9(_0x6dc6ce,_0x40fdcc,_0x39136b,_0x2efd56){return _0x2edc82(_0x6dc6ce-0x8c,_0x40fdcc,_0x39136b-0x1e7,_0x2efd56-0x1b6);}_0x570839[_0x145e80(-0x6a,0x19,-0x80,-0xe9)+_0x145e80(-0x31,-0x5d,0x1c,0x3e)](_0x57ee0c,_0x3693aa);}),_0x3be720['initialize'+_0x2edc82(0x19,0x93,0x15,0x17)]=![],_0x36e4e9[_0x2edc82(0x6e,0x8b,0xe6,0x59)](_0x16abb9,_0x2edc82(0x89,0x6b,0x141,0xa7)+_0x2dc001(0x1fb,0x249,0x26b,0x240));else{addLog(_0x2edc82(0x128,0x125,0x11f,0xdb)+_0x5648cb[_0x2edc82(0x30,0xc4,0xb5,0x93)+_0x2dc001(0x342,0x2d3,0x2ec,0x28d)]+_0x2dc001(0x38c,0x323,0x2fe,0x2a2)),toastr[_0x2edc82(0x18,0x107,-0x2,0x98)](_0x2edc82(0xdc,0xab,0x11f,0xcd)+_0x5648cb[_0x2edc82(0xae,0x124,0x61,0x93)+_0x2edc82(0x25,0x3b,0xda,0x8f)]);const _0x2c5973={};_0x2c5973[_0x2dc001(0x353,0x2ea,0x2fd,0x2c9)]=_0x5648cb[_0x2edc82(0x6e,-0x2c,0x11,0x6a)+_0x2dc001(0x2bc,0x338,0x2f9,0x263)]?_0x5648cb[_0x2dc001(0x244,0x34d,0x2c7,0x293)+'sd_auth']:'',_0x2c5973[_0x2dc001(0x243,0x2a5,0x27e,0x26e)]=_0x36df2f,_0x2c5973[_0x2edc82(0x109,0x116,0x12,0xa3)]=_0x5648cb[_0x2edc82(0x1,0xa5,0x6e,0x93)+_0x2dc001(0x302,0x320,0x2ec,0x385)];const _0x517cdc=await _0x36e4e9[_0x2edc82(-0x74,0x38,-0xaf,-0x43)](fetch,_0x36e4e9['ypfeV'],{'method':_0x36e4e9[_0x2edc82(0x36,-0x36,0x80,-0xd)],'body':JSON['stringify'](_0x2c5973),'headers':getRequestHeaders(window[_0x2edc82(0x11a,0xbb,0x4c,0xb6)])});if(!_0x517cdc['ok']){addLog(_0x2edc82(0xc3,-0x1d,0x84,0x6f)+_0x517cdc[_0x2edc82(0x11c,0x15,0xe3,0xaa)]+'\x20'+_0x517cdc['statusText']);throw new Error(_0x2edc82(0xfd,0xdd,0x27,0x6f)+_0x517cdc[_0x2edc82(0x79,0x131,0xe1,0xaa)]+'\x20'+_0x517cdc[_0x2edc82(0xbd,0xaf,0x62,0xac)]);}toastr[_0x2edc82(0xab,0xc5,0x69,0x98)](_0x2dc001(0x2c4,0x2c3,0x2c8,0x23e)+_0x5648cb[_0x2dc001(0x2bb,0x28c,0x2f0,0x2a3)+_0x2dc001(0x345,0x28c,0x2ec,0x35b)]+'成功');}}}else{let _0x1d09d=await _0x36e4e9[_0x2edc82(-0x3,-0x97,0x53,-0x39)](getSDMode,_0x36df2f);_0x36e4e9[_0x2edc82(-0x26,-0x75,-0xc0,-0x2a)](_0x1d09d,_0x5648cb[_0x2edc82(0x1b,0x30,0x2b,0x93)+'8_model'])&&(_0x36e4e9[_0x2dc001(0x3ab,0x2e3,0x346,0x35a)](addLog,_0x2dc001(0x322,0x319,0x2d4,0x25d)+_0x5648cb[_0x2dc001(0x367,0x311,0x2f0,0x355)+_0x2dc001(0x34e,0x2fc,0x2ec,0x2a0)]+_0x2edc82(0xe,0xb8,0xcf,0xa1)),await _0x36e4e9[_0x2edc82(0x7c,0xb7,0x27,0x8b)](setSDMode,_0x36df2f,_0x5648cb[_0x2dc001(0x2cb,0x2dd,0x2f0,0x2a8)+'8_model']));}}catch(_0x234a8e){_0x36e4e9[_0x2edc82(0xb5,0x1a,0x100,0x6e)](addLog,_0x2edc82(-0x10,0x6a,0x2f,-0x29)+':\x20'+_0x234a8e[_0x2edc82(0x7b,0x1f,0xe4,0x90)]+(_0x2edc82(0xda,0x15b,0x42,0xcb)+_0x2dc001(0x38f,0x2b5,0x312,0x2b3)+_0x2edc82(0x23,-0x42,0xb5,0x23)));throw new Error(_0x2edc82(0x3d,-0xbb,-0x81,-0x29)+_0x2dc001(0x2c6,0x35f,0x340,0x33a)+'i是否正常启动，并检'+_0x2edc82(0x31,-0x20,0x98,0x23));}let _0x42baba=-(0x548+-0xec7+0x10*0x98);const _0x515b25=_0x5648cb[_0x2dc001(0x279,0x326,0x2a0,0x285)];if(_0x515b25!==''&&_0x36e4e9['VBXqA'](_0x515b25,null)&&!_0x36e4e9[_0x2dc001(0x236,0x271,0x2b8,0x221)](isNaN,_0x36e4e9['hHaUA'](Number,_0x515b25))&&_0x36e4e9[_0x2edc82(0xb8,0x7d,-0x7,0x4d)](_0x36e4e9[_0x2dc001(0x2da,0x310,0x301,0x332)](Number,_0x515b25),0x6e9*0x5+0xa*-0xd8+-0xbf*0x23)){if(_0x36e4e9['mZKMv'](_0x36e4e9[_0x2dc001(0x37b,0x3ba,0x345,0x36d)],_0x36e4e9[_0x2dc001(0x229,0x29a,0x281,0x215)])){const _0x41db5c=_0x38fda3?function(){function _0x2cc69e(_0x3ce4b6,_0x593ad9,_0x3fd06f,_0x29ca55){return _0x2dc001(_0x3ce4b6-0x16,_0x593ad9-0x149,_0x29ca55- -0x6b,_0x3fd06f);}if(_0xec27eb){const _0x4c5082=_0x34db42[_0x2cc69e(0x33a,0x2bd,0x268,0x2aa)](_0x2c5adf,arguments);return _0xe98257=null,_0x4c5082;}}:function(){};return _0xf0ae6=![],_0x41db5c;}else _0x42baba=_0x36e4e9[_0x2dc001(0x214,0x1b0,0x23e,0x29a)](Number,_0x515b25);}let _0x16943a={'prompt':_0x3d9a3c,'negative_prompt':_0xc2def,'sampler_name':_0x5648cb[_0x2edc82(0x99,-0x6,0x20,0x93)+_0x2edc82(-0x66,-0x34,0xbe,0x29)+_0x2dc001(0x305,0x361,0x337,0x33c)],'scheduler':_0x5648cb[_0x2edc82(0xad,0xd,0x11d,0x93)+'8_schedule'+'r'],'steps':_0x5648cb[_0x2edc82(0x24,0x47,-0xd,0x9)],'cfg_scale':_0x5648cb[_0x2dc001(0x251,0x256,0x252,0x29b)],'width':_0x44ee7b?_0x44ee7b:_0x5648cb[_0x2edc82(0x6a,0x15,0x60,-0x20)],'height':_0x19c493?_0x19c493:_0x5648cb[_0x2edc82(0x1f,0x4e,0xc9,0x91)],'restore_faces':_0x36e4e9['EEkeY'](_0x5648cb[_0x2dc001(0x2e9,0x331,0x2e2,0x303)+'es'],_0x2dc001(0x253,0x303,0x2bf,0x2d5)),'enable_hr':_0x36e4e9['hGCoT'](_0x5648cb[_0x2edc82(0x125,0xeb,0x65,0xd4)+'fix'],'true'),'hr_upscaler':_0x5648cb[_0x2edc82(0x27,0x7e,0xc2,0x93)+'8_upscaler'],'hr_scale':_0x5648cb['sd_cupscal'+_0x2edc82(0x2d,-0x14,0xdb,0x65)],'hr_additional_modules':[],'denoising_strength':_0x5648cb[_0x2edc82(0x34,0x80,-0x41,0x35)+_0x2edc82(0x28,0x7c,-0x78,-0x1)+'th'],'hr_second_pass_steps':_0x5648cb['sd_chires_'+_0x2edc82(0x11e,0xbe,0x8e,0xc8)],'seed':_0x42baba,'override_settings':{'CLIP_stop_at_last_layers':_0x36e4e9[_0x2dc001(0x198,0x199,0x22c,0x1cd)](Number,_0x5648cb[_0x2edc82(0x40,0x9,0x10,0x68)+_0x2dc001(0x301,0x30b,0x2d3,0x2c0)]),'sd_vae':_0x5648cb[_0x2edc82(0x6a,0xff,0x10c,0x93)+_0x2dc001(0x22b,0x25e,0x21f,0x1f7)]},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};addLog('restore_fa'+_0x2dc001(0x1e9,0x203,0x23c,0x21f)+_0x16943a['restore_fa'+_0x2dc001(0x293,0x303,0x29b,0x28e)]),_0x36e4e9[_0x2dc001(0x1f7,0x25e,0x235,0x223)](addLog,_0x2dc001(0x377,0x284,0x2e9,0x332)+_0x2dc001(0x345,0x35d,0x303,0x35d)+_0x16943a[_0x2dc001(0x387,0x2fb,0x319,0x32e)]);_0x5648cb[_0x2edc82(-0xbf,-0x8a,-0x8b,-0x2f)+_0x2edc82(0x39,0x1b,0x2b,0x54)]==_0x2dc001(0x268,0x229,0x2bf,0x231)&&(_0x36e4e9[_0x2dc001(0x2fc,0x30c,0x2cb,0x26a)](addLog,_0x36e4e9[_0x2edc82(0x38,0x54,-0x2f,-0x3f)]),_0x16943a=_0x36e4e9[_0x2edc82(-0x62,0x5,-0xcf,-0x43)](deepMerge,_0x16943a,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x36e4e9[_0x2dc001(0x259,0x298,0x25d,0x2ee)]}]}}}));const _0xd61118=_0x2dc001(0x322,0x38a,0x334,0x2b0)+_0x2dc001(0x27e,0x2a4,0x255,0x2e1)+_0x2dc001(0x2a1,0x2f6,0x31b,0x35d)+_0x2dc001(0x2fe,0x237,0x27f,0x29c)+_0x3d9a3c+(_0x2dc001(0x2df,0x240,0x26a,0x1d9)+_0x2dc001(0x2f5,0x2ec,0x31c,0x398)+'Prompt):**'+'\x20')+_0xc2def+(_0x2dc001(0x318,0x351,0x324,0x3a5)+_0x2edc82(-0x5,0x57,-0x75,0x18)+_0x2edc82(0x68,0x54,0x91,0x6d))+_0x16943a['sampler_na'+'me']+(_0x2edc82(0xb3,0xbe,0xb0,0xaf)+_0x2dc001(0x32e,0x3b7,0x344,0x2fc))+_0x16943a['steps']+('\x0a-\x20**CFG\x20S'+_0x2edc82(0x7f,0x150,0x54,0xc5))+_0x16943a[_0x2edc82(0x138,0x9b,0xb6,0xd1)]+(_0x2edc82(0x93,-0x19,0x4b,0x81)+_0x2edc82(0xee,0x8d,0x9b,0xce))+_0x16943a[_0x2edc82(0xfa,0x148,0xbf,0xd0)]+'x'+_0x16943a['height']+(_0x2edc82(0xe7,0xcf,0x139,0xc2)+_0x2dc001(0x2b7,0x242,0x22b,0x285))+(_0x36e4e9[_0x2dc001(0x26d,0x1b2,0x21c,0x199)](_0x16943a['seed'],-(-0xe2c+0x14b2+-0x685))?_0x36e4e9[_0x2dc001(0x2bb,0x2d5,0x2e6,0x2c0)]:_0x16943a[_0x2edc82(0x26,-0x5d,-0x7d,-0x34)])+(_0x2dc001(0x23c,0x2b4,0x2c4,0x2a2)+_0x2edc82(0x0,0x48,0x22,0x58))+_0x5648cb[_0x2dc001(0x28b,0x321,0x2f0,0x27e)+'8_model']+(_0x2dc001(0x2cf,0x232,0x269,0x291)+'*\x20')+_0x16943a[_0x2dc001(0x332,0x2cd,0x29a,0x334)+_0x2dc001(0x276,0x231,0x278,0x29b)]['sd_vae']+(_0x2edc82(-0x45,0xb6,0x82,0x36)+_0x2edc82(0x71,0x9f,-0x43,0x4f))+_0x16943a['override_s'+'ettings']['CLIP_stop_'+_0x2edc82(0xa3,0x54,-0x3b,0xa)+_0x2dc001(0x228,0x296,0x244,0x2b6)]+(_0x2dc001(0x284,0x364,0x302,0x26f)+_0x2dc001(0x31a,0x2e1,0x31e,0x392)+'):**\x20')+_0x16943a[_0x2dc001(0x386,0x3ad,0x319,0x36a)]+(_0x2edc82(0x71,0x27,0xc1,0x2a)+_0x2dc001(0x21b,0x27c,0x240,0x2d8)+'actor):**\x20')+_0x16943a[_0x2dc001(0x1e6,0x1fe,0x26d,0x2cd)]+(_0x2dc001(0x309,0x265,0x28a,0x211)+_0x2edc82(0x87,0x2f,-0x39,-0x6)+'\x20Strength)'+_0x2edc82(-0x1e,0x5b,-0xc,0x6c))+_0x16943a[_0x2edc82(0x25,-0x40,-0x67,0x2e)+'strength']+('\x0a-\x20**脸部修复\x20'+_0x2edc82(0xb0,0x43,0xf8,0x78)+_0x2edc82(-0xbc,-0x4,0x3f,-0x26))+_0x16943a[_0x2edc82(0x4a,-0x46,0x8,-0x9)+_0x2edc82(0xa6,0xa1,0xba,0x3e)]+(_0x2edc82(0xb0,0xd4,0x125,0xae)+'iler:**\x20')+(_0x5648cb[_0x2edc82(-0xa,-0xba,-0xc9,-0x2f)+_0x2edc82(0xd,-0x3e,0xda,0x54)]==_0x2edc82(0x3a,0xf,0xf1,0x62))+_0x2dc001(0x30f,0x37a,0x310,0x380);_0x36e4e9['TyebA'](addLog,_0xd61118),addLog(_0x2dc001(0x2c2,0x1c3,0x24b,0x26a)+'数为'+JSON[_0x2edc82(0x50,-0x18,-0x9c,-0x3d)](_0x16943a)),console[_0x2edc82(-0x3c,-0x29,0x1f,0x40)](_0x36e4e9[_0x2edc82(0x30,0x7f,-0x59,0x30)],_0x16943a),await waitForLock(),_0x36e4e9[_0x2dc001(0x2a6,0x321,0x2a5,0x2ed)](acquireLock);try{if(_0x5648cb['client']===_0x36e4e9[_0x2dc001(0x240,0x353,0x2c6,0x311)]){_0x16943a['url']=_0x36df2f,console[_0x2edc82(-0x1,0x54,-0x56,0x40)](_0x2edc82(0x4b,-0x3a,-0x87,-0x27)+'u8_sd_auth'+_0x2edc82(0x4e,0x47,0x166,0xd3),_0x5648cb[_0x2dc001(0x252,0x231,0x2c7,0x2ba)+_0x2edc82(0x7,0x6,0xe2,0x9c)]),_0x16943a[_0x2edc82(0xa8,0x50,0x30,0xa0)]=_0x5648cb[_0x2dc001(0x2b4,0x327,0x2c7,0x252)+_0x2edc82(0x8,0x5a,0x121,0x9c)]?_0x5648cb[_0x2edc82(0xfa,0x15,0xc,0x6a)+_0x2dc001(0x280,0x281,0x2f9,0x306)]:'';const _0x2112a3=await _0x36e4e9[_0x2dc001(0x297,0x273,0x2d7,0x2dd)](fetch,_0x36e4e9['yxuwY'],{'method':_0x36e4e9[_0x2dc001(0x290,0x220,0x250,0x1e4)],'headers':_0x36e4e9[_0x2dc001(0x281,0x318,0x2cb,0x35b)](getRequestHeaders,window['token']),'body':JSON['stringify'](_0x16943a)});if(!_0x2112a3['ok']){if(_0x36e4e9[_0x2dc001(0x204,0x219,0x21c,0x2a4)](_0x36e4e9['DFVYS'],_0x36e4e9[_0x2edc82(0x10d,0x133,0xaf,0xec)]))_0x4d6492['initialize'+_0x2edc82(-0x5c,-0x48,0xa3,0x17)]=!![],_0x36e4e9[_0x2edc82(0x73,-0x44,0x32,0x48)](_0x219550);else{const _0x48d982=await _0x2112a3[_0x2dc001(0x2de,0x2d7,0x282,0x2e8)]();addLog('酒馆\x20返回错误。状态'+'码:\x20'+_0x2112a3[_0x2edc82(0x54,0x110,0x74,0xaa)]+_0x2edc82(0x118,0x160,0x45,0xdf)+_0x48d982),console[_0x2dc001(0x2a8,0x235,0x29d,0x330)](_0x36e4e9['KIrqD'],_0x48d982);throw new Error('请求失败,状态码:\x20'+_0x2112a3['status']+_0x2edc82(-0x43,-0x11,0x6b,0x39)+_0x48d982);}}const _0x211819=await _0x2112a3['text']();let _0x406bba='';try{const _0xe1f2a6=JSON[_0x2edc82(-0x68,0x41,0x48,-0x18)](_0x211819);_0x406bba=_0xe1f2a6['images'][-0xb68+0xeb7+-0x34f];}catch(_0x48543f){if(_0x36e4e9['kAvIi']!==_0x2dc001(0x2d3,0x37b,0x30e,0x376)){_0x36e4e9[_0x2dc001(0x28c,0x245,0x219,0x224)](_0x5e6219,_0x3d4697);return;}else _0x36e4e9[_0x2edc82(0xc,0xba,0x52,0x8e)](addLog,_0x36e4e9[_0x2edc82(0xbd,0x141,0x13f,0xe5)]),_0x406bba=_0x211819;}const _0x36b859=_0x36e4e9[_0x2dc001(0x266,0x360,0x2cd,0x2d3)](_0x36e4e9[_0x2dc001(0x2cd,0x2b8,0x261,0x25d)],_0x406bba);return _0x36e4e9[_0x2edc82(-0x47,-0xc5,-0x4b,-0x33)](addLog,'图像已成功获取并格式'+_0x2edc82(-0x5c,0x85,-0x58,0x1d)+'L。'),{'image':_0x36b859,'change':_0x36e4e9[_0x2dc001(0x333,0x303,0x2f2,0x36f)](_0x1c3d4c,'')};}else{if(_0x36e4e9[_0x2edc82(-0x2,-0x42,-0x3b,0x56)]!==_0x36e4e9[_0x2edc82(-0x2,0x8f,0x3b,0x56)]){_0x36e4e9[_0x2dc001(0x30a,0x27e,0x2a5,0x2f5)](_0x37a1b2),_0x36e4e9[_0x2dc001(0x21b,0x29d,0x2b4,0x264)](_0x4cf07d,_0x2edc82(-0x6c,-0x1f,0x52,0x6)+_0x3fc77e['message']),_0x4ba598['error'](_0x36e4e9[_0x2dc001(0x1a7,0x206,0x22d,0x1b0)],_0x3946e6);throw _0x1951db;}else{const _0x30b2bd=new URL(_0x36df2f+_0x36e4e9[_0x2dc001(0x233,0x2a7,0x223,0x1e9)]),_0x4c31f9=await fetch(_0x30b2bd,{'method':_0x36e4e9[_0x2dc001(0x205,0x1cd,0x250,0x2b1)],'body':JSON[_0x2dc001(0x1cb,0x25a,0x220,0x1cc)](_0x16943a),'headers':{'Content-Type':_0x36e4e9['vsJdi'],'Authorization':_0x36e4e9['OQgHC'](getsdAuth)}});releaseLock();if(!_0x4c31f9['ok']){const _0xfe9413=await _0x4c31f9[_0x2dc001(0x260,0x292,0x282,0x2fc)]();addLog('SD\x20API\x20返回错'+_0x2edc82(0x14b,0x60,0xcd,0xc3)+_0x4c31f9[_0x2dc001(0x389,0x367,0x307,0x2c0)]+_0x2dc001(0x3ce,0x2ae,0x33c,0x36b)+_0xfe9413),console[_0x2dc001(0x303,0x321,0x29d,0x32f)](_0x36e4e9[_0x2dc001(0x2c7,0x2c0,0x336,0x335)],_0xfe9413);throw new Error(_0x2dc001(0x223,0x28b,0x221,0x237)+_0x4c31f9[_0x2edc82(0x22,0x99,0xed,0xaa)]+_0x2edc82(0xb4,0x8d,0x93,0x39)+_0xfe9413);}const _0x547fc3=await _0x4c31f9[_0x2dc001(0x235,0x28b,0x299,0x20d)]();if(!_0x547fc3['images']||_0x36e4e9['ukrdg'](_0x547fc3['images'][_0x2dc001(0x32b,0x362,0x316,0x372)],0x1943+0x137c+-0x91*0x4f)){if(_0x36e4e9[_0x2dc001(0x29c,0x30b,0x283,0x2f6)](_0x36e4e9['UgOCP'],_0x36e4e9[_0x2dc001(0x220,0x2a3,0x228,0x2b1)]))_0x76b1d6[_0x2edc82(-0x6,0xc2,0xd2,0x74)+_0x2dc001(0x2ef,0x323,0x30a,0x2df)](_0x31eb15,_0x23667c);else throw new Error(_0x36e4e9[_0x2dc001(0x32c,0x346,0x32f,0x2ce)]);}const _0x39e4a4=_0x547fc3[_0x2dc001(0x20c,0x2b4,0x264,0x2b0)][0x11*-0x29+0x1379*-0x1+0x1632],_0x2f2f54=_0x36e4e9[_0x2edc82(-0x8,0x2c,0x57,-0x25)](_0x36e4e9['kNBRX'],_0x39e4a4);return _0x36e4e9[_0x2edc82(0xb3,-0x12,0x78,0x5b)](addLog,_0x2dc001(0x29b,0x280,0x270,0x296)+'化为\x20data\x20UR'+'L。'),{'image':_0x2f2f54,'change':_0x36e4e9[_0x2edc82(0x3e,0x8c,0x1b,0x95)](_0x361e64,'')};}}}catch(_0x390dbb){if(_0x36e4e9[_0x2edc82(0xa1,0xb9,0xb0,0x7e)](_0x36e4e9[_0x2edc82(-0x2e,0x29,-0x5f,0x3)],_0x36e4e9[_0x2edc82(0x5d,0x1d,0x28,0x3)])){_0x36e4e9['UPOYn'](releaseLock),_0x36e4e9[_0x2edc82(0x4f,0x3d,-0x10,0x6e)](addLog,'sd请求生图错误:\x20'+_0x390dbb[_0x2edc82(0xe9,0x7,0x8e,0x90)]),console[_0x2dc001(0x34b,0x271,0x2fa,0x303)](_0x36e4e9[_0x2dc001(0x27a,0x221,0x22d,0x1d1)],_0x390dbb);throw _0x390dbb;}else _0x36e4e9['kkOhl'](_0x410c88,_0x36e4e9[_0x2dc001(0x1e0,0x1c8,0x21e,0x1f6)]),_0x3e06a8=_0x36e4e9['oYzsp'](_0x37be8b,_0x14c4df,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x36e4e9[_0x2edc82(-0x43,0x24,0x6a,0x0)]}]}}});}}async function sdGenerate(_0x5d8575){function _0x4f8b3f(_0x2f82f5,_0x95b06a,_0x903a4b,_0x2c6d15){return _0x4f89(_0x2f82f5-0x167,_0x95b06a);}const _0x2bcea4={'fmezG':function(_0x246e4a,_0x4a2e74){return _0x246e4a(_0x4a2e74);},'hOxKi':_0x5c1316(0x505,0x481,0x4b1,0x4c5)+_0x5c1316(0x48b,0x416,0x39e,0x385),'GGlCs':function(_0x216bfe,_0x35998e){return _0x216bfe(_0x35998e);},'PPNnp':_0x4f8b3f(0x467,0x3f2,0x4e5,0x403)+_0x5c1316(0x42f,0x3f5,0x436,0x41d),'vhNoM':function(_0x312307,_0x58cc59){return _0x312307<=_0x58cc59;},'NasGH':function(_0x3fca0b,_0x5d71e1){return _0x3fca0b+_0x5d71e1;},'neQBs':function(_0x34cdbb,_0x129c80){return _0x34cdbb+_0x129c80;},'ytPAK':_0x5c1316(0x554,0x4c8,0x530,0x4ff),'ERVsq':function(_0x2e4c88,_0x512cf5){return _0x2e4c88!=_0x512cf5;},'bODSC':function(_0x1ca474,_0x33990a){return _0x1ca474!==_0x33990a;},'zmxCz':_0x5c1316(0x39c,0x3c6,0x36a,0x361),'kuGwg':_0x4f8b3f(0x3ab,0x350,0x3d9,0x3d6),'NGQHx':function(_0xda080e,_0x438589,_0xf98878,_0x3acdfa){return _0xda080e(_0x438589,_0xf98878,_0x3acdfa);},'LxlRq':function(_0x12ab7a,_0x1684f2){return _0x12ab7a(_0x1684f2);},'YfoEq':'Error\x20gene'+'rating\x20SD\x20'+'image:','FKYea':function(_0x4a2378,_0x1213db){return _0x4a2378(_0x1213db);}};function _0x5c1316(_0x5c65ad,_0x39a17d,_0x3b6a50,_0xdb64f1){return _0x4f89(_0x39a17d-0x1d5,_0x5c65ad);}const {id:_0x528d56,prompt:_0x53aa3d,width:_0x4dda41,height:_0x5cc78c,change:_0x48abc7}=_0x5d8575;addLog(_0x5c1316(0x3bc,0x425,0x45d,0x3e3)+'ID:\x20'+_0x528d56+(_0x4f8b3f(0x446,0x3de,0x426,0x4a2)+':\x20')+_0x53aa3d+(_0x48abc7?'\x20-\x20Change:'+'\x20'+_0x48abc7:''));if(_0x48abc7&&_0x48abc7['includes'](_0x2bcea4[_0x5c1316(0x48d,0x484,0x41c,0x504)])){_0x2bcea4['GGlCs'](bananaGenerate,_0x5d8575);return;}try{const {image:_0xb83763,change:_0x4819ec}=await generateSDImage({'prompt':_0x53aa3d,'width':_0x4dda41,'height':_0x5cc78c,'change':_0x48abc7});if(_0x2bcea4['ERVsq'](extension_settings[extensionName][_0x5c1316(0x40e,0x3a4,0x3de,0x3b7)],'0')){if(_0x2bcea4['bODSC'](_0x2bcea4[_0x5c1316(0x354,0x3a5,0x319,0x3a2)],_0x2bcea4[_0x5c1316(0x39a,0x3b3,0x42b,0x42f)])){const _0x5f02be={};_0x5f02be[_0x4f8b3f(0x3c7,0x387,0x3de,0x42e)]=_0x4819ec,await _0x2bcea4[_0x5c1316(0x3e8,0x411,0x422,0x397)](setItemImg,_0x53aa3d,_0xb83763,_0x5f02be),addLog('图像已存入数据库\x20f'+_0x4f8b3f(0x448,0x424,0x3fe,0x41e)+'\x20'+_0x53aa3d);}else{_0x2bcea4['fmezG'](_0x321a5d,_0x2bcea4[_0x4f8b3f(0x368,0x3bd,0x2db,0x321)]),_0x3f2d3c=_0x2bcea4[_0x5c1316(0x39a,0x3c7,0x3a3,0x3bc)](_0x3c7269,_0x3f30d4),_0x55ecc9=_0x38de6a[_0x2bcea4[_0x5c1316(0x3f1,0x44d,0x4e0,0x49b)]];for(let _0x2a8df5=0x5f5*-0x2+0x1*0x1578+-0x1*0x98d;_0x2bcea4['vhNoM'](_0x2a8df5,-0x1651+-0xda3*0x1+0x23f8);_0x2a8df5++){_0x21c6ed[_0x5c1316(0x3ed,0x409,0x400,0x373)+_0x2a8df5+_0x4f8b3f(0x417,0x380,0x4a3,0x38c)]&&(_0x464637=_0x2bcea4[_0x5c1316(0x4b4,0x463,0x477,0x483)](_0x2bcea4[_0x5c1316(0x3f2,0x3de,0x3d9,0x411)](_0x3b6cd6,',\x20'),_0x4b177a[_0x4f8b3f(0x39b,0x3fe,0x35e,0x41c)+_0x2a8df5+_0x4f8b3f(0x417,0x428,0x433,0x49b)]));}}}else addLog(_0x5c1316(0x44a,0x421,0x442,0x3a8)+'库');const _0x89a086={};_0x89a086['id']=_0x528d56,_0x89a086[_0x5c1316(0x431,0x3af,0x360,0x40d)]=!![],_0x89a086[_0x5c1316(0x430,0x40a,0x437,0x3c0)]=_0xb83763,_0x89a086[_0x4f8b3f(0x3f7,0x37b,0x368,0x3bc)]=_0x53aa3d,_0x89a086['change']=_0x4819ec,eventSource[_0x5c1316(0x3d5,0x3cf,0x3ca,0x414)](EventType[_0x5c1316(0x4fc,0x4ae,0x480,0x45d)+_0x5c1316(0x422,0x444,0x4ab,0x3d5)+_0x4f8b3f(0x34e,0x2e9,0x2b3,0x3a2)],_0x89a086),_0x2bcea4[_0x4f8b3f(0x433,0x44d,0x44b,0x3f1)](addLog,_0x5c1316(0x446,0x3d3,0x3c7,0x409)+'\x20(ID:\x20'+_0x528d56+')');}catch(_0x44c67b){if(_0x4f8b3f(0x460,0x44d,0x42b,0x462)!==_0x5c1316(0x46e,0x4ce,0x4c2,0x484))throw new _0x242a4d(_0x5c1316(0x47f,0x406,0x3d8,0x3cc)+_0x4f8b3f(0x369,0x3ad,0x2d2,0x3c2));else{const _0x929b29=_0x5c1316(0x500,0x467,0x40b,0x413)+_0x5c1316(0x444,0x46e,0x3e8,0x4ee)+_0x528d56+'):\x20'+_0x44c67b[_0x4f8b3f(0x40c,0x382,0x3a7,0x444)];addLog('错误:\x20'+_0x929b29),console['error'](_0x2bcea4[_0x4f8b3f(0x3a4,0x378,0x30b,0x3fc)],_0x44c67b);const _0x45592d={};_0x45592d['id']=_0x528d56,_0x45592d[_0x4f8b3f(0x341,0x3c4,0x3be,0x36c)]=![],_0x45592d[_0x5c1316(0x4d0,0x487,0x505,0x519)]=_0x44c67b[_0x5c1316(0x441,0x47a,0x4e8,0x4c4)],_0x45592d['prompt']=_0x53aa3d,eventSource[_0x5c1316(0x35a,0x3cf,0x3ed,0x368)](EventType[_0x4f8b3f(0x440,0x40e,0x49a,0x4bb)+'MAGE_RESPO'+_0x5c1316(0x3cd,0x3bc,0x3c2,0x44a)],_0x45592d),_0x2bcea4[_0x5c1316(0x40e,0x400,0x3d4,0x481)](addLog,'发送SD生图失败响应'+_0x5c1316(0x3af,0x3cc,0x41c,0x3d7)+_0x528d56+')');}}}const LEGACY_EVENT_NAMES=['generate-i'+_0xf7870c(0xa9,0x1d,0x6d,0x24)+'st',_0x4dcb7f(0x63a,0x635,0x5ca,0x5ae)+_0xf7870c(0xc4,0x43,0x59,0x6a)+'st'];function _0x4f9b(){const _0x1d0a57=['BgvZktOG','rLvUvhq','BMvrqNm','C2rdzMDty2fSzq','6lsF6z2I5lI6oIa','CMvZDg9Yzv9Myq','5zU+5y+c5PwW5OQL5zgkcI0GkIO','whrPquK','kerLBM9PC2LUzW','5Qch5yEg5QIH5BYpoIdKVB/NLkJOR7FMSyi','ktOG','Df9LBMq','zgf0ytPPBwfNzq','Aw5Nx3n0CMvUzW','txPIrLq','Bxfwt2e','vKj6ELe','txL1wKK','A05cuLG','BvPltxy','C2tOR7FMSylNLj/LM77PLjNOR686ia','Aw1Hz2vZ','y29UC3rYDwn0BW','C2rFy3n0zxbZ','yxrFBgfZDf9Syq','B3nPDgLVBG','cI0GkIPwquu6kG','cI0GkIROTj/PNAlMJ5dNPlOG','5BEY5ywZ6zET44cc','ywDevM4','AhjFC2nHBgu','BuXnALC','nJm1odyYnMDire5gwq','5zU+5yop5BEY5OIq5yQF6i635y+w5BM25Qc85BYp','B0TvEMy','BwDXuNu','rKTzzwe','u0rmAxn0zw5LCG','kfnHBxbSzxiPoG','zLDhANe','BwfNzv9Yzxf1zq','zxr0Aw5NCW','qvbj5zon5BQu5lIT5PYQ5OM+5yIW5zU+','5yYw5lI6igrHDgeGvvi','DNbLwuS','q2HHCMfJDgvYia','Aw1Hz2veyxrH','DxjS','ChqPoIOQia','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','zgn5Bu8','Dgv4Da','BxfYueu','tKDrshG','wwzVrxe','of9Zyw1WBgvYtG','cI0GkIRMLl7LPkFLGi3NJOCG','nZK3nJG2neD1Ewfkwa','5z2q5Qch55Qe5O+q56s66k+n5A2x56YM5lIY44cc','cI0GkIRPH43NU5JLUyxLUQyG','zgvUB2LZAw5NxW','B01rzvK','EeDYDuG','Aw5PDgLHBgL6zq','l2fWAs9Zzc9Zzq','C2v0DgLUz3nZlG','vunqx3nK','C2rFy2rLBM9PCW','cI0GkIPdBgLWia','57Yt5A2y6k6+572U5lI65lIn5A2y5ywL5PwW5O2U','6i635y+w5QIH5z6l5AsX6lsLoIa','lcdOR6BMG4u6ia','ExvZAgvPzf9Zza','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','ANnVBG','B3zLCNjPzgvFCW','y2vZ','sLnptIdOP6pMNPdLPlhOTkxVViW','Bg9N','y21VzgvSmJiYmG','l3bUzZTIyxnLnG','C2rFy3nLzwq','rxjYB3iGz2vUzq','vhnpwNa','EhzuDMu','og4UChq','Dfz0D2q','ExvZAgu','q05nuu0','y2HHBMDL','mtK5mdm5mKjUqNjvuW','rfvzzLi','vhLLyKe','u2TPCdOQkIa','zxH0zw5ZAw9UxW','s3Pfzey','rg1wwva','ue9tva','BgvY','EfDzz04','zKXLsLy','AeHHvue','B2rLBcK6kIOG','A2TpAgW','tufhrv9srvnqtW','z09tA0K','CMf0Aw5NigLTyq','loAOOEwEI+s4UG','z2vUzxjHDgvFAq','zuX1qxq','BxvMrwq','v3HyD1K','Dhj1zq','ufboBNa','DuftwKm','zv9Mywn0B3i','C2rvCMW','cI0GkIRMQkhLNOSGke0','C2rFy2nSAxbFCW','z0jIsvi','C3rFy2HHDhu4xW','6k6+572U5QIH5z6llI4U5lI6','oIOQia','kIOG','DhHtEw8','5yIh5O2I5QIH5z6l5AsX6lsLoIa','sM5KBNK','BMvNyxrPDMvqCG','6zQp5PY6kc0Xkq','qvfux3nK','CMvTB3zLtgLZDa','mJi2mJq2ufrKrvzq','A2LW','5Q2J5zYO5yIh5O2I5QIH5z6l5lI6','kfjLC3rVCMuGrG','tMfZr0G','t21yENq','ChjVBxb0','5BEY5yID5AEl5yYw44cc','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','u1jiwwi','zM9YrwfJAa','kcGOlISPkYKRkq','cI0GkIRLSlRLR7GGkfm','5BcD6k+v5l2C5lI65y6F5AEliejHCW','zty0ioAvSoAnRUwKHoEqHUoaGG','5BI4icHjrdOG','CMvZDg9YzuzHyW','Dc1TB2rLBa','qNzIseK','DhjPBq','rw9VDgq','wxv4zhK','sePYDeC','zw5HyMXLx2HYia','55sO5lQo55sF5OIq55QevgfNoIa','C2rku3m','of9TB2rLBa','BwvZC2fNzq','C2rFy2HLAwDODa','Aw1Hz2u6','C2rFy2nOyxr1xW','l3nKyxbPl3yXlW','z1jvyve','mJG1nJKXmNzWuKnLCq','5yIg6kEs6iMY5QIH5BYpoIdOP6pMNPdLUky','Aw5MBW','rKP4CKe','ExrqquS','ifbYB21WDa','C2rFyxv0Aa','zxjYB3i','t0jkyMS','AEEuN+AiKowBVUEjHY4UlUwUOUAiTW','yxv0Aa','lI4U','z2u6','Bw9KzwW','BMTqt1O','cI0GkIRPQ5JMUixKV67LPi0G','6AUy5RIf5l+U5Asnios4UG','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','5zon5BQu5yAf5A65oG','CNjTCxy','C3rHDhvZ','AML1z3vHBG','C3rHDhvZvgv4Da','zw5LCG','cI0GkIPbrgv0yq','cI0GkIRMRAxMLBaGkfm','tenxD2S','EgLbv1a','uLjVtLC','cI0TlqOGicaG','uKPyBe0','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','Dg9Rzw4','thHSuNe','yxbWBhK','BgvUz3rO','BwXxEwK','BfLHuvy','zw5HyMXLx2HY','6zsz6k+VoIa','5Q2J6z2I5O+q56s6icHqCM9T','ke5Lz2f0AxzLia','ndbovMDmDuS','keHPCMvZiezPEa','cI0GkIRNP43LRzaGkfm','6k+V44cc54Q25Ocb56cboIa','r0vorvjbvevFsq','y2fSztOQkIa','mteXmdyXnwzjExfytq','cI0GkIRPH4FMOlFMLRNMS5uG','C3rLChm','ywrLDgfPBgvYxW','ksaTifbYB21WDa','44cc6k+35Qoa5P+LC2r3zwj1','B3iGChjVBxb0oG','5Q2J5zYO6k6+572U5QIH5z6llI4U5lI6','AxPLktOQkIa','C2vHCMnO','D2LKDgG','y2zNx3nJywXL','qwLjA3u','Bg9Hza','C2rFy2HPCMvZxW','u0PjCe0','qxLAwKe','cI0TlqOJiYmG55sF','BMvYyxrL','s0LYCuq','yw1L','5Q2J5zYO6k6+572U5QIH5z6l5lI6','DvnACui','tufhrv9srvfvrq','E+s/RUwBVN0','44cc5zon5BQu5yAf5A65oIa','y2XPzw50','qMLeAeO','l2fWAs9Zzc9Nzq','77Ym6k+35Qoa5P+LC2r3zwj1','s2rlCvi','DMHYv1a','wxzyuLq','DgvWCYK6kIOG','AMH1su4','vK1tAgm','D0LWvM8','u2nLBMuGq29TCa','CND5tKu','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','Dg9tDhjPBMC','y2fJAgu','EM14q3O','CeTAzKS','Efj4yLC','uhnpq00','ue9Yvwm','seHPvxO','tefmrMe','of92ywu','C3rYAw5NAwz5','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','C3vJy2vZCW','u054y3m','te9ovu0','Cezrz0C','A3vhD2C','nurfrfbrDa','vgvgr04','C2vLza','uNLsBLG','zwvKktOQkIa','qvPMvNe','BfL1qMq','C2rFy2fKzxrHAq','tLnf','DMPrvgu','BwfNzs1Yzxf1zq','CLbvr3i','CMPlEwe','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','A0nZweG','Cgf5C3rFy2HHDa','ywnLCYK6kIOG','zvbWzue','tNHIzfO','r0DSq3m','rg1QvxC','y2vZioIeUoMdQos/RUwKJsdKUlO','C2rFy3DPzhrO','AvHiq24','icHjrdOG','kfvWC2nHBguGrG','BgjfC2e','zw1PDa','tKzmBw4','EwvYCW','CgfYC2u','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','DKP5ALe','mZiYmJyYofPJs29ACG','Ae94s2K','5yop5PwW5O2U44cc','C2r3zwj1AEEuN+wBVUwpGG','yxbWBgLJyxrPBW','vKjyCue','DNDcv0i'];_0x4f9b=function(){return _0x1d0a57;};return _0x4f9b();}function initializeSDListener(){const _0xa503c={'mLMjW':function(_0x449316,_0x1d7f05){return _0x449316+_0x1d7f05;},'RJXlM':function(_0x1a6f93,_0x5deff4){return _0x1a6f93(_0x5deff4);},'wIpVo':'MHzMd','eLuAt':_0x32e9eb(0x35f,0x3f3,0x3b2,0x377)};function _0x5c450b(_0x421462,_0x109469,_0x261509,_0x20e1ab){return _0xf7870c(_0x421462-0x160,_0x421462,_0x261509-0x117,_0x109469- -0xf5);}function _0x32e9eb(_0x2eba3e,_0x2334a9,_0x592fdf,_0x23b4c9){return _0xf7870c(_0x2eba3e-0x16,_0x2eba3e,_0x592fdf-0x92,_0x23b4c9-0x277);}eventSource['on'](EventType[_0x32e9eb(0x3e3,0x31c,0x397,0x38b)+'MAGE_REQUE'+'ST'],sdGenerate),LEGACY_EVENT_NAMES[_0x32e9eb(0x2c9,0x3a0,0x30c,0x346)](_0x3a2fe8=>{function _0x5b4a2e(_0xef5e42,_0x559f1a,_0x4105a8,_0x58ee27){return _0x5c450b(_0x559f1a,_0x4105a8-0xda,_0x4105a8-0xe7,_0x58ee27-0x12);}const _0x4308c0={'UQGBI':function(_0x381322,_0x29837c){function _0x1c475d(_0x4d4e6e,_0xd71740,_0x3037fd,_0x54f57a){return _0x4f89(_0x54f57a- -0x266,_0x4d4e6e);}return _0xa503c[_0x1c475d(-0x25,-0x40,0x48,-0x40)](_0x381322,_0x29837c);},'rKMFH':function(_0x14cae5,_0x52e6ae){function _0x4ba656(_0x32c8e2,_0x39c3ac,_0x47744c,_0x1b5da6){return _0x4f89(_0x39c3ac-0xdb,_0x47744c);}return _0xa503c[_0x4ba656(0x40c,0x3a4,0x392,0x377)](_0x14cae5,_0x52e6ae);}};function _0x46d19e(_0x129c00,_0x42ee5a,_0x520aab,_0x22f21c){return _0x32e9eb(_0x22f21c,_0x42ee5a-0xfc,_0x520aab-0xaa,_0x520aab-0x1e0);}_0xa503c[_0x5b4a2e(0xfc,0x1ab,0x11f,0xcb)]===_0xa503c[_0x46d19e(0x59d,0x4a1,0x506,0x470)]?_0x1b9b9e=_0x4308c0['UQGBI'](_0x3fade0,',\x20')+_0x4308c0['rKMFH'](_0xea45cf,_0x26094a[_0x5b4a2e(0x1f,0x24,0x54,-0x3f)+_0x520046+'\x20Prompt']):eventSource['on'](_0x3a2fe8,sdGenerate);}),_0xa503c[_0x32e9eb(0x3fa,0x33b,0x3a2,0x37b)](addLog,_0x32e9eb(0x318,0x2ea,0x399,0x36e)+_0x32e9eb(0x3c7,0x2dc,0x2f8,0x343));}function _0x4dcb7f(_0x24c46e,_0x4c7e5b,_0xdc3a47,_0x494670){return _0x4f89(_0x24c46e-0x3c7,_0xdc3a47);}export async function replaceWithSd(){function _0x511bec(_0x4c8c7a,_0x32915b,_0x47f0c2,_0x2405b1){return _0xf7870c(_0x4c8c7a-0x144,_0x47f0c2,_0x47f0c2-0x14f,_0x2405b1-0x5f);}function _0x1d7534(_0x1fbcae,_0x4bfa74,_0xdbfe89,_0x1a4963){return _0xf7870c(_0x1fbcae-0x3a,_0xdbfe89,_0xdbfe89-0x19d,_0x1fbcae-0x2b1);}const _0x4a7a61={'BvbHI':function(_0x215f4b,_0x590173){return _0x215f4b!==_0x590173;},'pFQgG':_0x1d7534(0x3bc,0x32d,0x3d7,0x3f5),'puykN':_0x511bec(0x1c6,0x16a,0x1c9,0x161),'oKUzf':function(_0x21fb05){return _0x21fb05();},'MCnKh':function(_0x284d52,_0xbd7244){return _0x284d52==_0xbd7244;},'pxYAX':function(_0x34a185,_0x18042d){return _0x34a185===_0x18042d;},'rrmqv':_0x1d7534(0x38b,0x325,0x378,0x3e0),'vJyjQ':_0x1d7534(0x34b,0x322,0x3ac,0x2c4),'lbEsa':function(_0x3114df,_0x4f9a31){return _0x3114df(_0x4f9a31);},'WxXwY':_0x511bec(0x185,0x151,0x1a4,0x156)+_0x1d7534(0x30f,0x2f7,0x28d,0x280)};_0x4a7a61['MCnKh'](extension_settings[extensionName]['mode'],'sd')?(!window['initialize'+_0x1d7534(0x318,0x2ee,0x36b,0x309)]&&(window[_0x511bec(0x168,0x126,0xee,0xe0)+_0x511bec(0x47,0x119,0x5d,0xc6)]=!![],_0x4a7a61['oKUzf'](initializeSDListener)),initializeImageProcessing()):_0x4a7a61['pxYAX'](_0x4a7a61[_0x1d7534(0x3aa,0x429,0x354,0x428)],_0x511bec(0xc8,0x184,0x136,0x139))?window[_0x1d7534(0x332,0x37e,0x2c2,0x387)+_0x511bec(0x13b,0x60,0xe4,0xc6)]&&('CNMQM'===_0x4a7a61[_0x511bec(0x118,0x10f,0x6c,0x99)]?(eventSource[_0x511bec(0x8a,0xfb,0x18c,0x123)+_0x1d7534(0x3ae,0x356,0x3ad,0x3b5)](EventType[_0x511bec(0x193,0x1c3,0x10f,0x173)+_0x1d7534(0x3de,0x43b,0x34d,0x42b)+'ST'],sdGenerate),LEGACY_EVENT_NAMES[_0x511bec(0x101,0x1c3,0x9b,0x12e)](_0x5e1a90=>{function _0x23bbd0(_0x3a679c,_0x15cab4,_0x1f3197,_0x442468){return _0x511bec(_0x3a679c-0x92,_0x15cab4-0x16e,_0x3a679c,_0x15cab4-0x52b);}function _0x327be9(_0x535a4f,_0x231726,_0x2d71a4,_0x435a55){return _0x511bec(_0x535a4f-0x16d,_0x231726-0x18c,_0x535a4f,_0x435a55-0x2d0);}_0x4a7a61[_0x327be9(0x445,0x427,0x47c,0x406)](_0x4a7a61[_0x327be9(0x308,0x3ce,0x394,0x347)],_0x4a7a61['puykN'])?eventSource['removeList'+'ener'](_0x5e1a90,sdGenerate):_0x3075d2['on'](_0x3ae269,_0x1af445);}),window[_0x1d7534(0x332,0x324,0x360,0x29e)+_0x1d7534(0x318,0x2c2,0x35c,0x36d)]=![],_0x4a7a61[_0x511bec(0x57,0x10f,0x72,0x93)](addLog,_0x4a7a61[_0x1d7534(0x362,0x309,0x2f7,0x31d)])):(!_0x465b0b[_0x511bec(0x150,0x16f,0x55,0xe0)+_0x511bec(0xf1,0x3a,0x56,0xc6)]&&(_0x4dd39e[_0x511bec(0x164,0x66,0xf6,0xe0)+_0x1d7534(0x318,0x2ce,0x2e4,0x2f6)]=!![],_0x4a7a61[_0x1d7534(0x315,0x307,0x2ad,0x346)](_0x1a4f91)),_0x2318da())):_0x350ee6[_0x1d7534(0x332,0x388,0x2ca,0x2f4)+_0x1d7534(0x318,0x3ad,0x360,0x2e9)]&&(_0x5aa66d['removeList'+_0x1d7534(0x3ae,0x406,0x3eb,0x385)](_0x29ad96[_0x511bec(0x11d,0x17a,0x17e,0x173)+_0x1d7534(0x3de,0x42b,0x46d,0x3ca)+'ST'],_0x1a72db),_0x364782[_0x511bec(0x1c3,0xa5,0xe8,0x12e)](_0x1fe376=>{function _0x486567(_0x11658a,_0x122081,_0x59d528,_0x549c52){return _0x511bec(_0x11658a-0xf,_0x122081-0x1d6,_0x11658a,_0x59d528-0x49a);}function _0x5d2818(_0x3ae1f4,_0x37667c,_0x1b7c37,_0x182da3){return _0x511bec(_0x3ae1f4-0x7e,_0x37667c-0x1ac,_0x37667c,_0x3ae1f4- -0x18f);}_0x26cd4f[_0x486567(0x639,0x5d8,0x5bd,0x593)+_0x5d2818(-0x33,0x50,-0x3d,-0xb3)](_0x1fe376,_0x37b666);}),_0x537bd6['initialize'+_0x511bec(0x6d,0xe6,0xac,0xc6)]=![],_0x19acea(_0x1d7534(0x3a8,0x3c8,0x397,0x432)+_0x511bec(0x101,0x11a,0x87,0xbd)));}
//# sourceMappingURL=http://localhost:8000/sd.js.map