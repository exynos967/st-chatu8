function _0x675e(_0x4e16ee,_0x11f873){_0x4e16ee=_0x4e16ee-(-0x2*0xd03+-0x18a+0x1ceb);const _0x1131bd=_0xa0e6();let _0x47b136=_0x1131bd[_0x4e16ee];if(_0x675e['oTzIxF']===undefined){var _0xdecfbc=function(_0x3cddaa){const _0x5a66a4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1d6e55='',_0x273ca3='',_0x21b700=_0x1d6e55+_0xdecfbc;for(let _0xa27a8f=-0x1*0x21c7+-0x14f3+0x36ba,_0x138be9,_0xdd302a,_0x175bfd=0x2f*0x9b+-0xef*0x20+0x16b;_0xdd302a=_0x3cddaa['charAt'](_0x175bfd++);~_0xdd302a&&(_0x138be9=_0xa27a8f%(-0x156e+0x1*-0x1b1d+-0x1f*-0x191)?_0x138be9*(-0x2f6+0x339+0x3*-0x1)+_0xdd302a:_0xdd302a,_0xa27a8f++%(0xdbe*0x1+0xb*0x14d+0x1c09*-0x1))?_0x1d6e55+=_0x21b700['charCodeAt'](_0x175bfd+(-0x3*-0x269+-0x175*-0x1+-0x8a6))-(-0x876+-0x1d0*-0x7+-0x218*0x2)!==-0x11ef+0x943*-0x1+-0x1b32*-0x1?String['fromCharCode'](-0x10f*-0x1d+-0xb*0x138+-0x104c&_0x138be9>>(-(-0x50+-0x1b5*-0xa+0x8*-0x218)*_0xa27a8f&-0x1512+-0x1*0x141a+0x1499*0x2)):_0xa27a8f:-0x13f8+-0xab0+0x24*0xda){_0xdd302a=_0x5a66a4['indexOf'](_0xdd302a);}for(let _0x237b03=0x1ff6+-0x195a+-0x11a*0x6,_0x5eb5bf=_0x1d6e55['length'];_0x237b03<_0x5eb5bf;_0x237b03++){_0x273ca3+='%'+('00'+_0x1d6e55['charCodeAt'](_0x237b03)['toString'](0x2*-0x90b+-0xe0d+0x2033*0x1))['slice'](-(-0xf7f+-0x1*0x12a3+0x1b5*0x14));}return decodeURIComponent(_0x273ca3);};_0x675e['LEtjHd']=_0xdecfbc,_0x675e['MIoUBS']={},_0x675e['oTzIxF']=!![];}const _0x595efc=_0x1131bd[-0xe*0x232+-0x3b*0x2d+0x26b*0x11],_0x15b3ab=_0x4e16ee+_0x595efc,_0x43dc26=_0x675e['MIoUBS'][_0x15b3ab];if(!_0x43dc26){const _0x2e94b8=function(_0x494c4f){this['nVmUxM']=_0x494c4f,this['tDshgY']=[0x543+0x14*-0x49+0x72,0x114c+0xccc+0x6*-0x504,0x1*0x121f+0x2cf*-0x5+-0x414],this['VRonir']=function(){return'newState';},this['ViCNFm']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['XzaZtM']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2e94b8['prototype']['dpmaXs']=function(){const _0x148508=new RegExp(this['ViCNFm']+this['XzaZtM']),_0x11b3fc=_0x148508['test'](this['VRonir']['toString']())?--this['tDshgY'][-0x2a*-0x29+0xca*-0x2a+-0x1a6b*-0x1]:--this['tDshgY'][0x14d+-0x2540+0x23f3];return this['gbHPBB'](_0x11b3fc);},_0x2e94b8['prototype']['gbHPBB']=function(_0x1a62eb){if(!Boolean(~_0x1a62eb))return _0x1a62eb;return this['TvVgGN'](this['nVmUxM']);},_0x2e94b8['prototype']['TvVgGN']=function(_0x1c3817){for(let _0x5a6604=-0x11b*-0x8+-0x286*0x3+-0x146,_0x5f552a=this['tDshgY']['length'];_0x5a6604<_0x5f552a;_0x5a6604++){this['tDshgY']['push'](Math['round'](Math['random']())),_0x5f552a=this['tDshgY']['length'];}return _0x1c3817(this['tDshgY'][0x2*0x518+0x9*0x1fe+-0x3d*0x76]);},new _0x2e94b8(_0x675e)['dpmaXs'](),_0x47b136=_0x675e['LEtjHd'](_0x47b136),_0x675e['MIoUBS'][_0x15b3ab]=_0x47b136;}else _0x47b136=_0x43dc26;return _0x47b136;}(function(_0x4d51f1,_0x33704c){function _0x3698d1(_0x4cbcc6,_0x4c76fd,_0x2c3960,_0x3c3bc7){return _0x675e(_0x4c76fd-0x342,_0x3c3bc7);}const _0x50d9a3=_0x4d51f1();function _0x441c64(_0x2b40f6,_0x3d366b,_0x80a854,_0x1a11a8){return _0x675e(_0x2b40f6- -0x41,_0x80a854);}while(!![]){try{const _0xf534e7=parseInt(_0x441c64(0x1d3,0x225,0x23c,0x1ac))/(-0x1a6f+-0x1773+0x31e3)+-parseInt(_0x441c64(0x1d5,0x265,0x19f,0x1ff))/(-0x1980+0x1d69*-0x1+0x36eb)*(-parseInt(_0x3698d1(0x441,0x4c4,0x453,0x43d))/(0x1274+-0x16f*0x10+0x47f))+parseInt(_0x3698d1(0x4cf,0x53a,0x4f7,0x5b6))/(-0x3*0x6e1+-0xa23*-0x1+0xa84)*(parseInt(_0x441c64(0x23e,0x1cf,0x208,0x1f9))/(0xc66+0xcbf+-0x648*0x4))+parseInt(_0x3698d1(0x51c,0x502,0x4f1,0x587))/(0xb9b*0x2+-0x1f60+0x418*0x2)+parseInt(_0x3698d1(0x499,0x4d6,0x56d,0x4e3))/(0x11d0+-0x21e2+0x1019)+parseInt(_0x3698d1(0x493,0x4d4,0x502,0x4f5))/(-0x185*0x1+0x23e6+-0x2259)+-parseInt(_0x3698d1(0x576,0x5ca,0x61f,0x52c))/(-0x119f*-0x1+0x3*-0xc74+0x1*0x13c6)*(parseInt(_0x441c64(0x134,0x99,0x161,0xbb))/(-0x9b8+0xdb2+-0x3f0));if(_0xf534e7===_0x33704c)break;else _0x50d9a3['push'](_0x50d9a3['shift']());}catch(_0x57f120){_0x50d9a3['push'](_0x50d9a3['shift']());}}}(_0xa0e6,-0x29091+0x315*-0xd5+0x84107));function _0xa0e6(){const _0x3dfcdb=['ChjVBxb0','B3jNruC','ywn0B3iPoIOQia','cI0GkIPdrKCGuW','56cboIa','D2zsCMK','sMjAweu','y2XPzw50','BKDZwwm','ExvZAgu','5BI4icHjrdOG','nJe4ody2meXiCwvqrG','sxvlsfm','D2fAAKu','BI9QC29U','C3rHDhvZvgv4Da','AhjFC2nHBgu','C2rFy2nSAxbFCW','lI4U','u090sey','zejtqNO','qurLDgfPBgvY','s1nzs0q','Bw9Kzq','odq2qMrWzLLi','yK50qNq','r095z3m','C2rFy2HPCMvZxW','DvDcEuG','sMvjEfC','Aw1Hz2u6','C2fTCgXLCL9Uyq','vxvjBLK','BgvUz3rO','5BEY5yID5AEl5yYw44cc','y2rtB3C','AML1z3vHBG','qw9wC2C','BMvNyxrPDMvqCG','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','mtyYmZeXmNLlEgrvza','57Yt5A2y6k6+572U5lI65lIn5A2y5ywL5PwW5O2U','nJa0ndqZCwH5rLn6','ifbYB21WDa','Aw5PDgLHBgL6zq','sufqt3a','ELfszM4','y25xD24','yMnhEuO','q2HSue8','C3nhDe4','AxPLktOQkIa','cI0TlqOGicaG','C3rLChm','u0qGqvbjioI/LowBNUMuMq','tufhrv9srvnqtW','yxv0B191CMW','yuDSCw0','BwvZC2fNzq','rxjYB3iGz2vUzq','rhzOvxO','cI0GkIRPQ5JMUixKV67LPi0G','cI0TlqOJiYmG55sF','l3nKyxbPl3yXlW','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','cI0GkIROTj/PNAlMJ5dNPlOG','5Q2J5zYO6ycA6l+hC2r3zwj1','Aw5Nx3n0CMvUzW','BKznu1q','B3zLCNjPzgvFCW','wKLprfC','sw9kvgi','EgHpveu','vuzbBLq','mJiYmG','C2rFy2nOyxr1xW','C2rFy2HLAwDODa','kerPDMLKzv9YBW','yM5jCxq','Bg9N','of9TB2rLBa','of9Zyw1WBgvYtG','kfnHBxbSzxiPoG','u2TPCdOQkIa','ifn0CMvUz3rOkq','zu1MEhy','mte2mJa5oePkwLn2Ca','Dgv4Da','Au5ABgO','CMvZDg9Yzv9Myq','kfvWC2nHBguGrG','r0vorvjbvevFsq','rM1fvuu','vvjzBhi','zxr0Aw5NCW','C2vHCMnO','r3DbC0m','zxjYB3i','6yws6AAgioI/LowBNUMuMEIVR+oaGUEkTUAaGq','DNzkCK4','s3b3Dwe','5yYw5lI6igrHDgeGvvi','C2tOR7FMSylNLj/LM77PLjNOR686ia','q3LlBuy','CK9jqMe','5z2q5Qch55Qe5O+q56s66k+n5A2x56YM5lIY44cc','tMreDKK','ksaTifbYB21WDa','C2rFDMfL','DMrqu2O','of91ChnJywXLCG','AxPzBuK','cI0GkIRLSlRLR7GGkfm','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','lcdOR6BMG4u6ia','CuXHt1y','BwvHzNG','AuPdEwu','Eenoq3m','yxv0Aa','DtHFC2rFyxv0Aa','q1PItxa','Cgf5C3rFy2HHDa','C2rFy3n0zxbZ','tKHjq1C','uhjVBxb0ktOQkG','5BEY5ywZ6zET44cc','B25jCum','zgHgrwS','vunqx3nK','cI0GkIROHlJPG6JKV67LPi0G','C2rsqKS','Df9LBMq','ALbeEuK','tLnf','EgLHBMnOzw5N','u3zWEuu','vMjmBwC','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','cI0GkIRNP43LRzaGkfm','Dc1TB2rLBa','ue9tva','mJa3otzpuuT5EhC','zw1PDa','C2rFy2fKzxrHAq','y2fSztOQkIa','6lsF6z2I5lI6oIa','AvL6su0','thb2tu8','zML4','D2Lwr0u','zgnWvNm','5yIh5O2I5QIH5z6l5AsX6lsLoIa','C3rYzw5NDgG','77Ym6k+35Qoa5P+LC2r3zwj1','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','cI0GkIRPH43NU5JLUyxLUQyG','ExvZAgvPzf9Zza','Dg9tDhjPBMC','ANHgruq','oIOQia','ktOG','CLfIz3e','5zU+5yop5BEY5A2y5ywL5PwW5O2U5BQtigy','zw5LCG','Bg5XAgu','kIOG','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','sfDQEfu','AhfYufq','nJe4mJLwvgfvAwW','ywrFBw9KzwW','mtCYmhDTDfHPyW','q21hC04','CMvTB3zLtgLZDa','icHjrdOG','Aw5JBhvKzxm','Aw1Hz2vZ','y2HHBMDL','tK9eDeS','yw1L','s01Izve','veTbsM0','CMf0Aw5Nifneia','y2vZioIeUoMdQos/RUwKJsdKUlO','r3bRsLO','D2LKDgG','z2u6','quLYAuO','wgnAB2y','A1Hhuvu','wxrpqKi','wgPQqxC','C2r3zwj1AEEuN+wBVUwpGG','CMf0Aw5NigLTyq','E+s/RUwBVN0','ktOQkIa','u0rmAxn0zw5LCG','cI0GkIRPH4FMOlFMLRNMS5uG','ANnVBG','5zU+5y+c5PwW5OQL5zgkcI0GkIO','wgfQzfa','B21WDa','6zsz6k+VoIa','EeLuuKK','5zU+5yop5BEY5OIq5yQF6i635y+w5BM25Qc85BYp','Aw5MBW','yuXeAhy','C2rFy3nLzwq','zMH5D2e','C2v0DgLUz3nZlG','6i635y+w5QIH5z6l5AsX6lsLoIa','AgvPz2H0','u2nLBMuGq29TCa','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','zw5HyMXLx2HY','cI0GkIRMLl7LPkFLGi3NJOCG','BeHqrLG','DhjPBq','AEEuN+AiKowBVUEjHY4UlUwUOUAiTW','55sO5lQo55sF5OIq55QevgfNoIa','6k6+572U5QIH5z6llI4U5lI6','y21VzgvSmJiYmG','EwLTrKm','ywX3yxLZB25FCW','zhHYzwW','C2rFy2rLBM9PCW','twrSCNO','yxnjz1K','ywnLCYK6kIOG','C2vLza','zxrItMu','5Q2J5zYO6k6+572U5QIH5z6llI4U5lI6','C3rHDhvZ','uNnbCgq','DgvWCYK6kIOG','l2fWAs9Zzc9Zzq','D1ziu1e','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','Chjmuva','yxjrBNu','yxbWBhK','C3vJy2vZCW','DxjS','cI0GkIRMQkhLNOSGke0','44cc5zon5BQu5yAf5A65oIa','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','C3rFy2HHDhu4xW','zxz3z3e','uufqwLK','C2rdzMDty2fSzq','q2HHCMfJDgvYia','q3j2wMO','loAOOEwEI+s4UG','y2vZ','zMfJzv95B2XVDG','C2rFy3DPzhrO','BgvY','ChqPoIOQia','cI0GkIPbrgv0yq','uhvlz1m','keHPCMvZiezPEa','CxbMExG','zML4zwrqCM9TCa','veDkB2e','C2rFyxv0Aa','og4UChq','shHYEK8','zgvUB2LZAw5NxW','ke5Lz2f0AxzLia','Aw1Hz2veyxrH','q0Xjuf9ZDg9WxW','B3nPDgLVBG','Dg9Rzw4','zMfJzsdKUlRLVidLKk8','Au9gEMK','B2rLBcK6kIOG','mZv1DLH3ALa','yxjNCW','C3bwq1K','yMjHDMy','EfvvrKG','C3rYAw5NAwz5','kcGOlISPkYKRkq','yxrFBgfZDf9Syq','whH2Ae4','owPIqNHnra','44cc6k+35Qoa5P+LC2r3zwj1','ywrLDgfPBgvYxW','DhLtDLi','CvHczNK','reDfrNK','BMjUExO','u3fKuLG','cI0GkIPwquu6kG','EfLiuwi','tufhrv9srvfvrq','B2DcufO','CLnmzvK','Du54B0G','l2fWAs9Zzc9Nzq','6zQp5PY6kc0Xkq','CeT5Deq','serYC1q','EMz0Duq','Dhj1zq','uwPWvLa','zfjlC2u','DhH0mMLTzW','cI0GkIPdBgLWia','5Q2J5zYO5yIh5O2I5QIH5z6l5lI6','5zon5BQu5yAf5A65oG','vM9SANu','y29UC3rYDwn0BW','of9Zy2HLzhvSzq','5BcD6k+v5l2C5lI65y6F5AEliejHCW'];_0xa0e6=function(){return _0x3dfcdb;};return _0xa0e6();}const _0x22ca66=(function(){const _0x4e4101={};function _0x91a2aa(_0x30d758,_0x36c42e,_0x11192f,_0x4df434){return _0x675e(_0x11192f- -0x12b,_0x4df434);}function _0xeb8160(_0x2d613e,_0x16ea01,_0x488109,_0x32ca37){return _0x675e(_0x32ca37-0xfa,_0x16ea01);}_0x4e4101[_0x91a2aa(0xa2,-0x55,0x32,0x7b)]=function(_0x59d15d,_0xa4c303){return _0x59d15d!==_0xa4c303;},_0x4e4101[_0xeb8160(0x277,0x2b3,0x32c,0x2c1)]=_0x91a2aa(0x13d,0xf1,0xf5,0x158);const _0x10c5d2=_0x4e4101;let _0x184660=!![];return function(_0x5d6e32,_0x53d351){const _0x5f3643={'CBSTu':function(_0x47dd5d,_0x9f2efc){function _0x20259d(_0x1842d1,_0x4e9601,_0x54f16f,_0xbdd23){return _0x675e(_0x1842d1-0x2a0,_0x4e9601);}return _0x10c5d2[_0x20259d(0x3fd,0x3e3,0x42e,0x3e3)](_0x47dd5d,_0x9f2efc);},'UFAnT':_0x10c5d2['URYlr']},_0x58fbbf=_0x184660?function(){function _0x44b5bc(_0x5a3dbd,_0x15afb6,_0x31641e,_0x181f34){return _0x675e(_0x15afb6-0xb8,_0x181f34);}function _0x68949(_0x2af82c,_0x20ae63,_0x3bd75c,_0x1c01aa){return _0x675e(_0x20ae63- -0x150,_0x3bd75c);}if(_0x53d351){if(_0x5f3643['CBSTu'](_0x44b5bc(0x284,0x242,0x226,0x20b),_0x5f3643[_0x68949(0xad,0x63,0x5e,-0x1)])){const _0x2e51ae=_0x53d351[_0x68949(0xa3,0x10b,0x14b,0x18d)](_0x5d6e32,arguments);return _0x53d351=null,_0x2e51ae;}else _0x3181b8=![];}}:function(){};return _0x184660=![],_0x58fbbf;};}()),_0x1caaa6=_0x22ca66(this,function(){const _0x2d18e0={};_0x2d18e0[_0x4d5dac(-0x11e,-0x8a,-0x68,-0xd5)]=_0x448b22(0x41f,0x4c7,0x4b1,0x46b)+'+$';const _0x39e54d=_0x2d18e0;function _0x4d5dac(_0x3719b3,_0x2c0678,_0x2dc859,_0x46a750){return _0x675e(_0x2c0678- -0x273,_0x3719b3);}function _0x448b22(_0x506f1d,_0x584453,_0x536cee,_0x353476){return _0x675e(_0x353476-0x1e6,_0x506f1d);}return _0x1caaa6[_0x4d5dac(-0xf1,-0x6b,-0x8d,-0x58)]()[_0x448b22(0x35a,0x380,0x3b8,0x3af)](_0x39e54d[_0x4d5dac(-0x45,-0x8a,-0x7b,-0x106)])['toString']()[_0x4d5dac(-0x171,-0x10c,-0x71,-0x124)+'r'](_0x1caaa6)[_0x4d5dac(-0xb0,-0xaa,-0x40,-0xc0)](_0x39e54d[_0x4d5dac(-0x31,-0x8a,-0xde,-0xe7)]);});_0x1caaa6();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations}from'./utils.js';import{setItemImg}from'./database.js';import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';import{processCharacterPrompt}from'./characterprompt.js';import{bananaGenerate}from'./banana.js';async function generateSDImage({prompt:_0x8d640a,width:_0x196dab,height:_0xc87d6e,change:_0x112366}){const _0xd08250={'fhywa':function(_0x24573b,_0x2dd565){return _0x24573b+_0x2dd565;},'TGJoa':function(_0x36024,_0xe3d25b){return _0x36024(_0xe3d25b);},'iOFzi':function(_0x292f39,_0x1739b5){return _0x292f39+_0x1739b5;},'NHICW':'分角色模式:\x20解析带'+_0x4683de(0x148,0x134,0x1d1,0x1f7),'KMbeQ':function(_0x1afb09,_0x130d40){return _0x1afb09(_0x130d40);},'VbLmg':_0x91ce35(0x4bd,0x524,0x4f4,0x55a)+'osition','bcGyJ':function(_0xd03220,_0x2b69f7){return _0xd03220+_0x2b69f7;},'dRKse':_0x91ce35(0x596,0x509,0x52f,0x5a5)+_0x91ce35(0x58a,0x502,0x577,0x597),'eMfxv':_0x4683de(0x2f0,0x22c,0x267,0x2e7)+_0x91ce35(0x62d,0x5fb,0x523,0x58f),'qLaOV':function(_0x3fbffa,_0x2b1174){return _0x3fbffa+_0x2b1174;},'iJCye':function(_0x4c7bbb,_0x556a45){return _0x4c7bbb(_0x556a45);},'FmEUE':_0x91ce35(0x552,0x5d5,0x4f1,0x57b)+_0x4683de(0x1a3,0x15f,0x1e6,0x1d6),'prLQP':_0x91ce35(0x51c,0x4b5,0x4bf,0x4c0)+_0x91ce35(0x4e2,0x5ca,0x540,0x547)+_0x4683de(0x1e3,0x186,0x223,0x1b7),'SvpyE':function(_0x57e8d3,_0x2e7d3c){return _0x57e8d3(_0x2e7d3c);},'dcpVs':function(_0x254a75,_0x11d373){return _0x254a75(_0x11d373);},'Volju':function(_0x46f318){return _0x46f318();},'wiVGE':function(_0x3b41c5,_0x5cbbd9){return _0x3b41c5!==_0x5cbbd9;},'yimFC':function(_0xdd1ec4,_0x33864b){return _0xdd1ec4(_0x33864b);},'scGtX':function(_0x79b4d1,_0x6aeb3e){return _0x79b4d1+_0x6aeb3e;},'spVCY':'标准模式:\x20使用请求'+'中的\x20prompt。','NdDvI':function(_0x3d0a60,_0x3856e1,_0x29855d){return _0x3d0a60(_0x3856e1,_0x29855d);},'CZbMp':function(_0x4042d2,_0x237a01){return _0x4042d2===_0x237a01;},'NODtK':_0x4683de(0x19c,0x1b1,0x19a,0x1bd),'waZjE':function(_0xfcfd1a,_0xce04be){return _0xfcfd1a<=_0xce04be;},'HxrzO':'tSesc','iYzIM':function(_0x35c176,_0x56bc61,_0x32afb0,_0x408614,_0x255934,_0x1db239){return _0x35c176(_0x56bc61,_0x32afb0,_0x408614,_0x255934,_0x1db239);},'coqEI':_0x91ce35(0x51b,0x4ef,0x4c6,0x4bd),'rOIBa':function(_0x3ed2fe){return _0x3ed2fe();},'xUUFH':function(_0x2234e4,_0xdf923a){return _0x2234e4===_0xdf923a;},'aLDhv':_0x91ce35(0x5ad,0x5a9,0x59c,0x5b1)+_0x4683de(0x166,0x1e5,0x1f4,0x1be),'CmGsN':function(_0xf0d3a5,_0x210f6d){return _0xf0d3a5(_0x210f6d);},'SqdRX':_0x91ce35(0x59a,0x5ce,0x521,0x563)+_0x91ce35(0x445,0x546,0x437,0x4cf),'AIriJ':function(_0x3b87aa,_0x148f4c){return _0x3b87aa!=_0x148f4c;},'AoVsg':function(_0x5968c3,_0x5b3910){return _0x5968c3!==_0x5b3910;},'nGsYc':_0x4683de(0x2ee,0x21d,0x292,0x31c),'Mdlrz':function(_0x45fddc,_0xe91159,_0x4a6855){return _0x45fddc(_0xe91159,_0x4a6855);},'cdSow':_0x91ce35(0x4f0,0x476,0x518,0x512),'lHPFX':function(_0x6c827d,_0x4fc1cf){return _0x6c827d===_0x4fc1cf;},'XcZof':_0x4683de(0x2a1,0x187,0x20d,0x1cc),'IAPOp':function(_0x63df9a,_0x5ac9fb){return _0x63df9a(_0x5ac9fb);},'aGlqm':function(_0x3f0762,_0x348b0e){return _0x3f0762!=_0x348b0e;},'nFMST':_0x4683de(0x1b1,0x193,0x16d,0xd4),'etbNe':function(_0x53f9bb,_0x31f15c){return _0x53f9bb(_0x31f15c);},'bnIqt':function(_0x18df31,_0x15f8ff){return _0x18df31(_0x15f8ff);},'bNtBt':function(_0x3f38df,_0x492911){return _0x3f38df>=_0x492911;},'ChlPO':_0x91ce35(0x501,0x4fc,0x48b,0x47b),'PuKgS':function(_0x4b131e,_0x2ca0d0){return _0x4b131e(_0x2ca0d0);},'hqrPT':function(_0x437b34,_0x115fad){return _0x437b34==_0x115fad;},'dBSBz':function(_0x219782,_0x3aa9fe){return _0x219782==_0x3aa9fe;},'pKytD':_0x4683de(0x197,0x1a6,0x15d,0x184),'kXGQU':function(_0x429b39,_0x5804c7){return _0x429b39(_0x5804c7);},'tySvR':_0x4683de(0x14b,0x196,0x16e,0x10b),'arQnu':function(_0x10a958,_0x5b24b9){return _0x10a958(_0x5b24b9);},'EyqKW':_0x4683de(0x166,0x1ce,0x159,0x188),'xITRI':function(_0x55548d,_0x44553b){return _0x55548d(_0x44553b);},'SOtHF':function(_0x35d8f7,_0x577fcb){return _0x35d8f7===_0x577fcb;},'DGEFy':_0x4683de(0x180,0x1fa,0x1af,0x145),'orgEG':'hiXHM','zQRfn':function(_0x46aca4,_0x252f68){return _0x46aca4(_0x252f68);},'zvMus':function(_0x29f97f,_0x5eb75f){return _0x29f97f===_0x5eb75f;},'KSYKD':_0x91ce35(0x53d,0x4c3,0x4ee,0x4a9),'evwgq':_0x91ce35(0x64b,0x618,0x595,0x5b1)+'nerate','ZIODW':'JSON\x20解析失败，'+_0x4683de(0x194,0xe4,0x167,0x1ca)+'e64\x20数据处理。','Kpwua':'data:image'+'/png;base6'+'4,','dhFEk':_0x4683de(0x2d1,0x1e6,0x235,0x1d5)+_0x4683de(0x243,0x23e,0x1cd,0x191)+'L。','GOygs':function(_0x5697fb,_0x1850c7){return _0x5697fb||_0x1850c7;},'qXBfy':_0x4683de(0x1f1,0x24a,0x1dc,0x246),'LpvMO':function(_0x5f5319,_0x2b7b38){return _0x5f5319+_0x2b7b38;},'JeIxW':function(_0x3d30b1,_0x47e5f3,_0x5c0a2a){return _0x3d30b1(_0x47e5f3,_0x5c0a2a);},'YaImg':function(_0x5b0383,_0x56404a){return _0x5b0383!==_0x56404a;},'kojlC':_0x91ce35(0x47d,0x52b,0x4c7,0x4fb),'uWByH':'wuNUa','uNxoH':'UbgWu','BAyIn':_0x91ce35(0x3e7,0x509,0x50c,0x479),'XjjAw':function(_0x1e8a98,_0x1b0991){return _0x1e8a98||_0x1b0991;}};let _0xf447ec=_0x112366;_0x8d640a=_0xd08250['KMbeQ'](processCharacterPrompt,_0x8d640a),_0x112366=_0xd08250[_0x91ce35(0x4a9,0x502,0x487,0x50d)](processCharacterPrompt,_0x112366),_0x8d640a=await _0xd08250[_0x4683de(0x26b,0x1dc,0x1ff,0x169)](stripChineseAnnotations,_0x8d640a),_0x112366=await _0xd08250[_0x4683de(0x275,0x19c,0x21d,0x278)](stripChineseAnnotations,_0x112366);const _0x23d8f4=extension_settings[extensionName]['sdUrl'][_0x4683de(0x29f,0x28e,0x242,0x1c3)](),_0x25f00e=extension_settings[extensionName];_0xd08250[_0x4683de(0xd0,0x15b,0x164,0x1f9)](clearLog),addLog(_0x4683de(0x22e,0x195,0x1aa,0x196)+_0x91ce35(0x5b6,0x5d3,0x5ca,0x560)+'端为'+_0x25f00e[_0x91ce35(0x4d8,0x522,0x51c,0x48c)]+_0x4683de(0x2a3,0x21f,0x265,0x23e)+_0x25f00e['sd_cchatu_'+_0x4683de(0x24f,0x132,0x1b8,0x212)]);const _0x148938=_0x112366&&_0xd08250[_0x91ce35(0x49f,0x56d,0x536,0x51b)](_0x112366[_0x4683de(0x2c9,0x229,0x242,0x1e4)](),'')?_0x112366:_0x8d640a;_0xd08250[_0x4683de(0x1c1,0x27b,0x1dd,0x26d)](addLog,_0x4683de(0x283,0x26e,0x244,0x2df)+_0x148938);let _0x1ca101=![];_0x148938[_0x91ce35(0x4b7,0x4ec,0x5c0,0x535)](_0x91ce35(0x526,0x571,0x58f,0x55a)+_0x91ce35(0x5b9,0x5f6,0x528,0x595))&&(_0x1ca101=!![]);function _0x91ce35(_0x3eba48,_0x393f0c,_0x1b8205,_0x416fed){return _0x675e(_0x416fed-0x31b,_0x393f0c);}addLog('是否启用分角色模式\x20'+_0x91ce35(0x524,0x55f,0x4e2,0x4d2)+'les):\x20'+_0x1ca101);let _0x20c18a={};function _0x4683de(_0x1f9cab,_0x28f02e,_0x351ad6,_0x436dd8){return _0x675e(_0x351ad6- -0x2,_0x28f02e);}let _0x49189e='',_0x48486e='';if(_0x1ca101){addLog(_0xd08250['NHICW']),_0x20c18a=_0xd08250[_0x4683de(0x2dd,0x2c1,0x247,0x2d8)](parsePromptStringWithCoordinates,_0x148938),_0x49189e=_0x20c18a[_0x91ce35(0x523,0x544,0x5c1,0x55a)+_0x4683de(0x240,0x310,0x278,0x2a7)];for(let _0x4d5568=0xc*0xd4+0x20b7+0x35*-0xce;_0x4d5568<=0x3cf+0x6f3+-0x19*0x6e;_0x4d5568++){_0x20c18a[_0x91ce35(0x5c4,0x59e,0x555,0x580)+_0x4d5568+_0x4683de(0x147,0x226,0x193,0x171)]&&(_0x48486e=_0xd08250[_0x4683de(0x26c,0x23f,0x1db,0x19f)](_0xd08250['scGtX'](_0x48486e,',\x20'),_0x20c18a['Character\x20'+_0x4d5568+'\x20Prompt']));}}else _0xd08250[_0x4683de(0x257,0x209,0x1dd,0x235)](addLog,_0xd08250[_0x91ce35(0x5a7,0x5c5,0x632,0x59c)]),_0x49189e=_0x148938;let {modifiedPrompt:_0x2d6586,insertions:_0xd95eee}=await _0xd08250[_0x4683de(0x261,0x187,0x1d2,0x24b)](prompt_replace,_0x49189e,_0x48486e);if(_0x1ca101){if(_0xd08250[_0x91ce35(0x532,0x474,0x579,0x4fe)](_0xd08250[_0x4683de(0x293,0x199,0x21b,0x1ec)],_0xd08250[_0x91ce35(0x54a,0x559,0x4b1,0x538)]))for(let _0x3f61d9=-0x959+0x1f1*0x2+0xe*0x64;_0xd08250[_0x91ce35(0x452,0x425,0x4fe,0x492)](_0x3f61d9,0x19a5+0x58b*0x2+-0x1*0x24b7);_0x3f61d9++){_0xd08250[_0x91ce35(0x47f,0x4cd,0x5b4,0x51b)](_0xd08250[_0x4683de(0x288,0x2ad,0x273,0x2e4)],_0xd08250[_0x91ce35(0x5f9,0x5cc,0x599,0x590)])?_0x7e7304[_0x91ce35(0x5f7,0x600,0x53e,0x580)+_0x10b8ac+_0x91ce35(0x4a7,0x4c6,0x502,0x4b0)]&&(_0x38062d=_0xd08250[_0x4683de(0x262,0x29e,0x239,0x1b6)](_0x5f2258,',\x20')+_0xd08250[_0x91ce35(0x50d,0x578,0x582,0x58d)](_0x19c352,_0x4e16ee['Character\x20'+_0x11f873+_0x4683de(0xfc,0x11a,0x193,0x16f)])):_0x20c18a[_0x91ce35(0x4ff,0x611,0x53c,0x580)+_0x3f61d9+_0x4683de(0x118,0x10c,0x193,0x1de)]&&(_0x2d6586=_0xd08250[_0x4683de(0x19f,0x1ea,0x198,0x13d)](_0x2d6586+',\x20',_0xd08250[_0x4683de(0x154,0x267,0x1dd,0x251)](prompt_replace_for_character,_0x20c18a['Character\x20'+_0x3f61d9+_0x4683de(0x12a,0x209,0x193,0x226)])));}else _0x43dc26=_0xd08250['fhywa'](_0xd08250[_0x91ce35(0x535,0x5be,0x5a9,0x598)](_0x3cddaa,',\x20'),_0xd08250[_0x91ce35(0x5e4,0x565,0x5c4,0x58d)](_0x5a66a4,_0x1d6e55[_0x4683de(0x1cc,0x22e,0x263,0x243)+_0x273ca3+_0x91ce35(0x525,0x52a,0x48e,0x4b0)]));}let _0x1c1bc2=await _0xd08250[_0x4683de(0x263,0x1b0,0x1fb,0x1fa)](zhengmian,extension_settings[extensionName]['yushe'][extension_settings[extensionName][_0x4683de(0x26e,0x24f,0x205,0x260)]][_0x91ce35(0x590,0x545,0x51b,0x58c)+'t'],_0x2d6586,extension_settings[extensionName][_0x91ce35(0x4d0,0x3fc,0x4e5,0x48e)][extension_settings[extensionName]['yusheid_sd']]['fixedPromp'+_0x91ce35(0x546,0x4eb,0x4c9,0x509)],extension_settings[extensionName]['AQT_sd'],_0xd95eee),_0x4738b7=await fumian(extension_settings[extensionName][_0x91ce35(0x4df,0x51b,0x424,0x48e)][extension_settings[extensionName][_0x4683de(0x181,0x17d,0x205,0x1ab)]][_0x91ce35(0x464,0x526,0x4c9,0x4ab)+_0x4683de(0x234,0x1d6,0x232,0x19d)],extension_settings[extensionName][_0x4683de(0x1e1,0x238,0x1e9,0x155)]);_0xd08250['KMbeQ'](addLog,_0x91ce35(0x559,0x573,0x58d,0x517)+_0x4738b7),extension_settings['sd'][_0xd08250['coqEI']]=_0x23d8f4,await _0xd08250[_0x91ce35(0x47f,0x4af,0x53a,0x4ed)](saveSettingsDebounced);try{if(_0xd08250['xUUFH'](_0x25f00e[_0x4683de(0x1d5,0xe4,0x16f,0x194)],'jiuguan')){const _0x18f320={};_0x18f320[_0x4683de(0x1da,0x14d,0x1df,0x20e)]=_0x25f00e[_0x91ce35(0x50e,0x5f5,0x56b,0x57c)+_0x91ce35(0x56c,0x583,0x53d,0x58e)]?_0x25f00e[_0x91ce35(0x4fb,0x550,0x602,0x57c)+_0x4683de(0x2d2,0x245,0x271,0x2a1)]:'',_0x18f320['url']=_0x23d8f4;const _0x33649c=await _0xd08250[_0x91ce35(0x473,0x514,0x454,0x4ef)](fetch,_0xd08250[_0x91ce35(0x551,0x5a4,0x55f,0x554)],{'method':'POST','body':JSON['stringify'](_0x18f320),'headers':_0xd08250[_0x4683de(0x27f,0x274,0x215,0x1dd)](getRequestHeaders,window[_0x91ce35(0x4f8,0x509,0x606,0x596)])});if(!_0x33649c['ok']){_0xd08250[_0x4683de(0x24f,0x1ec,0x21d,0x27b)](addLog,'获取模型失败:\x20'+_0x33649c['status']+'\x20'+_0x33649c['statusText']);throw new Error(_0x91ce35(0x4d0,0x5a9,0x5a1,0x558)+_0x33649c[_0x91ce35(0x5f2,0x55e,0x53c,0x56e)]+'\x20'+_0x33649c[_0x4683de(0x1c3,0x1ff,0x177,0x209)]);}let _0x3c9d01=await _0x33649c[_0x4683de(0x1d9,0x22f,0x1bf,0x1cf)]();console[_0x4683de(0x21e,0x142,0x1b7,0x250)](_0xd08250[_0x91ce35(0x53c,0x57f,0x5b0,0x5aa)],_0x3c9d01),console[_0x91ce35(0x4a4,0x4b9,0x49b,0x4d4)]('extension_'+_0x4683de(0x1ec,0x24e,0x23a,0x1b2)+'sd_cchatu_'+_0x4683de(0x1de,0x152,0x1b8,0x1d4),_0x25f00e[_0x91ce35(0x4fd,0x51a,0x4ea,0x4d0)+_0x91ce35(0x535,0x533,0x537,0x4d5)]);if(_0xd08250[_0x4683de(0x1d4,0x210,0x224,0x1f5)](_0x3c9d01,_0x25f00e[_0x4683de(0x178,0x19e,0x1b3,0x1b5)+_0x91ce35(0x443,0x55e,0x47f,0x4d5)])){if(_0xd08250[_0x4683de(0x18e,0x19d,0x18d,0x10d)](_0xd08250[_0x91ce35(0x488,0x4e6,0x4d2,0x48d)],_0x4683de(0x2d8,0x270,0x24c,0x220))){_0xd08250[_0x4683de(0x18b,0x293,0x1ff,0x266)](addLog,'正在设置模型为'+_0x25f00e[_0x91ce35(0x557,0x465,0x463,0x4d0)+_0x4683de(0x192,0x1dc,0x1b8,0x201)]+_0x91ce35(0x4aa,0x4aa,0x4fb,0x497)),toastr[_0x4683de(0x1eb,0x262,0x236,0x1ba)](_0x91ce35(0x544,0x5c8,0x591,0x56d)+_0x25f00e[_0x91ce35(0x555,0x509,0x47a,0x4d0)+_0x4683de(0x1de,0x20c,0x1b8,0x17c)]);const _0x17f5f5={};_0x17f5f5['auth']=_0x25f00e[_0x4683de(0x2aa,0x2c8,0x25f,0x1ec)+'sd_auth']?_0x25f00e[_0x91ce35(0x59c,0x4ff,0x4f4,0x57c)+_0x4683de(0x29f,0x2e3,0x271,0x1ff)]:'',_0x17f5f5[_0x91ce35(0x518,0x557,0x57d,0x578)]=_0x23d8f4,_0x17f5f5['model']=_0x25f00e[_0x91ce35(0x442,0x504,0x4c3,0x4d0)+'8_model'];const _0x4de4e6=await _0xd08250[_0x91ce35(0x522,0x589,0x4dd,0x568)](fetch,_0x91ce35(0x5ad,0x5d0,0x4e3,0x571)+'t-model',{'method':_0xd08250[_0x4683de(0x1f0,0x167,0x18b,0x172)],'body':JSON['stringify'](_0x17f5f5),'headers':_0xd08250[_0x91ce35(0x4ee,0x4c8,0x4c1,0x51c)](getRequestHeaders,window[_0x91ce35(0x525,0x599,0x541,0x596)])});if(!_0x4de4e6['ok']){if(_0xd08250[_0x4683de(0x2be,0x294,0x241,0x1f8)](_0xd08250[_0x91ce35(0x4a4,0x527,0x5dc,0x542)],_0xd08250['XcZof'])){_0xd08250[_0x4683de(0x1ae,0x219,0x195,0x20e)](addLog,_0x4683de(0x26a,0x1b1,0x200,0x26c)+_0x4de4e6[_0x91ce35(0x5cd,0x586,0x507,0x56e)]+'\x20'+_0x4de4e6['statusText']);throw new Error(_0x91ce35(0x4d0,0x582,0x4d1,0x51d)+_0x4de4e6[_0x4683de(0x2eb,0x2b2,0x251,0x234)]+'\x20'+_0x4de4e6[_0x4683de(0x1c9,0x1aa,0x177,0x19b)]);}else{_0x44860d(_0xd08250[_0x4683de(0x186,0x1ea,0x1e4,0x1ef)]),_0x2c2cae=_0xd08250[_0x4683de(0x27b,0x208,0x21d,0x29e)](_0x4a504d,_0xa0eb2e),_0x56bc80=_0x3bbdfc[_0xd08250[_0x91ce35(0x597,0x518,0x541,0x50e)]];for(let _0x5a644d=-0x1c7e+0x2324+-0x6a5;_0x5a644d<=0x1e28+-0x6f3+0x3*-0x7bb;_0x5a644d++){_0x22a47d['Character\x20'+_0x5a644d+_0x91ce35(0x50e,0x48d,0x45b,0x4b0)]&&(_0x446cde=_0xd08250[_0x4683de(0x1e1,0x22b,0x27b,0x2bd)](_0xd08250[_0x4683de(0x19b,0x235,0x198,0x179)](_0x56b273,',\x20'),_0x10bf45[_0x4683de(0x2f9,0x23a,0x263,0x2a5)+_0x5a644d+'\x20Prompt']));}}}toastr[_0x4683de(0x2d1,0x25f,0x236,0x1b8)](_0x4683de(0x2a0,0x1c7,0x245,0x29c)+_0x25f00e[_0x4683de(0x155,0x18b,0x1b3,0x251)+_0x4683de(0x1fb,0x169,0x1b8,0x1d2)]+'成功');}else _0x56b357=!![];}}else{let _0x13fdd9=await _0xd08250[_0x4683de(0x270,0x1d3,0x215,0x222)](getSDMode,_0x23d8f4);if(_0xd08250[_0x91ce35(0x4fc,0x514,0x4d0,0x4be)](_0x13fdd9,_0x25f00e[_0x4683de(0x121,0x1e5,0x1b3,0x183)+_0x91ce35(0x4e1,0x46c,0x49d,0x4d5)])){if(_0xd08250[_0x4683de(0x1ce,0x160,0x18d,0x1e2)](_0xd08250[_0x91ce35(0x4d3,0x4bc,0x44d,0x4c9)],_0x91ce35(0x59c,0x556,0x571,0x572)))_0xd08250[_0x91ce35(0x608,0x4eb,0x59b,0x56c)](addLog,_0x4683de(0x1ac,0xc9,0x162,0x1be)+_0x25f00e['sd_cchatu_'+'8_model']+_0x91ce35(0x493,0x4d4,0x482,0x497)),await _0xd08250['NdDvI'](setSDMode,_0x23d8f4,_0x25f00e['sd_cchatu_'+_0x91ce35(0x515,0x45e,0x517,0x4d5)]);else{_0xd08250[_0x91ce35(0x620,0x530,0x545,0x58d)](_0xc8e722,_0xd08250[_0x91ce35(0x41d,0x415,0x496,0x47c)]);const _0x50a882={};_0x50a882[_0x4683de(0x184,0x1fd,0x213,0x1a0)]=_0xd08250[_0x91ce35(0x513,0x4c5,0x44b,0x4da)];const _0x16ea33={};_0x16ea33['args']=[!![],!![],_0x50a882];const _0x4fd11e={};_0x4fd11e[_0x4683de(0x14d,0x162,0x17d,0x139)]=_0x16ea33;const _0x5f410f={};_0x5f410f[_0x4683de(0x2b8,0x232,0x248,0x1ee)+'cripts']=_0x4fd11e,_0x61e415=_0x5845b6(_0x2da204,_0x5f410f);}}}}catch(_0x4b9c2d){_0xd08250[_0x91ce35(0x537,0x48f,0x47e,0x4fa)](addLog,_0x91ce35(0x546,0x4ba,0x579,0x50f)+':\x20'+_0x4b9c2d[_0x91ce35(0x50f,0x43b,0x48f,0x4bf)]+(_0x4683de(0x2f6,0x2ac,0x287,0x21c)+_0x4683de(0x1b6,0x228,0x1a8,0x10d)+_0x91ce35(0x517,0x55d,0x593,0x573)));throw new Error(_0x91ce35(0x521,0x56e,0x4b3,0x50f)+_0x4683de(0x257,0x289,0x202,0x260)+_0x4683de(0x1e2,0x157,0x1a8,0x187)+_0x4683de(0x1ee,0x200,0x256,0x286));}let _0x25e061=-(0x1*-0x149e+-0x23a1+-0x320*-0x12);const _0x4abdbe=_0x25f00e[_0x4683de(0x298,0x26b,0x238,0x299)];if(_0xd08250[_0x4683de(0x197,0x160,0x18d,0x12b)](_0x4abdbe,'')&&_0x4abdbe!==null&&!_0xd08250[_0x4683de(0x1cb,0x22b,0x1b6,0x13e)](isNaN,Number(_0x4abdbe))&&_0xd08250[_0x91ce35(0x533,0x460,0x50e,0x49e)](_0xd08250[_0x91ce35(0x480,0x596,0x530,0x4fa)](Number,_0x4abdbe),-0x7*-0x44b+0x62f*-0x4+0x551*-0x1)){if(_0xd08250['AoVsg'](_0xd08250['ChlPO'],_0xd08250[_0x91ce35(0x554,0x48b,0x4e0,0x4b6)])){_0xd08250[_0x4683de(0x1f9,0x266,0x270,0x21c)](_0x2fc2ee,_0x4683de(0x250,0x1a0,0x200,0x28e)+_0x232101[_0x4683de(0x2eb,0x1f4,0x251,0x2c7)]+'\x20'+_0x456c6a['statusText']);throw new _0x2986df('切换模型失败:\x20'+_0x195c68[_0x4683de(0x20f,0x2ae,0x251,0x20b)]+'\x20'+_0x7ed1db[_0x91ce35(0x48b,0x438,0x40e,0x494)]);}else _0x25e061=_0xd08250[_0x91ce35(0x524,0x546,0x584,0x589)](Number,_0x4abdbe);}let _0x311785={'prompt':_0x1c1bc2,'negative_prompt':_0x4738b7,'sampler_name':_0x25f00e[_0x4683de(0x24d,0x21b,0x1b3,0x1cc)+_0x4683de(0x1e5,0x252,0x1b9,0x1aa)+_0x4683de(0x22e,0x287,0x21c,0x2b0)],'scheduler':_0x25f00e[_0x4683de(0x1a2,0x201,0x1b3,0x155)+_0x91ce35(0x4f0,0x513,0x429,0x483)+'r'],'steps':_0x25f00e[_0x4683de(0x18a,0x1a9,0x1e3,0x17c)],'cfg_scale':_0x25f00e[_0x4683de(0x1d7,0x268,0x262,0x209)],'width':_0x196dab?_0x196dab:_0x25f00e[_0x4683de(0x1f4,0x21c,0x268,0x294)],'height':_0xc87d6e?_0xc87d6e:_0x25f00e[_0x91ce35(0x4f6,0x50f,0x45a,0x4d1)],'restore_faces':_0xd08250[_0x4683de(0x267,0x1cb,0x211,0x1f6)](_0x25f00e['restoreFac'+'es'],_0x4683de(0x1a4,0x122,0x15d,0xe4)),'enable_hr':_0xd08250[_0x91ce35(0x537,0x417,0x446,0x499)](_0x25f00e[_0x4683de(0x182,0xfe,0x183,0x11d)+_0x4683de(0x162,0x21e,0x1fd,0x23f)],_0xd08250[_0x4683de(0x14a,0x167,0x15a,0x1f3)]),'hr_upscaler':_0x25f00e[_0x4683de(0x1ba,0x166,0x1b3,0x202)+_0x91ce35(0x49d,0x4da,0x545,0x4f3)],'hr_scale':_0x25f00e['sd_cupscal'+'e_factor'],'hr_additional_modules':[],'denoising_strength':_0x25f00e[_0x4683de(0x246,0x1e5,0x24a,0x2b0)+_0x91ce35(0x4a7,0x466,0x465,0x4c8)+'th'],'hr_second_pass_steps':_0x25f00e[_0x4683de(0x214,0x101,0x183,0x1fb)+_0x91ce35(0x48d,0x4fc,0x489,0x4ba)],'seed':_0x25e061,'override_settings':{'CLIP_stop_at_last_layers':_0xd08250[_0x4683de(0x181,0x1de,0x195,0x1e5)](Number,_0x25f00e[_0x4683de(0xdb,0x1a1,0x179,0x185)+'kip']),'sd_vae':_0x25f00e['sd_cchatu_'+'8_vae']},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};_0xd08250[_0x91ce35(0x50c,0x5b1,0x51c,0x564)](addLog,_0x4683de(0x1ac,0x17f,0x1c1,0x221)+_0x4683de(0x1da,0x231,0x220,0x2a5)+_0x311785[_0x91ce35(0x448,0x50a,0x500,0x4de)+_0x91ce35(0x57c,0x5df,0x561,0x583)]),_0xd08250[_0x91ce35(0x599,0x560,0x5c6,0x543)](addLog,'enable_hr\x20'+'高清修复\x20为'+_0x311785[_0x4683de(0x1cb,0x2b6,0x23f,0x1c3)]);if(_0xd08250[_0x4683de(0x19b,0x200,0x211,0x295)](_0x25f00e[_0x91ce35(0x57a,0x4d7,0x553,0x515)+_0x91ce35(0x60f,0x5bc,0x5eb,0x586)],_0xd08250['pKytD'])){if(_0xd08250[_0x4683de(0x1a5,0x20f,0x1fe,0x290)](_0xd08250[_0x91ce35(0x599,0x5e9,0x5fd,0x5a6)],_0x4683de(0x1f1,0x19e,0x16e,0x12d))){const _0x25ef7f=_0x28404f['parse'](_0x48eeb6);_0x2b9591=_0x25ef7f['images'][0x4*-0x70c+-0x21c0+0x3df0];}else{_0xd08250[_0x91ce35(0x505,0x56a,0x57b,0x575)](addLog,_0xd08250[_0x91ce35(0x4fe,0x431,0x4d2,0x47c)]);const _0x9c4193={};_0x9c4193[_0x4683de(0x26f,0x29e,0x213,0x1f0)]=_0x4683de(0x20b,0x2c6,0x267,0x2c3)+_0x4683de(0x1d8,0x1d8,0x272,0x2c9);const _0x17022c={};_0x17022c[_0x91ce35(0x60c,0x59d,0x544,0x59b)]=[!![],!![],_0x9c4193];const _0x402338={};_0x402338[_0x4683de(0x1e0,0xf0,0x17d,0x16c)]=_0x17022c;const _0x3ff167={};_0x3ff167['alwayson_s'+'cripts']=_0x402338,_0x311785=_0xd08250[_0x4683de(0x248,0x259,0x1d2,0x161)](deepMerge,_0x311785,_0x3ff167);}}const _0x539e8d=_0x4683de(0x112,0x1fd,0x1a6,0x18b)+_0x91ce35(0x517,0x5c4,0x534,0x54d)+'正面提示\x20(Prom'+_0x4683de(0x230,0x304,0x26a,0x2df)+_0x1c1bc2+(_0x91ce35(0x473,0x48f,0x469,0x4c6)+_0x91ce35(0x59f,0x627,0x5ec,0x592)+_0x91ce35(0x549,0x560,0x587,0x502)+'\x20')+_0x4738b7+(_0x4683de(0x294,0x289,0x22e,0x2c8)+_0x91ce35(0x55a,0x562,0x514,0x4d7)+_0x91ce35(0x4c7,0x4f2,0x56c,0x52b))+_0x311785[_0x91ce35(0x44d,0x532,0x535,0x4a4)+'me']+('\x0a-\x20**步数\x20(S'+_0x91ce35(0x501,0x4d3,0x4f6,0x570))+_0x311785['steps']+(_0x4683de(0x172,0x1b4,0x16b,0x17c)+_0x4683de(0x1cb,0x15d,0x1f9,0x24c))+_0x311785['cfg_scale']+(_0x4683de(0x265,0x20c,0x1d8,0x26b)+_0x4683de(0x17f,0x209,0x19b,0x198))+_0x311785[_0x4683de(0x1c0,0x2a5,0x222,0x1da)]+'x'+_0x311785[_0x91ce35(0x565,0x4e9,0x5f7,0x559)]+(_0x4683de(0x265,0x239,0x1f3,0x169)+'eed):**\x20')+(_0xd08250[_0x4683de(0x251,0x310,0x281,0x26a)](_0x311785['seed'],-(-0x1f14+-0x16*0x28+-0x2285*-0x1))?_0xd08250['EyqKW']:_0x311785[_0x4683de(0x299,0x1fd,0x24e,0x1ff)])+(_0x91ce35(0x522,0x531,0x512,0x579)+_0x91ce35(0x598,0x5fc,0x597,0x599))+_0x25f00e[_0x4683de(0x1cc,0x1eb,0x1b3,0x1b5)+_0x91ce35(0x449,0x514,0x451,0x4d5)]+(_0x91ce35(0x512,0x640,0x649,0x5ab)+'*\x20')+_0x311785[_0x91ce35(0x468,0x54d,0x52e,0x4ca)+_0x91ce35(0x4ec,0x4b5,0x4a3,0x4e3)][_0x4683de(0x253,0x24b,0x1d4,0x249)]+(_0x4683de(0xe7,0x198,0x161,0xdd)+_0x91ce35(0x4bf,0x470,0x48f,0x4d8))+_0x311785['override_s'+_0x91ce35(0x4e8,0x4e8,0x4e0,0x4e3)][_0x91ce35(0x5f0,0x5a1,0x5e0,0x594)+_0x4683de(0x265,0x253,0x284,0x2db)+'yers']+(_0x91ce35(0x470,0x430,0x512,0x4c2)+_0x91ce35(0x618,0x51e,0x61f,0x58a)+_0x4683de(0x24f,0x22e,0x22c,0x20e))+_0x311785[_0x91ce35(0x5a4,0x598,0x4e1,0x55c)]+(_0x91ce35(0x50c,0x4ec,0x4cf,0x55d)+_0x91ce35(0x50f,0x4a2,0x4d8,0x4df)+_0x4683de(0xf6,0x180,0x16a,0x14d))+_0x311785[_0x4683de(0x1df,0x152,0x178,0x20f)]+(_0x91ce35(0x51a,0x587,0x596,0x521)+'(Denoising'+_0x91ce35(0x538,0x538,0x49b,0x4d9)+_0x4683de(0x17a,0x178,0x208,0x255))+_0x311785[_0x91ce35(0x536,0x505,0x519,0x591)+_0x91ce35(0x4b9,0x4f4,0x58a,0x51e)]+(_0x91ce35(0x4d3,0x4ce,0x51f,0x507)+'(Restore\x20F'+_0x91ce35(0x56f,0x5d7,0x529,0x56a))+_0x311785[_0x91ce35(0x512,0x56e,0x446,0x4de)+_0x91ce35(0x5aa,0x58f,0x55f,0x583)]+(_0x4683de(0x225,0x1fb,0x26b,0x1fa)+'iler:**\x20')+(_0x25f00e[_0x4683de(0x211,0x20b,0x1f8,0x19a)+_0x91ce35(0x5c4,0x5ed,0x612,0x586)]==_0xd08250[_0x91ce35(0x489,0x4a9,0x470,0x477)])+_0x91ce35(0x4e2,0x43f,0x459,0x4b9);_0xd08250[_0x4683de(0x1f7,0x221,0x234,0x298)](addLog,_0x539e8d),_0xd08250[_0x4683de(0x2b6,0x1d3,0x270,0x2ae)](addLog,_0x4683de(0x1f7,0x276,0x229,0x22c)+'数为'+JSON[_0x91ce35(0x509,0x53e,0x5d3,0x59f)](_0x311785)),console[_0x4683de(0x1d7,0x19d,0x1b7,0x241)]('payload',_0x311785);let _0x33233b=!![];while(_0x33233b){if(window[_0x91ce35(0x503,0x506,0x53d,0x50c)]){if(_0xd08250[_0x91ce35(0x50d,0x4fe,0x4be,0x498)](_0xd08250[_0x4683de(0x31c,0x288,0x28b,0x269)],_0xd08250[_0x4683de(0x1c8,0xdb,0x169,0xd1)])){_0xd08250[_0x91ce35(0x5b3,0x5b6,0x4f3,0x53a)](_0x5eb5bf,'获取模型失败:\x20'+_0x2e94b8[_0x91ce35(0x5aa,0x58f,0x5cc,0x56e)]+'\x20'+_0x494c4f[_0x91ce35(0x466,0x4a0,0x410,0x494)]);throw new _0x148508(_0x4683de(0x1a4,0x244,0x23b,0x2a8)+_0x11b3fc[_0x91ce35(0x607,0x59e,0x4ef,0x56e)]+'\x20'+_0x1a62eb[_0x4683de(0x102,0x120,0x177,0x156)]);}else _0x33233b=![];}else await _0xd08250[_0x4683de(0x199,0x15b,0x196,0x117)](sleep,0x321*-0x8+-0x1078+0x4*0xb5a);};try{if(_0xd08250['zvMus'](_0x25f00e[_0x4683de(0x160,0x119,0x16f,0xff)],_0xd08250[_0x4683de(0x17b,0x156,0x17e,0x1c8)])){_0x311785['url']=_0x23d8f4,console[_0x4683de(0x131,0x1bb,0x1b7,0x243)](_0x4683de(0x1f8,0x223,0x1e2,0x15a)+_0x91ce35(0x4b4,0x546,0x562,0x4fd)+'load',_0x25f00e['st_chatu8_'+_0x91ce35(0x5e5,0x5d0,0x603,0x58e)]),_0x311785['auth']=_0x25f00e[_0x4683de(0x266,0x2cf,0x25f,0x25a)+_0x91ce35(0x526,0x56a,0x56e,0x58e)]?_0x25f00e[_0x4683de(0x272,0x253,0x25f,0x242)+_0x91ce35(0x61c,0x530,0x599,0x58e)]:'';const _0x15f6af=await fetch(_0xd08250[_0x91ce35(0x4f8,0x51a,0x5cb,0x57d)],{'method':_0x91ce35(0x4f8,0x59a,0x51a,0x512),'headers':_0xd08250[_0x4683de(0x221,0x20c,0x1b6,0x1a4)](getRequestHeaders,window[_0x91ce35(0x5cc,0x5d6,0x51d,0x596)]),'body':JSON[_0x4683de(0x1fc,0x317,0x282,0x2b1)](_0x311785)});if(!_0x15f6af['ok']){const _0x35a29e=await _0x15f6af['text']();addLog(_0x4683de(0x1b0,0x249,0x1ca,0x1f1)+_0x4683de(0x16c,0x1c6,0x16c,0x19e)+_0x15f6af[_0x4683de(0x264,0x281,0x251,0x217)]+_0x4683de(0x266,0x1ea,0x25d,0x285)+_0x35a29e),console[_0x91ce35(0x4a0,0x4d3,0x559,0x4d4)](_0x4683de(0x159,0x1fc,0x163,0x1a3),_0x35a29e);throw new Error('请求失败,状态码:\x20'+_0x15f6af[_0x4683de(0x22e,0x1de,0x251,0x2c7)]+_0x91ce35(0x4bb,0x558,0x494,0x4f7)+_0x35a29e);}const _0x2cda13=await _0x15f6af[_0x91ce35(0x495,0x466,0x54a,0x4dc)]();let _0x4ea1e9='';try{if(_0xd08250[_0x91ce35(0x51f,0x51b,0x554,0x59e)](_0x91ce35(0x5b1,0x5af,0x5ee,0x5ae),'ogBPZ')){const _0x37f2c6=JSON['parse'](_0x2cda13);_0x4ea1e9=_0x37f2c6[_0x4683de(0x1c0,0x2b7,0x219,0x25e)][-0xd1c+0x2450+-0x1734];}else _0x1f2643=_0xd08250['bcGyJ'](_0xd08250[_0x4683de(0x1c4,0x1ae,0x1db,0x184)](_0x5e8213,',\x20'),_0x17d81c[_0x4683de(0x1cd,0x2ee,0x263,0x285)+_0x427190+_0x4683de(0x18b,0x180,0x193,0xfd)]);}catch(_0x117df5){_0xd08250['xITRI'](addLog,_0xd08250[_0x4683de(0x143,0x131,0x1ae,0x1d7)]),_0x4ea1e9=_0x2cda13;}const _0x546e04=_0xd08250[_0x4683de(0x243,0x178,0x1db,0x1be)](_0xd08250[_0x91ce35(0x4fc,0x455,0x525,0x4e9)],_0x4ea1e9);return _0xd08250['bnIqt'](addLog,_0xd08250[_0x4683de(0x155,0x205,0x1e8,0x159)]),{'image':_0x546e04,'change':_0xd08250[_0x91ce35(0x52c,0x4e9,0x50a,0x49f)](_0x112366,'')};}else{if(_0xd08250[_0x4683de(0x133,0x1ad,0x18d,0x14d)](_0x4683de(0x152,0x155,0x1dc,0x1ec),_0xd08250[_0x4683de(0x2fe,0x325,0x28a,0x29c)]))_0x4e8fce['initialize'+_0x4683de(0x1f4,0x29f,0x22d,0x298)]&&(_0x4f536b[_0x4683de(0x2ad,0x1dc,0x216,0x1d2)+'ener'](_0xb55109[_0x91ce35(0x47f,0x4bb,0x4ad,0x4e0)+_0x4683de(0x322,0x1f7,0x290,0x202)+'ST'],_0x1e5640),_0x174e0a[_0x4683de(0x174,0x18d,0x194,0x197)+_0x4683de(0x224,0x1e1,0x22d,0x297)]=![],_0xd08250[_0x91ce35(0x557,0x4f2,0x49a,0x4fa)](_0x4c6e3f,_0xd08250[_0x4683de(0x15d,0x1c4,0x1c4,0x14b)]));else{const _0x2718f2=new URL(_0xd08250[_0x4683de(0x222,0x17b,0x1fc,0x1cc)](_0x23d8f4,_0x4683de(0x153,0x197,0x1a7,0x1e7)+_0x4683de(0x16f,0x16e,0x160,0x176)));window[_0x91ce35(0x4cb,0x5a3,0x566,0x50c)]=![];const _0x2a9268=await _0xd08250[_0x91ce35(0x45d,0x42e,0x423,0x4a2)](fetch,_0x2718f2,{'method':'POST','body':JSON['stringify'](_0x311785),'headers':{'Content-Type':'applicatio'+_0x91ce35(0x49f,0x4fe,0x44c,0x493),'Authorization':_0xd08250[_0x91ce35(0x518,0x4bf,0x478,0x481)](getsdAuth)}});window[_0x91ce35(0x538,0x54d,0x50e,0x50c)]=!![];if(!_0x2a9268['ok']){if(_0xd08250['YaImg'](_0xd08250['kojlC'],_0xd08250[_0x91ce35(0x51f,0x430,0x494,0x4a1)])){const _0x21867f=await _0x2a9268[_0x4683de(0x17c,0x1d1,0x1bf,0x23f)]();addLog(_0x4683de(0x146,0x156,0x19e,0x129)+'误。状态码:\x20'+_0x2a9268[_0x91ce35(0x51f,0x5ae,0x539,0x56e)]+'。响应内容:\x20'+_0x21867f),console[_0x91ce35(0x518,0x4e1,0x4b5,0x4d4)](_0x4683de(0x1dd,0xf3,0x163,0x18a),_0x21867f);throw new Error(_0x4683de(0x1eb,0x1bc,0x203,0x2a0)+_0x2a9268[_0x91ce35(0x504,0x599,0x606,0x56e)]+_0x4683de(0x13f,0x1fd,0x1da,0x211)+_0x21867f);}else{const _0x2b39a7=_0x15880e?function(){if(_0x216437){const _0x1a41c2=_0x2e994d['apply'](_0x33a029,arguments);return _0x5a547f=null,_0x1a41c2;}}:function(){};return _0x466902=![],_0x2b39a7;}}const _0x3e116f=await _0x2a9268[_0x91ce35(0x4cd,0x526,0x511,0x54c)]();if(!_0x3e116f['images']||_0xd08250['lHPFX'](_0x3e116f[_0x91ce35(0x51b,0x5cc,0x4ef,0x536)][_0x4683de(0x13b,0x107,0x189,0x1f4)],0x6fe+-0x24f9+0x1dfb)){if(_0xd08250[_0x4683de(0x259,0x185,0x1fe,0x266)](_0xd08250[_0x4683de(0x2f9,0x256,0x293,0x302)],_0xd08250['BAyIn']))throw new Error('API响应中未找到图'+'像数据。');else{_0x2839e8[_0x91ce35(0x4d7,0x562,0x49f,0x50c)]=!![],_0xd08250['KMbeQ'](_0x5621e8,_0x4683de(0x240,0x24f,0x1ce,0x13d)+_0x57429d[_0x91ce35(0x465,0x46e,0x445,0x4bf)]),_0x1b8661[_0x4683de(0x1d3,0x22f,0x1c9,0x1e8)](_0xd08250[_0x4683de(0x2d7,0x257,0x257,0x2ef)],_0x7bf3e4);throw _0x540386;}}const _0x226e73=_0x3e116f[_0x4683de(0x180,0x1ff,0x219,0x1a3)][-0x6e*0x40+-0x494+0x2014],_0x178ae7=_0xd08250['scGtX'](_0xd08250['Kpwua'],_0x226e73);return _0xd08250[_0x4683de(0x185,0x288,0x1f0,0x1ad)](addLog,_0xd08250[_0x91ce35(0x54a,0x4ec,0x54a,0x505)]),{'image':_0x178ae7,'change':_0xd08250[_0x91ce35(0x5c2,0x599,0x5b9,0x545)](_0xf447ec,'')};}}}catch(_0x16de37){window[_0x4683de(0x22f,0x241,0x1ef,0x1f3)]=!![],addLog(_0x4683de(0x20d,0x24a,0x1ce,0x1a3)+_0x16de37[_0x4683de(0x125,0x1cd,0x1a2,0x1d7)]),console['error'](_0xd08250[_0x4683de(0x23d,0x275,0x257,0x2af)],_0x16de37);throw _0x16de37;}}async function sdGenerate(_0x2123b5){const _0x15acd2={'CyKmF':_0x4f3683(0x278,0x1a0,0x264,0x204),'qpfyx':function(_0x173a81,_0x229373){return _0x173a81(_0x229373);},'bbavf':function(_0x11d757,_0x34f926){return _0x11d757!==_0x34f926;},'xhOTE':_0x528042(0x178,0x164,0x17e,0x1b0),'nyTnd':_0x528042(0x13e,0xfd,0x150,0xe6),'izYmI':function(_0x28d566,_0x5aaccf){return _0x28d566(_0x5aaccf);},'CkMno':function(_0x412a56,_0x41778c){return _0x412a56!=_0x41778c;},'jPDyI':function(_0x5bae58,_0xa8b885){return _0x5bae58(_0xa8b885);},'HWjxU':function(_0x51e93e,_0x391f3f){return _0x51e93e(_0x391f3f);},'vvJrN':function(_0x1beb9a,_0x54cfc7){return _0x1beb9a(_0x54cfc7);},'cnWwn':'Error\x20gene'+_0x4f3683(0x1b2,0x174,0x26c,0x1f8)+_0x4f3683(0x14c,0x1a7,0xe3,0x15f),'XajdP':function(_0x27099f,_0x54179a){return _0x27099f(_0x54179a);}},{id:_0x5e2fbc,prompt:_0x2ee22a,width:_0x19690a,height:_0x33b980,change:_0x46c937}=_0x2123b5;function _0x528042(_0x4d6fce,_0x21593c,_0x294fc6,_0x154f55){return _0x675e(_0x21593c- -0xc5,_0x4d6fce);}function _0x4f3683(_0xa99483,_0x57da26,_0x430fcf,_0x3221ec){return _0x675e(_0x3221ec- -0x29,_0x430fcf);}addLog(_0x4f3683(0x1a8,0x1a8,0x21e,0x1b2)+'ID:\x20'+_0x5e2fbc+(_0x528042(0x11d,0x110,0x15b,0xd9)+':\x20')+_0x2ee22a+(_0x46c937?'\x20-\x20Change:'+'\x20'+_0x46c937:''));if(_0x46c937&&_0x46c937[_0x4f3683(0x249,0x159,0x177,0x1f1)](_0x15acd2[_0x528042(0xe9,0x10c,0x166,0xc5)])){_0x15acd2[_0x528042(0x22d,0x1ab,0x1c4,0x19a)](bananaGenerate,_0x2123b5);return;}try{if(_0x15acd2[_0x528042(0x212,0x1bd,0x147,0x13f)](_0x15acd2[_0x528042(0x10f,0xed,0x98,0xcc)],_0x15acd2['nyTnd'])){const {image:_0x1016c9,change:_0x55b386}=await _0x15acd2[_0x4f3683(0x1a2,0x165,0x125,0x1b0)](generateSDImage,{'prompt':_0x2ee22a,'width':_0x19690a,'height':_0x33b980,'change':_0x46c937});if(_0x15acd2['CkMno'](extension_settings[extensionName]['cache'],'0')){const _0x4febab={};_0x4febab[_0x4f3683(0x1f6,0x1c0,0x250,0x1f3)]=_0x55b386,await setItemImg(_0x2ee22a,_0x1016c9,_0x4febab),_0x15acd2[_0x528042(0x1a6,0x12a,0x141,0x164)](addLog,_0x528042(0xf7,0x148,0xc2,0xd6)+'or\x20prompt:'+'\x20'+_0x2ee22a);}else _0x15acd2[_0x528042(0xce,0x14d,0x112,0x11d)](addLog,_0x4f3683(0xef,0x1fe,0x16d,0x16a)+'库');const _0x15c744={};_0x15c744['id']=_0x5e2fbc,_0x15c744[_0x528042(0x12d,0x197,0x156,0x1b3)]=!![],_0x15c744[_0x528042(0x174,0x1b3,0x21e,0x1c0)]=_0x1016c9,_0x15c744[_0x4f3683(0xa8,0x18a,0x19f,0x141)]=_0x2ee22a,_0x15c744[_0x528042(0x17a,0x157,0x1e1,0x1ea)]=_0x55b386,eventSource[_0x4f3683(0x139,0x208,0x1d6,0x1d0)](EventType[_0x528042(0xea,0x100,0xf3,0xbb)+_0x4f3683(0xe5,0x19e,0x1be,0x178)+_0x4f3683(0x247,0x1a9,0x254,0x1c7)],_0x15c744),_0x15acd2[_0x4f3683(0x129,0x206,0x114,0x1a4)](addLog,_0x528042(0xa1,0xcc,0x4f,0x7f)+_0x528042(0x1ad,0x154,0x1ed,0x141)+_0x5e2fbc+')');}else{const _0x23b639=_0x1457fd[_0x4f3683(0x263,0x1a8,0x213,0x232)](_0x3d44bd,arguments);return _0x7b45d5=null,_0x23b639;}}catch(_0x5c6ff8){const _0x3c6d84=_0x4f3683(0x282,0x1d7,0x1b9,0x1e8)+_0x4f3683(0x197,0x1d8,0x106,0x14b)+_0x5e2fbc+_0x528042(0xfd,0x146,0x194,0xc7)+_0x5c6ff8['message'];_0x15acd2[_0x4f3683(0x16c,0x1b9,0x183,0x1a4)](addLog,_0x528042(0x100,0x170,0x106,0xd6)+_0x3c6d84),console[_0x528042(0x150,0x106,0x141,0xe1)](_0x15acd2[_0x528042(0x157,0xd4,0x11e,0xdd)],_0x5c6ff8);const _0xa9360c={};_0xa9360c['id']=_0x5e2fbc,_0xa9360c[_0x4f3683(0x21f,0x258,0x20a,0x233)]=![],_0xa9360c[_0x4f3683(0x1d4,0x18f,0x1af,0x1a2)]=_0x5c6ff8[_0x4f3683(0xfd,0x164,0x181,0x17b)],_0xa9360c[_0x528042(0x61,0xa5,0x107,0x88)]=_0x2ee22a,eventSource['emit'](EventType[_0x528042(0xd9,0x100,0x140,0x149)+_0x528042(0xd5,0xdc,0xce,0x150)+'NSE'],_0xa9360c),_0x15acd2[_0x4f3683(0x1c0,0x236,0x22a,0x20a)](addLog,_0x528042(0xf5,0x17b,0x148,0x169)+_0x4f3683(0x221,0x1d8,0x228,0x1f0)+_0x5e2fbc+')');}}function initializeSDListener(){function _0x53a3b6(_0x178e9d,_0x1e6217,_0x3f9c6f,_0x1015e9){return _0x675e(_0x3f9c6f-0xde,_0x1015e9);}const _0xfb514c={'DvhUz':function(_0x2067f8,_0x47a297){return _0x2067f8(_0x47a297);},'vdPSj':_0x53a3b6(0x302,0x302,0x33e,0x3bd)+_0x3a8d22(-0xd3,-0x5b,-0x71,-0x96)};eventSource['on'](EventType[_0x53a3b6(0x28d,0x24a,0x2a3,0x253)+'MAGE_REQUE'+'ST'],sdGenerate);function _0x3a8d22(_0xd64880,_0x2945aa,_0x319513,_0x4428aa){return _0x675e(_0x4428aa- -0x222,_0x2945aa);}_0xfb514c[_0x53a3b6(0x204,0x2cf,0x284,0x21f)](addLog,_0xfb514c[_0x53a3b6(0x302,0x335,0x2b5,0x33a)]);}export async function replaceWithSd(){function _0xf6c21f(_0x283e40,_0x23ef6b,_0x4daad4,_0x4d7aaf){return _0x675e(_0x4d7aaf-0x28d,_0x283e40);}const _0x485537={'xYHQb':function(_0x2f8ec3,_0x1a01e3){return _0x2f8ec3(_0x1a01e3);},'LFENZ':_0xca4be6(0xdc,0xde,0x58,0x99)+_0xca4be6(0x171,0x15a,0x1b5,0x19d)+_0xca4be6(0x13f,0xc1,0xa2,0xdd),'sdRBK':_0xca4be6(0x246,0x1be,0x232,0x18c)+'+$','rQbgq':function(_0xd23060,_0x5e8404){return _0xd23060==_0x5e8404;},'GpkJZ':function(_0x27254a,_0x35827a){return _0x27254a!==_0x35827a;},'CrvZj':_0xf6c21f(0x508,0x538,0x51b,0x4f0),'nbnyz':_0xf6c21f(0x4a5,0x3fd,0x47f,0x496),'GwAsC':function(_0x84e362,_0x2a44e3){return _0x84e362===_0x2a44e3;},'SXooD':_0xf6c21f(0x43f,0x47d,0x464,0x403),'XxvhN':_0xca4be6(0x168,0x18d,0x1e4,0x207),'dxrel':function(_0xcffdd0){return _0xcffdd0();}};function _0xca4be6(_0x50b8b1,_0x524a7e,_0x23af1d,_0x476125){return _0x675e(_0x524a7e- -0xc7,_0x50b8b1);}if(_0x485537[_0xca4be6(0x12a,0x145,0x192,0x12b)](extension_settings[extensionName][_0xf6c21f(0x3fb,0x3e6,0x3ff,0x40e)],'sd')){if(_0x485537[_0xca4be6(0x1d8,0x15c,0x106,0x1bf)](_0x485537[_0xf6c21f(0x46c,0x4b1,0x545,0x4f3)],_0x485537[_0xf6c21f(0x5b9,0x5b1,0x569,0x51b)])){if(!window[_0xf6c21f(0x46a,0x3e0,0x3c9,0x423)+_0xf6c21f(0x538,0x551,0x556,0x4bc)]){if(_0x485537[_0xf6c21f(0x431,0x4cc,0x3fe,0x457)](_0x485537['SXooD'],_0x485537[_0xf6c21f(0x4e1,0x4fb,0x571,0x514)])){const _0x266ed5='SD生图流程捕获到异'+_0xca4be6(0x20,0xad,0xc1,0xfd)+_0x425b1a+'):\x20'+_0x426690[_0xf6c21f(0x396,0x41c,0x3d4,0x431)];_0x485537[_0xca4be6(0x1c9,0x1ca,0x1a5,0x14a)](_0x30cebc,_0xf6c21f(0x49b,0x55a,0x462,0x4c2)+_0x266ed5),_0x1117cc[_0xca4be6(0xc3,0x104,0x7c,0x7a)](_0x485537['LFENZ'],_0xbf448f);const _0x256870={};_0x256870['id']=_0x13f46,_0x256870[_0xf6c21f(0x4fa,0x499,0x4af,0x4e9)]=![],_0x256870['error']=_0x27c8ae[_0xca4be6(0x146,0xdd,0x67,0x144)],_0x256870[_0xca4be6(0xf2,0xa3,0x13,0xc5)]=_0x201ff3,_0x7b0dec['emit'](_0x5d024c[_0xf6c21f(0x4bb,0x4c8,0x3cd,0x452)+_0xca4be6(0x118,0xda,0xa4,0x115)+_0xf6c21f(0x4ce,0x3f6,0x475,0x47d)],_0x256870),_0x26486c(_0xca4be6(0x119,0x179,0x17c,0x152)+_0xca4be6(0x1ef,0x152,0x112,0x117)+_0x4c2122+')');}else window[_0xf6c21f(0x3a5,0x46f,0x419,0x423)+_0xca4be6(0x1c4,0x168,0x150,0xe4)]=!![],initializeSDListener();}_0x485537[_0xca4be6(0x205,0x184,0x1ec,0xf1)](initializeImageProcessing);}else return _0x2462e4['toString']()['search'](hpHSaG[_0xca4be6(0x140,0x126,0x1c3,0x10d)])['toString']()[_0xca4be6(0x2a,0xa0,0xff,0x21)+'r'](_0x3448c5)['search'](_0xca4be6(0x195,0x1be,0x160,0x21f)+'+$');}else window[_0xca4be6(0x96,0xcf,0xba,0x66)+_0xf6c21f(0x4f4,0x521,0x50d,0x4bc)]&&(eventSource['removeList'+_0xf6c21f(0x402,0x44e,0x460,0x49b)](EventType[_0xca4be6(0x146,0xfe,0x74,0x13c)+_0xf6c21f(0x57b,0x5a4,0x556,0x51f)+'ST'],sdGenerate),window['initialize'+_0xf6c21f(0x516,0x4e5,0x482,0x4bc)]=![],_0x485537[_0xca4be6(0x1b5,0x1ca,0x1c0,0x1ce)](addLog,'SD\x20生图事件监听器'+_0xf6c21f(0x458,0x4b5,0x48f,0x475)));}
//# sourceMappingURL=http://localhost:8000/sd.js.map