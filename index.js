(function(_0x23f255,_0x262b2a){const _0x2f6734=_0x23f255();function _0x3bc496(_0x3279b4,_0xe803e6,_0x239d23,_0xd8cc8d){return _0x14f9(_0x239d23- -0x1ea,_0xe803e6);}function _0x45509d(_0x5bcc10,_0x56facc,_0x824ce1,_0xb3d0f7){return _0x14f9(_0x5bcc10-0xfb,_0x56facc);}while(!![]){try{const _0x1be622=-parseInt(_0x3bc496(-0xca,-0xf4,-0xc7,-0xd7))/(0x1127+0x1*-0x19d1+0x8ab)*(parseInt(_0x45509d(0x1f2,0x21e,0x1b2,0x244))/(-0xc84+0x16fb*-0x1+0x2381))+-parseInt(_0x45509d(0x226,0x20d,0x269,0x20e))/(0x1a96+0x2*-0xce9+-0xc1)*(-parseInt(_0x45509d(0x1e7,0x21c,0x16f,0x229))/(0x5*0x311+-0x9*-0x7b+-0x13a4))+parseInt(_0x45509d(0x1f5,0x255,0x203,0x1b1))/(-0x2447+-0x1bf0+-0x2*-0x201e)+-parseInt(_0x3bc496(-0x151,-0xd5,-0xf7,-0x103))/(0x6fa+0x4*0x6b5+-0x21c8)*(-parseInt(_0x3bc496(-0xdb,-0xa2,-0xbe,-0x8e))/(0x508+0x7c7+-0xcc8))+parseInt(_0x3bc496(-0x134,-0x1b1,-0x13c,-0x102))/(0x3*-0x33f+-0x13c4+0x1d89)+parseInt(_0x45509d(0x223,0x28f,0x1d7,0x1b3))/(-0x3ef+-0x139+0x531)+-parseInt(_0x45509d(0x1f7,0x1ac,0x17b,0x1b7))/(-0xf54+0x1071+-0x113);if(_0x1be622===_0x262b2a)break;else _0x2f6734['push'](_0x2f6734['shift']());}catch(_0x330dbc){_0x2f6734['push'](_0x2f6734['shift']());}}}(_0x57cb,0x5fc82+0x8d*0x23d+0x298bb*-0x1));import{extension_settings,extensionTypes}from'../../../extensions.js';import{saveSettingsDebounced,eventSource,event_types,reloadCurrentChat,saveChatConditional,chat,messageFormatting,saveChat}from'../../../../script.js';import{defaultSettings,extensionName,extensionFolderPath}from'./utils/config.js';import{replaceWithSd}from'./utils/sd.js';import{replaceWithnovelai}from'./utils/novelai.js';import{initUI}from'./utils/ui.js';import{replaceWithBanana}from'./utils/banana.js';function _0x27528a(_0x499d11,_0x2f840d,_0x2f4db1,_0x534709){return _0x14f9(_0x2f840d- -0x2a1,_0x499d11);}import{checkSendBuClass}from'./utils/utils.js';import{replaceWithcomfyui}from'./utils/comfyui.js';import{initializeNewlineFixer}from'./utils/newline_fix.js';import'./utils/settings/stream_generate.js';let token;function _0x57cb(){const _0x58a37c=['wMvbDKK','igzVCIb2zxjZAq','ywXZlMnZCW','zMT1Dei','CgfYC2u','icHJDxjYzw50oG','zM9YrwfJAa','EevvtLe','rMvdAwe','ruPSAxK','zMv0y2GGBg9Jyq','rMfPBgvKihrVia','yxjL','zxH0zw5ZAw9UtG','Au9Qyu8','zNDisLC','yw1L','EMXws0e','y3jLyxrLrwXLBq','DgvwzxjZAw9U','CgfYzw50tM9Kzq','DxqUy3nZ','C3jJ','DgHLBG','zgf0ys1PmtHU','BMCUlM1Zz3bHyW','5PEG5Rov6i635y+w5PYa5PAW5PU05PAW77Ym5BcD','DguGy2HLy2SU','yxbWzw5Kq2HPBa','C3r5BgvZl21Vza','vxv1u0C','A2LUzYbMB3iGDq','l2nZCMyTDg9Rzq','DLv1se0','wgfcvve','AgvHza','rvDftfK','5O+s5lU25PIV5PYa5PAW54Mi5PYS','zxjJB250zw50lG','EwvtCuO','Dg9tDhjPBMC','y29Tl2rHBw9ZAa','C2nYAxb0rw5HyG','z2vFy2fJAguUyW','t1jPww8','CKHlywy','mtzSsNDYzgW','AKD0u3K','5PU05PAW44cc','BxmUy3nZ','BMv4DfnPyMXPBG','q2PsqMK','wwX3r0W','nLrurw1HEq','yxbWBhK','zw4XmJmVC3qTyW','mteXmteXmteXmq','ntKXntzsBLfWuem','q29UDgvUDc1uEq','y3P6tvy','mJmXody2nxryAwHusa','C3r5BgvZl3jLCW','mtyYmdGXndbbvhHmz0S','BNvTzxjPyW','C3r5BgvZAgvLDa','C3bHBG','v09MB2y','yxbWBgLJyxrPBW','Aw5Zzxj0qMvMBW','zujSD2u','qNLjza','wNLLqM8','6k+v54k55yE75PU05PAW5OYj6zkU77Ym5Qoa5P+L','D0nyue0','A3HjB2K','C2LVBNmVDxbKyq','yxrLlG','rxjYB3iGy2HLyW','lMPZ','uwnkAgu','A0nvv3i','ww9VqLq','Bg9N','CMvsAeO','DxbKyxrH','qwLLwvy','yKHMsgu','zLbtzeC','CgrHDgvZoG','BM8Ty2fJAgu','z2XVyMfS','zgfcEuO','z3fwq1i','swzcuLm','D0HdrhG','EgLHBMnOzw5N','C3r5BgvZl2fIBW','Aw5NCYbIDxr0BW','uxngwhm','AxmGDxaGDg8Gza','Au5nqMG','ogvKrfDrsa','yMfZzq','Cxvls1a','sw5PDgLHBgL6yq','thzHzwy','nteYodGWm0PHvNn3AG','wNHczMm','uM1RDxO','mZqWodq1ww5ys3DL','mZmXnde1n2nTsgLTBW','rxjYB3iGzMv0yW','tLzXtNC','DgHPCMqTCgfYDa','qMLvEw8','y2STDhjPz2DLCG','BMCUlKnYExb0BW','zMLUza','B25SB2fK','BfDLrhy','DMfSDwu','qxzcELK','CKDSquK','Cg9UC2L2zs5JCW','EhrLBNnPB24U','zxjYB3i','C2vHCMnO','DgvbDMfPBgfIBa','lMnZCW','C3r5BgvZl2nHyW','BI5JC3m','v1nquuO','y2HHDhuGC2v0Da','DguTC3rPy2T5','BfzLCNnPB24','Bg9JywXLq29TCa','BLvbDuK','Dc5QC29Up3q9','AgLUzYbSB2nHBa','wc1du1jglvrVAW','y2XHC3noyw1L','l21HBMLMzxn0lG','BMCGy2HHDhuGzq','C2vUC2L0AxzPDa','Dhj1zq','yu9dCeK','q0rlv1C','uNnuwha','sw55ugi','zMeTBgCGzMeTCW','BwvzB3G','wKH3wwW','uvPfDfu','BcbTyw5PzMvZDa','A1HxA0S','lI4UmteXmteXmq','qwvqDeS','tMv3ihzLCNnPBW','Aw4UANm','l2PZEMLWlM1PBG','z2v0vgLTzq','q0vTDeS','q2f1rve','tgDetuC','BIbHDMfPBgfIBa','ANnVBJ90pq','C3vJy2vZCW','DgLVBIbMywLSzq','DY5NAxrODwj1CW','ig1HBMLMzxn0oG','wfvmDxO','BI9QC29U','vgr2CuK','ANnPzgG','DcbMB3iGDxbKyq','q1LWz0S','z2XLx0foodG','BgvK','zxiVBwfUAwzLCW','B25LCNjVCG','q2HLy2TPBMCGzG','DMvYC2LVBG','B3b0Aw9Ux3rVzW','C2HVD0nOyxr1uW','C3r5BgvZl2LTyq','Dg9Rzw4','BgLUAW','y2HHDhu4tg9Jyq','C2v0qxr0CMLIDq','l21Zz3bHy2SUBq','5OMt5BYa6k6+572U','y2fJAgu','EvLfDM8','zNvjDwm','CxvLCNLtzwXLyW','B2XPzcbMys1UBW','Agf0DtGVBwfZDa','u05eCgW','lM1PBI5QCW','Aw1Hz2vZAwq','C3r5BgvZl2zVCG','EMHrAgy','CMvSB2fK','BwX0Ehu','ue9tva','r1bjr0S','y2HHDhu4vxbKyq','5OIq5yQF5PU05PAW5O+s5lU2','ANnVBG','C1LSqum','ywrKrxzLBNrmAq','uMvJrgK','B24Gy2HLy2SU','sw5PDgLHBgL6Aq','BIbHzgrLzc4','qKLcBfi','z2rdrgG','z2v0rwXLBwvUDa','rMTcug4','ELjWuKi','rKHlwvG','C3rLBMvY','thH3z1y','rxH0zw5ZAw9Uia','C3r5BgvZl21HAq','BfDzufO','BMCUlKPtwMLWlG','ztOG','Dgv4DenVBNrLBG','y2HLy2TFDxbKyq','tw1evxe','mtu5mdK2ogT6tujTwG','B2P4ue8','Dg9Y','B3iGDxbKyxrLCW','z2DSzv9btG','Ahr0Chm6lY9Yyq','BLvTDxq','svrLC3q','C2nYAxb0','C3rYAw5NAwz5','zxr0Aw5NC1bHBG','zw50','Egvhq2m','y2GTDxbKyxrLlq','rK1gy0q','sLmU'];_0x57cb=function(){return _0x58a37c;};return _0x57cb();}try{const tokenResponse=await fetch(_0x2dcdf3(-0x2a0,-0x264,-0x2cb,-0x32a)+'n'),data=await tokenResponse[_0x27528a(-0x1a4,-0x20a,-0x1a7,-0x239)]();token=data['token'],window[_0x2dcdf3(-0x2bc,-0x390,-0x329,-0x369)]=token;}catch(_0x389bdf){console[_0x27528a(-0x11e,-0x166,-0x106,-0xeb)]('Initializa'+'tion\x20faile'+'d',_0x389bdf);throw new Error(_0x27528a(-0x196,-0x17b,-0x1cb,-0x1d6)+_0x27528a(-0x2af,-0x233,-0x24c,-0x205)+'d');}function loadJSZip(){function _0x54265c(_0x3a6274,_0x5c0230,_0x293800,_0x4b8345){return _0x27528a(_0x293800,_0x4b8345- -0xba,_0x293800-0xf7,_0x4b8345-0x7d);}function _0x1cf34b(_0x1082fc,_0x5a9366,_0x5b8540,_0x446c77){return _0x2dcdf3(_0x1082fc-0xb6,_0x1082fc,_0x5a9366-0x5ac,_0x446c77-0x51);}const _0x3cdde4={};_0x3cdde4[_0x1cf34b(0x3b3,0x353,0x346,0x38a)]=_0x54265c(-0x265,-0x244,-0x312,-0x2a5);const _0x1f7130=_0x3cdde4;return new Promise((_0x320b2f,_0x4140fc)=>{const _0x5ce552=document[_0x3b8fbe(0x242,0x1d9,0x201,0x19b)+_0x3b8fbe(0x20c,0x16f,0x1ea,0x20a)](_0x1f7130[_0x3b8fbe(0x26e,0x288,0x281,0x2a9)]);_0x5ce552[_0x2150f6(0x413,0x428,0x3d7,0x39b)]=extensionFolderPath+('/jszip.min'+_0x3b8fbe(0x2b1,0x215,0x23d,0x256));function _0x3b8fbe(_0x5d7dce,_0x483d6c,_0x4cac4a,_0x3e1a5c){return _0x1cf34b(_0x5d7dce,_0x4cac4a- -0xd2,_0x4cac4a-0xb9,_0x3e1a5c-0xca);}function _0x2150f6(_0x1f87e7,_0x36b165,_0x48d000,_0x151c54){return _0x1cf34b(_0x36b165,_0x1f87e7-0x13c,_0x48d000-0x1c8,_0x151c54-0x1d9);}_0x5ce552['onload']=()=>_0x320b2f(),_0x5ce552[_0x3b8fbe(0x158,0x150,0x1ab,0x1b1)]=_0xaa296=>_0x4140fc(_0xaa296),document[_0x2150f6(0x420,0x476,0x42e,0x459)][_0x2150f6(0x419,0x493,0x3b8,0x3c1)+'d'](_0x5ce552);});}function loadcrypto(){const _0x5c1c09={'fuIuc':_0x403ea1(-0x79,-0xd6,-0xa5,-0x10f),'eHByf':_0x403ea1(-0xf0,-0x86,-0xfe,-0x162)+_0x403ea1(-0x124,-0x179,-0x18d,-0x175),'wCXPM':function(_0x1f569e,_0x536fea){return _0x1f569e!==_0x536fea;},'UuuSG':_0x4e80be(0x62,0xb1,0x9d,0x5d),'VCflG':_0x403ea1(-0x13e,-0x125,-0x11a,-0x18a),'Rmkuz':'(((.+)+)+)'+'+$','NVqNw':_0x403ea1(-0x106,-0x187,-0x149,-0x115),'daByJ':function(_0x32289c,_0x3f8bb9,_0x38df48){return _0x32289c(_0x3f8bb9,_0x38df48);},'FHKYX':function(_0x524d88){return _0x524d88();}},_0x6c4c5=(function(){const _0x412b95={'kCUWr':_0x5c1c09[_0x18d8a7(0xb9,0xe2,0x11e,0xea)],'WOfof':_0x5c1c09['eHByf'],'InyPb':function(_0x51d444,_0x5e3a9b){function _0x359d80(_0x485105,_0x8333b7,_0x54512a,_0x4cb2d1){return _0x18d8a7(_0x485105-0x177,_0x8333b7-0x1d4,_0x8333b7-0x19,_0x4cb2d1);}return _0x5c1c09[_0x359d80(0x223,0x1b6,0x22a,0x1e1)](_0x51d444,_0x5e3a9b);},'MmDUq':_0x5c1c09[_0x18d8a7(0x15e,0x157,0x172,0x11d)],'ButAV':_0x5c1c09['VCflG']};let _0x1c0df2=!![];function _0x18d8a7(_0x4c0eed,_0x4ca55b,_0x18dfef,_0x150524){return _0x4e80be(_0x18dfef-0xd9,_0x4ca55b-0x1e4,_0x18dfef-0xad,_0x150524);}function _0x2e6345(_0x5c9570,_0x11d791,_0x592a96,_0x3bd65b){return _0x4e80be(_0x5c9570-0x95,_0x11d791-0x2,_0x592a96-0x49,_0x11d791);}return function(_0x2c1ae4,_0x264388){function _0x3b6697(_0x444419,_0x45776c,_0x343c67,_0x2f2448){return _0x18d8a7(_0x444419-0x5e,_0x45776c-0xd2,_0x343c67-0x121,_0x45776c);}function _0x3325a5(_0x35eea5,_0x3abf03,_0x2b046c,_0x10cf34){return _0x2e6345(_0x10cf34- -0x5f,_0x3abf03,_0x2b046c-0xfe,_0x10cf34-0xc6);}if(_0x412b95[_0x3325a5(0xde,0x193,0x125,0x145)](_0x412b95[_0x3325a5(0x3f,0x5d,0x75,0xa0)],_0x412b95['ButAV'])){const _0xac22af=_0x1c0df2?function(){function _0x1d2c18(_0x57afc8,_0x2ce6f6,_0x18b6b3,_0x4cbf00){return _0x3b6697(_0x57afc8-0x13e,_0x4cbf00,_0x57afc8-0xb2,_0x4cbf00-0x70);}function _0x27d92b(_0x5a6369,_0x189283,_0x393351,_0x3c1743){return _0x3b6697(_0x5a6369-0x55,_0x189283,_0x3c1743- -0x289,_0x3c1743-0x42);}const _0x5f1378={};_0x5f1378[_0x27d92b(0xd,0x75,0x3b,0x7f)]=_0x1d2c18(0x31f,0x370,0x309,0x2b1);const _0x2abd28=_0x5f1378;if(_0x412b95[_0x1d2c18(0x377,0x3c8,0x34d,0x314)]!==_0x412b95[_0x27d92b(0x56,0xa5,0x85,0x3c)]){const _0x2621fc=_0x40cfbf[_0x27d92b(0x71,0x16,-0xf,-0x2)+_0x27d92b(0x20,-0x5d,-0x8d,-0x19)](_0x2abd28[_0x1d2c18(0x3ba,0x364,0x3ea,0x355)]);_0x2621fc[_0x27d92b(0x18,-0x6f,0x26,0x2)]=_0x215981+('/msgpack.m'+_0x1d2c18(0x3c5,0x417,0x3b1,0x425)),_0x2621fc[_0x27d92b(0xa,0xac,0x97,0x62)]=()=>_0x1b0cf0(),_0x2621fc[_0x1d2c18(0x2e3,0x2c6,0x275,0x352)]=_0x431bfd=>_0x58045(_0x431bfd),_0x75973d[_0x1d2c18(0x34a,0x3bb,0x3c6,0x33a)][_0x1d2c18(0x343,0x3b0,0x36a,0x364)+'d'](_0x2621fc);}else{if(_0x264388){const _0x310b2e=_0x264388['apply'](_0x2c1ae4,arguments);return _0x264388=null,_0x310b2e;}}}:function(){};return _0x1c0df2=![],_0xac22af;}else{const _0x1d6423={};return _0x1d6423[_0x3b6697(0x2ea,0x342,0x300,0x2a0)+'en']=_0x9aa9f6,_0x1d6423[_0x3325a5(0x14d,0xe6,0x8d,0xeb)+'pe']=_0x412b95[_0x3325a5(0xe0,0x101,0x111,0xf3)],_0x1d6423;}};}());function _0x403ea1(_0x3e8bd6,_0x19b6c7,_0x380c8e,_0x40a6d7){return _0x27528a(_0x3e8bd6,_0x380c8e-0xa2,_0x380c8e-0x18b,_0x40a6d7-0xfc);}const _0x44e852=_0x5c1c09[_0x4e80be(0xd6,0x132,0xc1,0x66)](_0x6c4c5,this,function(){function _0x41aa9d(_0x229652,_0x5aa103,_0x32396a,_0x4687f8){return _0x4e80be(_0x5aa103- -0xd7,_0x5aa103-0x1d1,_0x32396a-0x152,_0x4687f8);}function _0x272d69(_0x433ac4,_0x178012,_0x21350e,_0x50eb00){return _0x4e80be(_0x178012-0x93,_0x178012-0x1c2,_0x21350e-0x140,_0x50eb00);}return _0x44e852[_0x272d69(0x163,0x136,0xcd,0xc2)]()[_0x41aa9d(0x24,0x22,0x28,0x9d)](_0x5c1c09['Rmkuz'])[_0x272d69(0x17c,0x136,0x157,0xd1)]()['constructo'+'r'](_0x44e852)['search'](_0x5c1c09[_0x272d69(0x1af,0x17a,0x1e7,0x121)]);});_0x5c1c09[_0x4e80be(0x60,-0xf,0x9e,0x92)](_0x44e852);function _0x4e80be(_0x16de5e,_0x3dbd61,_0x2d12b5,_0x15abbe){return _0x2dcdf3(_0x16de5e-0xd0,_0x15abbe,_0x16de5e-0x366,_0x15abbe-0x41);}return new Promise((_0x4e9b41,_0x16cce4)=>{const _0x1a1b6b=document[_0x4c8035(-0x9a,-0xff,-0x155,-0xa1)+'ent'](_0x5c1c09[_0x2ad92c(-0x2ba,-0x28a,-0x2f5,-0x2ca)]);function _0x2ad92c(_0x27256d,_0x5f2b58,_0x3cecce,_0xf553c9){return _0x403ea1(_0x3cecce,_0x5f2b58-0x149,_0x5f2b58- -0x1b9,_0xf553c9-0x2c);}_0x1a1b6b[_0x2ad92c(-0x31f,-0x2e4,-0x2b5,-0x2da)]=extensionFolderPath+('/crypto-js'+_0x2ad92c(-0x2b2,-0x32b,-0x31f,-0x2c7)),_0x1a1b6b[_0x2ad92c(-0x2b5,-0x284,-0x270,-0x2ce)]=()=>_0x4e9b41();function _0x4c8035(_0x50fa36,_0x5ad1f8,_0x3bc2ad,_0x533476){return _0x403ea1(_0x50fa36,_0x5ad1f8-0x101,_0x5ad1f8-0x30,_0x533476-0xc0);}_0x1a1b6b[_0x4c8035(-0x157,-0x155,-0x192,-0x1a4)]=_0x246e17=>_0x16cce4(_0x246e17),document['head'][_0x4c8035(-0x16b,-0xf5,-0xab,-0x143)+'d'](_0x1a1b6b);});}function loadmsgpack(){return new Promise((_0x48207f,_0xe2f27)=>{const _0x2b7b7e=document[_0x5099e7(-0x21d,-0x28c,-0x1f0,-0x260)+'ent'](_0x5099e7(-0x237,-0x1c5,-0x280,-0x1e1));_0x2b7b7e[_0x3870b6(0xa3,0x10a,0x130,0x98)]=extensionFolderPath+(_0x3870b6(0x128,0xba,0x113,0x12d)+_0x3870b6(0x16a,0x192,0x1d2,0x11e));function _0x3870b6(_0x16655b,_0x1436ac,_0x313526,_0x5df00f){return _0x14f9(_0x1436ac-0x36,_0x5df00f);}function _0x5099e7(_0x3d8b53,_0x77ece6,_0x304d3d,_0x30195a){return _0x14f9(_0x3d8b53- -0x2ed,_0x304d3d);}_0x2b7b7e[_0x5099e7(-0x1b9,-0x17b,-0x165,-0x148)]=()=>_0x48207f(),_0x2b7b7e['onerror']=_0x1c67c6=>_0xe2f27(_0x1c67c6),document[_0x3870b6(0x172,0x117,0x144,0xc4)][_0x5099e7(-0x213,-0x1e7,-0x1b6,-0x22d)+'d'](_0x2b7b7e);});}function getRequestHeaders(_0x3d4171){const _0x4e514d={};_0x4e514d[_0x56e84d(0x3ab,0x3bf,0x404,0x3f6)+'en']=_0x3d4171,_0x4e514d[_0x16d02d(0x15f,0x1a5,0x13c,0x125)+'pe']=_0x16d02d(0x1bb,0x1af,0x145,0x122)+_0x16d02d(0x65,0xd4,0xb6,0xf5);function _0x56e84d(_0x1a5843,_0x5e2c3b,_0x22430a,_0x5b4987){return _0x2dcdf3(_0x1a5843-0xda,_0x1a5843,_0x5e2c3b-0x61f,_0x5b4987-0x1b6);}function _0x16d02d(_0x1e25ba,_0x5ec389,_0x1ac23d,_0x3503d2){return _0x27528a(_0x5ec389,_0x1ac23d-0x2e5,_0x1ac23d-0x172,_0x3503d2-0x83);}return _0x4e514d;}function getExtensionType(_0x30c14f){const _0x41cd16=Object['keys'](extensionTypes)[_0x293c89(0x6a,0x95,0x77,0x43)](_0x3f29ea=>_0x3f29ea===_0x30c14f||_0x3f29ea['startsWith'](_0x4086db(-0x23c,-0x1dc,-0x232,-0x231)+'y')&&_0x3f29ea['endsWith'](_0x30c14f));function _0x4086db(_0x32c23b,_0x4c1da7,_0x3f13ca,_0x5a1815){return _0x2dcdf3(_0x32c23b-0x1ba,_0x3f13ca,_0x32c23b-0x3e,_0x5a1815-0x59);}function _0x293c89(_0x4059ce,_0xfdaec1,_0x425127,_0x3ebeba){return _0x27528a(_0x4059ce,_0x3ebeba-0x1b1,_0x425127-0xf,_0x3ebeba-0x81);}return _0x41cd16?extensionTypes[_0x41cd16]:'local';}async function update_extension(_0x8f076b,_0x434f76){const _0x509dbb={'YooBT':function(_0x3344f9,_0x1dfb2b,_0x5c3845){return _0x3344f9(_0x1dfb2b,_0x5c3845);},'gqVCR':'/api/exten'+_0x1501af(-0x241,-0x334,-0x2bd,-0x29c)+'te','zhQhf':_0x5f56cf(0x14d,0x186,0x14c,0x1a3),'WZoll':function(_0xc4833a,_0x3c6141){return _0xc4833a(_0x3c6141);}},_0x45e92a={};function _0x5f56cf(_0x446bb,_0x5bf845,_0x34fc54,_0x3c2e8a){return _0x2dcdf3(_0x446bb-0xf7,_0x3c2e8a,_0x5bf845-0x49c,_0x3c2e8a-0x15c);}_0x45e92a[_0x5f56cf(0x21f,0x1be,0x187,0x18b)+_0x5f56cf(0x1ae,0x1c1,0x168,0x1e0)]=_0x8f076b,_0x45e92a[_0x1501af(-0x2d0,-0x2be,-0x2ae,-0x2ae)]=_0x434f76;function _0x1501af(_0xef07a5,_0x23c7f6,_0x579ee8,_0x4d321f){return _0x2dcdf3(_0xef07a5-0x107,_0x4d321f,_0x579ee8- -0x1d,_0x4d321f-0xc6);}const _0x3c79bd=await _0x509dbb[_0x5f56cf(0x1f9,0x202,0x1bd,0x275)](fetch,_0x509dbb[_0x5f56cf(0x1bf,0x20d,0x205,0x215)],{'method':_0x509dbb[_0x1501af(-0x322,-0x30d,-0x336,-0x359)],'headers':_0x509dbb['WZoll'](getRequestHeaders,token),'body':JSON[_0x5f56cf(0x208,0x1aa,0x143,0x17f)](_0x45e92a)});return _0x3c79bd;}async function check_update(){const _0x162269={'GmtVM':function(_0x46447e,_0x24d9ae,_0x3b7e4f){return _0x46447e(_0x24d9ae,_0x3b7e4f);},'QeLiR':_0x5b2496(0x440,0x41f,0x4b5,0x45d),'sYlAC':'Error\x20chec'+'king\x20for\x20u'+_0x5b2496(0x4c4,0x53d,0x457,0x521),'ZyeBo':_0x18ef32(0x1d5,0x1c5,0x26b,0x218)+_0x5b2496(0x4b4,0x4db,0x43b,0x46b)+_0x18ef32(0x246,0x1e5,0x291,0x22e),'meYox':_0x18ef32(0x258,0x1e2,0x1cb,0x1e6)+'is\x20up\x20to\x20d'+'ate.','ZxBfc':function(_0x2f9130,_0x2dddd0){return _0x2f9130===_0x2dddd0;},'HpftM':function(_0xbc86f9,_0x25d798){return _0xbc86f9(_0x25d798);},'TdvqI':function(_0x182ada,_0x2a026c,_0x3dfed5){return _0x182ada(_0x2a026c,_0x3dfed5);},'CYpgK':function(_0x1d5a46,_0x85591b){return _0x1d5a46===_0x85591b;},'LgDMG':_0x18ef32(0x231,0x1e5,0x254,0x206),'lWYPZ':_0x5b2496(0x491,0x439,0x4e9,0x4ee),'lWeDv':_0x18ef32(0x28e,0x295,0x255,0x243),'FMFcD':_0x5b2496(0x48e,0x45c,0x4ea,0x4b4),'kXWkK':function(_0xb1b001){return _0xb1b001();}};function _0x5b2496(_0x54f565,_0x6fbc58,_0x2f7aa8,_0x3af25d){return _0x2dcdf3(_0x54f565-0x119,_0x2f7aa8,_0x54f565-0x757,_0x3af25d-0xee);}function _0x18ef32(_0x4fd07a,_0x2d94de,_0x2147f3,_0x2424c8){return _0x2dcdf3(_0x4fd07a-0xdf,_0x2147f3,_0x2424c8-0x4e9,_0x2424c8-0x1b6);}const _0x55e071=_0x162269[_0x18ef32(0x23a,0x27a,0x285,0x269)](_0x162269['HpftM'](getExtensionType,extensionName),'global')?!![]:![],_0x9a6181=()=>{function _0x1e3ec8(_0x1c74f0,_0x48076a,_0x2d1a23,_0x1eb5f9){return _0x18ef32(_0x1c74f0-0x1af,_0x48076a-0x1a,_0x1c74f0,_0x1eb5f9-0x12e);}function _0x50f1d8(_0x1a2aec,_0x594aad,_0x447cea,_0x276bdc){return _0x5b2496(_0x276bdc- -0x638,_0x594aad-0x122,_0x447cea,_0x276bdc-0x1aa);}_0x162269['QeLiR']===_0x1e3ec8(0x2a8,0x300,0x2a5,0x300)?(toastr['success']('成功更新插件'),console[_0x1e3ec8(0x3d9,0x3bf,0x35e,0x37e)](_0x50f1d8(-0x245,-0x198,-0x18b,-0x1f4)),_0x162269['GmtVM'](setTimeout,()=>location[_0x1e3ec8(0x2c5,0x2e4,0x361,0x2ff)](),0x2a5+0x143*-0xe+-0x5*-0x621)):(_0x3b374c[_0x50f1d8(-0x266,-0x22e,-0x1ba,-0x21d)](_0x50f1d8(-0x229,-0x229,-0x1e5,-0x1f4)),_0x32a79e['log']('成功更新插件'),_0x162269['GmtVM'](_0xc45abb,()=>_0x141230[_0x1e3ec8(0x2db,0x33d,0x2de,0x2ff)](),-0xe4+0x2d1*0x7+0x111*-0x3));},_0x4c66ce=await _0x162269[_0x5b2496(0x421,0x3d7,0x464,0x3f9)](update_extension,extensionName,_0x55e071);if(_0x4c66ce['ok'])return(await _0x4c66ce[_0x18ef32(0x21f,0x1ec,0x23b,0x1d7)]())['isUpToDate']?_0x162269[_0x18ef32(0x157,0x21b,0x21a,0x1b6)](_0x162269[_0x5b2496(0x50f,0x4c7,0x4cf,0x558)],_0x18ef32(0x2be,0x232,0x22d,0x267))?(_0x2f5d6c[_0x18ef32(0x2f6,0x295,0x2cc,0x27b)](_0x162269[_0x18ef32(0x214,0x22d,0x214,0x1d8)],_0x33c286),_0x53950b&&(_0x13f3ef['value']=_0x162269[_0x5b2496(0x4b3,0x504,0x4e7,0x445)]),_0x568de7[_0x5b2496(0x443,0x4bd,0x4b4,0x3eb)+_0x18ef32(0x20d,0x29e,0x224,0x27d)+'e']=![]):(toastr[_0x5b2496(0x41b,0x3b2,0x3a4,0x3f9)](_0x162269[_0x18ef32(0x19e,0x174,0x1c7,0x1e8)]),console['log'](_0x162269[_0x18ef32(0x24b,0x205,0x19d,0x1e8)])):_0x162269[_0x5b2496(0x4e3,0x51a,0x4b2,0x52b)]!==_0x162269[_0x18ef32(0x20b,0x1f7,0x25e,0x1fc)]?_0x162269[_0x18ef32(0x266,0x28e,0x2e8,0x298)](_0x9a6181):(_0x3467f7[_0x5b2496(0x4be,0x4d4,0x477,0x4bc)](_0x162269[_0x18ef32(0x256,0x2af,0x2a5,0x294)]),_0x59cae0[_0x18ef32(0x1ec,0x16e,0x17d,0x1d5)+_0x5b2496(0x4eb,0x4ae,0x4a9,0x4f4)+'e']=![]),!![];}async function chenk(){function _0x35a6c5(_0x112d93,_0x4d9b59,_0x157b08,_0x407708){return _0x27528a(_0x407708,_0x157b08-0x12c,_0x157b08-0x1f3,_0x407708-0x1cb);}const _0x4e672b={'hXqup':function(_0x50c118,_0x4dbebf){return _0x50c118==_0x4dbebf;},'nUAuI':function(_0x310a20,_0x49fa1c){return _0x310a20==_0x49fa1c;},'AvBzY':function(_0x2b49f7){return _0x2b49f7();},'jbzOo':function(_0x4d5e0c,_0x554ee4){return _0x4d5e0c===_0x554ee4;},'jsidh':_0x1d82fa(0x143,0xd6,0x7f,0x90),'hrevM':function(_0x2cc1d4){return _0x2cc1d4();},'XULuz':function(_0x47078c){return _0x47078c();}};function _0x1d82fa(_0x505994,_0x328fd4,_0x155571,_0x5d10a0){return _0x2dcdf3(_0x505994-0x93,_0x5d10a0,_0x328fd4-0x3a0,_0x5d10a0-0x1a4);}if(!(_0x4e672b['hXqup'](extension_settings[extensionName][_0x1d82fa(0xd0,0xdf,0x149,0xaa)+_0x35a6c5(-0x85,-0x14a,-0xfd,-0x117)],!![])||_0x4e672b[_0x1d82fa(0x192,0x13d,0x101,0x140)](extension_settings[extensionName][_0x1d82fa(0xc5,0xdf,0x154,0x109)+_0x1d82fa(0xda,0x6f,-0xa,0xa)],'true'))||_0x4e672b[_0x1d82fa(0x105,0x12e,0x123,0x185)](checkSendBuClass)){if(_0x4e672b['jbzOo'](_0x4e672b[_0x35a6c5(-0xd2,-0xa0,-0x101,-0x15f)],_0x35a6c5(-0xbb,-0xbb,-0xb0,-0xc8))){const _0x4eed34=_0x2178a2[_0x35a6c5(-0x18,-0xd6,-0x81,-0xe)](_0x4857d4,arguments);return _0x1ab01b=null,_0x4eed34;}else return;}_0x4e672b['hrevM'](replaceWithcomfyui),replaceWithBanana(),replaceWithBanana(),replaceWithnovelai(),_0x4e672b[_0x35a6c5(-0x95,-0x103,-0x104,-0x8d)](replaceWithSd);}await loadJSZip()['then'](()=>{function _0x3ee7cf(_0x119327,_0x5b9024,_0x3e92bb,_0x38bbb8){return _0x27528a(_0x38bbb8,_0x3e92bb-0x45d,_0x3e92bb-0x113,_0x38bbb8-0x18d);}function _0x4b484f(_0x7f6b43,_0x372f6d,_0x4828b8,_0xc25ed0){return _0x27528a(_0x7f6b43,_0x4828b8-0x55,_0x4828b8-0x11c,_0xc25ed0-0x2e);}console[_0x3ee7cf(0x2a2,0x2b0,0x2cc,0x2e8)](_0x3ee7cf(0x22a,0x21c,0x258,0x25e)+_0x4b484f(-0x1da,-0x18f,-0x1a3,-0x17f));}),await loadcrypto()[_0x27528a(-0x224,-0x1cc,-0x1ac,-0x245)](()=>{const _0x1f983c={};_0x1f983c['CUAUD']='Initializi'+_0x1b31de(0x4db,0x42a,0x46b,0x413)+_0x5172d8(0x4ac,0x4fb,0x487,0x47b);function _0x1b31de(_0x2e78b9,_0x4c2177,_0x4213f6,_0x43f807){return _0x2dcdf3(_0x2e78b9-0x13,_0x2e78b9,_0x4213f6-0x6e2,_0x43f807-0x33);}const _0x4f78d3=_0x1f983c;function _0x5172d8(_0x1ba1a6,_0x45903d,_0x391883,_0x416a9e){return _0x2dcdf3(_0x1ba1a6-0x78,_0x45903d,_0x391883-0x773,_0x416a9e-0x92);}console[_0x5172d8(0x54c,0x4d7,0x4da,0x4b8)](_0x4f78d3['CUAUD']);}),await loadmsgpack()['then'](()=>{const _0x537246={};_0x537246[_0x5940bd(-0x2e2,-0x2ee,-0x29a,-0x273)]='Initializi'+_0x2de5b7(-0x65,-0x125,-0xd5,-0x136)+'k.';function _0x2de5b7(_0x128c16,_0x20bfef,_0x474340,_0x435541){return _0x27528a(_0x20bfef,_0x474340-0xf5,_0x474340-0x107,_0x435541-0xf2);}const _0x79ef2e=_0x537246;function _0x5940bd(_0x54862c,_0x2162d5,_0x58dce2,_0x96922b){return _0x27528a(_0x54862c,_0x58dce2- -0x131,_0x58dce2-0x9c,_0x96922b-0xaf);}console[_0x5940bd(-0x2c0,-0x2dd,-0x2c2,-0x2ad)](_0x79ef2e[_0x2de5b7(-0x81,-0xcf,-0x74,-0x5f)]);});let ster='';window[_0x27528a(-0x213,-0x213,-0x25c,-0x206)]='',window[_0x2dcdf3(-0x23e,-0x305,-0x28c,-0x260)]=!![];function _0x14f9(_0xd47826,_0x3d916b){_0xd47826=_0xd47826-(0x24f1+-0x18e3*0x1+-0x5d1*0x2);const _0x4bc07f=_0x57cb();let _0x2b186d=_0x4bc07f[_0xd47826];if(_0x14f9['phxbhY']===undefined){var _0x1ba803=function(_0x4091cf){const _0x141230='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x186708='',_0x1479b3='',_0x2122cf=_0x186708+_0x1ba803;for(let _0xbfadea=0x513+0x494+-0x9a7*0x1,_0x102aa2,_0x23712a,_0x4bf25d=-0x450+0x1310+-0xec0;_0x23712a=_0x4091cf['charAt'](_0x4bf25d++);~_0x23712a&&(_0x102aa2=_0xbfadea%(0x204d*-0x1+0xe87+0x11ca)?_0x102aa2*(0x51b+-0x2*0xd8d+0x163f*0x1)+_0x23712a:_0x23712a,_0xbfadea++%(-0x1480+-0x2*0x4d7+0x1e32))?_0x186708+=_0x2122cf['charCodeAt'](_0x4bf25d+(0xd*-0x17b+0x989+0x9c0))-(-0x7a0+0x2443+-0x1c99)!==-0x11f6+-0x1*-0xed5+0x321?String['fromCharCode'](0x4*0xec+-0x2*0x8e1+0xf11&_0x102aa2>>(-(0x1*0x1576+0x2499+-0x3a0d)*_0xbfadea&-0x1edc+-0x352+0x31c*0xb)):_0xbfadea:-0x72d+0x20f7+-0x19ca){_0x23712a=_0x141230['indexOf'](_0x23712a);}for(let _0x506b14=-0x1*0x197f+-0x666+0x1fe5,_0x5d86ca=_0x186708['length'];_0x506b14<_0x5d86ca;_0x506b14++){_0x1479b3+='%'+('00'+_0x186708['charCodeAt'](_0x506b14)['toString'](-0xba6+-0x1433*-0x1+0x29*-0x35))['slice'](-(0x1*-0x2429+0x1874+-0xbb7*-0x1));}return decodeURIComponent(_0x1479b3);};_0x14f9['EmmJxc']=_0x1ba803,_0x14f9['WMNgVw']={},_0x14f9['phxbhY']=!![];}const _0x3b374c=_0x4bc07f[-0x1*0xcd1+0x1f*-0x71+-0x80*-0x35],_0x32a79e=_0xd47826+_0x3b374c,_0xc45abb=_0x14f9['WMNgVw'][_0x32a79e];if(!_0xc45abb){const _0x3c059c=function(_0x388ee2){this['wxYgQe']=_0x388ee2,this['ARyjCV']=[0xe1e*0x1+0x20a6+-0x2ec3,0x131*-0x6+0x59*-0x44+0x1eca,0x1d2b+0x2*-0xcd7+0x1*-0x37d],this['SWuYgb']=function(){return'newState';},this['sPmXER']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ZmCBUV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3c059c['prototype']['fXbpKE']=function(){const _0x3dd90c=new RegExp(this['sPmXER']+this['ZmCBUV']),_0x3023a7=_0x3dd90c['test'](this['SWuYgb']['toString']())?--this['ARyjCV'][0x15*0xab+-0xbc0+-0x246]:--this['ARyjCV'][-0x26ca+-0x4be+0x2b88];return this['PbvRzP'](_0x3023a7);},_0x3c059c['prototype']['PbvRzP']=function(_0xbbc3c5){if(!Boolean(~_0xbbc3c5))return _0xbbc3c5;return this['YBUXOM'](this['wxYgQe']);},_0x3c059c['prototype']['YBUXOM']=function(_0x1a0759){for(let _0x45ca0e=0xb08*-0x1+0x714*-0x2+0x1930,_0x41c250=this['ARyjCV']['length'];_0x45ca0e<_0x41c250;_0x45ca0e++){this['ARyjCV']['push'](Math['round'](Math['random']())),_0x41c250=this['ARyjCV']['length'];}return _0x1a0759(this['ARyjCV'][-0x2376+0x951+-0x1a25*-0x1]);},new _0x3c059c(_0x14f9)['fXbpKE'](),_0x2b186d=_0x14f9['EmmJxc'](_0x2b186d),_0x14f9['WMNgVw'][_0x32a79e]=_0x2b186d;}else _0x2b186d=_0xc45abb;return _0x2b186d;}function _0x2dcdf3(_0x7fb331,_0x44362b,_0x1c232e,_0x359cf9){return _0x14f9(_0x1c232e- -0x3a9,_0x44362b);}let settings;async function checkForUpdates(){function _0x405c98(_0x28d083,_0x571cce,_0x3876d3,_0x39aa80){return _0x27528a(_0x39aa80,_0x28d083-0x20d,_0x3876d3-0xe5,_0x39aa80-0x90);}function _0x4a2203(_0x26adf2,_0x1bfc6d,_0x4365e3,_0x43726b){return _0x2dcdf3(_0x26adf2-0xa0,_0x4365e3,_0x26adf2-0x200,_0x43726b-0x10);}const _0x527e3c={'cZuMN':_0x4a2203(-0xf3,-0xc3,-0x147,-0x87),'fZGIX':function(_0x36eeda,_0x193408){return _0x36eeda==_0x193408;},'ORiYo':function(_0x56a129){return _0x56a129();},'FZwnk':function(_0x27325b){return _0x27325b();},'WSPQJ':function(_0x5e55e3){return _0x5e55e3();},'lfMKP':function(_0x46234d){return _0x46234d();},'quKKP':function(_0x174219,_0x43abea,_0x559abf){return _0x174219(_0x43abea,_0x559abf);},'ojxPO':_0x405c98(0x7f,0xa3,0x6a,0xa2),'RecDi':_0x4a2203(-0xe0,-0x11a,-0x131,-0x94)+_0x4a2203(-0xe1,-0x14a,-0x11f,-0x7d)+_0x405c98(0xc3,0xd1,0x136,0xa2)+_0x4a2203(-0xea,-0x71,-0x12f,-0x103)+_0x405c98(0x7,0x1c,0x68,0x72),'iNMBh':function(_0x224a48,_0x15b1c1){return _0x224a48===_0x15b1c1;},'ITest':_0x4a2203(-0xbe,-0xd5,-0x111,-0xa8),'GPIGK':_0x405c98(0x99,0x56,0x51,0xc7)+_0x4a2203(-0x61,-0xa6,-0x49,-0x24)+_0x4a2203(-0x139,-0xc7,-0x12f,-0x182),'BDnAh':_0x405c98(0x27,0x42,-0x4e,0x67)+'notes','QZEtU':_0x4a2203(-0x12e,-0x18c,-0x19c,-0xbf)+_0x405c98(0x1d,0x90,-0x2b,-0x43)+_0x4a2203(-0x50,-0x68,-0x48,0xb)+_0x4a2203(-0xb3,-0x9e,-0xf5,-0x4f)+_0x405c98(0x62,0xab,0xc4,0x47)+'1111111111'+'11','yYEvo':_0x4a2203(-0x92,-0x78,-0x43,-0x2c),'Zwtsa':_0x405c98(0x87,0xe5,0x77,0x2b),'jGtSy':'gZApy','SNDpl':_0x405c98(0x35,-0x3f,-0x7,0x12)+'fetch\x20remo'+'te\x20manifes'+_0x405c98(-0x1f,-0x65,0x25,-0x1)+_0x405c98(0x45,-0x2c,0x79,0x25),'QcJhe':_0x4a2203(-0xd1,-0x62,-0x10d,-0x5e)+_0x405c98(0x72,0x14,0xe6,0x6e)+_0x4a2203(-0xbb,-0x48,-0x51,-0xe7),'BiUyo':_0x4a2203(-0x85,-0xb9,-0x1c,-0xe6),'YlwGL':_0x405c98(0x65,0x46,0x9c,0xd0),'FkBPn':_0x405c98(0x38,0xab,0x1d,0x50),'UWPzZ':_0x4a2203(-0x103,-0x131,-0xc2,-0x108)+_0x405c98(0x8d,0x70,0x60,0x2e)+_0x4a2203(-0x9f,-0x5b,-0xc5,-0xfd),'lzIMn':_0x405c98(0x77,0xd2,0xba,0xc1)+_0x405c98(0x49,-0x14,0x31,0x0)+'pdates:','reRhJ':'regsr','qQQpI':_0x4a2203(-0xeb,-0x125,-0xc8,-0x10f)};try{const _0x554c38={};_0x554c38['cache']=_0x4a2203(-0x92,-0xf3,-0x5e,-0x41);const _0x3b196a=await _0x527e3c[_0x405c98(0x91,0xf9,0x9c,0xa1)](fetch,extensionFolderPath+(_0x405c98(0xb7,0x112,0xa5,0x60)+_0x405c98(-0x28,-0x74,-0x78,-0x33))+new Date()[_0x405c98(0xca,0x9c,0x113,0x63)](),_0x554c38);if(_0x3b196a['ok']){if('AieYV'!==_0x527e3c[_0x4a2203(-0xfa,-0x12a,-0xd5,-0x169)])_0x5d2e62['value']=_0x4a2203(-0xd1,-0x11e,-0x11d,-0x5f)+_0x4a2203(-0xa3,-0xe7,-0x28,-0x7d)+'更新。';else{const _0x48a819=await _0x3b196a[_0x4a2203(-0x112,-0xfe,-0xb7,-0xed)](),_0x2939d7=_0x48a819[_0x4a2203(-0x12d,-0x130,-0xe8,-0xe4)];window['chatu8Loca'+_0x405c98(0xb0,0xa3,0x75,0xfd)]=_0x2939d7;}}else console['error'](_0x527e3c[_0x4a2203(-0x10f,-0x104,-0xca,-0x118)]);}catch(_0x4dac6d){_0x527e3c[_0x405c98(0x8e,0xbf,0xba,0x47)](_0x527e3c['ITest'],_0x527e3c[_0x405c98(0x21,0x34,0x4e,0x7e)])?console[_0x4a2203(-0x6e,-0xe,-0x41,-0x34)](_0x527e3c[_0x405c98(0x0,-0x46,-0x31,-0x4f)],_0x4dac6d):_0x55c4b7[_0x405c98(0x7c,0xad,0xca,0xc0)](_0x4a2203(-0x10d,-0xd9,-0xdb,-0xd0)+_0x405c98(0x43,0x85,0x1e,0xa0)+'k.');}const _0x1d9014=document[_0x405c98(0xc,-0x4e,-0x32,-0x58)+_0x405c98(0x70,0x1e,0xb9,0x74)](_0x527e3c['BDnAh']);console[_0x4a2203(-0x99,-0x112,-0x24,-0x32)](_0x527e3c[_0x4a2203(-0x53,-0x90,0x9,-0x7e)],_0x1d9014);try{if(_0x4a2203(-0x8d,-0x1e,-0x33,-0x27)!==_0x4a2203(-0x8d,-0xc1,-0xea,-0x88))return new _0x2f28c8((_0x1b6848,_0x50407d)=>{function _0x5084a9(_0x4ab779,_0x5e204c,_0x59f2a1,_0x323054){return _0x4a2203(_0x59f2a1- -0x1f4,_0x5e204c-0xc0,_0x4ab779,_0x323054-0x93);}const _0x579385=_0x56e622[_0x5084a9(-0x33e,-0x29b,-0x2cd,-0x29d)+_0x57c606(-0x199,-0x196,-0x165,-0x1a2)](_0x527e3c['cZuMN']);_0x579385[_0x5084a9(-0x2e9,-0x2ee,-0x2c9,-0x259)]=_0x1b8010+(_0x5084a9(-0x1d5,-0x1e1,-0x240,-0x25b)+_0x5084a9(-0x2fe,-0x2d8,-0x291,-0x2d5)),_0x579385[_0x5084a9(-0x2a9,-0x1f9,-0x269,-0x1f4)]=()=>_0x1b6848();function _0x57c606(_0x459dda,_0x2ca33c,_0x4e27d7,_0x34f8d8){return _0x4a2203(_0x2ca33c- -0xa6,_0x2ca33c-0xf,_0x34f8d8,_0x34f8d8-0x138);}_0x579385[_0x57c606(-0x1e1,-0x1d5,-0x16e,-0x1bd)]=_0x40ec21=>_0x50407d(_0x40ec21),_0x4ae0da[_0x57c606(-0x1cd,-0x16e,-0x1bb,-0x196)]['appendChil'+'d'](_0x579385);});else{const _0x11432e=_0x4a2203(-0xf6,-0xd9,-0xf4,-0x141)+_0x405c98(-0x25,-0x52,0x5,0x13)+_0x405c98(0x50,-0x1a,-0x1c,-0x18)+_0x405c98(0x53,0x98,0x5e,0xc0)+_0x405c98(0x61,0x1a,0x2,0x7d)+_0x405c98(-0x9,0xb,0x15,-0x3a)+_0x405c98(-0x1b,-0x1,-0x92,-0x5a)+_0x405c98(0xb3,0x108,0xf8,0x54)+new Date()[_0x4a2203(-0x4b,-0x7d,0x25,0x1)](),_0x152c29={};_0x152c29[_0x4a2203(-0x123,-0xca,-0xd9,-0xc7)]=_0x527e3c[_0x4a2203(-0x122,-0x18f,-0x15d,-0x14c)];const _0x2cd11a=await fetch(_0x11432e,_0x152c29);if(!_0x2cd11a['ok']){if(_0x527e3c['Zwtsa']!==_0x527e3c[_0x405c98(0x59,0x29,-0x3,0x1d)]){console[_0x405c98(0xa7,0x2e,0x85,0x71)](_0x527e3c[_0x405c98(-0x8,0x69,0x66,-0x1b)]);_0x1d9014&&(_0x1d9014['value']=_0x527e3c[_0x405c98(0x79,0xbb,0xc6,0xab)]);window['chatu8Upda'+_0x405c98(0xa9,0x9b,0xec,0x11a)+'e']=![];return;}else{if(!(_0x41c250[_0x1b64f6]['scriptEnab'+_0x405c98(-0x1c,-0x5,-0x6f,0x4c)]==!![]||_0x527e3c['fZGIX'](_0x5e090a[_0xa7a3a5][_0x4a2203(-0xc1,-0x12f,-0xb1,-0x9f)+_0x405c98(-0x1c,-0x3c,-0x80,0x3d)],_0x4a2203(-0x5b,0xb,0x1,-0xd1)))||_0x527e3c[_0x405c98(0x56,0x4f,0x4c,0x61)](_0x53543d))return;_0x527e3c[_0x4a2203(-0xbf,-0x117,-0x10e,-0xbf)](_0x402b58),_0x387e41(),_0x527e3c['FZwnk'](_0x5e5c4c),_0x527e3c[_0x4a2203(-0x68,-0xb2,-0x42,-0x3f)](_0x241964),_0x527e3c['lfMKP'](_0x42b243);}}const _0x52e12c=await _0x2cd11a[_0x405c98(0x3,0x31,-0x62,-0x8)](),_0xb9a450=_0x52e12c[_0x405c98(-0x18,-0x3e,-0x28,-0x76)];window['chatu8Remo'+_0x4a2203(-0xd8,-0x118,-0x9a,-0x11e)]=_0xb9a450;_0x1d9014&&_0x52e12c['updata']&&(_0x1d9014[_0x405c98(0xa2,0xd8,0xad,0x45)]=_0x52e12c[_0x4a2203(-0x97,-0x74,-0x93,-0x37)]);if(window['chatu8Loca'+'lVersion']){const _0x1fae5e={};_0x1fae5e[_0x4a2203(-0xac,-0x99,-0x122,-0x98)]=!![],_0x1fae5e[_0x405c98(0xb9,0x96,0x102,0x8e)+'y']=_0x527e3c[_0x4a2203(-0x79,-0xe9,-0xe,-0x18)];if(_0xb9a450[_0x4a2203(-0x64,-0x40,-0x99,-0xb0)+_0x405c98(0x36,-0x2e,0xaf,0x15)](window[_0x405c98(-0x12,-0x2b,0x6,-0x4b)+_0x405c98(0xb0,0xd3,0xd9,0x85)],undefined,_0x1fae5e)>-0x3*0x1a9+0x14ee+0x3*-0x551){if(_0x527e3c[_0x4a2203(-0xb7,-0x67,-0xe6,-0x82)]===_0x527e3c[_0x4a2203(-0xb7,-0x9d,-0x7f,-0x12f)])console['log']('New\x20versio'+_0x405c98(0xce,0x5b,0xfa,0x111)+'e:\x20'+_0xb9a450+(_0x4a2203(-0xe6,-0x6b,-0xc0,-0x70)+'\x20')+window[_0x4a2203(-0x127,-0xb9,-0x166,-0x10c)+_0x4a2203(-0x65,-0x94,-0xcd,-0x74)]+')'),window[_0x4a2203(-0x114,-0x18b,-0x14c,-0x18d)+_0x405c98(0xa9,0x111,0xad,0x81)+'e']=!![];else{const _0x32e62f=_0x34309c?function(){function _0x577d71(_0x3b021b,_0x363cd6,_0x15072c,_0x1f8b9c){return _0x4a2203(_0x3b021b-0x1e,_0x363cd6-0xa1,_0x15072c,_0x1f8b9c-0x163);}if(_0xc12649){const _0x251e76=_0x31390c[_0x577d71(-0x97,-0xfb,-0x1c,-0xbe)](_0x49cae8,arguments);return _0x2b2a23=null,_0x251e76;}}:function(){};return _0x187703=![],_0x32e62f;}}else _0x527e3c[_0x4a2203(-0x87,-0xcb,-0x3a,-0xde)](_0x527e3c[_0x405c98(0xd,-0xd,0x3e,-0xf)],_0x527e3c[_0x405c98(0xd,0x7e,-0x61,-0x44)])?(console[_0x4a2203(-0x99,-0x3c,-0x3b,-0x6f)](_0x527e3c['UWPzZ']),window[_0x4a2203(-0x114,-0x149,-0xb5,-0x13e)+_0x405c98(0xa9,0x4c,0xc6,0x38)+'e']=![]):_0x23712a();}else window[_0x405c98(0x1,0x63,-0x59,-0x1e)+_0x405c98(0xa9,0x64,0xb4,0xa0)+'e']=![];}}catch(_0x26f83b){console[_0x4a2203(-0x6e,0xe,-0xe7,-0xcd)](_0x527e3c['lzIMn'],_0x26f83b),_0x1d9014&&(_0x527e3c[_0x405c98(0x7d,0xdf,0x5e,0x87)]===_0x527e3c['qQQpI']?(_0x39deb3[_0x4a2203(-0x99,-0x64,-0x31,-0x62)](_0x405c98(0xc7,0xaa,0x8b,0x6f)+_0x405c98(0xce,0xd9,0x11e,0xe0)+_0x4a2203(-0xff,-0x169,-0xf9,-0x106)+_0x300d77+(_0x4a2203(-0xe6,-0xe3,-0xd0,-0x10e)+'\x20')+_0x506054['chatu8Loca'+_0x405c98(0xb0,0x82,0xf4,0x78)]+')'),_0x3631db['chatu8Upda'+_0x405c98(0xa9,0xcd,0xbb,0xbd)+'e']=!![]):_0x1d9014[_0x405c98(0xa2,0x106,0xf4,0x8a)]='无法获取最新更新，尝'+_0x405c98(0x72,0x11,0xad,0x9d)+'更新。'),window[_0x4a2203(-0x114,-0x149,-0xdc,-0xc2)+_0x405c98(0xa9,0x98,0x86,0xda)+'e']=![];}}main();function loadCSS(_0x3fad6d){const _0x534344={};_0x534344[_0x2c7787(0x16f,0x175,0x182,0x178)]=_0x2c7787(0x14d,0xe9,0xfd,0x17a);const _0x472812=_0x534344,_0x383242=document[_0x2d3413(-0x83,-0x3a,-0xa4,-0x18)+_0x2c7787(0x108,0x15b,0x133,0x12e)](_0x2c7787(0xd0,0x13b,0xff,0xbb));_0x383242['rel']=_0x472812['QsFXs'];function _0x2c7787(_0x30fd7b,_0x499d30,_0xe6555f,_0x103d89){return _0x2dcdf3(_0x30fd7b-0x113,_0x103d89,_0x30fd7b-0x3f8,_0x103d89-0xc0);}function _0x2d3413(_0x23d49c,_0x3629ad,_0xe302b7,_0x3f1fe5){return _0x2dcdf3(_0x23d49c-0x18f,_0xe302b7,_0x3629ad-0x29f,_0x3f1fe5-0xee);}_0x383242['href']=extensionFolderPath+'/'+_0x3fad6d+'?t='+new Date()[_0x2c7787(0x1ad,0x220,0x18a,0x208)](),document[_0x2c7787(0x130,0x15f,0x16d,0x155)][_0x2d3413(0x23,-0x30,0xc,0x1f)+'d'](_0x383242);}async function main(){const _0x3a4bc8={'aOCpI':_0x329836(0x173,0x13a,0x1d4,0x109)+_0x329836(0x20c,0x1bd,0x1e7,0x19c),'gdCDh':_0x329836(0x1ea,0x1a6,0x25e,0x1dc)+_0x6487ad(-0x203,-0x1ce,-0x1f8,-0x25e),'CEmtK':_0x6487ad(-0x247,-0x226,-0x2c0,-0x1ea)+_0x6487ad(-0x1e7,-0x17a,-0x215,-0x25d),'phhTO':_0x6487ad(-0x197,-0x1e2,-0x145,-0x154)+'he.css','BIBlR':_0x6487ad(-0x257,-0x2ae,-0x202,-0x223)+_0x329836(0x1b5,0x1a2,0x149,0x1ad)+'ss','bHfHe':_0x329836(0x1a7,0x1a2,0x18b,0x12d)+_0x6487ad(-0x216,-0x1fa,-0x1ba,-0x1e8),'CjRBi':'styles/fab'+_0x329836(0x20a,0x1ee,0x264,0x1f9),'fwHJW':'styles/cli'+_0x329836(0x1fd,0x1f3,0x197,0x1de)+_0x329836(0x20a,0x203,0x1e9,0x19c),'nUmut':_0x329836(0x168,0xf2,0x104,0x16e)+'ng\x20chatu\x20e'+_0x329836(0x206,0x1c0,0x25c,0x1e5),'FKDAE':function(_0x235d9e,_0x426d26){return _0x235d9e(_0x426d26);},'EWELY':function(_0x1c9a70){return _0x1c9a70();},'dzTYZ':function(_0x4355e7,_0x1e91c3,_0x6de1b7){return _0x4355e7(_0x1e91c3,_0x6de1b7);},'XIshT':function(_0x49a2a5,_0x48705a,_0x206682){return _0x49a2a5(_0x48705a,_0x206682);}},_0x38d71f=[_0x3a4bc8[_0x329836(0x21b,0x1bf,0x1df,0x1a5)],_0x3a4bc8[_0x329836(0x16b,0xf9,0x19c,0x1c6)],_0x3a4bc8[_0x6487ad(-0x177,-0x17e,-0x133,-0x117)],_0x3a4bc8['phhTO'],_0x3a4bc8[_0x329836(0x16a,0x1b4,0x189,0x137)],_0x3a4bc8[_0x329836(0x1e0,0x220,0x233,0x227)],_0x3a4bc8[_0x329836(0x1bd,0x21d,0x1aa,0x1bf)],_0x6487ad(-0x1db,-0x1b5,-0x21b,-0x188)+_0x6487ad(-0x19d,-0x1d0,-0x124,-0x19e)+'s',_0x3a4bc8[_0x6487ad(-0x209,-0x1cf,-0x256,-0x195)]];_0x38d71f[_0x6487ad(-0x212,-0x1ff,-0x21f,-0x1ac)](loadCSS),console[_0x329836(0x1dc,0x181,0x1be,0x216)](_0x3a4bc8[_0x6487ad(-0x222,-0x26d,-0x1eb,-0x250)]);const _0x4298ee={...JSON[_0x329836(0x18e,0x202,0x201,0x14d)](JSON[_0x6487ad(-0x21f,-0x252,-0x299,-0x1ba)](defaultSettings)),...extension_settings[extensionName]};function _0x6487ad(_0x4e9b27,_0x5e5005,_0x294953,_0x121d2c){return _0x27528a(_0x294953,_0x4e9b27- -0x35,_0x294953-0xf,_0x121d2c-0xc);}extension_settings[extensionName]=_0x4298ee,console[_0x329836(0x1dc,0x1c7,0x16d,0x23c)](_0x6487ad(-0x23a,-0x1c9,-0x1ea,-0x234)+_0x6487ad(-0x18a,-0x129,-0x119,-0x151)+_0x329836(0x206,0x21e,0x25c,0x255),extension_settings[extensionName]);const _0x658568={};_0x658568[_0x6487ad(-0x22a,-0x279,-0x1b5,-0x279)+'te']=check_update,await _0x3a4bc8['FKDAE'](initUI,_0x658568),_0x3a4bc8[_0x329836(0x1ae,0x17f,0x164,0x18b)](initializeNewlineFixer),_0x3a4bc8['dzTYZ'](setTimeout,addNewElement,0x29f*0x7+0x239c+-0x2e25),_0x3a4bc8['XIshT'](setInterval,chenk,0x1ba8+0x13*-0x78+0x10*-0x32);function _0x329836(_0x43b6f5,_0x461ccd,_0x2dc99e,_0x36f2e8){return _0x2dcdf3(_0x43b6f5-0x11c,_0x2dc99e,_0x43b6f5-0x475,_0x36f2e8-0x145);}await checkForUpdates();}function addNewElement(){const _0x198d39={};_0x198d39[_0x12eded(0x35a,0x30c,0x348,0x384)]=_0x12eded(0x29e,0x2c8,0x275,0x31e)+'gle_AN88';function _0x2df008(_0x3674ce,_0x2ad0d0,_0x1cf6ed,_0x6f1810){return _0x27528a(_0x2ad0d0,_0x1cf6ed-0x640,_0x1cf6ed-0x153,_0x6f1810-0x179);}_0x198d39['ZHwYl']=_0x2df008(0x50a,0x52f,0x4f2,0x520)+_0x2df008(0x41a,0x448,0x429,0x3ca)+_0x12eded(0x3ad,0x38e,0x337,0x375),_0x198d39[_0x12eded(0x379,0x312,0x37e,0x34f)]=_0x2df008(0x4c9,0x4c0,0x49e,0x4d6),_0x198d39[_0x2df008(0x541,0x555,0x4ff,0x54f)]=_0x2df008(0x40a,0x3eb,0x424,0x491),_0x198d39[_0x12eded(0x327,0x2ed,0x29a,0x29f)]='打开文生图设置';function _0x12eded(_0x55cb14,_0x4a98d8,_0x3265d9,_0x33686c){return _0x2dcdf3(_0x55cb14-0x69,_0x3265d9,_0x4a98d8-0x5f4,_0x33686c-0x96);}_0x198d39[_0x2df008(0x50c,0x4ea,0x4b4,0x46a)]=_0x2df008(0x4f3,0x4bf,0x4e1,0x53c)+'ings\x20butto'+_0x2df008(0x491,0x3e6,0x43c,0x44b),_0x198d39[_0x12eded(0x3a1,0x353,0x344,0x338)]='click',_0x198d39[_0x12eded(0x36e,0x305,0x2c3,0x2fa)]='zlVKA',_0x198d39['ZvnVt']=_0x2df008(0x49d,0x4cb,0x475,0x42d);const _0x238a65=_0x198d39,_0x3a43d5=document[_0x12eded(0x2a6,0x2d4,0x2e7,0x302)+_0x12eded(0x364,0x2fb,0x303,0x2b4)]('#option_to'+_0x12eded(0x370,0x2fd,0x284,0x2f8));if(_0x3a43d5){if(!document['getElement'+_0x2df008(0x477,0x496,0x4a3,0x43d)](_0x238a65[_0x12eded(0x2dc,0x30c,0x2cc,0x2c2)])){if(_0x12eded(0x320,0x31a,0x348,0x331)!==_0x238a65[_0x2df008(0x445,0x42a,0x459,0x3f9)]){if(!_0x565730[_0x2df008(0x3cc,0x42b,0x43f,0x423)+'ById']('option_tog'+_0x2df008(0x449,0x3e1,0x416,0x454))){const _0x5e6cec=_0x2a4bfc['createElem'+'ent']('a');_0x5e6cec['id']=_0x238a65[_0x2df008(0x445,0x453,0x460,0x476)];const _0x523fdd=_0x79d92e[_0x12eded(0x34a,0x31b,0x354,0x2f7)+_0x12eded(0x2dc,0x304,0x34c,0x348)]('i');_0x523fdd['className']=_0x238a65[_0x12eded(0x40f,0x3a0,0x361,0x361)],_0x5e6cec[_0x12eded(0x2f4,0x325,0x2c2,0x327)+'d'](_0x523fdd);const _0xbe6588=_0x58b967['createElem'+_0x12eded(0x323,0x304,0x347,0x375)](_0x238a65[_0x12eded(0x33e,0x312,0x2fb,0x2ba)]);_0xbe6588[_0x2df008(0x3c3,0x431,0x422,0x3f7)+'te'](_0x2df008(0x409,0x404,0x475,0x4d6),_0x238a65[_0x12eded(0x34b,0x3ab,0x3b0,0x35f)]),_0xbe6588[_0x2df008(0x412,0x42e,0x44a,0x44a)+'t']=_0x238a65[_0x12eded(0x32f,0x2ed,0x278,0x283)],_0x5e6cec['appendChil'+'d'](_0xbe6588),_0x10ea54[_0x12eded(0x2fb,0x31d,0x380,0x344)][_0x2df008(0x4cd,0x4a9,0x4a1,0x453)+'re'](_0x5e6cec,_0x15d6b1[_0x2df008(0x4c4,0x4e8,0x48f,0x486)+'g']),_0x333336[_0x2df008(0x4f3,0x508,0x4af,0x464)](_0x238a65['fPSdG']),_0x13e146['getElement'+_0x12eded(0x3b2,0x34f,0x370,0x342)](_0x238a65[_0x2df008(0x464,0x481,0x460,0x430)])[_0x12eded(0x2e3,0x2e4,0x2ac,0x283)+_0x12eded(0x2dc,0x2ef,0x2fa,0x2e5)](_0x238a65[_0x12eded(0x36d,0x353,0x2f1,0x315)],_0x2af6fa[_0x2df008(0x3b8,0x3b6,0x41d,0x3b7)+'ettingsPan'+'el']);}}else{const _0x57a4b7=document[_0x2df008(0x3f6,0x44b,0x46f,0x467)+_0x2df008(0x3fb,0x488,0x458,0x447)]('a');_0x57a4b7['id']=_0x2df008(0x3f4,0x3c3,0x41c,0x3a3)+_0x12eded(0x294,0x2c2,0x2fd,0x2b4);const _0x311949=document['createElem'+_0x2df008(0x47a,0x485,0x458,0x437)]('i');_0x311949[_0x12eded(0x3f1,0x395,0x40d,0x402)]=_0x238a65['ZHwYl'],_0x57a4b7[_0x2df008(0x4d6,0x4db,0x479,0x4d3)+'d'](_0x311949);const _0x9ce941=document['createElem'+'ent'](_0x238a65[_0x12eded(0x32e,0x312,0x36d,0x2b0)]);_0x9ce941['setAttribu'+'te'](_0x238a65['ZvnVt'],_0x238a65[_0x2df008(0x505,0x55c,0x4ff,0x560)]),_0x9ce941[_0x12eded(0x371,0x2f6,0x2e4,0x2b9)+'t']=_0x238a65[_0x2df008(0x44f,0x486,0x441,0x3fe)],_0x57a4b7['appendChil'+'d'](_0x9ce941),_0x3a43d5[_0x12eded(0x33f,0x31d,0x2c2,0x30c)][_0x2df008(0x48b,0x48b,0x4a1,0x502)+'re'](_0x57a4b7,_0x3a43d5[_0x12eded(0x393,0x33b,0x39c,0x2f4)+'g']),console[_0x2df008(0x47e,0x43a,0x4af,0x43c)](_0x2df008(0x4a6,0x54b,0x4e1,0x4ab)+_0x12eded(0x3c6,0x36a,0x391,0x361)+_0x12eded(0x2ca,0x2e8,0x358,0x361)),document[_0x2df008(0x3cf,0x3ef,0x43f,0x3f0)+'ById'](_0x238a65[_0x2df008(0x419,0x482,0x460,0x46d)])['addEventLi'+_0x2df008(0x498,0x45c,0x443,0x3df)](_0x238a65['kxIoi'],window['showChatuS'+_0x12eded(0x324,0x303,0x2e8,0x37b)+'el']);}}}}