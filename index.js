(function(_0x7397cf,_0x2e90a1){function _0x5ca478(_0x551c9c,_0x3a529b,_0x4cbdd3,_0x4d7715){return _0x389b(_0x3a529b- -0x10a,_0x4d7715);}const _0x4a3920=_0x7397cf();function _0x57369d(_0x3302cd,_0x222d1e,_0x3ea327,_0x2ef8fe){return _0x389b(_0x3302cd- -0x12,_0x2ef8fe);}while(!![]){try{const _0x28fd28=parseInt(_0x5ca478(0x92,0xb3,0x4d,0x57))/(-0x1503+-0xaef+0x1ff3*0x1)*(-parseInt(_0x5ca478(0x85,0xc1,0x57,0x75))/(-0x264b+0x19ba+0x25*0x57))+-parseInt(_0x57369d(0x1e9,0x229,0x269,0x22b))/(0x8ab+-0x1*-0x25cd+-0x2e75)*(parseInt(_0x57369d(0x154,0x13a,0x165,0x18c))/(-0x18c7+0x1691+0x23a))+-parseInt(_0x5ca478(0xe8,0x8a,0xb,0x102))/(0x2653+0x240f+0x1*-0x4a5d)+parseInt(_0x5ca478(0x172,0xf6,0xd0,0x88))/(0x1*0x1e72+-0x1f4a+0x3*0x4a)+parseInt(_0x57369d(0x124,0x152,0x138,0x151))/(0x1*-0x149e+0x1*0xe7f+0x626)*(parseInt(_0x57369d(0x104,0x132,0x103,0x150))/(-0x1e8f+-0xc2*-0xd+0x14bd))+parseInt(_0x5ca478(-0xd,0x6a,0x2d,0x9b))/(0x13c*0x1c+0x9d3+0x32b*-0xe)*(-parseInt(_0x5ca478(0x83,0x11,0x78,0x4))/(-0x8b*-0x31+-0x1d5b+0x2ca))+parseInt(_0x57369d(0x158,0x1cc,0x180,0x158))/(0xd6*-0x1f+0xa9*0x37+-0x109*0xa)*(parseInt(_0x57369d(0x159,0x185,0x185,0x130))/(-0x12fd*0x2+0x1ded+0x819));if(_0x28fd28===_0x2e90a1)break;else _0x4a3920['push'](_0x4a3920['shift']());}catch(_0x705a78){_0x4a3920['push'](_0x4a3920['shift']());}}}(_0x13f8,-0x3*0x51751+0xe99e4+0x4ee5*0x23));import{extension_settings,extensionTypes}from'../../../extensions.js';function _0x24871f(_0x2feaf0,_0x55dbf4,_0x5e2fc9,_0x541910){return _0x389b(_0x55dbf4- -0xf,_0x541910);}import{saveSettingsDebounced,eventSource,event_types,reloadCurrentChat,saveChatConditional,chat,messageFormatting,saveChat}from'../../../../script.js';import{defaultSettings,extensionName,extensionFolderPath}from'./utils/config.js';import{replaceWithSd}from'./utils/sd.js';import{replaceWithnovelai}from'./utils/novelai.js';import{initUI}from'./utils/ui.js';function _0x13f8(){const _0x311485=['C3r5BgvZl21HAq','y2HHDhuGC2v0Da','BuXYAg4','EhrLBNnPB24U','z0PzwwW','CfvJALK','z2XLx0foodG','z2v0vgLTzq','mteXmteXmteXmq','5PU05PAW44cc','rxjYB3iGzMv0yW','yw1L','DguGBwfUAwzLCW','qMXPyxe','DevZBgm','q2HLy2TPBMCGzG','sfzitNy','BIbHDMfPBgfIBa','C3r5BgvZl2LTyq','wc1du1jglvrVAW','ANvsvfm','BfzLCNnPB24','C2nYAxb0rw5HyG','DMDhAhi','ue9tva','tenoy3i','zgf0ys1PmtHU','C3bHBG','Dg9tDhjPBMC','B1bNru4','B01svg4','C2HVD0nOyxr1uW','D21Zy2m','A3nMy3e','uM92v2G','D2ziq2C','l2PZEMLWlM1PBG','i29WDgLVBL90BW','nZi0mdy1Dvnzy1zi','Cg9UC2L2zs5JCW','DMfSDwu','zK15q0K','vvrIA1y','5OIq5yQF5PU05PAW5O+s5lU2','6k+v54k55yE75PU05PAW5OYj6zkU77Ym5Qoa5P+L','ANnVBG','z3bHuNi','qwnysxm','DguTC3rPy2T5','tur5B1G','zMv0y2GGCMvTBW','DxbKyxrH','mMDSAgLdrq','wuzZANC','q29UDgvUDc1uEq','5O+s5lU25PIV5PYa5PAW54Mi5PYS','BuncsK4','ww1MrNO','DY5NAxrODwj1CW','z2zTt1e','C3rLBMvY','sw5PDgLHBgL6yq','Aw4UANm','AguUy3nZ','BNPOBM8','EevNzNO','Aw5Zzxj0qMvMBW','z2XVyMfS','C2vHCMnO','BgLUAW','q1zqDhO','y2PJwwG','BI9QC29U','B0zVB0m','CgfYzw50tM9Kzq','y3jLyxrLrwXLBq','ufL2u3m','yLHgrvK','uwjpBxm','mxWYFdn8nxW0Fa','yxbWBhK','ANnVBJ90pq','y2STDhjPz2DLCG','EwLkqKq','s2ryAvy','p3q9','zhDxs0W','5PEG5Rov6i635y+w5PYa5PAW5PU05PAW77Ym5BcD','C3vJy2vZCW','BIbHzgrLzc4','BMv4DfnPyMXPBG','DurKsK0','z2vFy2fJAguUyW','y2XJv00','B25LCNjVCG','seDhtg8','DLfgz2K','CNjdvhe','q05PBu4','C3r5BgvZl3jLCW','ndGXntu0sKPfD2vy','C3r5BgvZl2fIBW','AvzeB2q','DufeAhm','CgrHDgvZoG','ndu0odeXnfn0q29eza','zMv0y2GGBg9Jyq','DLH2zxu','wwv2tey','CeD6rgS','wLHxAe0','5OMt5BYa6k6+572U','AxmGDxaGDg8Gza','BcbTyw5PzMvZDa','C2v0qxr0CMLIDq','r1Dhs2O','s0PHt0C','CwHevMK','sxr2CNm','wu9Ktvi','wfLszxa','zxH0zw5ZAw9UtG','y2HHDhu4vxbKyq','yxbWzw5Kq2HPBa','Aw1Hz2vZAwq','rKHNEfe','wwLovuK','ANzjrMe','r2TJwuS','vw9kuLe','Ahr0Chm6lY9Yyq','y2fJAgu','icHJDxjYzw50oG','ywXZlMnZCW','B3iGDxbKyxrLCW','mJm2mhzlCfj3va','yuHXB00','qNLjza','v2PWv0K','C3r5BgvZl2zHyG','mte0odC5nZbTEerJu3C','yxbWBgLJyxrPBW','zMeTBgCGzMeTCW','BgvK','Dc5QC29Up3q9','qKDiA0m','ywrKrxzLBNrmAq','qu5bs1y','DMvYC2LVBG','zxr0Aw5NC1bHBG','Dezjuuy','sw5PDgLHBgL6Aq','AxnvCfrVrgf0zq','zxjYB3i','Bxrjv1e','C2nYAxb0','BM90zxm','lMnZCW','yMfZzq','qNbWuvG','C3r5BgvZl2nHyW','vwXeyxG','rxjYB3iGy2HLyW','y29Tl2rHBw9ZAa','5OMt5BYa5PAh55sF5zU+6k6+572U','rvv2B08','CxvLCNLtzwXLyW','mJaZntzhtvvpzeW','CMvSB2fK','yvjsrLq','C3rYAw5NAwz5','DgLVBIbMywLSzq','kcGOlISPkYKRkq','DgHLBG','A2v5CW','rMfPBgvKihrVia','l2fWAs9LEhrLBG','C2Hdsu0','B25SB2fK','vLjzy28','DxqUy3nZ','Dhj1zq','C3r5BgvZl2nSAq','DcbMB3iGDxbKyq','ig1HBMLMzxn0oG','l21Zz3bHy2SUBq','Bg9JywW','DgvwzxjZAw9U','AfLJyK8','rvviBNO','y2HHDhu4tg9Jyq','wMLouK4','BMCUlKPtwMLWlG','uLrIEvq','DgHPCMqTCgfYDa','zw50','DgvbDMfPBgfIBa','CLjQv1u','ztOG','uKP5wLi','CMvS','sMDWAKO','DvnxEu4','y2HLy2TFDxbKyq','q2Xwsue','s1j0BK0','qM92Dw4','uwvYz0W','BI5JC3m','qurzBvC','CvP6r1q','zw4XmJmVC3qTyW','BK1Vy04','D1HYzMq','zvftBNe','nefzAM1syq','z2v0rwXLBwvUDa','EujgBe4','Dgv4DenVBNrLBG','mtm5mtqYm0H0AxP3yW','mta4DMDprKnp','twHOD1G','y2XHC3noyw1L','vvPlvxe','z2DSzv9btG','A2nSrLy','turqzvO','Cxrby2u','AgvHza','ovPxCKTxwq','AhjLzG','BMCUlKnYExb0BW','D25ftvi','yxjL','lMPZ','Axr5qNq','y2HHDhu4uMvTBW','BKDHwKS','Bg9N','rxH0zw5ZAw9Uia','swz2B2u','y2XPy2S','y29UC3rYDwn0BW','Dg9Rzw4','B3b0Aw9Ux3rVzW','yM1Azwu','l2nYExb0BY1QCW','lI4UmteXmteXmq','C3bSAxq','BMCUlM1Zz3bHyW','C3r5BgvZAgvLDa','l21HBMLMzxn0lG','qxHZr2q','uhbfzxK','C3jJ','tMv3ihzLCNnPBW','y2GTDxbKyxrLlq','A2LUzYbMB3iGDq','tgjzCMK','zw5KC1DPDgG','rKzetLK','mJKWndqWrxDWre5R','Aw5NCYbIDxr0BW','uu55t0i'];_0x13f8=function(){return _0x311485;};return _0x13f8();}import{replaceWithBanana}from'./utils/banana.js';import{checkSendBuClass}from'./utils/utils.js';import{replaceWithcomfyui}from'./utils/comfyui.js';import{initializeNewlineFixer}from'./utils/newline_fix.js';import'./utils/settings/stream_generate.js';let token;try{const tokenResponse=await fetch('/csrf-toke'+'n'),data=await tokenResponse['json']();token=data[_0x24871f(0x164,0x173,0x17d,0xfb)],window[_0x24871f(0x127,0x173,0x163,0x14c)]=token;}catch(_0x2c8fd5){console['error'](_0x1cc093(0x9b,0xf2,0xdc,0x4b)+_0x24871f(0xa9,0x12b,0x153,0x117)+'d',_0x2c8fd5);throw new Error('Initializa'+_0x24871f(0x160,0x12b,0xaa,0xd0)+'d');}function loadJSZip(){return new Promise((_0x49d326,_0x15f7a1)=>{const _0x2bd787=document[_0x2fedef(-0x1e3,-0x1aa,-0x18f,-0x1c4)+_0x2fedef(-0x281,-0x1a7,-0x21f,-0x1dd)]('script');_0x2bd787['src']=extensionFolderPath+(_0x349df0(-0x182,-0x135,-0x163,-0x189)+_0x349df0(-0x180,-0x227,-0x1a5,-0x17e)),_0x2bd787[_0x349df0(-0x1b4,-0x171,-0x1dd,-0x22e)]=()=>_0x49d326();function _0x349df0(_0x121e1c,_0x193786,_0x119c99,_0x4abd2c){return _0x389b(_0x119c99- -0x31e,_0x121e1c);}_0x2bd787[_0x2fedef(-0x1dc,-0x1e4,-0x17c,-0x1a1)]=_0x302df5=>_0x15f7a1(_0x302df5);function _0x2fedef(_0x5b9117,_0x2d372e,_0x276128,_0x3c306b){return _0x389b(_0x276128- -0x371,_0x5b9117);}document['head'][_0x349df0(-0x1a4,-0x1ad,-0x214,-0x1b8)+'d'](_0x2bd787);});}function loadcrypto(){const _0x1127cc={'AxsGd':'Initializi'+_0x2dab4b(0x78,0x8a,0x3b,0xde)+'k.','iVDod':function(_0x45be50,_0x103fc0){return _0x45be50!==_0x103fc0;},'vQFgi':_0x2c7a5c(0x4ca,0x4cc,0x45d,0x4c9),'HGGLo':_0x2dab4b(0x73,0x92,0x80,0xf5)+'gle_AN88','ADYmW':_0x2dab4b(0xf6,0xe7,0xbe,0x175),'KLUnZ':'打开文生图设置','SRmdN':_0x2c7a5c(0x49d,0x452,0x45b,0x4ac),'UoJRQ':_0x2c7a5c(0x46e,0x41d,0x43b,0x4bc)+'+$','uDdJM':_0x2c7a5c(0x4d6,0x51b,0x4d4,0x499)+_0x2c7a5c(0x4b1,0x449,0x43a,0x4ae)+'d','qTIux':function(_0x5727d2){return _0x5727d2();}};function _0x2dab4b(_0x10f4f1,_0x3bc42e,_0x1447e3,_0x452aec){return _0x24871f(_0x10f4f1-0x11f,_0x10f4f1- -0x101,_0x1447e3-0x2b,_0x3bc42e);}const _0x2cd032=(function(){function _0x4ad66b(_0x54400c,_0x103b9c,_0x2abe7a,_0x1fa790){return _0x2dab4b(_0x103b9c-0x47d,_0x54400c,_0x2abe7a-0x1d0,_0x1fa790-0x10);}function _0x41f3e4(_0x2cbcde,_0x2c5576,_0xca64e3,_0x45e1c4){return _0x2c7a5c(_0x2cbcde-0x2,_0x2cbcde,_0xca64e3- -0x9a,_0x45e1c4-0xa2);}const _0x556633={'YFsjw':_0x1127cc[_0x41f3e4(0x39d,0x412,0x3f1,0x3b6)],'mLrhn':function(_0x3bafb4,_0x4f72d0){function _0x34ab17(_0x2d0cf5,_0xb585fb,_0x5c8d21,_0x3d708b){return _0x41f3e4(_0xb585fb,_0xb585fb-0x22,_0x5c8d21- -0x92,_0x3d708b-0x1a8);}return _0x1127cc[_0x34ab17(0x41d,0x3eb,0x3d1,0x41c)](_0x3bafb4,_0x4f72d0);},'xhlWu':_0x1127cc[_0x41f3e4(0x3e6,0x490,0x45d,0x4b8)],'LCNcr':_0x41f3e4(0x418,0x3a7,0x422,0x3d1)+_0x4ad66b(0x559,0x4dc,0x479,0x45b),'juRTS':_0x1127cc[_0x41f3e4(0x4a9,0x4a6,0x45c,0x46a)],'kclFV':_0x41f3e4(0x3de,0x3ef,0x383,0x324)+'olid\x20fa-no'+_0x41f3e4(0x40d,0x3ce,0x42d,0x45a),'mtIWQ':_0x4ad66b(0x4be,0x51f,0x55c,0x557),'bXFEY':_0x4ad66b(0x4f9,0x51e,0x55a,0x58e),'GkcYK':_0x1127cc[_0x41f3e4(0x3de,0x3d0,0x3c6,0x408)],'CVPtz':_0x1127cc['KLUnZ'],'aipRF':_0x41f3e4(0x3e9,0x469,0x3fe,0x442)+_0x41f3e4(0x431,0x478,0x3fb,0x398)+_0x41f3e4(0x400,0x411,0x456,0x43c),'uBzFc':_0x41f3e4(0x410,0x36b,0x3e6,0x41b),'JgpjJ':_0x41f3e4(0x41a,0x391,0x3c2,0x3f1),'gUvmI':_0x4ad66b(0x4fc,0x4f1,0x509,0x533)};if(_0x41f3e4(0x3d9,0x3ef,0x3c1,0x3a5)!==_0x1127cc['SRmdN'])_0x1477cd['chatu8Upda'+_0x4ad66b(0x52f,0x4c0,0x451,0x4fe)+'e']=![];else{let _0x5d957f=!![];return function(_0x826813,_0x426058){function _0xcf76df(_0x462c9b,_0x5b79a8,_0x5c5659,_0x46bcf2){return _0x4ad66b(_0x462c9b,_0x5b79a8- -0x32,_0x5c5659-0x35,_0x46bcf2-0x1d7);}function _0x52e7b6(_0x2acd3c,_0x1a3da9,_0x9e9689,_0x4cec03){return _0x41f3e4(_0x9e9689,_0x1a3da9-0xf2,_0x4cec03- -0x60e,_0x4cec03-0x79);}if(_0x556633[_0x52e7b6(-0x1fd,-0x1f3,-0x248,-0x20f)](_0x556633[_0x52e7b6(-0x1df,-0x2b9,-0x1e9,-0x250)],_0x556633['gUvmI'])){const _0xa40ab7=_0x5d957f?function(){function _0x118504(_0x4260e1,_0x28b9ab,_0x3399be,_0x110a4c){return _0xcf76df(_0x110a4c,_0x28b9ab- -0x188,_0x3399be-0x6c,_0x110a4c-0x119);}const _0x46f84f={};_0x46f84f['dwWKL']=_0x556633[_0x118504(0x36c,0x37f,0x332,0x371)];function _0x6c4f89(_0x52127a,_0x32b63f,_0x2d4443,_0x43ab7e){return _0xcf76df(_0x52127a,_0x2d4443- -0x461,_0x2d4443-0x13,_0x43ab7e-0x139);}const _0x7f9531=_0x46f84f;if(_0x556633[_0x6c4f89(0x22,-0x11,0x73,0xc7)](_0x6c4f89(0x61,-0x28,0x3f,0x9a),_0x556633['xhlWu'])){if(_0x426058){const _0x273015=_0x426058[_0x118504(0x418,0x39a,0x40d,0x35e)](_0x826813,arguments);return _0x426058=null,_0x273015;}}else _0x5a1a00[_0x118504(0x352,0x330,0x30c,0x369)](_0x7f9531[_0x6c4f89(0xda,0x143,0xc7,0xf9)]);}:function(){};return _0x5d957f=![],_0xa40ab7;}else{const _0x29d219=_0x277dc1['querySelec'+'tor'](_0x556633[_0x52e7b6(-0x181,-0x1d4,-0x1b6,-0x1f8)]);if(_0x29d219){if(!_0x553bf1['getElement'+_0x52e7b6(-0x21b,-0x29f,-0x23e,-0x290)](_0x556633[_0xcf76df(0x567,0x4e6,0x47a,0x51d)])){const _0x8b9634=_0x367f9c['createElem'+_0x52e7b6(-0x25a,-0x285,-0x243,-0x256)]('a');_0x8b9634['id']=_0x556633[_0x52e7b6(-0x250,-0x1a0,-0x22f,-0x1fd)];const _0x58e4e7=_0x52a1d4[_0xcf76df(0x575,0x51d,0x541,0x568)+_0xcf76df(0x4c7,0x48d,0x432,0x4f8)]('i');_0x58e4e7[_0x52e7b6(-0x1fe,-0x274,-0x287,-0x23b)]=_0x556633[_0xcf76df(0x48c,0x4ab,0x4f4,0x4fd)],_0x8b9634[_0x52e7b6(-0x22a,-0x289,-0x300,-0x29e)+'d'](_0x58e4e7);const _0x5af031=_0x3ff56b[_0xcf76df(0x53a,0x51d,0x51e,0x4a6)+_0xcf76df(0x484,0x48d,0x4ff,0x4ee)](_0x556633[_0xcf76df(0x4b8,0x464,0x445,0x4bb)]);_0x5af031[_0x52e7b6(-0x187,-0x14a,-0x15c,-0x19f)+'te'](_0x556633[_0xcf76df(0x4c2,0x51f,0x4f6,0x588)],_0x556633[_0xcf76df(0x43a,0x44a,0x408,0x497)]),_0x5af031[_0xcf76df(0x46b,0x4a4,0x462,0x420)+'t']=_0x556633[_0x52e7b6(-0x1ed,-0x214,-0x152,-0x1cb)],_0x8b9634[_0xcf76df(0x3c7,0x445,0x497,0x443)+'d'](_0x5af031),_0x29d219['parentNode'][_0xcf76df(0x504,0x514,0x541,0x52c)+'re'](_0x8b9634,_0x29d219['nextSiblin'+'g']),_0x3c224e[_0x52e7b6(-0x235,-0x2a2,-0x216,-0x22b)](_0x556633['aipRF']),_0x2c189c[_0x52e7b6(-0x224,-0x1f1,-0x285,-0x241)+_0x52e7b6(-0x228,-0x29a,-0x2b8,-0x290)](_0x556633[_0xcf76df(0x4c8,0x4e6,0x4ce,0x518)])[_0xcf76df(0x44c,0x45c,0x440,0x3f5)+_0xcf76df(0x542,0x50e,0x4fb,0x4fc)](_0x556633['uBzFc'],_0x20f867[_0x52e7b6(-0x26e,-0x23d,-0x213,-0x1f2)+_0x52e7b6(-0x2d5,-0x255,-0x254,-0x284)+'el']);}}}};}}()),_0x42d1d3=_0x2cd032(this,function(){function _0x49856a(_0x4e4197,_0x4744c2,_0x5208a0,_0x4c957f){return _0x2dab4b(_0x5208a0-0x362,_0x4c957f,_0x5208a0-0x1cb,_0x4c957f-0x148);}function _0x44b44f(_0x2f3354,_0x4864fa,_0x3a421c,_0x17d4c4){return _0x2dab4b(_0x3a421c-0x40d,_0x2f3354,_0x3a421c-0x4,_0x17d4c4-0xa9);}return _0x42d1d3[_0x44b44f(0x4ac,0x449,0x4b0,0x48b)]()[_0x49856a(0x40f,0x4a6,0x42d,0x4a2)](_0x1127cc[_0x49856a(0x341,0x3b1,0x362,0x3b0)])[_0x49856a(0x3d5,0x44f,0x405,0x410)]()[_0x49856a(0x3f8,0x393,0x3d3,0x41b)+'r'](_0x42d1d3)[_0x44b44f(0x45c,0x52a,0x4d8,0x4d1)](_0x1127cc[_0x44b44f(0x474,0x41c,0x40d,0x3b0)]);});_0x1127cc['qTIux'](_0x42d1d3);function _0x2c7a5c(_0x4a315c,_0x354188,_0x1ee836,_0x4493cb){return _0x24871f(_0x4a315c-0x12e,_0x1ee836-0x30f,_0x1ee836-0x13d,_0x354188);}return new Promise((_0x569a83,_0x36029f)=>{function _0x337e58(_0x3681d1,_0x2f9b9c,_0x41f6f5,_0x241b6e){return _0x2c7a5c(_0x3681d1-0x1ad,_0x41f6f5,_0x2f9b9c- -0x24d,_0x241b6e-0xa3);}function _0x4490c9(_0xfb65ba,_0x182f31,_0x365ef7,_0xb4d991){return _0x2dab4b(_0xb4d991-0x42b,_0x182f31,_0x365ef7-0x4a,_0xb4d991-0x12);}if(_0x1127cc[_0x337e58(0x302,0x2b0,0x248,0x30f)](_0x4490c9(0x4a0,0x421,0x408,0x432),_0x337e58(0x233,0x1ca,0x1c5,0x20a))){_0x57faf9[_0x4490c9(0x3bf,0x495,0x426,0x443)](_0x1127cc['uDdJM'],_0x368cc5);throw new _0xa34075(_0x1127cc[_0x4490c9(0x510,0x4fb,0x4c4,0x50d)]);}else{const _0x55e647=document[_0x4490c9(0x4a3,0x51a,0x536,0x4fd)+_0x337e58(0x27d,0x205,0x22f,0x279)](_0x337e58(0x186,0x1dd,0x21e,0x1cc));_0x55e647[_0x337e58(0x2bb,0x240,0x247,0x1e3)]=extensionFolderPath+(_0x337e58(0x223,0x238,0x235,0x1bf)+'.min.js'),_0x55e647[_0x4490c9(0x4ae,0x489,0x467,0x45c)]=()=>_0x569a83(),_0x55e647[_0x4490c9(0x52b,0x50f,0x56b,0x510)]=_0x2d2666=>_0x36029f(_0x2d2666),document['head'][_0x4490c9(0x448,0x430,0x44f,0x425)+'d'](_0x55e647);}});}function loadmsgpack(){function _0x1e4f10(_0x3fede6,_0x31f85a,_0x42f96a,_0x5714f1){return _0x24871f(_0x3fede6-0xbe,_0x5714f1- -0x122,_0x42f96a-0xa5,_0x42f96a);}const _0x3afdb7={};function _0x5de476(_0x4d7f68,_0x2482b9,_0x3ebc50,_0x2b4292){return _0x1cc093(_0x4d7f68-0x40,_0x2b4292,_0x3ebc50-0xb2,_0x2b4292-0x99);}_0x3afdb7[_0x5de476(0xcd,0x122,0x82,0x57)]=_0x1e4f10(-0x6,0x6c,-0x3,-0x7);const _0x735dd6=_0x3afdb7;return new Promise((_0x2aacc5,_0x2e465f)=>{const _0x21eb3c=document[_0x3cdd4e(0x3eb,0x470,0x419,0x425)+'ent'](_0x735dd6[_0x3cdd4e(0x3f0,0x47e,0x457,0x409)]);_0x21eb3c['src']=extensionFolderPath+(_0x3bc167(-0xc3,-0xe6,-0x164,-0x8c)+_0x3cdd4e(0x49c,0x3eb,0x3c3,0x418)),_0x21eb3c['onload']=()=>_0x2aacc5();function _0x3bc167(_0x23d8f6,_0x569302,_0x24486a,_0xe9f341){return _0x1e4f10(_0x23d8f6-0x1e6,_0x569302-0x92,_0x24486a,_0x569302- -0xfd);}function _0x3cdd4e(_0xbedf6f,_0x26285e,_0x576f2e,_0x1c9945){return _0x5de476(_0x1c9945-0x33c,_0x26285e-0x3c,_0x576f2e-0x82,_0xbedf6f);}_0x21eb3c[_0x3bc167(-0x4f,-0x39,0x45,-0xbc)]=_0x265c68=>_0x2e465f(_0x265c68),document['head'][_0x3cdd4e(0x2d8,0x39c,0x3c6,0x34d)+'d'](_0x21eb3c);});}function getRequestHeaders(_0x391ced){const _0x51e440={};function _0x34ee66(_0x5eb922,_0x3e5413,_0x4a2a2d,_0x45a6b0){return _0x24871f(_0x5eb922-0x1e9,_0x5eb922-0x2ae,_0x4a2a2d-0x4a,_0x45a6b0);}_0x51e440[_0x1636c5(-0xd8,-0x106,-0x121,-0x113)]=_0x34ee66(0x3bb,0x3a0,0x39e,0x3cb)+_0x1636c5(-0x38,-0xbd,-0xb4,-0xfd);const _0x40e06e=_0x51e440,_0x38486f={};_0x38486f[_0x34ee66(0x449,0x3cf,0x3cf,0x498)+'en']=_0x391ced,_0x38486f[_0x34ee66(0x46c,0x429,0x40c,0x47e)+'pe']=_0x40e06e[_0x1636c5(-0x134,-0x163,-0x121,-0x180)];function _0x1636c5(_0x26b0c4,_0x48d115,_0x4c0988,_0xa709b4){return _0x24871f(_0x26b0c4-0x31,_0x4c0988- -0x284,_0x4c0988-0xe9,_0xa709b4);}return _0x38486f;}function getExtensionType(_0x4d8301){function _0x4b48b9(_0x407f38,_0x48e60e,_0x5e6cb0,_0xe3322e){return _0x1cc093(_0xe3322e-0x3f,_0x48e60e,_0x5e6cb0-0x2c,_0xe3322e-0x1db);}const _0x1cdbdb={};function _0x50548d(_0x8a7242,_0x3db130,_0x52d31c,_0x42d257){return _0x24871f(_0x8a7242-0xc5,_0x52d31c- -0x263,_0x52d31c-0x74,_0x8a7242);}_0x1cdbdb['EUvoO']=_0x4b48b9(0x18,-0x18,-0x22,0x4f);const _0x3a57c1=_0x1cdbdb,_0x561aaa=Object[_0x50548d(-0x1a6,-0xb3,-0x135,-0x168)](extensionTypes)['find'](_0x53d816=>_0x53d816===_0x4d8301||_0x53d816['startsWith'](_0x4b48b9(0x97,0x1e,0x12,0x57)+'y')&&_0x53d816[_0x50548d(-0xd2,-0x86,-0xe0,-0x10c)](_0x4d8301));return _0x561aaa?extensionTypes[_0x561aaa]:_0x3a57c1[_0x4b48b9(0xb3,0x72,-0x10,0x3a)];}async function update_extension(_0x8bd4fe,_0x4efef5){const _0x52575b={'wfHCg':function(_0x4ce629,_0x25617e,_0x2e9367){return _0x4ce629(_0x25617e,_0x2e9367);},'Ifvoe':_0x5ae2e9(-0x221,-0x25f,-0x1f5,-0x21d)+'sions/upda'+'te','ZXWhM':_0x5ae2e9(-0x1b3,-0x107,-0x185,-0x1e3),'yDLHu':function(_0x16040d,_0x1c607e){return _0x16040d(_0x1c607e);}};function _0x1db706(_0x35fcf6,_0x913ebf,_0x4424ad,_0xbc29e7){return _0x24871f(_0x35fcf6-0x1d6,_0x35fcf6-0x1ae,_0x4424ad-0x1e1,_0x4424ad);}const _0x3598db={};_0x3598db[_0x1db706(0x3af,0x3a1,0x42b,0x3bb)+_0x1db706(0x341,0x33f,0x361,0x2cf)]=_0x8bd4fe;function _0x5ae2e9(_0x3eab3e,_0x202d43,_0x72bec8,_0x27f90a){return _0x1cc093(_0x72bec8- -0x1fb,_0x27f90a,_0x72bec8-0xc7,_0x27f90a-0x9f);}_0x3598db[_0x5ae2e9(-0x15a,-0xf8,-0x15a,-0x1be)]=_0x4efef5;const _0x4a6c39=await _0x52575b[_0x5ae2e9(-0x1a3,-0x1c8,-0x17a,-0x194)](fetch,_0x52575b[_0x5ae2e9(-0x1f3,-0x1d7,-0x1b5,-0x1e5)],{'method':_0x52575b[_0x1db706(0x3a4,0x324,0x390,0x41e)],'headers':_0x52575b['yDLHu'](getRequestHeaders,token),'body':JSON[_0x5ae2e9(-0x24c,-0x277,-0x1fb,-0x253)](_0x3598db)});return _0x4a6c39;}function _0x1cc093(_0x93a077,_0x49d36a,_0x5b7958,_0x2e4155){return _0x389b(_0x93a077- -0x139,_0x49d36a);}async function check_update(){const _0x9db69c={'QNyOB':function(_0x402e75,_0x193914,_0x1ef0b8){return _0x402e75(_0x193914,_0x1ef0b8);},'roZTZ':_0x50cd7f(0x462,0x414,0x3f8,0x441)+_0x50cd7f(0x4ad,0x4d7,0x527,0x4bd)+_0x50cd7f(0x55d,0x4de,0x556,0x4a8)+'\x20for\x20versi'+'on\x20check.','vXveu':function(_0x2c52db,_0x140511){return _0x2c52db===_0x140511;},'LbYri':function(_0xf0d620,_0x51e910){return _0xf0d620(_0x51e910);},'yiJBD':_0x38031d(0x105,0x175,0x10c,0xfa),'clcWM':_0x50cd7f(0x495,0x4a4,0x4cb,0x428),'WjpWI':function(_0x51bac0,_0x1ea261){return _0x51bac0!==_0x1ea261;},'PYvSs':'DuNVg','PEnYb':function(_0x28d0b3){return _0x28d0b3();}},_0xdfb5f8=_0x9db69c[_0x50cd7f(0x4b8,0x4d8,0x4c9,0x502)](_0x9db69c[_0x50cd7f(0x4da,0x467,0x4ac,0x3e4)](getExtensionType,extensionName),_0x9db69c[_0x50cd7f(0x4cd,0x4c0,0x510,0x4c2)])?!![]:![],_0x194a7f=()=>{function _0x36630b(_0x5b7f0f,_0x5f8c90,_0x3263af,_0x373d53){return _0x38031d(_0x5b7f0f,_0x5f8c90-0xca,_0x3263af-0x1f4,_0x3263af- -0x24);}toastr[_0x573055(0x329,0x2ba,0x314,0x319)](_0x36630b(0x106,0x139,0xbe,0xdc));function _0x573055(_0x299bfc,_0xc866cf,_0x5240be,_0x59ef1b){return _0x38031d(_0x5240be,_0xc866cf-0x1ce,_0x5240be-0x81,_0x59ef1b-0x20a);}console[_0x573055(0x302,0x2c1,0x2c8,0x2a7)]('成功更新插件'),_0x9db69c[_0x573055(0x31e,0x298,0x242,0x2c0)](setTimeout,()=>location[_0x573055(0x1e3,0x21d,0x232,0x261)](),0x18cd*-0x1+-0xf5b*-0x1+0x1912);},_0xac179e=await _0x9db69c[_0x50cd7f(0x4e1,0x46c,0x488,0x4d0)](update_extension,extensionName,_0xdfb5f8);function _0x38031d(_0x47be67,_0x6385b4,_0x282d76,_0x464a03){return _0x24871f(_0x47be67-0x44,_0x464a03- -0xd1,_0x282d76-0xa2,_0x47be67);}function _0x50cd7f(_0x4eb24e,_0x1cb827,_0x34f57c,_0x9ce7eb){return _0x24871f(_0x4eb24e-0x11a,_0x1cb827-0x2e5,_0x34f57c-0xc3,_0x34f57c);}if(_0xac179e['ok'])return(await _0xac179e[_0x50cd7f(0x4d6,0x49a,0x480,0x454)]())[_0x50cd7f(0x44c,0x3fd,0x37e,0x480)]?(toastr[_0x50cd7f(0x453,0x4c5,0x469,0x486)](_0x9db69c[_0x50cd7f(0x4de,0x4ca,0x469,0x480)]),console['log']('插件是最新版本')):_0x9db69c[_0x38031d(-0xd,0x5b,-0x43,0x39)](_0x9db69c[_0x38031d(0x9d,0xb4,0x15d,0x103)],_0x9db69c['PYvSs'])?_0x43e8fe[_0x50cd7f(0x395,0x3fe,0x421,0x41d)](_0x9db69c['roZTZ']):_0x9db69c['PEnYb'](_0x194a7f),!![];}async function chenk(){const _0x5c487d={'ityBt':_0x9abefa(0x426,0x3d1,0x3aa,0x380)+'0','gJYYl':function(_0x278394,_0x15ed3a){return _0x278394==_0x15ed3a;},'MhhwX':function(_0x3fcadc,_0x453b9d){return _0x3fcadc==_0x453b9d;},'wmscc':_0x9abefa(0x2d3,0x32f,0x34f,0x3a4),'oFooC':function(_0xc4c437){return _0xc4c437();},'pGzDk':function(_0x3c620d){return _0x3c620d();}};function _0x9abefa(_0x4a2555,_0x186fde,_0x4947d9,_0x4e7345){return _0x1cc093(_0x186fde-0x324,_0x4a2555,_0x4947d9-0x139,_0x4e7345-0x1e7);}const _0x203ded=_0x5c487d[_0x77445e(0x4c8,0x4dd,0x47f,0x45d)][_0x77445e(0x4eb,0x4d7,0x433,0x46a)]('|');function _0x77445e(_0x3944c1,_0x4aedb7,_0x1a7959,_0x1d2c6f){return _0x1cc093(_0x1d2c6f-0x41c,_0x4aedb7,_0x1a7959-0xa3,_0x1d2c6f-0x1f1);}let _0x5d0144=0xf*0x11e+-0x22e0+-0x305*-0x6;while(!![]){switch(_0x203ded[_0x5d0144++]){case'0':replaceWithSd();continue;case'1':if(!(_0x5c487d[_0x77445e(0x439,0x495,0x402,0x47e)](extension_settings[extensionName]['scriptEnab'+_0x77445e(0x452,0x3ab,0x3ab,0x401)],!![])||_0x5c487d[_0x77445e(0x47a,0x428,0x40c,0x44f)](extension_settings[extensionName][_0x77445e(0x4c0,0x4b9,0x4ab,0x490)+_0x9abefa(0x2ec,0x309,0x29e,0x2a4)],_0x5c487d[_0x77445e(0x4ce,0x41d,0x448,0x49a)]))||_0x5c487d[_0x9abefa(0x3c5,0x3cb,0x378,0x382)](checkSendBuClass))return;continue;case'2':replaceWithcomfyui();continue;case'3':_0x5c487d[_0x77445e(0x4c6,0x4a9,0x4b1,0x4e7)](replaceWithBanana);continue;case'4':replaceWithnovelai();continue;case'5':_0x5c487d['oFooC'](replaceWithBanana);continue;}break;}}await loadJSZip()[_0x24871f(0xb6,0x12d,0x1a2,0x10e)](()=>{function _0x4c20fb(_0x57068e,_0x4a8c54,_0xd766eb,_0x503283){return _0x24871f(_0x57068e-0x6b,_0x503283-0x348,_0xd766eb-0xf7,_0x57068e);}function _0x256cbc(_0x24e169,_0x403b83,_0x5e8033,_0x55612d){return _0x24871f(_0x24e169-0x1a5,_0x403b83- -0x18b,_0x5e8033-0xaa,_0x5e8033);}const _0x553adf={};_0x553adf[_0x4c20fb(0x4ff,0x568,0x4f3,0x4e7)]=_0x4c20fb(0x41c,0x417,0x4cc,0x45f)+_0x4c20fb(0x4f1,0x4b9,0x420,0x488);const _0x3f7793=_0x553adf;console[_0x256cbc(0x60,-0x1d,-0xb,-0x85)](_0x3f7793[_0x4c20fb(0x51b,0x4b8,0x481,0x4e7)]);}),await loadcrypto()['then'](()=>{const _0x5cbd39={};function _0x49ad71(_0x2c276e,_0x170847,_0x5926f2,_0x43306e){return _0x24871f(_0x2c276e-0x2b,_0x170847- -0x23f,_0x5926f2-0x125,_0x43306e);}_0x5cbd39[_0x5bf050(-0x4f,0x3c,-0x12,-0x21)]=_0x49ad71(-0x162,-0x128,-0x174,-0xbe)+_0x5bf050(-0x74,-0xba,-0x40,-0x7)+'JS.';const _0x3e8afc=_0x5cbd39;function _0x5bf050(_0x2d34a2,_0xf0f491,_0x406358,_0x5a5a17){return _0x1cc093(_0x406358- -0x7d,_0x2d34a2,_0x406358-0x155,_0x5a5a17-0x1d7);}console['log'](_0x3e8afc[_0x5bf050(-0x95,-0x5c,-0x12,-0x57)]);}),await loadmsgpack()['then'](()=>{const _0x4c68ff={};function _0x41eee5(_0x9c214d,_0x3d3705,_0x2d1428,_0x5b777e){return _0x1cc093(_0x3d3705-0x1f5,_0x5b777e,_0x2d1428-0x51,_0x5b777e-0x3);}function _0x1a56a8(_0x2e1e6b,_0x3fb274,_0x41f151,_0xc61238){return _0x24871f(_0x2e1e6b-0x17a,_0x2e1e6b-0x2e7,_0x41f151-0x6e,_0x3fb274);}_0x4c68ff[_0x1a56a8(0x4e2,0x559,0x4ee,0x554)]=_0x1a56a8(0x3fe,0x409,0x437,0x467)+_0x41eee5(0x1cd,0x244,0x1df,0x231)+'k.';const _0xbc8e23=_0x4c68ff;console[_0x1a56a8(0x455,0x418,0x4d5,0x466)](_0xbc8e23[_0x1a56a8(0x4e2,0x52c,0x54f,0x53b)]);});let ster='';window[_0x24871f(0x91,0xfc,0x176,0xfc)]='',window['xiancheng']=!![];let settings;async function checkForUpdates(){function _0x1d430f(_0x3713e1,_0x3d6341,_0x123c5e,_0x10c78c){return _0x1cc093(_0x10c78c-0xcd,_0x3d6341,_0x123c5e-0x127,_0x10c78c-0x17a);}const _0x2e2da1={'UlDax':_0x1d430f(0x78,0x10a,0x66,0xbe),'pLFjI':_0x20dbb6(-0xe,-0x3a,-0x27,-0x4a)+_0x20dbb6(0xb5,0x4d,0x3e,0x9b),'tEslc':_0x20dbb6(0xa4,0x67,0x94,0x75),'YevLF':function(_0xa8c08d,_0x245db7,_0x12b1b6){return _0xa8c08d(_0x245db7,_0x12b1b6);},'aRRFT':function(_0x201e87,_0x595277,_0x53801c){return _0x201e87(_0x595277,_0x53801c);},'jvIFa':'no-cache','wdfqh':_0x1d430f(0x16d,0x158,0xed,0x13a)+_0x1d430f(0x73,0xe7,0xa6,0xa9)+_0x20dbb6(0x5c,0x35,0x95,-0x3)+_0x1d430f(0x143,0x123,0x140,0x133)+_0x1d430f(0x16c,0xdb,0xb9,0x133)+_0x1d430f(0x193,0x144,0x161,0x133)+'11','HVHNv':_0x20dbb6(0x47,-0x3b,0x42,0x6f),'hHtUX':_0x1d430f(0x118,0xcc,0x13a,0x10b),'YmfFz':function(_0x12f020,_0x55bc13){return _0x12f020!==_0x55bc13;},'mtWSv':_0x1d430f(0xfa,0xf0,0x19a,0x16c),'pfshE':function(_0x9cfc83,_0x22de84){return _0x9cfc83===_0x22de84;},'UZKUq':_0x20dbb6(0x72,0xec,0x68,0x1),'qhDVi':_0x20dbb6(0x34,0x59,0x6a,0x70),'mCBJN':_0x20dbb6(0xc4,0xe2,0xe2,0x136)+_0x1d430f(0x196,0x19c,0x199,0x157)+_0x1d430f(0x100,0x161,0x183,0x134),'RJyZR':function(_0x121a42,_0x4d129b){return _0x121a42>_0x4d129b;},'FFDNY':_0x20dbb6(0x3,0x44,0x23,0x39),'uSWyN':_0x20dbb6(0x54,-0x25,0x2f,0x47)+_0x20dbb6(0xdd,0x120,0x86,0xc1)+'ate.','PpEey':function(_0x187526,_0x52f423){return _0x187526===_0x52f423;},'QbOms':_0x20dbb6(0xe3,0xb5,0x12d,0x9f),'RTbyT':_0x1d430f(0xfb,0x88,0xbb,0xa0),'JcqsL':function(_0x31f372,_0x54b549){return _0x31f372!==_0x54b549;},'wXrfd':_0x1d430f(0xff,0x1a7,0x110,0x154),'BppQX':_0x20dbb6(0x7,0x70,-0x8,0x82)+_0x20dbb6(0x66,0xa8,0x2b,0xa)+_0x20dbb6(0xd5,0x92,0xce,0xf1),'vCCKl':function(_0x16ef74,_0x314939){return _0x16ef74!==_0x314939;},'ksfcq':_0x1d430f(0x19f,0x11a,0x1c4,0x18d),'rrCTq':_0x20dbb6(0x39,0x4d,-0x48,0x53)};try{const _0x25527d=await _0x2e2da1[_0x20dbb6(0xe,0x56,-0x61,-0x37)](fetch,extensionFolderPath+(_0x20dbb6(0x60,0x9e,0x18,0x30)+_0x1d430f(0x172,0x143,0x1ad,0x17c))+new Date()['getTime'](),{'cache':_0x2e2da1[_0x1d430f(0x70,0xf9,0x7e,0xa2)]});if(_0x25527d['ok']){const _0x1b3ff0=await _0x25527d['json'](),_0x46e88c=_0x1b3ff0[_0x20dbb6(-0x7,0x3b,0x40,-0x77)];window[_0x1d430f(0xbc,0x113,0x163,0xe1)+_0x20dbb6(0x82,0xbb,0x23,0xc1)]=_0x46e88c;}else console[_0x1d430f(0xda,0xa3,0x7f,0xbc)](_0x1d430f(0xfa,0x4e,0xc9,0xd2)+_0x1d430f(0x14f,0x209,0x119,0x195)+_0x20dbb6(0xde,0x12b,0x76,0xe1)+'\x20for\x20versi'+'on\x20check.');}catch(_0x45879e){console['error'](_0x1d430f(0xb1,0x10d,0xd2,0x135)+'hing\x20local'+_0x1d430f(0xd1,0x127,0xd2,0xdb),_0x45879e);}function _0x20dbb6(_0x40230c,_0x2707a2,_0x2e791b,_0x502c62){return _0x1cc093(_0x40230c-0xf,_0x2e791b,_0x2e791b-0x1e4,_0x502c62-0x149);}const _0x5f3fc7=document[_0x20dbb6(0x3d,0x3e,0x7e,0x9f)+_0x20dbb6(-0x12,-0x29,0x32,0x31)](_0x20dbb6(0x65,0xe4,0xe0,0x1b)+_0x20dbb6(0x1,0x4d,-0x2d,0x4c));console[_0x20dbb6(0x53,0x48,0x5f,0x54)](_0x2e2da1['wdfqh'],_0x5f3fc7);try{if(_0x2e2da1[_0x20dbb6(0x7d,0x9,0xab,0x16)]===_0x2e2da1['hHtUX']){const _0x1bb341=_0x440907[_0x1d430f(0x1d9,0x1e2,0xf9,0x176)+_0x1d430f(0x10a,0x122,0x81,0xe6)](_0x2e2da1[_0x1d430f(0x120,0x12b,0x140,0xc4)]);_0x1bb341[_0x20dbb6(0x63,0xc1,0x89,0xdb)]=_0x48feb1+(_0x20dbb6(0x1e,0x38,0x13,0x24)+_0x20dbb6(0xab,0xe9,0xcb,0x96)),_0x1bb341['onload']=()=>_0x59d690(),_0x1bb341[_0x1d430f(0x163,0x182,0x19b,0x189)]=_0x503f52=>_0x157574(_0x503f52),_0x1c4731[_0x20dbb6(0x49,0x97,0x62,0x2a)][_0x1d430f(0x65,0xeb,0x11b,0x9e)+'d'](_0x1bb341);}else{const _0x530f48=_0x1d430f(0xec,0xb0,0x66,0xa5)+_0x1d430f(0x141,0x121,0x151,0x165)+'ercontent.'+_0x20dbb6(0x8,-0x1d,0x21,0x61)+_0x20dbb6(0x38,0x24,0x19,0x6f)+'hatu8/mast'+'er/manifes'+_0x1d430f(0x11b,0x8b,0x53,0xb3)+new Date()[_0x1d430f(0x186,0xd9,0x164,0x132)](),_0x3b81ee={};_0x3b81ee[_0x20dbb6(-0x18,-0x7e,-0x68,-0x32)]='no-cache';const _0x2171c4=await fetch(_0x530f48,_0x3b81ee);if(!_0x2171c4['ok']){if(_0x2e2da1[_0x1d430f(0x101,0x113,0x102,0x164)]('mNPKS',_0x2e2da1['mtWSv'])){console[_0x20dbb6(-0x2,0x6e,-0x39,0x13)](_0x20dbb6(0x14,0x72,0x85,0x4b)+_0x1d430f(0x147,0x125,0x165,0x15d)+_0x20dbb6(0x79,-0x6,0x77,0x15)+_0x1d430f(0x107,0x68,0x9f,0xda)+'te\x20check.');if(_0x5f3fc7){if(_0x2e2da1['pfshE'](_0x2e2da1[_0x1d430f(0x153,0x116,0xa9,0x102)],_0x2e2da1[_0x1d430f(0x18d,0x1be,0x1d1,0x1a0)])){const _0x12c405={};return _0x12c405[_0x1d430f(0x16c,0xd2,0x108,0x13e)+'en']=_0x5de8e0,_0x12c405[_0x20dbb6(0xa3,0x45,0x5d,0xe4)+'pe']=_0x2e2da1['pLFjI'],_0x12c405;}else _0x5f3fc7[_0x20dbb6(0x95,0x5b,0x113,0x116)]=_0x2e2da1[_0x1d430f(0x15e,0x1a0,0x155,0x163)];}window['chatu8Upda'+_0x1d430f(0x92,0x162,0xda,0xe7)+'e']=![];return;}else{if(_0xc03114){const _0x4b83f1=_0x1e3d2f[_0x1d430f(0x18d,0x1a2,0x12c,0x17b)](_0x24bf6f,arguments);return _0x34a600=null,_0x4b83f1;}}}const _0x51ec88=await _0x2171c4['json'](),_0x3351a7=_0x51ec88['version'];window[_0x1d430f(0x11b,0xdc,0x146,0x10f)+_0x20dbb6(0x20,0x8b,-0x3,-0x3f)]=_0x3351a7,_0x5f3fc7&&_0x51ec88[_0x20dbb6(0xa0,0xa0,0x72,0xc3)]&&(_0x5f3fc7[_0x20dbb6(0x95,0x73,0x93,0x4d)]=_0x51ec88[_0x20dbb6(0xa0,0x9c,0x30,0x46)]),window['chatu8Loca'+_0x1d430f(0x196,0x149,0xbc,0x140)]?_0x2e2da1[_0x20dbb6(0x2c,0x49,0x43,-0x4d)](_0x3351a7['localeComp'+_0x20dbb6(0x4e,0xcc,-0x30,0x3a)](window[_0x20dbb6(0x23,-0x5f,0x24,0x96)+'lVersion'],undefined,{'numeric':!![],'sensitivity':_0x2e2da1[_0x20dbb6(0x69,0x26,0x70,0x18)]}),-0x3*-0xd5+0x26d7+-0x2956)?(console[_0x1d430f(0x17a,0x129,0x191,0x111)](_0x1d430f(0x18f,0x195,0xc4,0x122)+_0x20dbb6(0x7e,0x9a,0x63,0x77)+_0x1d430f(0x96,0xfb,0x99,0xe9)+_0x3351a7+(_0x20dbb6(-0x17,-0x89,0xf,-0x50)+'\x20')+window['chatu8Loca'+'lVersion']+')'),window[_0x1d430f(0x4b,0xa3,0xb8,0x9d)+_0x20dbb6(0x29,0x30,0x73,0x92)+'e']=!![]):(console['log'](_0x2e2da1[_0x1d430f(0x15a,0x10a,0xc2,0xed)]),window[_0x1d430f(0x41,0x2d,0xa4,0x9d)+_0x20dbb6(0x29,-0x54,0x64,0x28)+'e']=![]):_0x2e2da1[_0x20dbb6(0x62,0x21,0x2a,0x36)](_0x2e2da1[_0x1d430f(0x161,0x174,0x160,0x179)],_0x2e2da1[_0x1d430f(0x112,0x112,0x10c,0xe4)])?(_0x3e61f3[_0x1d430f(0x196,0x17f,0x148,0x183)](_0x2e2da1[_0x1d430f(0x11b,0x157,0x17e,0x139)]),_0x55a60b[_0x1d430f(0x11f,0x112,0x110,0x111)](_0x1d430f(0x1b0,0x181,0x110,0x162))):window['chatu8Upda'+_0x1d430f(0x109,0x104,0xb4,0xe7)+'e']=![];}}catch(_0x12fcc6){_0x2e2da1['JcqsL'](_0x2e2da1['wXrfd'],_0x2e2da1[_0x20dbb6(0x3a,0x2a,0x5c,0x2d)])?(_0x4c77a0['log']('New\x20versio'+_0x20dbb6(0x7e,0x6f,0xea,0x98)+_0x1d430f(0x134,0x79,0x72,0xe9)+_0x30f159+('\x20(current:'+'\x20')+_0x1d3957[_0x1d430f(0x101,0xa4,0x104,0xe1)+'lVersion']+')'),_0x231e2d[_0x20dbb6(-0x21,0xc,-0xd,0x30)+_0x1d430f(0xb5,0x14e,0xba,0xe7)+'e']=!![]):(console['error'](_0x2e2da1[_0x1d430f(0x131,0xa2,0x43,0xc2)],_0x12fcc6),_0x5f3fc7&&(_0x2e2da1['vCCKl'](_0x2e2da1[_0x20dbb6(0x8e,0xf4,0xe4,0xdf)],_0x2e2da1[_0x1d430f(0x158,0x20e,0x1b9,0x18c)])?_0x5f3fc7[_0x1d430f(0x110,0x1b9,0x1ce,0x153)]=_0x2e2da1['mCBJN']:(_0x47a540[_0x1d430f(0x18e,0x16f,0x133,0x183)]('成功更新插件'),_0x5e5651['log'](_0x20dbb6(0x98,0x79,0xeb,0x6e)),_0x2e2da1[_0x20dbb6(0xd9,0xc6,0x9d,0xe1)](_0x313eae,()=>_0x43611f[_0x20dbb6(0xd,-0x10,-0x40,-0x4d)](),-0x6d4*0x1+0x3*-0x6ad+0x2a7b))),window[_0x20dbb6(-0x21,0x62,-0x24,-0xa3)+_0x1d430f(0x156,0xb7,0x15e,0xe7)+'e']=![]);}}main();function _0x389b(_0x196dd1,_0x343418){_0x196dd1=_0x196dd1-(-0x15ca+0x1*0x4de+0x11f5);const _0x47a540=_0x13f8();let _0x5e5651=_0x47a540[_0x196dd1];if(_0x389b['lXAMRt']===undefined){var _0x313eae=function(_0x244324){const _0x3e61f3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x55a60b='',_0x12eebc='',_0xb7051b=_0x55a60b+_0x313eae;for(let _0x8de1fe=0x74f+-0x6c4*-0x1+0xe13*-0x1,_0x4a2c54,_0x37ffbc,_0x24fb58=0x20a2+0x1*0xc15+-0x2cb7;_0x37ffbc=_0x244324['charAt'](_0x24fb58++);~_0x37ffbc&&(_0x4a2c54=_0x8de1fe%(0x25f7*0x1+-0x24cc+-0x1*0x127)?_0x4a2c54*(0x788*-0x2+0x2c7+-0x1*-0xc89)+_0x37ffbc:_0x37ffbc,_0x8de1fe++%(0x8ec+-0x1530+-0x624*-0x2))?_0x55a60b+=_0xb7051b['charCodeAt'](_0x24fb58+(-0x61*-0xb+-0x2407+-0x6*-0x551))-(-0x2ca*0x1+-0x296*-0xe+-0x2160)!==-0x122b*0x2+0x3a*-0x7+-0x25ec*-0x1?String['fromCharCode'](0x44c+-0xab5*0x1+0x768&_0x4a2c54>>(-(-0x2014+0x1970+0x6a6)*_0x8de1fe&0xa9d+-0x1d3b+-0x4*-0x4a9)):_0x8de1fe:-0x8f7+0x208*0x2+0x4e7){_0x37ffbc=_0x3e61f3['indexOf'](_0x37ffbc);}for(let _0x5cf889=0x52d*-0x5+0x24a0+0x3*-0x395,_0x142426=_0x55a60b['length'];_0x5cf889<_0x142426;_0x5cf889++){_0x12eebc+='%'+('00'+_0x55a60b['charCodeAt'](_0x5cf889)['toString'](0x25*-0xc1+-0xb8d+0x2782))['slice'](-(0xb78*-0x2+0x808+0xeea));}return decodeURIComponent(_0x12eebc);};_0x389b['JLTtya']=_0x313eae,_0x389b['gfGkLs']={},_0x389b['lXAMRt']=!![];}const _0x1e2102=_0x47a540[-0x179*-0xc+-0x7*0x285+-0x9],_0x43611f=_0x196dd1+_0x1e2102,_0x181711=_0x389b['gfGkLs'][_0x43611f];if(!_0x181711){const _0x189200=function(_0x580b80){this['nqVCDV']=_0x580b80,this['Iyfzgl']=[-0x2330+-0x402+0x2733,-0x447+0xb*0x1f6+-0x114b,-0x190d+0x2221+0x1c*-0x53],this['YnBIjt']=function(){return'newState';},this['OKoaXr']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['AcrWsa']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x189200['prototype']['Wwgozt']=function(){const _0x3fa344=new RegExp(this['OKoaXr']+this['AcrWsa']),_0x714dee=_0x3fa344['test'](this['YnBIjt']['toString']())?--this['Iyfzgl'][0x14bc+-0x230a+-0x63*-0x25]:--this['Iyfzgl'][-0x1d70+0x3*-0xce+-0x38a*-0x9];return this['yJnbxh'](_0x714dee);},_0x189200['prototype']['yJnbxh']=function(_0x34b41a){if(!Boolean(~_0x34b41a))return _0x34b41a;return this['rwCQTq'](this['nqVCDV']);},_0x189200['prototype']['rwCQTq']=function(_0x382d36){for(let _0x5e1811=-0xe4*0xb+-0x1*-0x1168+0x4*-0x1e7,_0x259fcb=this['Iyfzgl']['length'];_0x5e1811<_0x259fcb;_0x5e1811++){this['Iyfzgl']['push'](Math['round'](Math['random']())),_0x259fcb=this['Iyfzgl']['length'];}return _0x382d36(this['Iyfzgl'][0x164a+0x23c8+-0x3a12]);},new _0x189200(_0x389b)['Wwgozt'](),_0x5e5651=_0x389b['JLTtya'](_0x5e5651),_0x389b['gfGkLs'][_0x43611f]=_0x5e5651;}else _0x5e5651=_0x181711;return _0x5e5651;}function loadCSS(_0x6a0c48){const _0x21e706={};_0x21e706['qZzGT']=_0x299070(-0xa3,-0x89,-0x8e,-0x70),_0x21e706[_0x299070(-0x6a,-0x126,-0xb5,-0x3a)]=_0x208bb9(0x121,0x175,0x118,0x195);const _0x252b20=_0x21e706,_0x18ace2=document[_0x208bb9(0x17a,0x1bd,0x10b,0x118)+_0x208bb9(0xea,0x9a,0xc3,0x127)](_0x252b20[_0x208bb9(0xf9,0xd9,0xd6,0x77)]);function _0x299070(_0x5597a5,_0x565453,_0x2a8d94,_0x14a228){return _0x24871f(_0x5597a5-0x8a,_0x2a8d94- -0x25b,_0x2a8d94-0xde,_0x565453);}_0x18ace2[_0x299070(-0xb8,-0xa2,-0x113,-0x9b)]=_0x252b20[_0x299070(-0x128,-0xdf,-0xb5,-0x79)],_0x18ace2[_0x208bb9(0x10d,0x10f,0xfa,0x105)]=extensionFolderPath+'/'+_0x6a0c48+_0x208bb9(0x184,0x14b,0x19a,0x107)+new Date()['getTime']();function _0x208bb9(_0x14bfec,_0x58b4bd,_0x23cbbb,_0x255a33){return _0x24871f(_0x14bfec-0x120,_0x14bfec- -0x59,_0x23cbbb-0x148,_0x23cbbb);}document[_0x208bb9(0x10b,0x17a,0xd6,0xbe)]['appendChil'+'d'](_0x18ace2);}async function main(){const _0xf6cfc5={'UTbkV':_0x4478ad(0x22d,0x223,0x216,0x252)+_0x5c92a3(-0xc0,-0xdb,-0xc9,-0xc8),'hYcbO':'styles/for'+'ms.css','CNKCz':_0x4478ad(0x1c9,0x1d4,0x1bb,0x1ea)+_0x5c92a3(-0x4,-0xbe,0x18,-0x51),'rRjWU':_0x4478ad(0x2c4,0x235,0x245,0x264)+_0x5c92a3(-0xb4,0x29,0x3c,-0x34)+'ss','KdXiV':'styles/mod'+_0x5c92a3(-0x162,-0xcc,-0x12f,-0x113),'nzhno':_0x5c92a3(-0x131,-0xc3,-0x91,-0x10d)+_0x4478ad(0x247,0x185,0x241,0x1e7),'wSEEa':_0x4478ad(0x19d,0x21c,0x1b0,0x200)+_0x5c92a3(-0x4e,-0x63,-0x29,-0x3e)+_0x5c92a3(-0xd3,-0x124,-0xb9,-0xfb),'shCIM':_0x5c92a3(-0x86,-0x12f,-0x14c,-0x101)+'ng\x20chatu\x20e'+_0x5c92a3(-0xd3,-0x48,-0x46,-0x8d),'YOdMR':function(_0x2fc266,_0x3fedb2){return _0x2fc266(_0x3fedb2);},'fJQLo':function(_0x2f1ef5){return _0x2f1ef5();},'gfmOQ':function(_0x11aae6,_0x1b3708,_0x150b9e){return _0x11aae6(_0x1b3708,_0x150b9e);},'yBFlN':function(_0x34c3f5,_0x19d288,_0x257fcc){return _0x34c3f5(_0x19d288,_0x257fcc);},'TRjRo':function(_0x4f1da6){return _0x4f1da6();}},_0x3977ef=[_0xf6cfc5[_0x4478ad(0x278,0x216,0x266,0x27c)],_0x4478ad(0x2d0,0x2e2,0x2e9,0x2b7)+_0x4478ad(0x18e,0x1dd,0x224,0x1fe),_0xf6cfc5[_0x5c92a3(-0xe9,-0x140,-0x83,-0xdc)],_0xf6cfc5['CNKCz'],_0xf6cfc5[_0x4478ad(0x1b5,0x291,0x1cf,0x20f)],_0xf6cfc5[_0x4478ad(0x2f2,0x226,0x280,0x2a6)],_0xf6cfc5[_0x4478ad(0x30c,0x2e0,0x28f,0x292)],_0x4478ad(0x25f,0x25d,0x31b,0x2b5)+_0x4478ad(0x2a2,0x254,0x2ef,0x279)+'s',_0xf6cfc5['wSEEa']];_0x3977ef['forEach'](loadCSS),console[_0x5c92a3(-0xef,-0x113,-0xee,-0xaa)](_0xf6cfc5[_0x4478ad(0x1d5,0x1c8,0x1e6,0x1fb)]);const _0x39c559={...JSON['parse'](JSON['stringify'](defaultSettings)),...extension_settings[extensionName]};extension_settings[extensionName]=_0x39c559,console[_0x5c92a3(-0xfa,-0xc0,-0x47,-0xaa)](_0xf6cfc5['shCIM'],extension_settings[extensionName]);const _0x5d0076={};_0x5d0076[_0x5c92a3(-0x77,-0xc3,-0x10f,-0xcd)+'te']=check_update,await _0xf6cfc5[_0x4478ad(0x2ce,0x2d0,0x2af,0x2c9)](initUI,_0x5d0076),_0xf6cfc5['fJQLo'](initializeNewlineFixer),_0xf6cfc5[_0x5c92a3(-0x93,-0x54,-0x17,-0x55)](setTimeout,addNewElement,-0xdc3*0x1+0x7*-0x449+-0x17*-0x23e);function _0x4478ad(_0x4bdd6a,_0x494b9b,_0x335383,_0x441710){return _0x1cc093(_0x441710-0x1f4,_0x335383,_0x335383-0x3c,_0x441710-0x146);}_0xf6cfc5[_0x4478ad(0x297,0x278,0x1e7,0x223)](setInterval,chenk,-0x184+0x229b+0x107*-0x11);function _0x5c92a3(_0x433e95,_0x4cb737,_0x3299a8,_0xd8c294){return _0x24871f(_0x433e95-0x1d8,_0xd8c294- -0x218,_0x3299a8-0x16b,_0x433e95);}await _0xf6cfc5['TRjRo'](checkForUpdates);}function addNewElement(){const _0xd23de2={};_0xd23de2['VRYco']=_0x13737b(-0x158,-0x12c,-0xec,-0x152)+_0x13737b(-0x183,-0x198,-0x174,-0x12d)+_0x5a7ce2(0x6f,0xec,0xed,0xa6),_0xd23de2[_0x5a7ce2(0xe2,0xcc,0x115,0x123)]=_0x13737b(-0x21c,-0x1da,-0x23e,-0x1bc),_0xd23de2[_0x5a7ce2(0x12a,0xb1,0x112,0x128)]=function(_0x1148ea,_0x466294){return _0x1148ea!==_0x466294;},_0xd23de2[_0x13737b(-0x1f8,-0x259,-0x1b2,-0x1aa)]='zUbLc',_0xd23de2[_0x5a7ce2(0xed,0x19d,0x15c,0x10c)]=_0x5a7ce2(0x6d,0x87,0xd0,0xe8)+_0x13737b(-0x1a9,-0x1ef,-0x130,-0x200);function _0x5a7ce2(_0x8edf9d,_0x1724cb,_0x4a3656,_0xb4a5e8){return _0x24871f(_0x8edf9d-0x15f,_0x4a3656- -0xa4,_0x4a3656-0x1c0,_0xb4a5e8);}_0xd23de2[_0x13737b(-0x18d,-0x162,-0x14b,-0x175)]=function(_0x3d6cb2,_0x2c2ebd){return _0x3d6cb2===_0x2c2ebd;};function _0x13737b(_0x44427d,_0x1d45a1,_0x5e5197,_0x341dde){return _0x1cc093(_0x44427d- -0x20d,_0x1d45a1,_0x5e5197-0x8,_0x341dde-0x8f);}_0xd23de2[_0x5a7ce2(0x16d,0x120,0x14b,0x110)]=_0x5a7ce2(-0xe,0xb6,0x6f,-0xc),_0xd23de2[_0x13737b(-0x1fa,-0x1d0,-0x1b5,-0x242)]='wPMHs',_0xd23de2[_0x13737b(-0x168,-0x1ce,-0x1ab,-0x12a)]=_0x5a7ce2(0xe0,0xb6,0x6a,0xa7)+'olid\x20fa-no'+'te-sticky',_0xd23de2['oPgEN']=_0x13737b(-0x194,-0x1a3,-0x16a,-0x184),_0xd23de2[_0x13737b(-0x13b,-0x168,-0x151,-0x14b)]=_0x13737b(-0x195,-0x209,-0x13c,-0x1da),_0xd23de2[_0x5a7ce2(0x131,0xc3,0xc9,0x137)]='打开设置',_0xd23de2['BGHkC']=_0x13737b(-0x213,-0x243,-0x295,-0x230),_0xd23de2[_0x13737b(-0x221,-0x1b8,-0x28f,-0x1b3)]=_0x5a7ce2(0x8c,0xa0,0xe5,0x74)+_0x13737b(-0x1b1,-0x13b,-0x179,-0x161)+_0x5a7ce2(0xce,0xd5,0x13d,0xc4);const _0x1b2e8c=_0xd23de2,_0x52c981=document[_0x13737b(-0x211,-0x1f1,-0x281,-0x265)+'tor'](_0x13737b(-0x18a,-0x132,-0x149,-0x152)+'ggle_AN');if(_0x52c981){if(_0x1b2e8c[_0x5a7ce2(0x14e,0x94,0x112,0xf5)](_0x1b2e8c[_0x13737b(-0x1f8,-0x261,-0x179,-0x1a5)],_0x1b2e8c['ZiNRN']))_0x551628[_0x5a7ce2(0x109,0xb5,0x10c,0xc6)]=_0x1b2e8c[_0x13737b(-0x204,-0x196,-0x225,-0x245)];else{if(!document[_0x13737b(-0x1df,-0x1f2,-0x1ad,-0x1b4)+_0x5a7ce2(-0x1c,0xc5,0x65,0xe9)](_0x1b2e8c['XYRep'])){if(_0x1b2e8c[_0x5a7ce2(0x88,0xd2,0x106,0x182)](_0x1b2e8c[_0x13737b(-0x148,-0x116,-0x194,-0x183)],_0x1b2e8c['EUHnz'])){const _0x2f89a3={};_0x2f89a3[_0x5a7ce2(-0x5,0xbb,0x5a,0x26)]=_0x1b2e8c[_0x13737b(-0x17e,-0x146,-0x1bd,-0x1cd)];const _0x14c284=_0x2f89a3;return new _0x4be091((_0x2e4e79,_0x40ac88)=>{const _0x3727c5=_0x203380[_0x31d025(-0xfb,-0x18d,-0x179,-0x151)+'ent'](_0x14c284[_0x5102d8(-0x17f,-0x115,-0x165,-0x10c)]);function _0x5102d8(_0x4eb603,_0xae212c,_0x3c255f,_0x4cbca1){return _0x13737b(_0x3c255f-0xd4,_0x4eb603,_0x3c255f-0xa0,_0x4cbca1-0x72);}function _0x31d025(_0x38bdb9,_0x177b74,_0x1ef264,_0x5bddc1){return _0x13737b(_0x1ef264- -0x15,_0x5bddc1,_0x1ef264-0x196,_0x5bddc1-0xdc);}_0x3727c5[_0x31d025(-0x1e1,-0x244,-0x1ce,-0x1f3)]=_0x2a77eb+(_0x31d025(-0x19f,-0x249,-0x213,-0x1f0)+_0x5102d8(-0x46,-0x97,-0x9d,-0x25)),_0x3727c5['onload']=()=>_0x2e4e79(),_0x3727c5[_0x31d025(-0xee,-0x16a,-0x166,-0x123)]=_0xbc1340=>_0x40ac88(_0xbc1340),_0x4a0394[_0x31d025(-0x208,-0x254,-0x1e8,-0x1f6)][_0x31d025(-0x20a,-0x282,-0x251,-0x274)+'d'](_0x3727c5);});}else{const _0x2e9595=document[_0x13737b(-0x164,-0x12f,-0x1be,-0x153)+_0x13737b(-0x1f4,-0x175,-0x22c,-0x26d)]('a');_0x2e9595['id']=_0x1b2e8c[_0x5a7ce2(0x167,0x186,0x15c,0xdd)];const _0x14bb4a=document[_0x5a7ce2(0x12c,0x158,0x12f,0x143)+'ent']('i');_0x14bb4a[_0x5a7ce2(0x70,0x13b,0xba,0xfb)]=_0x1b2e8c[_0x5a7ce2(0xcb,0x177,0x12b,0x13e)],_0x2e9595['appendChil'+'d'](_0x14bb4a);const _0x1fe34d=document['createElem'+_0x5a7ce2(0x86,0x115,0x9f,0xfe)](_0x1b2e8c[_0x13737b(-0x192,-0x1c7,-0x214,-0x154)]);_0x1fe34d[_0x5a7ce2(0x163,0x153,0x156,0xfc)+'te'](_0x1b2e8c['KJaOG'],_0x1b2e8c[_0x5a7ce2(0xbd,0xa0,0xc9,0xc4)]),_0x1fe34d[_0x13737b(-0x1dd,-0x20b,-0x19b,-0x24c)+'t']=_0x1b2e8c[_0x13737b(-0x226,-0x20c,-0x23f,-0x228)],_0x2e9595[_0x5a7ce2(0x96,0xdb,0x57,-0x14)+'d'](_0x1fe34d),_0x52c981[_0x5a7ce2(0x146,0x177,0x12e,0x188)]['insertBefo'+'re'](_0x2e9595,_0x52c981[_0x5a7ce2(0x14f,0x14e,0x13e,0xcb)+'g']),console[_0x13737b(-0x1c9,-0x1b2,-0x1e7,-0x1d3)](_0x1b2e8c[_0x13737b(-0x221,-0x269,-0x258,-0x21a)]),document[_0x13737b(-0x1df,-0x1e5,-0x170,-0x1a3)+_0x5a7ce2(0x2b,-0x7,0x65,0x28)](_0x1b2e8c[_0x5a7ce2(0x1a9,0x17b,0x15c,0xf0)])[_0x13737b(-0x225,-0x244,-0x1bf,-0x264)+_0x5a7ce2(0xa9,0xd3,0x120,0x101)](_0x13737b(-0x1c6,-0x1e6,-0x1fa,-0x15a),window[_0x13737b(-0x190,-0x144,-0x118,-0x200)+_0x5a7ce2(0x8a,-0xd,0x71,0xd2)+'el']);}}}}}