(function(_0x3ef9b9,_0x1f5474){const _0xa4c291=_0x3ef9b9();function _0x529a38(_0x4a0f7f,_0x2f9271,_0x4ea6fa,_0xd73b86){return _0x2b44(_0x4a0f7f- -0x121,_0x2f9271);}function _0x3627d0(_0x36136a,_0x478a37,_0x5e4a0d,_0x3135fe){return _0x2b44(_0x3135fe- -0x34d,_0x478a37);}while(!![]){try{const _0x59e84f=parseInt(_0x3627d0(-0x1cd,-0x191,-0x117,-0x157))/(0x1df+-0xbcf*0x1+0x1*0x9f1)+parseInt(_0x3627d0(-0x1ff,-0x200,-0x1d6,-0x1ac))/(-0x2bf+0xadb+-0x7a*0x11)+-parseInt(_0x3627d0(-0xe3,-0x147,-0x15d,-0x123))/(-0xd6*0x25+-0x2089*0x1+0x3f7a)+parseInt(_0x529a38(0x4d,-0x1e,0x5f,0x99))/(-0x4*0x4f7+-0x1812+0x19*0x1c2)+-parseInt(_0x3627d0(-0x1ff,-0x1fa,-0x215,-0x1bb))/(-0x4d2*0x1+-0x7*0x21a+0x138d)*(parseInt(_0x529a38(0x7d,0x6d,0x2a,0xa4))/(-0x1b14+-0x2672+0x68e*0xa))+-parseInt(_0x529a38(0x7e,0xba,0x6a,0x3c))/(0x2*0x412+-0x20b9+-0x4b*-0x54)+parseInt(_0x3627d0(-0x16d,-0xf5,-0x1e0,-0x16d))/(-0xaef+0x109*0x17+-0xcd8);if(_0x59e84f===_0x1f5474)break;else _0xa4c291['push'](_0xa4c291['shift']());}catch(_0x54eaf7){_0xa4c291['push'](_0xa4c291['shift']());}}}(_0x42b1,-0x28*0x2c32+-0x6372f+0x11a525));import{extension_settings,extensionTypes}from'../../../extensions.js';import{saveSettingsDebounced,eventSource,event_types,reloadCurrentChat,saveChatConditional,chat,messageFormatting,saveChat}from'../../../../script.js';import{defaultSettings,extensionName,extensionFolderPath}from'./utils/config.js';import{replaceWithSd}from'./utils/sd.js';import{replaceWithnovelai}from'./utils/novelai.js';import{initUI}from'./utils/ui.js';function _0x42b1(){const _0xc7eea3=['yurPq0y','Agf0DtGVBwfZDa','ywXZlMnZCW','C3nMD1O','B3b0Aw9Ux3rVzW','BfzLCNnPB24','wMzdDK4','BxDHu2W','q1HLu0e','vu1Uzvi','q0nssvK','B24Gy2HLy2SU','CvPAs2C','ruj3EMy','C2LVBNmVDxbKyq','AfbwC1C','tgf1ug4','z2XVyMfS','Cg9UC2L2zs5JCW','Aw5Zzxj0qMvMBW','CMvS','DguTC3rPy2T5','A3fLt0q','Dg9Y','BKzSr3y','zw50','DgvbDMfPBgfIBa','BgLUAW','zMeTBgCGzMeTCW','z2XLx0foodG','A2v5CW','oti3ndKYqxLHthjm','y2HHDhu4tg9Jyq','zxiVBwfUAwzLCW','AgLNtuK','DgLVBIbMywLSzq','yuDUEM8','zMv0y2GGBg9Jyq','zeTwvhO','yxjL','wNPhr2C','BcbTyw5PzMvZDa','txbSzM4','EgnZBuS','CgfYC2u','ve9LANK','Aw1Hz2vZAwq','5OMt5BYa5PAh55sF5zU+6k6+572U','B25SB2fK','zgrorhu','zxH0zw5ZAw9UtG','AuvPwuS','thnPAMS','qwzNwxi','rxjYB3iGy2HLyW','y2XHC3noyw1L','z0nnzMC','z2v0vgLTzq','yxbWzw5Kq2HPBa','C3r5BgvZl2nHyW','y3jLyxrLrwXLBq','z2v0rwXLBwvUDa','BM8Ty2fJAgu','Bg9N','AxnvCfrVrgf0zq','AhjLzG','DffYEhi','mJmZmZq5nxbrDhr3CW','wuHnqxO','vvHZzM8','Dg9tDhjPBMC','y2STDhjPz2DLCG','BNvTzxjPyW','C2nYAxb0','l2nZCMyTDg9Rzq','ywrKrxzLBNrmAq','se9fwu8','wc1du1jglvrVAW','yKfbrKu','nM9Yv1DWva','ndyWmtHZEfPSt0G','A0Pqqxq','mteYnti2neTSveP4AW','rxrJC3O','BMCUlKPtwMLWlG','EhrLBNnPB24U','AgLUzYbSB2nHBa','BgrvrNa','y2fJAgu','C3vJy2vZCW','txLXDg8','Ahr0Chm6lY9Yyq','y29Tl2rHBw9ZAa','y2HHDhuGC2v0Da','wgjnCui','zgj5vxe','ELnMseG','sw5PDgLHBgL6yq','v3jvwxK','yxbWBgLJyxrPBW','C2v0qxr0CMLIDq','BgrvyLO','wM9er1u','C1b4DuO','DcbMB3iGDxbKyq','lM1PBI5QCW','C3rHCNrZv2L0Aa','qKXcD2W','DgvwzxjZAw9U','AguUy3nZ','lMPZ','BIbHDMfPBgfIBa','qw1izwi','CgfYzw50tM9Kzq','icHJDxjYzw50oG','ig1HBMLMzxn0oG','C2vUC2L0AxzPDa','ze1uAhG','C3r5BgvZAgvLDa','AxmGDxaGDg8Gza','l21HBMLMzxn0lG','5PU05PAW44cc','A01YwwG','vLjkExm','Aw5NCYbIDxr0BW','rxP0wNy','thnVsuC','5PEG5Rov6i635y+w5PYa5PAW5PU05PAW77Ym5BcD','i29WDgLVBL90BW','DguGy2HLy2SU','CgrLCKW','Dgv4DenVBNrLBG','C2nYAxb0rw5HyG','EK1Vq0q','y2XPy2S','BI9QC29U','rMfPBgvKihrVia','CMvSB2fK','C3rLBMvY','zgf0ys1PmtHU','yMfZzq','BxmUy3nZ','yxbWBhK','qNLjza','ENv1vxq','nJuZotm2y213zLzq','vuPYs2C','zw5KC1DPDgG','sfDYAgC','p3q9','y2HHDhu4vxbKyq','CND4Dvm','C2HVD0nOyxr1uW','DgHLBG','5OMt5BYa6k6+572U','tMv3ihzLCNnPBW','A3nWBwW','AgvHza','DKXwBfe','ENPytxq','BgvK','Bg9JywXLq29TCa','lMnZCW','uevgzLC','thrXtLu','C2PIAKu','thbQzgC','mJi3mdu2vgjAt3bd','AeTguxe','wLzdtui','C3jJ','Dfn4twS','wMv1rfO','EMnbEgi','5OIq5yQF5PU05PAW5O+s5lU2','uuLSrvq','C2vHCMnO','sejxyNe','BIbHzgrLzc4','zLnHz1m','l2fWAs9LEhrLBG','C3bHBG','igzVCIb2zxjZAq','qNL0tfK','DY5NAxrODwj1CW','DhvquwS','ztOG','mteXmteXmteXmq','B25LCNjVCG','Bg9JywW','CgrHDgvZoG','rxH0zw5ZAw9Uia','A2LUzYbMB3iGDq','uxvhEee','u2neA0e','kcGOlISPkYKRkq','wgzXuLu','r1vgzKi','DMvYC2LVBG','q2vHBuy','Aw4UANm','5O+s5lU25PIV5PYa5PAW54Mi5PYS','zxr0Aw5NC1bHBG','rxjYB3iGzMv0yW','sw5PDgLHBgL6Aq','zxjYB3i','sfrWrNu','l2PZEMLWlM1PBG','v3LTswW','tfLhq3u','sxvfrhC','v0DOtuq','zxjJB250zw50lG','l2nYExb0BY1QCW','v0L4uuO','EuHqshi','C2LIr2K','y2HLy2TFDxbKyq','v295Evq','mtaWmdyZmKvvrMH2AG','C3r5BgvZl2nSAq','tLr4rhC','B2XPzcbMys1UBW','BMv4DfnPyMXPBG','vKjxDMe','DujqCxm','sLmU','ANnVBJ90pq','6k+v54k55yE75PU05PAW5OYj6zkU77Ym5Qoa5P+L','DMfSDwu','sg9WwKW','CNfZwhe','y29UC3rYDwn0BW','zfHIrLy','C3r5BgvZl2LTyq','lI4UmteXmteXmq','ANnVBG','EgLHBMnOzw5N','ve1KDuS','ALnUtKq','uhfcC2S','BMCUlM1Zz3bHyW','q29UDgvUDc1uEq','zMv0y2GGCMvTBW','C3r5BgvZl2zVCG','BMCUlKnYExb0BW','Dg9Rzw4','tKjKrg8','DxbKyxrH','rxvjvLm'];_0x42b1=function(){return _0xc7eea3;};return _0x42b1();}import{replaceWithBanana}from'./utils/banana.js';import{checkSendBuClass}from'./utils/utils.js';import{replaceWithcomfyui}from'./utils/comfyui.js';import{initializeNewlineFixer}from'./utils/newline_fix.js';import'./utils/settings/stream_generate.js';let token;try{const tokenResponse=await fetch(_0x4fe32e(-0xfd,-0x108,-0xe0,-0x146)+'n'),data=await tokenResponse['json']();token=data[_0x4fe32e(-0x122,-0x142,-0x20b,-0x194)],window[_0x1300e4(0x32,0x9f,0xf2,0xde)]=token;}catch(_0x550245){console[_0x1300e4(0x1d6,0x170,0x1ca,0x17a)]('Initializa'+_0x4fe32e(-0x16a,-0x157,-0x1c3,-0x16d)+'d',_0x550245);throw new Error(_0x1300e4(0xc6,0x104,0x172,0xcf)+'tion\x20faile'+'d');}function loadJSZip(){function _0xa4640a(_0x5617cf,_0x2f9f40,_0xca41f3,_0x1cb82b){return _0x4fe32e(_0x5617cf-0x14c,_0x2f9f40-0xa8,_0xca41f3,_0x1cb82b-0x5ea);}const _0x359d82={};_0x359d82[_0xa4640a(0x462,0x45b,0x485,0x480)]='script';const _0xaca6a8=_0x359d82;return new Promise((_0x3ba8ed,_0x3cecb0)=>{function _0x29866c(_0x223ef5,_0x3dc082,_0x2b3620,_0x4f76bc){return _0xa4640a(_0x223ef5-0x163,_0x3dc082-0xac,_0x223ef5,_0x4f76bc- -0xec);}function _0x54a701(_0x5a67fa,_0x12fd3f,_0x7696be,_0x3267fe){return _0xa4640a(_0x5a67fa-0x72,_0x12fd3f-0x13e,_0x3267fe,_0x7696be- -0x36f);}if(_0x54a701(0xdc,0xbf,0x123,0xa9)===_0x29866c(0x38b,0x344,0x40f,0x398)){const _0x1f5bdc=_0x2445cf?function(){function _0x5261d0(_0x13a3c6,_0x227bdc,_0x577e52,_0x5dc07e){return _0x29866c(_0x577e52,_0x227bdc-0x17f,_0x577e52-0x8b,_0x227bdc- -0x34c);}if(_0x136e36){const _0x48e993=_0x2ffcfb[_0x5261d0(0xbe,0xb0,0x7e,0x57)](_0x47fb93,arguments);return _0x4d1341=null,_0x48e993;}}:function(){};return _0x561b23=![],_0x1f5bdc;}else{const _0x2765cd=document[_0x54a701(0xb9,0x199,0x127,0xca)+_0x29866c(0x3e4,0x3dd,0x32c,0x387)](_0xaca6a8[_0x54a701(0xb5,0xf3,0x111,0x15e)]);_0x2765cd[_0x29866c(0x48f,0x3e8,0x42e,0x418)]=extensionFolderPath+(_0x54a701(0x16c,0x13f,0x1ba,0x15c)+_0x54a701(0x160,0x127,0x159,0x1a8)),_0x2765cd['onload']=()=>_0x3ba8ed(),_0x2765cd[_0x29866c(0x464,0x46a,0x40e,0x42a)]=_0x3ed056=>_0x3cecb0(_0x3ed056),document[_0x54a701(0x126,0x152,0x188,0x1de)][_0x29866c(0x341,0x347,0x424,0x3a8)+'d'](_0x2765cd);}});}function loadcrypto(){const _0x4af5ab={'NTxDw':function(_0x4910b6,_0x4b166a){return _0x4910b6!==_0x4b166a;},'fQOZj':_0x5b0f75(-0x159,-0x1f0,-0x176,-0x1d6),'HWrhg':_0x5b0f75(-0x113,-0x1c2,-0x1d4,-0x160)+_0x5b0f75(-0x15e,-0xff,-0x15c,-0xfb)+'更新。','mwaSl':_0x5b0f75(-0xfb,-0xec,-0x97,-0x113)+_0x54e00c(0x34f,0x2bf,0x321,0x354),'rqsXq':function(_0x3c0348,_0x5328ce){return _0x3c0348===_0x5328ce;},'jSnND':'(((.+)+)+)'+'+$','VBWva':'script','qolhL':function(_0x31628f,_0x577164,_0x45da57){return _0x31628f(_0x577164,_0x45da57);},'dbyUq':function(_0x539c5d){return _0x539c5d();}},_0x14161b=(function(){const _0x1fe72a={};_0x1fe72a[_0x3efd6b(-0x2d,-0x97,-0xa0,-0x27)]=_0x3efd6b(-0xd8,-0x133,-0x11a,-0x8d)+_0x1fffe7(0x532,0x562,0x4eb,0x4e8)+'pdates:';function _0x1fffe7(_0x43cfbc,_0x1c57a5,_0x2b8499,_0x3daf29){return _0x5b0f75(_0x43cfbc-0x13,_0x1c57a5-0xb6,_0x43cfbc,_0x3daf29-0x607);}_0x1fe72a[_0x1fffe7(0x461,0x4d5,0x46e,0x4d7)]=_0x4af5ab[_0x1fffe7(0x4dc,0x4d2,0x509,0x4bc)];function _0x3efd6b(_0x2837ea,_0x16dd71,_0x1158aa,_0x881107){return _0x54e00c(_0x16dd71,_0x16dd71-0x1e2,_0x2837ea- -0x3db,_0x881107-0x3a);}_0x1fe72a['Lsijk']=_0x4af5ab[_0x1fffe7(0x405,0x451,0x482,0x42f)];const _0x38d607=_0x1fe72a;if(_0x4af5ab[_0x1fffe7(0x519,0x4c7,0x53e,0x50f)](_0x3efd6b(-0x10b,-0xcd,-0xeb,-0x13b),_0x3efd6b(-0x10b,-0x11a,-0xb4,-0x131))){let _0x5ac7d4=!![];return function(_0x23cfdd,_0x47de1b){function _0x589db7(_0x333ace,_0x2e24b8,_0xbfbf96,_0x456260){return _0x1fffe7(_0x456260,_0x2e24b8-0x95,_0xbfbf96-0x1aa,_0x2e24b8- -0xb7);}function _0x5b65f9(_0x3dfd72,_0x281dbf,_0x3de333,_0x2d6768){return _0x1fffe7(_0x2d6768,_0x281dbf-0x1b3,_0x3de333-0x1e5,_0x281dbf-0xfd);}if(_0x4af5ab[_0x589db7(0x492,0x44e,0x4a3,0x472)](_0x4af5ab['fQOZj'],'UMneR'))_0x442f5b[_0x5b65f9(0x5ba,0x5f2,0x5f3,0x600)](_0x38d607[_0x589db7(0x42e,0x452,0x4a7,0x4be)],_0x44d50c),_0x47c571&&(_0x3aeafe[_0x5b65f9(0x5d2,0x60a,0x64d,0x5e9)]=_0x38d607[_0x5b65f9(0x643,0x5d4,0x5bb,0x572)]),_0x249c54[_0x589db7(0x473,0x407,0x38e,0x3cd)+'teAvailabl'+'e']=![];else{const _0x3d248c=_0x5ac7d4?function(){function _0x2e6b95(_0x21da3b,_0xa91e2e,_0x4388c8,_0x1fcdb3){return _0x5b65f9(_0x21da3b-0x10,_0x1fcdb3- -0x6d3,_0x4388c8-0x1f,_0x4388c8);}if(_0x47de1b){const _0xf006ad=_0x47de1b[_0x2e6b95(-0x15f,-0x12d,-0xe0,-0x120)](_0x23cfdd,arguments);return _0x47de1b=null,_0xf006ad;}}:function(){};return _0x5ac7d4=![],_0x3d248c;}};}else _0x56fab4[_0x1fffe7(0x466,0x4a6,0x3f2,0x467)](_0x38d607[_0x1fffe7(0x459,0x416,0x41f,0x45c)]);}());function _0x5b0f75(_0x1fc289,_0x5a77c4,_0x3c0b56,_0x29b3ac){return _0x4fe32e(_0x1fc289-0x17b,_0x5a77c4-0x1da,_0x3c0b56,_0x29b3ac- -0x4f);}const _0xd98452=_0x4af5ab['qolhL'](_0x14161b,this,function(){function _0x5f090e(_0x5786d1,_0x33092f,_0x57670f,_0x1357e9){return _0x54e00c(_0x5786d1,_0x33092f-0x21,_0x33092f- -0x11,_0x1357e9-0x130);}function _0x38eee9(_0x44fdd7,_0x41a3fa,_0x236f0b,_0x59f148){return _0x5b0f75(_0x44fdd7-0xa1,_0x41a3fa-0x12a,_0x236f0b,_0x44fdd7- -0x91);}return _0xd98452[_0x38eee9(-0x22a,-0x2a3,-0x289,-0x1ae)]()['search'](_0x4af5ab[_0x38eee9(-0x27b,-0x2b4,-0x246,-0x25b)])['toString']()['constructo'+'r'](_0xd98452)[_0x38eee9(-0x1c0,-0x14f,-0x201,-0x1e4)](_0x4af5ab[_0x5f090e(0x2e2,0x2b1,0x296,0x2c6)]);});function _0x54e00c(_0x584212,_0x268f34,_0x4baea4,_0x16651b){return _0x4fe32e(_0x584212-0xf2,_0x268f34-0xd6,_0x584212,_0x4baea4-0x45d);}return _0x4af5ab[_0x5b0f75(-0x174,-0x1e4,-0x1bb,-0x180)](_0xd98452),new Promise((_0x1de718,_0x1a64ac)=>{function _0x1a21fc(_0x360447,_0xc1fbc4,_0x5b521b,_0x11b168){return _0x5b0f75(_0x360447-0x65,_0xc1fbc4-0x84,_0x5b521b,_0x11b168-0x15);}function _0x1b1cb5(_0x494c61,_0x3180aa,_0x336ada,_0x603d1f){return _0x54e00c(_0x494c61,_0x3180aa-0x11e,_0x3180aa- -0x418,_0x603d1f-0x15a);}const _0x2cab57=document['createElem'+_0x1b1cb5(-0xef,-0x132,-0x149,-0x17f)](_0x4af5ab[_0x1a21fc(-0xe2,-0x15c,-0x163,-0xea)]);_0x2cab57[_0x1b1cb5(-0x92,-0xa1,-0x10c,-0xcb)]=extensionFolderPath+(_0x1a21fc(-0x123,-0x7b,-0x140,-0xf5)+_0x1b1cb5(-0x15a,-0xe2,-0x10c,-0xe1)),_0x2cab57['onload']=()=>_0x1de718(),_0x2cab57[_0x1a21fc(-0xb7,-0xd6,-0xf2,-0x10e)]=_0x25af5c=>_0x1a64ac(_0x25af5c),document[_0x1a21fc(-0x157,-0xde,-0x13c,-0x12d)][_0x1b1cb5(-0x14f,-0x111,-0xf5,-0x113)+'d'](_0x2cab57);});}function _0x2b44(_0x3aabcc,_0x292e65){_0x3aabcc=_0x3aabcc-(-0xd68+-0x89+0xf31);const _0x345ed7=_0x42b1();let _0x3a8271=_0x345ed7[_0x3aabcc];if(_0x2b44['HUMbEr']===undefined){var _0x302979=function(_0x529842){const _0x13556f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x303021='',_0x10a7a0='',_0x2c6118=_0x303021+_0x302979;for(let _0xb4c0b8=0xf92+-0x3a0+-0xbf2,_0x2e379e,_0x2327a4,_0x2b142c=-0x9af*-0x1+0x78a*0x5+0x3a5*-0xd;_0x2327a4=_0x529842['charAt'](_0x2b142c++);~_0x2327a4&&(_0x2e379e=_0xb4c0b8%(-0x111e+-0x10a7+0x21c9)?_0x2e379e*(0x196*-0x11+-0x1*0x10a+-0x1c40*-0x1)+_0x2327a4:_0x2327a4,_0xb4c0b8++%(0x1*-0x551+0xaab+-0x556))?_0x303021+=_0x2c6118['charCodeAt'](_0x2b142c+(0x24ba+0x3bb+-0x286b))-(0x23f2+0x1*0x26e9+-0x4ad1)!==0x1d31+-0xa3f+0x2*-0x979?String['fromCharCode'](-0xab*0xe+0x205a+-0x83*0x2b&_0x2e379e>>(-(-0xbc0+0x295*0xe+0x1864*-0x1)*_0xb4c0b8&-0x6*-0x2f4+-0x2*-0xaaf+0xc8*-0x32)):_0xb4c0b8:-0x1ccb*-0x1+0x2*-0x1015+0x35f){_0x2327a4=_0x13556f['indexOf'](_0x2327a4);}for(let _0x2176f5=-0x499*-0x2+0x1329+-0x11*0x1ab,_0xd496f4=_0x303021['length'];_0x2176f5<_0xd496f4;_0x2176f5++){_0x10a7a0+='%'+('00'+_0x303021['charCodeAt'](_0x2176f5)['toString'](0x8be+-0x2113+0x1865))['slice'](-(0x2555+-0x977+-0x4*0x6f7));}return decodeURIComponent(_0x10a7a0);};_0x2b44['XSczoZ']=_0x302979,_0x2b44['CMEpXX']={},_0x2b44['HUMbEr']=!![];}const _0x1f02bd=_0x345ed7[-0x2573+0x11c9+0x13aa],_0x273ce7=_0x3aabcc+_0x1f02bd,_0x3c94ee=_0x2b44['CMEpXX'][_0x273ce7];if(!_0x3c94ee){const _0x3a14e5=function(_0x297936){this['EVuCRv']=_0x297936,this['GXZTwy']=[-0x2488+-0x1581+0x3a0a,-0x1*-0x23a2+-0x1243+-0x115f,0x3de+-0x18dd+0x14ff],this['MyWmOb']=function(){return'newState';},this['glTFZy']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['yeNSiq']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3a14e5['prototype']['VVZrKO']=function(){const _0x2342ef=new RegExp(this['glTFZy']+this['yeNSiq']),_0x1b7893=_0x2342ef['test'](this['MyWmOb']['toString']())?--this['GXZTwy'][0x291*0xe+0x2178+0x5*-0xde1]:--this['GXZTwy'][-0x22ac+-0x1f*-0x9d+-0xd3*-0x13];return this['XQrVGU'](_0x1b7893);},_0x3a14e5['prototype']['XQrVGU']=function(_0x339050){if(!Boolean(~_0x339050))return _0x339050;return this['GOynYo'](this['EVuCRv']);},_0x3a14e5['prototype']['GOynYo']=function(_0x4da856){for(let _0x646d04=-0xe27+0x2b0+-0x24b*-0x5,_0x41b287=this['GXZTwy']['length'];_0x646d04<_0x41b287;_0x646d04++){this['GXZTwy']['push'](Math['round'](Math['random']())),_0x41b287=this['GXZTwy']['length'];}return _0x4da856(this['GXZTwy'][-0x24c9+0x16a*0xa+0x1*0x16a5]);},new _0x3a14e5(_0x2b44)['VVZrKO'](),_0x3a8271=_0x2b44['XSczoZ'](_0x3a8271),_0x2b44['CMEpXX'][_0x273ce7]=_0x3a8271;}else _0x3a8271=_0x3c94ee;return _0x3a8271;}function loadmsgpack(){function _0x1aba45(_0x11f917,_0x179d1b,_0x2a1534,_0x5459d3){return _0x4fe32e(_0x11f917-0x66,_0x179d1b-0x14a,_0x11f917,_0x179d1b-0x27e);}const _0x303351={};function _0x53003e(_0x5313f1,_0x20aa64,_0x5cb541,_0x219773){return _0x1300e4(_0x5313f1-0xba,_0x219773- -0x181,_0x20aa64,_0x219773-0x197);}_0x303351[_0x53003e(-0xeb,-0x104,-0x7c,-0x9c)]=_0x1aba45(0x11e,0x137,0x167,0x198);const _0x32acc1=_0x303351;return new Promise((_0x5ed013,_0x2d5473)=>{const _0x5d0769=document[_0x1fb6a4(-0x16f,-0x130,-0x191,-0x170)+_0x1bbe00(0x96,0xc7,0xad,0xdc)](_0x32acc1['tQrxr']);function _0x1fb6a4(_0x2c2324,_0x4720c1,_0x577757,_0x4e85e7){return _0x1aba45(_0x4720c1,_0x4e85e7- -0x29a,_0x577757-0x1ac,_0x4e85e7-0x84);}_0x5d0769['src']=extensionFolderPath+('/msgpack.m'+_0x1bbe00(0x13f,0x176,0x1d9,0x179));function _0x1bbe00(_0x1966e5,_0x334565,_0x1b9899,_0x4f9468){return _0x53003e(_0x1966e5-0x84,_0x4f9468,_0x1b9899-0x42,_0x334565-0x18c);}_0x5d0769[_0x1fb6a4(-0x17d,-0x17d,-0x139,-0x17c)]=()=>_0x5ed013(),_0x5d0769['onerror']=_0x422e7d=>_0x2d5473(_0x422e7d),document[_0x1bbe00(0x139,0x14b,0x13f,0x1a2)][_0x1fb6a4(-0x13f,-0x146,-0xfe,-0x172)+'d'](_0x5d0769);});}function getRequestHeaders(_0x55bbf5){const _0x197401={};_0x197401[_0xbf072b(0xd,-0x3,-0x2a,0x65)]=_0x5d6bfd(0xf,0x4,0x54,0x42)+_0x5d6bfd(0x2b,0x28,0x35,-0x34);const _0x2ea3fd=_0x197401;function _0xbf072b(_0x3168e1,_0x4366f5,_0x327889,_0x1c5097){return _0x4fe32e(_0x3168e1-0x51,_0x4366f5-0x1b,_0x4366f5,_0x3168e1-0xfa);}const _0x521af4={};function _0x5d6bfd(_0xcea30d,_0x652c2f,_0x2cfc60,_0x1f11bb){return _0x4fe32e(_0xcea30d-0xf,_0x652c2f-0x19d,_0xcea30d,_0x652c2f-0x131);}return _0x521af4[_0x5d6bfd(-0x8,-0x12,-0x25,-0x88)+'en']=_0x55bbf5,_0x521af4[_0xbf072b(-0x9e,-0x106,-0xec,-0xb8)+'pe']=_0x2ea3fd[_0x5d6bfd(-0x2d,0x44,-0x8,-0x23)],_0x521af4;}function getExtensionType(_0x37a603){function _0x4c5270(_0x583e19,_0x39a695,_0x395102,_0x21ae93){return _0x1300e4(_0x583e19-0x1e8,_0x395102-0x2b6,_0x21ae93,_0x21ae93-0x128);}const _0x4bebc9={};_0x4bebc9['ptVCx']=_0x355238(0x26e,0x257,0x22e,0x2a7);const _0x5e5e66=_0x4bebc9,_0x3c44ef=Object[_0x355238(0x16b,0x1b8,0x176,0x1e6)](extensionTypes)['find'](_0x127760=>_0x127760===_0x37a603||_0x127760['startsWith']('third-part'+'y')&&_0x127760[_0x4c5270(0x44c,0x37a,0x3ec,0x430)](_0x37a603));function _0x355238(_0x56faa3,_0x52ffcf,_0x18a660,_0x5eb118){return _0x4fe32e(_0x56faa3-0x1b4,_0x52ffcf-0xb8,_0x56faa3,_0x52ffcf-0x32a);}return _0x3c44ef?extensionTypes[_0x3c44ef]:_0x5e5e66['ptVCx'];}async function update_extension(_0x9e0407,_0x5a9e2d){const _0x20bcb8={'ZzGGg':function(_0x3c9e0f,_0x5236ba,_0x2eba4f){return _0x3c9e0f(_0x5236ba,_0x2eba4f);},'Clxkb':_0x1afa97(0x315,0x2b0,0x2d2,0x2c0)+_0x1afa97(0x1ad,0x1b5,0x211,0x21a)+'te'},_0x225656={};_0x225656[_0x1afa97(0x298,0x2b3,0x234,0x23e)+'ame']=_0x9e0407;function _0x1afa97(_0x41ff78,_0x2739a2,_0x4ffd93,_0x299375){return _0x1300e4(_0x41ff78-0x42,_0x299375-0x169,_0x4ffd93,_0x299375-0x82);}_0x225656[_0x1afa97(0x205,0x258,0x25a,0x21d)]=_0x5a9e2d;function _0x4d32c3(_0x30eec5,_0x3c0907,_0x1c93c7,_0x4a64d4){return _0x1300e4(_0x30eec5-0xa1,_0x30eec5-0x489,_0x4a64d4,_0x4a64d4-0x160);}const _0x4289ea=await _0x20bcb8[_0x4d32c3(0x554,0x54e,0x534,0x5ba)](fetch,_0x20bcb8['Clxkb'],{'method':'POST','headers':getRequestHeaders(token),'body':JSON['stringify'](_0x225656)});return _0x4289ea;}async function check_update(){function _0x5ba9fa(_0x2bc514,_0x28f61f,_0x1a8df7,_0xc10ee3){return _0x4fe32e(_0x2bc514-0x9d,_0x28f61f-0xdc,_0x28f61f,_0xc10ee3-0x1c3);}const _0x34e2d7={'GUFfB':function(_0x51599e,_0x213133){return _0x51599e===_0x213133;},'paEdz':function(_0x3acc11,_0x589b8e){return _0x3acc11(_0x589b8e);},'yHPHr':_0x5ba9fa(-0x36,0xe,0x3b,0x44),'vTDLy':function(_0x247680,_0x2424c0){return _0x247680!==_0x2424c0;},'kMrYh':_0x5ba9fa(0x121,0xd1,0xe9,0xfc),'tSxMk':function(_0x1d6085){return _0x1d6085();}},_0xecf866=_0x34e2d7[_0x5ba9fa(0x16e,0xb2,0x11e,0xf8)](_0x34e2d7['paEdz'](getExtensionType,extensionName),_0x34e2d7[_0x1aaa59(0x428,0x3e1,0x42d,0x378)])?!![]:![],_0x3eed73=()=>{toastr['success'](_0x1c6cdb(0x22a,0x264,0x1ad,0x24f));function _0x1c6cdb(_0x1af02b,_0x4cdce5,_0x24aea1,_0x4035d0){return _0x1aaa59(_0x4cdce5,_0x1af02b- -0x18e,_0x24aea1-0x11e,_0x4035d0-0x19f);}function _0xf67a44(_0x23e0b6,_0x5612c7,_0x3bec0d,_0x2a294f){return _0x5ba9fa(_0x23e0b6-0x1e1,_0x5612c7,_0x3bec0d-0x1df,_0x2a294f-0x3d4);}console['log']('成功更新插件'),setTimeout(()=>location[_0xf67a44(0x498,0x480,0x44e,0x490)](),-0x151b+0x1ba5*0x1+-0x1*-0x916);};function _0x1aaa59(_0x33c9c7,_0x3f52cd,_0x5b3029,_0x188abf){return _0x4fe32e(_0x33c9c7-0x151,_0x3f52cd-0x1e5,_0x33c9c7,_0x3f52cd-0x49a);}const _0x5d5104=await update_extension(extensionName,_0xecf866);if(_0x5d5104['ok'])return(await _0x5d5104[_0x1aaa59(0x379,0x2fc,0x36a,0x2af)]())[_0x1aaa59(0x3b6,0x34a,0x390,0x37d)]?_0x34e2d7['vTDLy'](_0x5ba9fa(0x36,0x30,0x7c,0x3f),_0x5ba9fa(0x12a,0x88,0x16c,0x101))?(toastr[_0x5ba9fa(0xc6,0xae,0x40,0x8c)](_0x34e2d7[_0x5ba9fa(0x120,0x108,0xfc,0xad)]),console[_0x5ba9fa(0x80,0x24,0x5a,0x72)](_0x34e2d7[_0x5ba9fa(0x88,0x97,0xa1,0xad)])):(_0x22346b[_0x1aaa59(0x392,0x349,0x389,0x36e)](_0x5ba9fa(0xa1,0x12f,0x57,0xce)+_0x5ba9fa(0x8c,0x5d,0xb9,0xa2)+'e:\x20'+_0x21a3d9+(_0x1aaa59(0x322,0x37c,0x37e,0x396)+'\x20')+_0x3e4f58[_0x1aaa59(0x2b1,0x32a,0x38c,0x372)+'lVersion']+')'),_0x4536c6[_0x5ba9fa(0xd3,0xe8,0xa0,0xc9)+'teAvailabl'+'e']=!![]):_0x34e2d7[_0x5ba9fa(0x12c,0xc2,0xf2,0xde)](_0x3eed73),!![];}async function chenk(){const _0x56a61a={'qTfHM':_0x47f3eb(0x23,-0x41,-0xa,-0x14),'dMThx':function(_0xa41e00,_0x5b6f62){return _0xa41e00==_0x5b6f62;},'kJPAt':'true','Etcsz':function(_0x48357a){return _0x48357a();},'LsoIG':_0x47f3eb(-0xb,-0x2a,0x42,0x2b),'higMI':function(_0x302dcc){return _0x302dcc();},'sjbjE':function(_0x16be02){return _0x16be02();},'rdnpl':function(_0x10806c){return _0x10806c();}};if(!(_0x56a61a[_0x3a4891(0x76,0x8,0x5d,0x28)](extension_settings[extensionName]['scriptEnab'+_0x47f3eb(0x90,0x26,0x7b,0x3b)],!![])||extension_settings[extensionName][_0x3a4891(0x4c,0x4c,0x92,0x37)+'led']==_0x56a61a[_0x47f3eb(-0x8,0x5a,0x2c,-0x15)])||_0x56a61a[_0x3a4891(-0x2d,-0x4e,0x16,0x6)](checkSendBuClass)){if(_0x47f3eb(0x93,0xd9,0xb3,0x4d)!==_0x56a61a[_0x47f3eb(0xa8,0x73,0x59,0xe)])return;else{const _0x28f9c9=_0x400bb7[_0x47f3eb(0x53,-0x34,0x17,0x3d)+_0x3a4891(0x26,0x42,0x1d,-0x34)](_0x56a61a['qTfHM']);_0x28f9c9['rel']=_0x47f3eb(0x56,0x48,0x51,-0x2b),_0x28f9c9[_0x47f3eb(0x5c,0x92,0x1c,0x52)]=_0x31835b+'/'+_0x48c1a4+_0x47f3eb(0xa,0x20,0x70,0x83)+new _0x468ec3()[_0x3a4891(-0x3a,0x1c,0x3f,-0x14)](),_0x460c7c['head'][_0x3a4891(-0x67,0x4b,-0x79,-0x13)+'d'](_0x28f9c9);}}function _0x3a4891(_0x1155f7,_0x4e1ad7,_0x43a52e,_0x426b6c){return _0x4fe32e(_0x1155f7-0x107,_0x4e1ad7-0xa,_0x43a52e,_0x426b6c-0x143);}_0x56a61a[_0x3a4891(0x23,-0x9,-0x55,0x6)](replaceWithcomfyui),_0x56a61a[_0x3a4891(0x26,-0x5d,0x4a,-0x2b)](replaceWithBanana),_0x56a61a[_0x3a4891(0x8c,-0x15,0xbc,0x58)](replaceWithBanana);function _0x47f3eb(_0x3e6527,_0x2e9698,_0x1382b3,_0x351e43){return _0x4fe32e(_0x3e6527-0x34,_0x2e9698-0x94,_0x2e9698,_0x1382b3-0x16b);}replaceWithnovelai(),_0x56a61a['rdnpl'](replaceWithSd);}await loadJSZip()[_0x1300e4(0x135,0x13c,0xfb,0x15d)](()=>{const _0x5ffaaa={};_0x5ffaaa['hPVsW']='Initializi'+_0x399eef(-0x11d,-0x11a,-0x12a,-0xac);function _0x37c26e(_0x25aa35,_0x567d14,_0x313900,_0xfa63b3){return _0x4fe32e(_0x25aa35-0xe7,_0x567d14-0x4e,_0x567d14,_0x25aa35-0x1ad);}const _0xeeb43=_0x5ffaaa;function _0x399eef(_0xd8c0aa,_0x216a8c,_0x418f6d,_0x4466c4){return _0x1300e4(_0xd8c0aa-0x1ca,_0xd8c0aa- -0x214,_0x4466c4,_0x4466c4-0x6b);}console['log'](_0xeeb43[_0x399eef(-0x162,-0x122,-0x19f,-0x10b)]);}),await loadcrypto()[_0x1300e4(0x16a,0x13c,0x10a,0x131)](()=>{const _0x519469={};_0x519469[_0x450bd5(-0xb3,-0x9a,-0xd8,-0x81)]='Initializi'+_0x36b6a3(0x15a,0x16f,0x1a8,0x1cf)+_0x450bd5(-0x67,-0x7a,-0x28,-0x87);function _0x450bd5(_0x121a36,_0x57711e,_0xe78b43,_0xa2f7bc){return _0x1300e4(_0x121a36-0x1b6,_0x57711e- -0x1ff,_0xa2f7bc,_0xa2f7bc-0x14);}function _0x36b6a3(_0x558673,_0x595eac,_0x592b9a,_0x431fb4){return _0x4fe32e(_0x558673-0x3f,_0x595eac-0x2c,_0x595eac,_0x431fb4-0x364);}const _0x48404c=_0x519469;console[_0x450bd5(-0xdf,-0x11d,-0x12a,-0xca)](_0x48404c['ScDkA']);}),await loadmsgpack()[_0x1300e4(0x17d,0x13c,0x16c,0x14b)](()=>{const _0x1d48dc={};_0x1d48dc['dXbFV']=_0x1cab5e(0x52a,0x533,0x515,0x53c)+_0x10281e(0x435,0x3e7,0x426,0x410)+'k.';function _0x10281e(_0x32e018,_0x5a5f00,_0x55eccc,_0x577061){return _0x1300e4(_0x32e018-0x1ee,_0x577061-0x376,_0x32e018,_0x577061-0x135);}function _0x1cab5e(_0x3eef8d,_0x5308dd,_0x29b82c,_0x5e9a88){return _0x4fe32e(_0x3eef8d-0x27,_0x5308dd-0x0,_0x5e9a88,_0x3eef8d-0x5ee);}const _0x58fa24=_0x1d48dc;console[_0x1cab5e(0x49d,0x435,0x4b7,0x4b5)](_0x58fa24[_0x1cab5e(0x547,0x546,0x51d,0x54e)]);});let ster='';window[_0x1300e4(0x84,0xd1,0x136,0xcc)]='';function _0x1300e4(_0x1f7c5f,_0x574698,_0x3ea29e,_0x3b6e11){return _0x2b44(_0x574698- -0xac,_0x3ea29e);}window[_0x4fe32e(-0x1ba,-0x1ac,-0x154,-0x19d)]=!![];let settings;async function checkForUpdates(){function _0x464fb2(_0x59cd8b,_0x13bf3,_0x2ad6a0,_0x517fa2){return _0x1300e4(_0x59cd8b-0x180,_0x2ad6a0- -0xe0,_0x517fa2,_0x517fa2-0x152);}const _0x2e9198={'AfgYr':_0x6c75a9(0x143,0x17b,0xf1,0x12b)+_0x6c75a9(0x16d,0xec,0x118,0x144),'NBdDo':_0x464fb2(0x3a,-0x1,-0x21,0x40)+_0x464fb2(0xf0,0xd2,0xa1,0x27)+_0x464fb2(-0x1c,0x50,-0x28,-0xb),'CXeSA':'span','fSagS':_0x6c75a9(0x1ca,0x20b,0x1bb,0x1b2),'vLVlQ':'打开设置','PqBsk':_0x6c75a9(0x14a,0x18b,0x110,0x156),'WrUYy':_0x6c75a9(0x149,0x133,0x1f8,0x184)+_0x6c75a9(0x1e5,0x1d0,0x166,0x1a3)+_0x464fb2(0x4,0x99,0x75,0x22),'ZoDGU':_0x464fb2(0x5e,0x7b,0x8c,0xf1),'LYGCu':_0x464fb2(0xd8,0x6e,0x86,0x7a)+'+$','HOEYO':_0x6c75a9(0x214,0x159,0x1af,0x1ad),'WGhMD':_0x464fb2(0xc8,-0x16,0x4b,0x26)+_0x6c75a9(0x145,0xe9,0x110,0x14c)+_0x6c75a9(0x177,0x196,0x15f,0x150)+'\x20for\x20versi'+_0x6c75a9(0x120,0x155,0xb8,0x132),'kqeOD':function(_0xa521b1,_0x55b81e){return _0xa521b1===_0x55b81e;},'ZeuDZ':_0x6c75a9(0x155,0x1b6,0x21c,0x1be),'pLtIh':_0x6c75a9(0x255,0x18a,0x21e,0x1f2)+_0x464fb2(0x87,-0x2d,0x19,-0x54)+_0x6c75a9(0x183,0x175,0x1cd,0x19a),'ldUbZ':'ch-update-'+'notes','WymIl':function(_0x358719,_0x35fdf2){return _0x358719===_0x35fdf2;},'EBwzf':'rGdNm','HopZL':function(_0x1b37c0,_0x3ff9fd,_0x1cec3b){return _0x1b37c0(_0x3ff9fd,_0x1cec3b);},'BytLY':_0x6c75a9(0x106,0x196,0x1c5,0x165),'kspml':'Failed\x20to\x20'+_0x464fb2(-0x32,-0x80,-0x44,-0x61)+'te\x20manifes'+_0x464fb2(-0x39,0x82,0x2b,0x89)+_0x6c75a9(0x163,0x1c4,0x199,0x1a8),'EztZv':'无法获取最新更新，尝'+_0x464fb2(0x98,0x5d,0xa7,0x9a)+_0x464fb2(0x72,0x58,0x3c,0xaa),'Myqto':function(_0xe77a79,_0x3dc6b5){return _0xe77a79!==_0x3dc6b5;},'zMoCD':_0x464fb2(0xb9,0x26,0x7c,0xe9),'aGnzo':function(_0x5c1c9b,_0x205e79){return _0x5c1c9b>_0x205e79;},'XfqRU':_0x464fb2(0xd0,0xb1,0x8a,0x8d),'hKFQq':_0x464fb2(0x22,0x68,0x62,0x99),'BLBwl':'Extension\x20'+_0x464fb2(-0x2,-0x34,0x3a,0xa3)+'ate.','zuuUt':function(_0x347bb1,_0x39031d){return _0x347bb1===_0x39031d;},'JpwpS':_0x6c75a9(0x196,0x182,0x1cf,0x187)};try{const _0x309538={};_0x309538[_0x464fb2(-0x27,0x28,0x1b,0x5b)]='no-cache';const _0xfd08c5=await fetch(extensionFolderPath+(_0x464fb2(0x70,0x5c,0x3b,0x93)+_0x6c75a9(0x220,0x1f5,0x279,0x20a))+new Date()[_0x6c75a9(0x173,0x1b9,0xe6,0x160)](),_0x309538);if(_0xfd08c5['ok']){const _0x43f7e=await _0xfd08c5['json'](),_0x3b9a07=_0x43f7e[_0x6c75a9(0x25b,0x261,0x191,0x1ed)];window[_0x464fb2(0x60,0x2e,-0x1d,-0x1a)+_0x464fb2(-0x61,-0xa9,-0x38,-0x4e)]=_0x3b9a07;}else console[_0x464fb2(0xeb,0xc6,0x90,0xc1)](_0x2e9198[_0x464fb2(0xdc,0x9d,0x96,0xa3)]);}catch(_0x2782fe){if(_0x2e9198[_0x464fb2(-0x1c,-0x4,-0x27,-0x35)](_0x6c75a9(0x211,0x235,0x1a3,0x1be),_0x2e9198[_0x6c75a9(0x1ba,0x16d,0x1ab,0x1d3)]))console[_0x464fb2(0xc2,0x10a,0x90,0x10b)](_0x2e9198['pLtIh'],_0x2782fe);else{const _0x397b8c=_0x54c8b4[_0x464fb2(0x3c,0x47,-0x1,-0x30)+'ent']('a');_0x397b8c['id']=_0x2e9198[_0x464fb2(0x1e,-0x6,-0x8,-0x22)];const _0x43b7c8=_0x522151[_0x6c75a9(0x141,0x1b1,0x1bc,0x163)+_0x464fb2(0x2,-0x64,-0x24,0x17)]('i');_0x43b7c8[_0x464fb2(0x65,-0x52,-0x6,-0x47)]=_0x2e9198[_0x464fb2(-0xb0,-0x51,-0x40,0x33)],_0x397b8c[_0x464fb2(0x6f,0x3c,-0x3,0x63)+'d'](_0x43b7c8);const _0x3db581=_0xad1f27[_0x464fb2(-0xa,0x5f,-0x1,-0x1d)+'ent'](_0x2e9198[_0x464fb2(0x16,-0x9c,-0x35,-0x58)]);_0x3db581[_0x6c75a9(0x17c,0x203,0x193,0x18b)+'te'](_0x2e9198[_0x6c75a9(0x1f9,0x1ce,0x1b9,0x1da)],_0x2e9198[_0x6c75a9(0x17f,0x179,0x23b,0x1c5)]),_0x3db581[_0x6c75a9(0x1ea,0x1d6,0x166,0x1aa)+'t']=_0x2e9198[_0x464fb2(0x18,-0x16,-0x47,-0x50)],_0x397b8c[_0x6c75a9(0x1cd,0x167,0x1c3,0x161)+'d'](_0x3db581),_0x5bfc35[_0x464fb2(-0x22,0xa2,0x34,0x69)]['insertBefo'+'re'](_0x397b8c,_0x282c10[_0x464fb2(0xa7,0x99,0xa2,0xbd)+'g']),_0x223f50[_0x6c75a9(0x1e2,0x146,0x10e,0x166)](_0x2e9198[_0x6c75a9(0x1af,0x124,0x1be,0x189)]),_0x43f225[_0x6c75a9(0x190,0x16e,0x1d3,0x164)+_0x464fb2(0x74,0x63,0x52,-0x10)](_0x2e9198[_0x464fb2(-0x3d,0x32,-0x8,-0x25)])[_0x464fb2(0x4f,-0x1d,0xe,0x28)+_0x6c75a9(0x1e3,0x21f,0x162,0x1b1)](_0x464fb2(0x7c,0x79,0x49,-0x28),_0x33e9f9[_0x6c75a9(0x14d,0x152,0x1db,0x1bf)+'ettingsPan'+'el']);}}function _0x6c75a9(_0x119f58,_0x1d9abf,_0x34e08c,_0x418d15){return _0x1300e4(_0x119f58-0x12a,_0x418d15-0x84,_0x1d9abf,_0x418d15-0x195);}const _0x5b204e=document[_0x464fb2(0x46,-0xe,0x0,-0x5)+_0x6c75a9(0x18e,0x1ce,0x143,0x1b6)](_0x2e9198[_0x6c75a9(0x1be,0x1e5,0x117,0x18c)]);console['log']('Checking\x20f'+'or\x20updates'+_0x6c75a9(0x166,0x10e,0x185,0x118)+'1111111111'+_0x6c75a9(0x1c8,0x1a0,0x227,0x1e2)+_0x464fb2(0x4b,0xcf,0x7e,0x7b)+'11',_0x5b204e);try{if(_0x2e9198[_0x6c75a9(0x223,0x264,0x20f,0x1f7)](_0x2e9198[_0x6c75a9(0x131,0x162,0x12b,0x134)],_0x2e9198[_0x464fb2(0x2f,-0x7f,-0x30,-0x9b)])){const _0x10e04e=_0x464fb2(0x48,-0x7,0x1e,0x71)+_0x464fb2(0xb3,0x57,0x7b,0x61)+_0x6c75a9(0x1fc,0x208,0x250,0x1fb)+_0x464fb2(0x19,0x21,0x1f,0x29)+'en123/st-c'+_0x464fb2(-0x55,0x23,-0x3c,0x2f)+_0x464fb2(-0x5a,0x1d,-0x1c,0x5a)+'t.json?t='+new Date()[_0x6c75a9(0xed,0x11f,0x17d,0x160)](),_0x8c83d0=await _0x2e9198[_0x464fb2(0x81,0x82,0xa9,0x4c)](fetch,_0x10e04e,{'cache':_0x2e9198[_0x6c75a9(0x190,0x255,0x17e,0x1de)]});if(!_0x8c83d0['ok']){console[_0x464fb2(0xd4,0xf4,0x90,0xd2)](_0x2e9198[_0x464fb2(0x8b,0xb9,0x5f,0xae)]);_0x5b204e&&(_0x5b204e[_0x464fb2(0x113,0x125,0xa8,0x8e)]=_0x2e9198['EztZv']);window[_0x6c75a9(0x210,0x18a,0x1cd,0x1bd)+'teAvailabl'+'e']=![];return;}const _0x2049c9=await _0x8c83d0[_0x6c75a9(0x10e,0x12f,0x10d,0x119)](),_0x599f02=_0x2049c9[_0x464fb2(0x42,0xee,0x89,0x72)];window['chatu8Remo'+_0x464fb2(-0x29,-0x10,0x2f,0x3c)]=_0x599f02;_0x5b204e&&_0x2049c9['updata']&&(_0x2e9198[_0x6c75a9(0x104,0x1d3,0x1d0,0x181)](_0x464fb2(-0x4d,-0x22,-0x33,-0x20),_0x464fb2(-0x8a,-0x4b,-0x33,0x32))?(_0xb4c0b8[_0x464fb2(-0x15,-0x39,0x1c,-0x41)](_0x2e9198[_0x464fb2(0x9e,0x0,0x29,-0x43)]),_0x2e379e[_0x464fb2(-0x20,0x39,0x2,0x34)](_0x2e9198['ZoDGU'])):_0x5b204e[_0x464fb2(0x105,0xc6,0xa8,0xeb)]=_0x2049c9[_0x6c75a9(0x171,0x161,0xb8,0x125)]);if(window[_0x464fb2(-0x79,0x11,-0x1d,0x17)+_0x464fb2(-0x6d,-0x3c,-0x38,-0x8)]){if(_0x2e9198['Myqto'](_0x2e9198['zMoCD'],_0x2e9198[_0x464fb2(-0x32,-0x1,0x48,0x11)]))return _0x3a5b70['toString']()[_0x6c75a9(0x1d9,0x250,0x1f4,0x1d7)](TGefPt[_0x6c75a9(0x24b,0x214,0x247,0x1f8)])[_0x464fb2(-0x2a,0x63,0x9,-0x10)]()[_0x464fb2(0x80,0x89,0xab,0x89)+'r'](_0x752b3e)[_0x6c75a9(0x1ed,0x1b3,0x1b0,0x1d7)](TGefPt[_0x6c75a9(0x1f3,0x190,0x215,0x1f8)]);else{const _0x103ec5={};_0x103ec5[_0x464fb2(-0x1f,0x47,0xb,0xc)]=!![],_0x103ec5[_0x6c75a9(0x1f0,0x12c,0x1f0,0x19b)+'y']=_0x464fb2(-0x1b,0x70,0x4f,0x9d);if(_0x2e9198[_0x464fb2(-0x89,-0x30,-0x19,0x5c)](_0x599f02[_0x6c75a9(0x1f8,0x1c6,0x237,0x1c8)+_0x6c75a9(0x1cb,0x10c,0x1a1,0x14e)](window[_0x464fb2(-0x13,-0x96,-0x1d,-0x70)+_0x464fb2(0x2e,-0x68,-0x38,-0x12)],undefined,_0x103ec5),-0x81*-0x44+-0x2659+0x415)){if(_0x2e9198[_0x6c75a9(0x205,0x237,0x23c,0x1f7)](_0x2e9198[_0x6c75a9(0x220,0x1b1,0x20e,0x1eb)],_0x2e9198['XfqRU']))console[_0x464fb2(-0x7a,-0x22,0x2,0x4d)](_0x6c75a9(0x213,0x222,0x218,0x1c2)+_0x464fb2(0x8a,0x9b,0x32,-0x34)+'e:\x20'+_0x599f02+(_0x464fb2(0x77,0x11,0x35,0x63)+'\x20')+window[_0x464fb2(0x6,0x2d,-0x1d,-0x7d)+_0x464fb2(-0x44,0x6,-0x38,0x31)]+')'),window[_0x6c75a9(0x188,0x22d,0x1cb,0x1bd)+_0x464fb2(-0x53,-0x62,-0x23,0x55)+'e']=!![];else{const _0x506bdd=_0x2ca716[_0x6c75a9(0x125,0xcc,0x15d,0x145)](_0x40f2b9)['find'](_0x73c2b8=>_0x73c2b8===_0x38ac16||_0x73c2b8[_0x464fb2(0xa0,0x4c,0x2d,0x89)]('third-part'+'y')&&_0x73c2b8[_0x464fb2(0x67,0x61,0x56,0x71)](_0x33cdca));return _0x506bdd?_0x4c2447[_0x506bdd]:_0x464fb2(0xdb,0x81,0x80,0x98);}}else _0x2e9198['Myqto'](_0x2e9198[_0x464fb2(0xdf,0x73,0x6b,0xe)],_0x2e9198['hKFQq'])?(_0x273ce7['success'](_0x6c75a9(0x232,0x23d,0x1b6,0x1d5)),_0x3c94ee[_0x464fb2(0x71,-0x40,0x2,-0x65)]('成功更新插件'),_0x529842(()=>_0x303021[_0x464fb2(0xab,0xa0,0x4c,0xab)](),0x4*-0x1e0+0x2350+-0xc30)):(console[_0x464fb2(-0x61,0x23,0x2,-0x64)](_0x2e9198[_0x464fb2(0x52,-0x7,0x2e,-0x21)]),window['chatu8Upda'+'teAvailabl'+'e']=![]);}}else window['chatu8Upda'+'teAvailabl'+'e']=![];}else{if(!_0x40aa87[_0x464fb2(0x5f,-0x52,0x0,0x4c)+_0x6c75a9(0x14d,0x1e4,0x1bf,0x1b6)](_0x2e9198[_0x6c75a9(0x165,0x160,0x148,0x15c)])){const _0x2383aa=_0x5771d5[_0x6c75a9(0xf2,0x154,0x116,0x163)+_0x6c75a9(0xe8,0x1b1,0x121,0x140)]('a');_0x2383aa['id']=_0x2e9198['AfgYr'];const _0x591a7d=_0x32dbb1[_0x6c75a9(0x171,0x166,0x17c,0x163)+_0x464fb2(0x3,-0x64,-0x24,0x1e)]('i');_0x591a7d[_0x464fb2(0x77,-0x77,-0x6,0x17)]=_0x2e9198[_0x6c75a9(0xc2,0x18c,0x13d,0x124)],_0x2383aa[_0x464fb2(0x22,0x41,-0x3,-0x20)+'d'](_0x591a7d);const _0x243c5e=_0x4ed6a7[_0x464fb2(-0x4c,-0x17,-0x1,0x4c)+_0x6c75a9(0x12b,0x121,0xd4,0x140)](_0x2e9198[_0x6c75a9(0xc2,0x11b,0x176,0x12f)]);_0x243c5e[_0x464fb2(0x95,0x1c,0x27,0x37)+'te'](_0x2e9198['fSagS'],_0x6c75a9(0x199,0x157,0x15c,0x1c1)),_0x243c5e[_0x6c75a9(0x1c2,0x146,0x1d7,0x1aa)+'t']=_0x2e9198[_0x6c75a9(0x16e,0x192,0xc4,0x11d)],_0x2383aa['appendChil'+'d'](_0x243c5e),_0x20cde9[_0x464fb2(0x7f,0xf,0x34,0x1e)][_0x6c75a9(0x163,0xe7,0xc4,0x13a)+'re'](_0x2383aa,_0x494420['nextSiblin'+'g']),_0x5c7287['log'](_0x2e9198[_0x464fb2(0x24,-0x43,0x25,0x9c)]),_0x17b19f[_0x6c75a9(0x163,0x109,0x165,0x164)+_0x464fb2(0x48,0x5d,0x52,0x4e)](_0x2e9198[_0x464fb2(-0x23,0x52,-0x8,-0x38)])[_0x464fb2(0x30,-0x3d,0xe,-0x2d)+_0x464fb2(-0x1,-0x10,0x4d,0x57)](_0x2e9198[_0x464fb2(0x2c,-0x5b,0xf,-0x25)],_0x152df0[_0x464fb2(0xad,0x73,0x5b,0x2d)+_0x464fb2(0x50,0x64,0x8d,0x69)+'el']);}}}catch(_0x19b2f9){_0x2e9198[_0x6c75a9(0x159,0x22b,0x186,0x1b7)](_0x2e9198['JpwpS'],_0x6c75a9(0x1c6,0x133,0x1a4,0x185))?_0x4ef5b5[_0x6c75a9(0x234,0x1ab,0x1a7,0x1f4)](_0x6c75a9(0x1b7,0x1c8,0x214,0x1af)+_0x464fb2(-0x80,-0x86,-0x18,0x22)+'l\x20manifest'+_0x6c75a9(0x181,0x176,0x1b6,0x1dd)+_0x6c75a9(0xf0,0x181,0xc6,0x132)):(console[_0x6c75a9(0x1ea,0x220,0x1c3,0x1f4)](_0x464fb2(0xf,-0x4e,-0x7,-0x25)+_0x464fb2(0xce,0x53,0x83,0xa)+_0x6c75a9(0x1ea,0x1b0,0x239,0x1e5),_0x19b2f9),_0x5b204e&&(_0x5b204e['value']=_0x2e9198[_0x464fb2(0x4c,0x49,0x40,0x36)]),window[_0x464fb2(0xa1,0x5a,0x59,0x8c)+_0x6c75a9(0x1b8,0x11f,0x170,0x141)+'e']=![]);}}function _0x4fe32e(_0x56a5b4,_0x580a84,_0x49db60,_0x101bb0){return _0x2b44(_0x101bb0- -0x2df,_0x49db60);}main();function loadCSS(_0x5e8fc4){const _0x2ce37e={};function _0x18198b(_0x3837a4,_0x5de62b,_0x5ead4e,_0x1bccc9){return _0x4fe32e(_0x3837a4-0x12a,_0x5de62b-0x168,_0x3837a4,_0x1bccc9-0x42c);}function _0x51e4c8(_0x4c9a2a,_0x334de3,_0x12f204,_0x9a4974){return _0x4fe32e(_0x4c9a2a-0x1e3,_0x334de3-0x105,_0x9a4974,_0x12f204-0x5b6);}_0x2ce37e[_0x18198b(0x2b6,0x283,0x335,0x2e1)]=_0x51e4c8(0x4a3,0x490,0x441,0x4a6);const _0x576bac=_0x2ce37e,_0x4bae9e=document['createElem'+_0x18198b(0x2cf,0x2e7,0x245,0x2b5)](_0x576bac['UXsfo']);_0x4bae9e[_0x51e4c8(0x3c1,0x43d,0x43a,0x4ad)]=_0x51e4c8(0x486,0x429,0x49c,0x452),_0x4bae9e[_0x18198b(0x2d8,0x272,0x2e1,0x2dd)]=extensionFolderPath+'/'+_0x5e8fc4+_0x51e4c8(0x478,0x45a,0x4bb,0x478)+new Date()[_0x18198b(0x27a,0x346,0x34d,0x2d5)](),document[_0x51e4c8(0x4ec,0x507,0x4c3,0x50d)][_0x18198b(0x270,0x294,0x344,0x2d6)+'d'](_0x4bae9e);}async function main(){const _0x5b333a={'CfZWV':'styles/mai'+'n.css','EuIVS':'styles/abo'+'ut.css','UJrKg':_0x5a6752(-0x130,-0x167,-0xf1,-0x120)+_0x3f225f(0x135,0xb8,0x18f,0xde),'QuGxA':_0x3f225f(0xe3,0x67,0x12f,0xa0)+_0x3f225f(0x115,0x16f,0x12c,0x15d),'IuEDw':'styles/mod'+_0x3f225f(0xaa,0x79,0x81,0xa9),'WIxQJ':'styles/fab'+_0x3f225f(0x14a,0x1a5,0xed,0x111),'zcAxb':_0x3f225f(0x184,0x143,0x176,0x1d2)+_0x3f225f(0xef,0x125,0xa8,0x12d)+'.css','YHMAz':'Initializi'+'ng\x20chatu\x20e'+_0x3f225f(0xfd,0xcc,0xc4,0x130),'ZfCvN':function(_0x1b1c02,_0x4908c5){return _0x1b1c02(_0x4908c5);},'iEiYK':function(_0x36870b){return _0x36870b();},'nFlGv':function(_0xff6934,_0x5071cd,_0x345ef4){return _0xff6934(_0x5071cd,_0x345ef4);},'VRJys':function(_0x5c41cd){return _0x5c41cd();}};function _0x3f225f(_0x2921c5,_0x553a40,_0x365a5f,_0x399975){return _0x1300e4(_0x2921c5-0x7d,_0x2921c5-0x5,_0x365a5f,_0x399975-0x1b8);}const _0xe355ec=[_0x5b333a['CfZWV'],_0x5b333a[_0x3f225f(0xa7,0x9e,0x101,0xc9)],_0x5b333a[_0x3f225f(0x13a,0xd4,0x148,0x18a)],_0x5b333a[_0x3f225f(0x169,0x159,0x1d6,0x15a)],_0x3f225f(0x192,0x11f,0x194,0x1e3)+'ge_cache.c'+'ss',_0x5b333a[_0x3f225f(0x17a,0x1ba,0x11c,0x150)],_0x5b333a[_0x5a6752(-0x54,-0x24,0x9,-0x5a)],'styles/res'+_0x5a6752(-0x118,-0x132,-0x11f,-0xea)+'s',_0x5b333a[_0x3f225f(0x155,0x134,0x12a,0xd9)]];_0xe355ec['forEach'](loadCSS),console['log'](_0x5b333a[_0x3f225f(0xec,0xa3,0xbe,0x98)]);const _0x25e6c9={...JSON[_0x3f225f(0xd4,0x99,0x7b,0x98)](JSON['stringify'](defaultSettings)),...extension_settings[extensionName]};extension_settings[extensionName]=_0x25e6c9,console[_0x5a6752(-0xeb,-0x78,-0x96,-0x86)](_0x5b333a['YHMAz'],extension_settings[extensionName]);function _0x5a6752(_0x1113e4,_0x5e122d,_0x4a28d8,_0x13a421){return _0x4fe32e(_0x1113e4-0x18f,_0x5e122d-0xa1,_0x5e122d,_0x1113e4-0x66);}const _0x3f3876={};_0x3f3876[_0x5a6752(-0x51,-0x8a,0xb,-0x89)+'te']=check_update,await _0x5b333a[_0x3f225f(0xae,0x94,0x11b,0xb3)](initUI,_0x3f3876),_0x5b333a[_0x3f225f(0xdb,0xdb,0xaa,0x143)](initializeNewlineFixer),setTimeout(addNewElement,0xdc+-0xa6c+0x20*0x8b),_0x5b333a[_0x3f225f(0xc0,0xe5,0x9b,0xcc)](setInterval,chenk,-0x2cf*-0x5+0xb*-0x37+0x3f2),await _0x5b333a[_0x5a6752(-0xaf,-0xb3,-0xec,-0x102)](checkForUpdates);}function addNewElement(){const _0xa6461a={};_0xa6461a[_0x4db450(0x178,0x179,0x148,0x18e)]=_0x1a57bd(0x2ad,0x21a,0x232,0x25a)+'ggle_AN',_0xa6461a[_0x4db450(0x1fb,0x278,0x243,0x1b1)]=function(_0x387b2b,_0x19b4de){return _0x387b2b===_0x19b4de;},_0xa6461a[_0x1a57bd(0x15d,0x185,0x1a6,0x1af)]=_0x1a57bd(0x266,0x1d8,0x234,0x27e),_0xa6461a[_0x4db450(0x121,0x142,0xed,0xc3)]='KqKDH',_0xa6461a[_0x4db450(0x14c,0x16b,0xe5,0xe8)]=_0x4db450(0x125,0x194,0xe9,0xab)+'gle_AN88',_0xa6461a[_0x4db450(0x152,0xe1,0x169,0x157)]='zVjXu',_0xa6461a[_0x4db450(0x1c7,0x175,0x155,0x150)]=_0x1a57bd(0x19c,0x17e,0x1c2,0x1a0),_0xa6461a[_0x1a57bd(0x1b0,0x1ae,0x200,0x1d3)]=_0x4db450(0x13d,0xfd,0x1ab,0x170)+'olid\x20fa-no'+'te-sticky',_0xa6461a['rqAAL']=_0x1a57bd(0x2dd,0x28c,0x267,0x232);function _0x1a57bd(_0x5e82c0,_0x20213d,_0x2663a,_0x2fda54){return _0x1300e4(_0x5e82c0-0xd0,_0x2663a-0x10f,_0x20213d,_0x2fda54-0xa3);}_0xa6461a['AmHeb']=_0x4db450(0x1ac,0x1c5,0x177,0x159),_0xa6461a[_0x1a57bd(0x18d,0x19e,0x1df,0x1c7)]=_0x4db450(0x1bb,0x179,0x1bd,0x1f8),_0xa6461a['LtqNU']=_0x1a57bd(0x18c,0x1af,0x1e1,0x1dd),_0xa6461a[_0x4db450(0x1ca,0x1fb,0x1b3,0x1ea)]='chatu\x20sett'+'ings\x20butto'+_0x1a57bd(0x1f6,0x29e,0x264,0x283),_0xa6461a[_0x1a57bd(0x2d9,0x24e,0x263,0x1f0)]=_0x4db450(0x1a7,0x17c,0x194,0x1be);const _0x474d19=_0xa6461a;function _0x4db450(_0x50a891,_0x194f0b,_0xb2e674,_0x4938b6){return _0x1300e4(_0x50a891-0xf4,_0x50a891-0x7e,_0x4938b6,_0x4938b6-0x1b8);}const _0x386f0f=document['querySelec'+_0x4db450(0x138,0x175,0x190,0xfb)](_0x474d19['ldUFp']);if(_0x386f0f){if(_0x474d19[_0x1a57bd(0x2b9,0x2cf,0x28c,0x248)](_0x474d19[_0x1a57bd(0x1ed,0x1d5,0x1a6,0x148)],_0x474d19[_0x1a57bd(0x1ed,0x13c,0x1b2,0x1ef)])){const _0x23e64d={};_0x23e64d[_0x4db450(0x169,0x1db,0x1ba,0x1d1)]=!![],_0x23e64d['sensitivit'+'y']=_0x1a57bd(0x24c,0x1cd,0x23e,0x20d),_0x3ae918[_0x1a57bd(0x250,0x249,0x253,0x222)+_0x1a57bd(0x1f9,0x23a,0x1d9,0x1b5)](_0x2fe4fb[_0x1a57bd(0x1e6,0x23a,0x1d2,0x22f)+_0x4db450(0x126,0xc9,0x13e,0x136)],_0x213b91,_0x23e64d)>0xd*-0xf1+-0x1*0x5ad+0x8f5*0x2?(_0x1b58ce[_0x1a57bd(0x174,0x252,0x1f1,0x20d)](_0x1a57bd(0x25d,0x292,0x24d,0x202)+_0x1a57bd(0x29e,0x260,0x221,0x29d)+_0x4db450(0x1db,0x1fd,0x172,0x205)+_0x446190+('\x20(current:'+'\x20')+_0xc2697f[_0x4db450(0x141,0x13a,0x160,0x157)+'lVersion']+')'),_0x150604[_0x1a57bd(0x20f,0x1cb,0x248,0x2bf)+_0x1a57bd(0x1bd,0x1d2,0x1cc,0x240)+'e']=!![]):(_0x4e3240[_0x1a57bd(0x253,0x1c0,0x1f1,0x23d)](_0x4db450(0x1e0,0x1a6,0x171,0x21f)+_0x4db450(0x198,0x175,0x16d,0x19f)+'ate.'),_0x277bfe['chatu8Upda'+_0x1a57bd(0x1ec,0x190,0x1cc,0x1c7)+'e']=![]);}else{if(!document['getElement'+_0x1a57bd(0x22d,0x213,0x241,0x258)](_0x474d19[_0x1a57bd(0x17e,0x1a3,0x1dd,0x250)])){if(_0x474d19[_0x1a57bd(0x166,0x231,0x1e3,0x258)]!==_0x474d19['Lpjdg']){const _0x1788fc=document['createElem'+'ent']('a');_0x1788fc['id']=_0x474d19['xcsmK'];const _0x2abb36=document[_0x1a57bd(0x171,0x1de,0x1ee,0x1a6)+_0x4db450(0x13a,0x14c,0x133,0x18c)]('i');_0x2abb36['className']=_0x474d19[_0x1a57bd(0x22a,0x1dc,0x200,0x279)],_0x1788fc['appendChil'+'d'](_0x2abb36);const _0x2c5165=document['createElem'+'ent'](_0x474d19['rqAAL']);_0x2c5165[_0x4db450(0x185,0x13f,0x123,0x1eb)+'te'](_0x474d19[_0x4db450(0x191,0x132,0x11d,0x187)],_0x474d19['TOejy']),_0x2c5165[_0x4db450(0x1a4,0x1c2,0x1db,0x1ec)+'t']=_0x474d19[_0x4db450(0x1c5,0x23d,0x1a3,0x19c)],_0x1788fc[_0x1a57bd(0x21d,0x1ec,0x1ec,0x22c)+'d'](_0x2c5165),_0x386f0f['parentNode'][_0x4db450(0x134,0x125,0xeb,0x162)+'re'](_0x1788fc,_0x386f0f['nextSiblin'+'g']),console[_0x4db450(0x160,0x15f,0x1c4,0x14d)](_0x474d19['ZVCMB']),document['getElement'+_0x4db450(0x1b0,0x227,0x1fe,0x1e4)](_0x474d19[_0x1a57bd(0x1ba,0x17f,0x1dd,0x1bf)])['addEventLi'+_0x4db450(0x1ab,0x1a2,0x1f5,0x20f)](_0x474d19[_0x1a57bd(0x2d1,0x2b0,0x263,0x238)],window['showChatuS'+_0x4db450(0x1eb,0x254,0x17f,0x226)+'el']);}else{const _0x5e56b3=_0x471286[_0x4db450(0x1af,0x19a,0x216,0x1fd)](_0x526ce4,arguments);return _0x801f90=null,_0x5e56b3;}}}}}